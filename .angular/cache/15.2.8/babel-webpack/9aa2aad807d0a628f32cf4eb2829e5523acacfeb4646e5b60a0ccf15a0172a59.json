{"ast":null,"code":"import { ApplicationRef, ComponentFactoryResolver, Injectable, Injector, Input, Component, ElementRef, ViewEncapsulation, HostListener, ViewChild, HostBinding, Renderer2, Directive, Output, EventEmitter, ViewContainerRef, NgModule, ChangeDetectionStrategy, ChangeDetectorRef, NgZone, TemplateRef, ContentChild } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { trigger, style, animate, transition } from '@angular/animations';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { rgb } from 'd3-color';\nimport { fromEvent } from 'rxjs';\nimport { debounceTime } from 'rxjs/operators';\nimport { range, min, max } from 'd3-array';\nimport { scaleBand, scaleLinear, scaleOrdinal, scaleQuantile, scaleTime, scalePoint } from 'd3-scale';\nimport { brushX } from 'd3-brush';\nimport { select, event } from 'd3-selection';\nimport { curveLinear, area, line, curveCardinalClosed, lineRadial, arc, pie } from 'd3-shape';\nimport { forceCollide, forceLink, forceManyBody, forceSimulation, forceX, forceY } from 'd3-force';\nimport { interpolate } from 'd3-interpolate';\nimport { format } from 'd3-format';\nimport { treemap, stratify } from 'd3-hierarchy';\nimport { timeFormat } from 'd3-time-format';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\n/* global Reflect, Promise */\n\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@angular/common';\nvar _c0 = [\"caretElm\"];\nfunction TooltipContentComponent_span_4_ng_template_1_Template(rf, ctx) {}\nvar _c1 = function (a0) {\n  return {\n    model: a0\n  };\n};\nfunction TooltipContentComponent_span_4_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"span\");\n    ɵngcc0.ɵɵtemplate(1, TooltipContentComponent_span_4_ng_template_1_Template, 0, 0, \"ng-template\", 5);\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var ctx_r1 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r1.template)(\"ngTemplateOutletContext\", ɵngcc0.ɵɵpureFunction1(2, _c1, ctx_r1.context));\n  }\n}\nfunction TooltipContentComponent_span_5_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelement(0, \"span\", 6);\n  }\n  if (rf & 2) {\n    var ctx_r2 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"innerHTML\", ctx_r2.title, ɵngcc0.ɵɵsanitizeHtml);\n  }\n}\nfunction ChartComponent_ngx_charts_scale_legend_3_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵnamespaceHTML();\n    ɵngcc0.ɵɵelement(0, \"ngx-charts-scale-legend\", 4);\n  }\n  if (rf & 2) {\n    var ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"horizontal\", ctx_r0.legendOptions && ctx_r0.legendOptions.position === \"below\")(\"valueRange\", ctx_r0.legendOptions.domain)(\"colors\", ctx_r0.legendOptions.colors)(\"height\", ctx_r0.view[1])(\"width\", ctx_r0.legendWidth);\n  }\n}\nfunction ChartComponent_ngx_charts_legend_4_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r3 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵnamespaceHTML();\n    ɵngcc0.ɵɵelementStart(0, \"ngx-charts-legend\", 5);\n    ɵngcc0.ɵɵlistener(\"labelClick\", function ChartComponent_ngx_charts_legend_4_Template_ngx_charts_legend_labelClick_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r3);\n      var ctx_r2 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r2.legendLabelClick.emit($event));\n    })(\"labelActivate\", function ChartComponent_ngx_charts_legend_4_Template_ngx_charts_legend_labelActivate_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r3);\n      var ctx_r4 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r4.legendLabelActivate.emit($event));\n    })(\"labelDeactivate\", function ChartComponent_ngx_charts_legend_4_Template_ngx_charts_legend_labelDeactivate_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r3);\n      var ctx_r5 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r5.legendLabelDeactivate.emit($event));\n    });\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var ctx_r1 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"horizontal\", ctx_r1.legendOptions && ctx_r1.legendOptions.position === \"below\")(\"data\", ctx_r1.legendOptions.domain)(\"title\", ctx_r1.legendOptions.title)(\"colors\", ctx_r1.legendOptions.colors)(\"height\", ctx_r1.view[1])(\"width\", ctx_r1.legendWidth)(\"activeEntries\", ctx_r1.activeEntries);\n  }\n}\nvar _c2 = [\"*\"];\nfunction LegendComponent_header_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"header\", 4)(1, \"span\", 5);\n    ɵngcc0.ɵɵtext(2);\n    ɵngcc0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    var ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵtextInterpolate(ctx_r0.title);\n  }\n}\nfunction LegendComponent_li_4_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r4 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"li\", 6)(1, \"ngx-charts-legend-entry\", 7);\n    ɵngcc0.ɵɵlistener(\"select\", function LegendComponent_li_4_Template_ngx_charts_legend_entry_select_1_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r4);\n      var ctx_r3 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r3.labelClick.emit($event));\n    })(\"activate\", function LegendComponent_li_4_Template_ngx_charts_legend_entry_activate_1_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r4);\n      var ctx_r5 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r5.activate($event));\n    })(\"deactivate\", function LegendComponent_li_4_Template_ngx_charts_legend_entry_deactivate_1_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r4);\n      var ctx_r6 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r6.deactivate($event));\n    });\n    ɵngcc0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    var entry_r2 = ctx.$implicit;\n    var ctx_r1 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"label\", entry_r2.label)(\"formattedLabel\", entry_r2.formattedLabel)(\"color\", entry_r2.color)(\"isActive\", ctx_r1.isActive(entry_r2));\n  }\n}\nfunction AdvancedLegendComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelement(0, \"div\", 7);\n  }\n  if (rf & 2) {\n    var ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"countTo\", ctx_r0.roundedTotal)(\"valueFormatting\", ctx_r0.valueFormatting);\n  }\n}\nfunction AdvancedLegendComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 8);\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var ctx_r1 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate1(\" \", ctx_r1.valueFormatting ? ctx_r1.valueFormatting(ctx_r1.roundedTotal) : ctx_r1.defaultValueFormatting(ctx_r1.roundedTotal), \" \");\n  }\n}\nfunction AdvancedLegendComponent_div_7_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelement(0, \"div\", 16);\n  }\n  if (rf & 2) {\n    var legendItem_r3 = ɵngcc0.ɵɵnextContext().$implicit;\n    var ctx_r4 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"countTo\", legendItem_r3._value)(\"valueFormatting\", ctx_r4.valueFormatting);\n  }\n}\nfunction AdvancedLegendComponent_div_7_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 17);\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var legendItem_r3 = ɵngcc0.ɵɵnextContext().$implicit;\n    var ctx_r5 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate1(\" \", ctx_r5.valueFormatting ? ctx_r5.valueFormatting(legendItem_r3.value) : ctx_r5.defaultValueFormatting(legendItem_r3.value), \" \");\n  }\n}\nfunction AdvancedLegendComponent_div_7_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelement(0, \"div\", 18);\n  }\n  if (rf & 2) {\n    var legendItem_r3 = ɵngcc0.ɵɵnextContext().$implicit;\n    ɵngcc0.ɵɵproperty(\"countTo\", legendItem_r3.percentage)(\"countSuffix\", \"%\");\n  }\n}\nfunction AdvancedLegendComponent_div_7_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 19);\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var legendItem_r3 = ɵngcc0.ɵɵnextContext().$implicit;\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate1(\"\", legendItem_r3.percentage.toLocaleString(), \"%\");\n  }\n}\nfunction AdvancedLegendComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r13 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"div\", 9);\n    ɵngcc0.ɵɵlistener(\"mouseenter\", function AdvancedLegendComponent_div_7_Template_div_mouseenter_0_listener() {\n      var restoredCtx = ɵngcc0.ɵɵrestoreView(_r13);\n      var legendItem_r3 = restoredCtx.$implicit;\n      var ctx_r12 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r12.activate.emit(legendItem_r3.data));\n    })(\"mouseleave\", function AdvancedLegendComponent_div_7_Template_div_mouseleave_0_listener() {\n      var restoredCtx = ɵngcc0.ɵɵrestoreView(_r13);\n      var legendItem_r3 = restoredCtx.$implicit;\n      var ctx_r14 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r14.deactivate.emit(legendItem_r3.data));\n    })(\"click\", function AdvancedLegendComponent_div_7_Template_div_click_0_listener() {\n      var restoredCtx = ɵngcc0.ɵɵrestoreView(_r13);\n      var legendItem_r3 = restoredCtx.$implicit;\n      var ctx_r15 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r15.select.emit(legendItem_r3.data));\n    });\n    ɵngcc0.ɵɵelement(1, \"div\", 10);\n    ɵngcc0.ɵɵtemplate(2, AdvancedLegendComponent_div_7_div_2_Template, 1, 2, \"div\", 11);\n    ɵngcc0.ɵɵtemplate(3, AdvancedLegendComponent_div_7_div_3_Template, 2, 1, \"div\", 12);\n    ɵngcc0.ɵɵelementStart(4, \"div\", 13);\n    ɵngcc0.ɵɵtext(5);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵtemplate(6, AdvancedLegendComponent_div_7_div_6_Template, 1, 2, \"div\", 14);\n    ɵngcc0.ɵɵtemplate(7, AdvancedLegendComponent_div_7_div_7_Template, 2, 1, \"div\", 15);\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var legendItem_r3 = ctx.$implicit;\n    var ctx_r2 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵstyleProp(\"border-left-color\", legendItem_r3.color);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r2.animations);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", !ctx_r2.animations);\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵtextInterpolate(legendItem_r3.displayLabel);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r2.animations);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", !ctx_r2.animations);\n  }\n}\nvar _c3 = [\"ngx-charts-axis-label\", \"\"];\nvar _c4 = [\"ticksel\"];\nvar _c5 = [\"ngx-charts-x-axis-ticks\", \"\"];\nfunction XAxisTicksComponent__svg_g_2_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\", 3)(1, \"title\");\n    ɵngcc0.ɵɵtext(2);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(3, \"text\", 4);\n    ɵngcc0.ɵɵtext(4);\n    ɵngcc0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    var tick_r3 = ctx.$implicit;\n    var ctx_r1 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵattribute(\"transform\", ctx_r1.tickTransform(tick_r3));\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵtextInterpolate(ctx_r1.tickFormat(tick_r3));\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵstyleProp(\"font-size\", \"12px\");\n    ɵngcc0.ɵɵattribute(\"text-anchor\", ctx_r1.textAnchor)(\"transform\", ctx_r1.textTransform);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate1(\" \", ctx_r1.tickTrim(ctx_r1.tickFormat(tick_r3)), \" \");\n  }\n}\nfunction XAxisTicksComponent__svg_g_3__svg_g_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\");\n    ɵngcc0.ɵɵelement(1, \"line\", 6);\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var ctx_r5 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵattribute(\"transform\", ctx_r5.gridLineTransform());\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵattribute(\"y1\", -ctx_r5.gridLineHeight);\n  }\n}\nfunction XAxisTicksComponent__svg_g_3_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\");\n    ɵngcc0.ɵɵtemplate(1, XAxisTicksComponent__svg_g_3__svg_g_1_Template, 2, 2, \"g\", 5);\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var tick_r4 = ctx.$implicit;\n    var ctx_r2 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵattribute(\"transform\", ctx_r2.tickTransform(tick_r4));\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r2.showGridLines);\n  }\n}\nvar _c6 = [\"ngx-charts-x-axis\", \"\"];\nfunction XAxisComponent__svg_g_1_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r3 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\", 2);\n    ɵngcc0.ɵɵlistener(\"dimensionsChanged\", function XAxisComponent__svg_g_1_Template__svg_g_dimensionsChanged_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r3);\n      var ctx_r2 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r2.emitTicksHeight($event));\n    });\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"trimTicks\", ctx_r0.trimTicks)(\"rotateTicks\", ctx_r0.rotateTicks)(\"maxTickLength\", ctx_r0.maxTickLength)(\"tickFormatting\", ctx_r0.tickFormatting)(\"tickArguments\", ctx_r0.tickArguments)(\"tickStroke\", ctx_r0.tickStroke)(\"scale\", ctx_r0.xScale)(\"orient\", ctx_r0.xOrient)(\"showGridLines\", ctx_r0.showGridLines)(\"gridLineHeight\", ctx_r0.dims.height)(\"width\", ctx_r0.dims.width)(\"tickValues\", ctx_r0.ticks);\n  }\n}\nfunction XAxisComponent__svg_g_2_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelement(0, \"g\", 3);\n  }\n  if (rf & 2) {\n    var ctx_r1 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"label\", ctx_r1.labelText)(\"offset\", ctx_r1.labelOffset)(\"orient\", \"bottom\")(\"height\", ctx_r1.dims.height)(\"width\", ctx_r1.dims.width);\n  }\n}\nvar _c7 = [\"ngx-charts-y-axis-ticks\", \"\"];\nfunction YAxisTicksComponent__svg_g_2_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\", 4)(1, \"title\");\n    ɵngcc0.ɵɵtext(2);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(3, \"text\", 5);\n    ɵngcc0.ɵɵtext(4);\n    ɵngcc0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    var tick_r5 = ctx.$implicit;\n    var ctx_r1 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵattribute(\"transform\", ctx_r1.transform(tick_r5));\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵtextInterpolate(ctx_r1.tickFormat(tick_r5));\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵstyleProp(\"font-size\", \"12px\");\n    ɵngcc0.ɵɵattribute(\"dy\", ctx_r1.dy)(\"x\", ctx_r1.x1)(\"y\", ctx_r1.y1)(\"text-anchor\", ctx_r1.textAnchor);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate1(\" \", ctx_r1.tickTrim(ctx_r1.tickFormat(tick_r5)), \" \");\n  }\n}\nfunction YAxisTicksComponent__svg_path_3_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelement(0, \"path\", 6);\n  }\n  if (rf & 2) {\n    var ctx_r2 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵattribute(\"d\", ctx_r2.referenceAreaPath)(\"transform\", ctx_r2.gridLineTransform());\n  }\n}\nfunction YAxisTicksComponent__svg_g_4__svg_g_1__svg_line_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelement(0, \"line\", 9);\n  }\n  if (rf & 2) {\n    var ctx_r8 = ɵngcc0.ɵɵnextContext(3);\n    ɵngcc0.ɵɵattribute(\"x2\", ctx_r8.gridLineWidth);\n  }\n}\nfunction YAxisTicksComponent__svg_g_4__svg_g_1__svg_line_2_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelement(0, \"line\", 9);\n  }\n  if (rf & 2) {\n    var ctx_r9 = ɵngcc0.ɵɵnextContext(3);\n    ɵngcc0.ɵɵattribute(\"x2\", -ctx_r9.gridLineWidth);\n  }\n}\nfunction YAxisTicksComponent__svg_g_4__svg_g_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\");\n    ɵngcc0.ɵɵtemplate(1, YAxisTicksComponent__svg_g_4__svg_g_1__svg_line_1_Template, 1, 1, \"line\", 8);\n    ɵngcc0.ɵɵtemplate(2, YAxisTicksComponent__svg_g_4__svg_g_1__svg_line_2_Template, 1, 1, \"line\", 8);\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var ctx_r7 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵattribute(\"transform\", ctx_r7.gridLineTransform());\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r7.orient === \"left\");\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r7.orient === \"right\");\n  }\n}\nfunction YAxisTicksComponent__svg_g_4_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\");\n    ɵngcc0.ɵɵtemplate(1, YAxisTicksComponent__svg_g_4__svg_g_1_Template, 3, 3, \"g\", 7);\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var tick_r6 = ctx.$implicit;\n    var ctx_r3 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵattribute(\"transform\", ctx_r3.transform(tick_r6));\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r3.showGridLines);\n  }\n}\nfunction YAxisTicksComponent__svg_g_5__svg_g_1__svg_g_2_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\")(1, \"title\");\n    ɵngcc0.ɵɵtext(2);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(3, \"text\", 11);\n    ɵngcc0.ɵɵtext(4);\n    ɵngcc0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    var refLine_r10 = ɵngcc0.ɵɵnextContext(2).$implicit;\n    var ctx_r12 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵtextInterpolate(ctx_r12.tickTrim(ctx_r12.tickFormat(refLine_r10.value)));\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵattribute(\"dy\", ctx_r12.dy)(\"y\", -6)(\"x\", ctx_r12.gridLineWidth)(\"text-anchor\", ctx_r12.textAnchor);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate1(\" \", refLine_r10.name, \" \");\n  }\n}\nfunction YAxisTicksComponent__svg_g_5__svg_g_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\");\n    ɵngcc0.ɵɵelement(1, \"line\", 10);\n    ɵngcc0.ɵɵtemplate(2, YAxisTicksComponent__svg_g_5__svg_g_1__svg_g_2_Template, 5, 6, \"g\", 7);\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var refLine_r10 = ɵngcc0.ɵɵnextContext().$implicit;\n    var ctx_r11 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵattribute(\"transform\", ctx_r11.transform(refLine_r10.value));\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵattribute(\"x2\", ctx_r11.gridLineWidth)(\"transform\", ctx_r11.gridLineTransform());\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r11.showRefLabels);\n  }\n}\nfunction YAxisTicksComponent__svg_g_5_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\");\n    ɵngcc0.ɵɵtemplate(1, YAxisTicksComponent__svg_g_5__svg_g_1_Template, 3, 4, \"g\", 7);\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var ctx_r4 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r4.showRefLines);\n  }\n}\nvar _c8 = [\"ngx-charts-y-axis\", \"\"];\nfunction YAxisComponent__svg_g_1_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r3 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\", 2);\n    ɵngcc0.ɵɵlistener(\"dimensionsChanged\", function YAxisComponent__svg_g_1_Template__svg_g_dimensionsChanged_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r3);\n      var ctx_r2 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r2.emitTicksWidth($event));\n    });\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"trimTicks\", ctx_r0.trimTicks)(\"maxTickLength\", ctx_r0.maxTickLength)(\"tickFormatting\", ctx_r0.tickFormatting)(\"tickArguments\", ctx_r0.tickArguments)(\"tickValues\", ctx_r0.ticks)(\"tickStroke\", ctx_r0.tickStroke)(\"scale\", ctx_r0.yScale)(\"orient\", ctx_r0.yOrient)(\"showGridLines\", ctx_r0.showGridLines)(\"gridLineWidth\", ctx_r0.dims.width)(\"referenceLines\", ctx_r0.referenceLines)(\"showRefLines\", ctx_r0.showRefLines)(\"showRefLabels\", ctx_r0.showRefLabels)(\"height\", ctx_r0.dims.height);\n  }\n}\nfunction YAxisComponent__svg_g_2_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelement(0, \"g\", 3);\n  }\n  if (rf & 2) {\n    var ctx_r1 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"label\", ctx_r1.labelText)(\"offset\", ctx_r1.labelOffset)(\"orient\", ctx_r1.yOrient)(\"height\", ctx_r1.dims.height)(\"width\", ctx_r1.dims.width);\n  }\n}\nvar _c9 = [\"ngx-charts-circle-series\", \"\"];\nfunction CircleSeriesComponent__svg_g_0__svg_rect_3_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelement(0, \"rect\", 4);\n  }\n  if (rf & 2) {\n    var ctx_r1 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵproperty(\"@animationState\", \"active\");\n    ɵngcc0.ɵɵattribute(\"x\", ctx_r1.circle.cx - ctx_r1.circle.radius)(\"y\", ctx_r1.circle.cy)(\"width\", ctx_r1.circle.radius * 2)(\"height\", ctx_r1.circle.height)(\"fill\", ctx_r1.gradientFill);\n  }\n}\nvar _c10 = function (a0) {\n  return {\n    name: a0\n  };\n};\nfunction CircleSeriesComponent__svg_g_0_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r3 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\")(1, \"defs\");\n    ɵngcc0.ɵɵelement(2, \"g\", 1);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵtemplate(3, CircleSeriesComponent__svg_g_0__svg_rect_3_Template, 1, 6, \"rect\", 2);\n    ɵngcc0.ɵɵelementStart(4, \"g\", 3);\n    ɵngcc0.ɵɵlistener(\"select\", function CircleSeriesComponent__svg_g_0_Template__svg_g_select_4_listener() {\n      ɵngcc0.ɵɵrestoreView(_r3);\n      var ctx_r2 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r2.onClick(ctx_r2.circle.data));\n    })(\"activate\", function CircleSeriesComponent__svg_g_0_Template__svg_g_activate_4_listener() {\n      ɵngcc0.ɵɵrestoreView(_r3);\n      var ctx_r4 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r4.activateCircle());\n    })(\"deactivate\", function CircleSeriesComponent__svg_g_0_Template__svg_g_deactivate_4_listener() {\n      ɵngcc0.ɵɵrestoreView(_r3);\n      var ctx_r5 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r5.deactivateCircle());\n    });\n    ɵngcc0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    var ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵproperty(\"name\", ctx_r0.gradientId)(\"stops\", ctx_r0.circle.gradientStops);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r0.barVisible && ctx_r0.type === \"standard\");\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵclassProp(\"active\", ctx_r0.isActive(ɵngcc0.ɵɵpureFunction1(18, _c10, ctx_r0.circle.seriesName)));\n    ɵngcc0.ɵɵproperty(\"cx\", ctx_r0.circle.cx)(\"cy\", ctx_r0.circle.cy)(\"r\", ctx_r0.circle.radius)(\"fill\", ctx_r0.circle.color)(\"pointerEvents\", ctx_r0.circle.value === 0 ? \"none\" : \"all\")(\"data\", ctx_r0.circle.value)(\"classNames\", ctx_r0.circle.classNames)(\"tooltipDisabled\", ctx_r0.tooltipDisabled)(\"tooltipPlacement\", \"top\")(\"tooltipType\", \"tooltip\")(\"tooltipTitle\", ctx_r0.tooltipTemplate ? undefined : ctx_r0.getTooltipText(ctx_r0.circle))(\"tooltipTemplate\", ctx_r0.tooltipTemplate)(\"tooltipContext\", ctx_r0.circle.data);\n  }\n}\nvar _c11 = [\"ngx-charts-circle\", \"\"];\nvar _c12 = [\"ngx-charts-grid-panel\", \"\"];\nvar _c13 = [\"ngx-charts-grid-panel-series\", \"\"];\nfunction GridPanelSeriesComponent__svg_g_0_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelement(0, \"g\", 1);\n  }\n  if (rf & 2) {\n    var gridPanel_r1 = ctx.$implicit;\n    ɵngcc0.ɵɵclassProp(\"grid-panel\", true)(\"odd\", gridPanel_r1.class === \"odd\")(\"even\", gridPanel_r1.class === \"even\");\n    ɵngcc0.ɵɵproperty(\"height\", gridPanel_r1.height)(\"width\", gridPanel_r1.width)(\"x\", gridPanel_r1.x)(\"y\", gridPanel_r1.y);\n  }\n}\nvar _c14 = [\"ngx-charts-svg-linear-gradient\", \"\"];\nfunction SvgLinearGradientComponent__svg_stop_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelement(0, \"stop\");\n  }\n  if (rf & 2) {\n    var stop_r1 = ctx.$implicit;\n    ɵngcc0.ɵɵstyleProp(\"stop-color\", stop_r1.color)(\"stop-opacity\", stop_r1.opacity);\n    ɵngcc0.ɵɵattribute(\"offset\", stop_r1.offset + \"%\");\n  }\n}\nvar _c15 = [\"ngx-charts-svg-radial-gradient\", \"\"];\nfunction SvgRadialGradientComponent__svg_stop_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelement(0, \"stop\");\n  }\n  if (rf & 2) {\n    var stop_r1 = ctx.$implicit;\n    ɵngcc0.ɵɵstyleProp(\"stop-color\", stop_r1.color)(\"stop-opacity\", stop_r1.opacity);\n    ɵngcc0.ɵɵattribute(\"offset\", stop_r1.offset + \"%\");\n  }\n}\nvar _c16 = [\"ngx-charts-timeline\", \"\"];\nvar _c17 = [\"ngx-charts-area\", \"\"];\nfunction AreaComponent__svg_defs_0_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"defs\");\n    ɵngcc0.ɵɵelement(1, \"g\", 2);\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"name\", ctx_r0.gradientId)(\"stops\", ctx_r0.gradientStops);\n  }\n}\nvar _c18 = [\"tooltipAnchor\"];\nvar _c19 = [\"ngx-charts-tooltip-area\", \"\"];\nfunction TooltipArea__xhtml_ng_template_2__xhtml_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 6);\n    ɵngcc0.ɵɵelement(1, \"span\", 7);\n    ɵngcc0.ɵɵtext(2);\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var tooltipItem_r5 = ctx.$implicit;\n    var ctx_r4 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵstyleProp(\"background-color\", tooltipItem_r5.color);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate1(\" \", ctx_r4.getToolTipText(tooltipItem_r5), \" \");\n  }\n}\nfunction TooltipArea__xhtml_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵnamespaceHTML();\n    ɵngcc0.ɵɵelementStart(0, \"div\", 4);\n    ɵngcc0.ɵɵtemplate(1, TooltipArea__xhtml_ng_template_2__xhtml_div_1_Template, 3, 3, \"div\", 5);\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var model_r3 = ctx.model;\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngForOf\", model_r3);\n  }\n}\nvar _c20 = [\"ngx-charts-count-up\", \"\"];\nvar _c21 = [\"tooltipTemplate\"];\nvar _c22 = [\"seriesTooltipTemplate\"];\nfunction AreaChartComponent__svg_g_5_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r6 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\", 7);\n    ɵngcc0.ɵɵlistener(\"dimensionsChanged\", function AreaChartComponent__svg_g_5_Template__svg_g_dimensionsChanged_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r6);\n      var ctx_r5 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r5.updateXAxisHeight($event));\n    });\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"xScale\", ctx_r0.xScale)(\"dims\", ctx_r0.dims)(\"showGridLines\", ctx_r0.showGridLines)(\"showLabel\", ctx_r0.showXAxisLabel)(\"labelText\", ctx_r0.xAxisLabel)(\"trimTicks\", ctx_r0.trimXAxisTicks)(\"rotateTicks\", ctx_r0.rotateXAxisTicks)(\"maxTickLength\", ctx_r0.maxXAxisTickLength)(\"tickFormatting\", ctx_r0.xAxisTickFormatting)(\"ticks\", ctx_r0.xAxisTicks);\n  }\n}\nfunction AreaChartComponent__svg_g_6_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r8 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\", 8);\n    ɵngcc0.ɵɵlistener(\"dimensionsChanged\", function AreaChartComponent__svg_g_6_Template__svg_g_dimensionsChanged_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r8);\n      var ctx_r7 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r7.updateYAxisWidth($event));\n    });\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var ctx_r1 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"yScale\", ctx_r1.yScale)(\"dims\", ctx_r1.dims)(\"showGridLines\", ctx_r1.showGridLines)(\"showLabel\", ctx_r1.showYAxisLabel)(\"labelText\", ctx_r1.yAxisLabel)(\"trimTicks\", ctx_r1.trimYAxisTicks)(\"maxTickLength\", ctx_r1.maxYAxisTickLength)(\"tickFormatting\", ctx_r1.yAxisTickFormatting)(\"ticks\", ctx_r1.yAxisTicks);\n  }\n}\nfunction AreaChartComponent__svg_g_8_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\");\n    ɵngcc0.ɵɵelement(1, \"g\", 9);\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var series_r9 = ctx.$implicit;\n    var ctx_r2 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"xScale\", ctx_r2.xScale)(\"yScale\", ctx_r2.yScale)(\"baseValue\", ctx_r2.baseValue)(\"colors\", ctx_r2.colors)(\"data\", series_r9)(\"activeEntries\", ctx_r2.activeEntries)(\"scaleType\", ctx_r2.scaleType)(\"gradient\", ctx_r2.gradient)(\"curve\", ctx_r2.curve)(\"animations\", ctx_r2.animations);\n  }\n}\nfunction AreaChartComponent__svg_g_9__svg_g_2_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r13 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\")(1, \"g\", 13);\n    ɵngcc0.ɵɵlistener(\"select\", function AreaChartComponent__svg_g_9__svg_g_2_Template__svg_g_select_1_listener($event) {\n      var restoredCtx = ɵngcc0.ɵɵrestoreView(_r13);\n      var series_r11 = restoredCtx.$implicit;\n      var ctx_r12 = ɵngcc0.ɵɵnextContext(2);\n      return ɵngcc0.ɵɵresetView(ctx_r12.onClick($event, series_r11));\n    })(\"activate\", function AreaChartComponent__svg_g_9__svg_g_2_Template__svg_g_activate_1_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r13);\n      var ctx_r14 = ɵngcc0.ɵɵnextContext(2);\n      return ɵngcc0.ɵɵresetView(ctx_r14.onActivate($event));\n    })(\"deactivate\", function AreaChartComponent__svg_g_9__svg_g_2_Template__svg_g_deactivate_1_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r13);\n      var ctx_r15 = ɵngcc0.ɵɵnextContext(2);\n      return ɵngcc0.ɵɵresetView(ctx_r15.onDeactivate($event));\n    });\n    ɵngcc0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    var series_r11 = ctx.$implicit;\n    var ctx_r10 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"xScale\", ctx_r10.xScale)(\"yScale\", ctx_r10.yScale)(\"colors\", ctx_r10.colors)(\"activeEntries\", ctx_r10.activeEntries)(\"data\", series_r11)(\"scaleType\", ctx_r10.scaleType)(\"visibleValue\", ctx_r10.hoveredVertical)(\"tooltipDisabled\", ctx_r10.tooltipDisabled)(\"tooltipTemplate\", ctx_r10.tooltipTemplate);\n  }\n}\nfunction AreaChartComponent__svg_g_9_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r17 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\", 10);\n    ɵngcc0.ɵɵlistener(\"mouseleave\", function AreaChartComponent__svg_g_9_Template__svg_g_mouseleave_0_listener() {\n      ɵngcc0.ɵɵrestoreView(_r17);\n      var ctx_r16 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r16.hideCircles());\n    });\n    ɵngcc0.ɵɵelementStart(1, \"g\", 11);\n    ɵngcc0.ɵɵlistener(\"hover\", function AreaChartComponent__svg_g_9_Template__svg_g_hover_1_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r17);\n      var ctx_r18 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r18.updateHoveredVertical($event));\n    });\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵtemplate(2, AreaChartComponent__svg_g_9__svg_g_2_Template, 2, 9, \"g\", 12);\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var ctx_r3 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"dims\", ctx_r3.dims)(\"xSet\", ctx_r3.xSet)(\"xScale\", ctx_r3.xScale)(\"yScale\", ctx_r3.yScale)(\"results\", ctx_r3.results)(\"colors\", ctx_r3.colors)(\"tooltipDisabled\", ctx_r3.tooltipDisabled)(\"tooltipTemplate\", ctx_r3.seriesTooltipTemplate);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngForOf\", ctx_r3.results);\n  }\n}\nfunction AreaChartComponent__svg_g_10__svg_g_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\");\n    ɵngcc0.ɵɵelement(1, \"g\", 15);\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var series_r20 = ctx.$implicit;\n    var ctx_r19 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"xScale\", ctx_r19.timelineXScale)(\"yScale\", ctx_r19.timelineYScale)(\"baseValue\", ctx_r19.baseValue)(\"colors\", ctx_r19.colors)(\"data\", series_r20)(\"scaleType\", ctx_r19.scaleType)(\"gradient\", ctx_r19.gradient)(\"curve\", ctx_r19.curve)(\"animations\", ctx_r19.animations);\n  }\n}\nvar _c23 = function (a0, a1) {\n  return [a0, a1];\n};\nfunction AreaChartComponent__svg_g_10_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r22 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\", 14);\n    ɵngcc0.ɵɵlistener(\"onDomainChange\", function AreaChartComponent__svg_g_10_Template__svg_g_onDomainChange_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r22);\n      var ctx_r21 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r21.updateDomain($event));\n    });\n    ɵngcc0.ɵɵtemplate(1, AreaChartComponent__svg_g_10__svg_g_1_Template, 2, 9, \"g\", 4);\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var ctx_r4 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"results\", ctx_r4.results)(\"view\", ɵngcc0.ɵɵpureFunction2(10, _c23, ctx_r4.timelineWidth, ctx_r4.height))(\"height\", ctx_r4.timelineHeight)(\"scheme\", ctx_r4.scheme)(\"customColors\", ctx_r4.customColors)(\"legend\", ctx_r4.legend)(\"scaleType\", ctx_r4.scaleType);\n    ɵngcc0.ɵɵattribute(\"transform\", ctx_r4.timelineTransform);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngForOf\", ctx_r4.results)(\"ngForTrackBy\", ctx_r4.trackBy);\n  }\n}\nfunction AreaChartNormalizedComponent__svg_g_5_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r6 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\", 7);\n    ɵngcc0.ɵɵlistener(\"dimensionsChanged\", function AreaChartNormalizedComponent__svg_g_5_Template__svg_g_dimensionsChanged_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r6);\n      var ctx_r5 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r5.updateXAxisHeight($event));\n    });\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"xScale\", ctx_r0.xScale)(\"dims\", ctx_r0.dims)(\"showGridLines\", ctx_r0.showGridLines)(\"showLabel\", ctx_r0.showXAxisLabel)(\"labelText\", ctx_r0.xAxisLabel)(\"trimTicks\", ctx_r0.trimXAxisTicks)(\"rotateTicks\", ctx_r0.rotateXAxisTicks)(\"maxTickLength\", ctx_r0.maxXAxisTickLength)(\"tickFormatting\", ctx_r0.xAxisTickFormatting)(\"ticks\", ctx_r0.xAxisTicks);\n  }\n}\nfunction AreaChartNormalizedComponent__svg_g_6_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r8 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\", 8);\n    ɵngcc0.ɵɵlistener(\"dimensionsChanged\", function AreaChartNormalizedComponent__svg_g_6_Template__svg_g_dimensionsChanged_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r8);\n      var ctx_r7 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r7.updateYAxisWidth($event));\n    });\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var ctx_r1 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"yScale\", ctx_r1.yScale)(\"dims\", ctx_r1.dims)(\"showGridLines\", ctx_r1.showGridLines)(\"showLabel\", ctx_r1.showYAxisLabel)(\"labelText\", ctx_r1.yAxisLabel)(\"trimTicks\", ctx_r1.trimYAxisTicks)(\"maxTickLength\", ctx_r1.maxYAxisTickLength)(\"tickFormatting\", ctx_r1.yAxisTickFormatting)(\"ticks\", ctx_r1.yAxisTicks);\n  }\n}\nfunction AreaChartNormalizedComponent__svg_g_8_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\");\n    ɵngcc0.ɵɵelement(1, \"g\", 9);\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var series_r9 = ctx.$implicit;\n    var ctx_r2 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"xScale\", ctx_r2.xScale)(\"yScale\", ctx_r2.yScale)(\"colors\", ctx_r2.colors)(\"data\", series_r9)(\"scaleType\", ctx_r2.scaleType)(\"activeEntries\", ctx_r2.activeEntries)(\"gradient\", ctx_r2.gradient)(\"curve\", ctx_r2.curve)(\"animations\", ctx_r2.animations);\n  }\n}\nfunction AreaChartNormalizedComponent__svg_g_9__svg_g_2_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r13 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\")(1, \"g\", 13);\n    ɵngcc0.ɵɵlistener(\"select\", function AreaChartNormalizedComponent__svg_g_9__svg_g_2_Template__svg_g_select_1_listener($event) {\n      var restoredCtx = ɵngcc0.ɵɵrestoreView(_r13);\n      var series_r11 = restoredCtx.$implicit;\n      var ctx_r12 = ɵngcc0.ɵɵnextContext(2);\n      return ɵngcc0.ɵɵresetView(ctx_r12.onClick($event, series_r11));\n    })(\"activate\", function AreaChartNormalizedComponent__svg_g_9__svg_g_2_Template__svg_g_activate_1_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r13);\n      var ctx_r14 = ɵngcc0.ɵɵnextContext(2);\n      return ɵngcc0.ɵɵresetView(ctx_r14.onActivate($event));\n    })(\"deactivate\", function AreaChartNormalizedComponent__svg_g_9__svg_g_2_Template__svg_g_deactivate_1_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r13);\n      var ctx_r15 = ɵngcc0.ɵɵnextContext(2);\n      return ɵngcc0.ɵɵresetView(ctx_r15.onDeactivate($event));\n    });\n    ɵngcc0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    var series_r11 = ctx.$implicit;\n    var ctx_r10 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"xScale\", ctx_r10.xScale)(\"yScale\", ctx_r10.yScale)(\"colors\", ctx_r10.colors)(\"activeEntries\", ctx_r10.activeEntries)(\"data\", series_r11)(\"scaleType\", ctx_r10.scaleType)(\"visibleValue\", ctx_r10.hoveredVertical)(\"tooltipDisabled\", ctx_r10.tooltipDisabled)(\"tooltipTemplate\", ctx_r10.tooltipTemplate);\n  }\n}\nfunction AreaChartNormalizedComponent__svg_g_9_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r17 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\", 10);\n    ɵngcc0.ɵɵlistener(\"mouseleave\", function AreaChartNormalizedComponent__svg_g_9_Template__svg_g_mouseleave_0_listener() {\n      ɵngcc0.ɵɵrestoreView(_r17);\n      var ctx_r16 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r16.hideCircles());\n    });\n    ɵngcc0.ɵɵelementStart(1, \"g\", 11);\n    ɵngcc0.ɵɵlistener(\"hover\", function AreaChartNormalizedComponent__svg_g_9_Template__svg_g_hover_1_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r17);\n      var ctx_r18 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r18.updateHoveredVertical($event));\n    });\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵtemplate(2, AreaChartNormalizedComponent__svg_g_9__svg_g_2_Template, 2, 9, \"g\", 12);\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var ctx_r3 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"dims\", ctx_r3.dims)(\"xSet\", ctx_r3.xSet)(\"xScale\", ctx_r3.xScale)(\"yScale\", ctx_r3.yScale)(\"results\", ctx_r3.results)(\"colors\", ctx_r3.colors)(\"showPercentage\", true)(\"tooltipDisabled\", ctx_r3.tooltipDisabled)(\"tooltipTemplate\", ctx_r3.seriesTooltipTemplate);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngForOf\", ctx_r3.results);\n  }\n}\nfunction AreaChartNormalizedComponent__svg_g_10__svg_g_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\");\n    ɵngcc0.ɵɵelement(1, \"g\", 15);\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var series_r20 = ctx.$implicit;\n    var ctx_r19 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"xScale\", ctx_r19.timelineXScale)(\"yScale\", ctx_r19.timelineYScale)(\"colors\", ctx_r19.colors)(\"data\", series_r20)(\"scaleType\", ctx_r19.scaleType)(\"gradient\", ctx_r19.gradient)(\"curve\", ctx_r19.curve)(\"animations\", ctx_r19.animations);\n  }\n}\nfunction AreaChartNormalizedComponent__svg_g_10_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r22 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\", 14);\n    ɵngcc0.ɵɵlistener(\"onDomainChange\", function AreaChartNormalizedComponent__svg_g_10_Template__svg_g_onDomainChange_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r22);\n      var ctx_r21 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r21.updateDomain($event));\n    });\n    ɵngcc0.ɵɵtemplate(1, AreaChartNormalizedComponent__svg_g_10__svg_g_1_Template, 2, 8, \"g\", 4);\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var ctx_r4 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"results\", ctx_r4.results)(\"view\", ɵngcc0.ɵɵpureFunction2(10, _c23, ctx_r4.timelineWidth, ctx_r4.height))(\"height\", ctx_r4.timelineHeight)(\"scheme\", ctx_r4.scheme)(\"customColors\", ctx_r4.customColors)(\"legend\", ctx_r4.legend)(\"scaleType\", ctx_r4.scaleType);\n    ɵngcc0.ɵɵattribute(\"transform\", ctx_r4.timelineTransform);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngForOf\", ctx_r4.results)(\"ngForTrackBy\", ctx_r4.trackBy);\n  }\n}\nvar _c24 = \".ngx-charts{float:left;overflow:visible}.ngx-charts .arc,.ngx-charts .bar,.ngx-charts .circle{cursor:pointer}.ngx-charts .arc.active,.ngx-charts .arc:hover,.ngx-charts .bar.active,.ngx-charts .bar:hover,.ngx-charts .card.active,.ngx-charts .card:hover,.ngx-charts .cell.active,.ngx-charts .cell:hover{opacity:.8;transition:opacity .1s ease-in-out}.ngx-charts .arc:focus,.ngx-charts .bar:focus,.ngx-charts .card:focus,.ngx-charts .cell:focus{outline:0}.ngx-charts .arc.hidden,.ngx-charts .bar.hidden,.ngx-charts .card.hidden,.ngx-charts .cell.hidden{display:none}.ngx-charts g:focus{outline:0}.ngx-charts .area-series.inactive,.ngx-charts .line-series-range.inactive,.ngx-charts .line-series.inactive,.ngx-charts .polar-series-area.inactive,.ngx-charts .polar-series-path.inactive{transition:opacity .1s ease-in-out;opacity:.2}.ngx-charts .line-highlight{display:none}.ngx-charts .line-highlight.active{display:block}.ngx-charts .area{opacity:.6}.ngx-charts .circle:hover{cursor:pointer}.ngx-charts .label{font-size:12px;font-weight:400}.ngx-charts .tooltip-anchor{fill:#000}.ngx-charts .gridline-path{stroke:#ddd;stroke-width:1;fill:none}.ngx-charts .refline-path{stroke:#a8b2c7;stroke-width:1;stroke-dasharray:5;stroke-dashoffset:5}.ngx-charts .refline-label{font-size:9px}.ngx-charts .reference-area{fill-opacity:.05;fill:#000}.ngx-charts .gridline-path-dotted{stroke:#ddd;stroke-width:1;fill:none;stroke-dasharray:1,20;stroke-dashoffset:3}.ngx-charts .grid-panel rect{fill:none}.ngx-charts .grid-panel.odd rect{fill:rgba(0,0,0,.05)}\";\nfunction AreaChartStackedComponent__svg_g_5_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r6 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\", 7);\n    ɵngcc0.ɵɵlistener(\"dimensionsChanged\", function AreaChartStackedComponent__svg_g_5_Template__svg_g_dimensionsChanged_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r6);\n      var ctx_r5 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r5.updateXAxisHeight($event));\n    });\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"xScale\", ctx_r0.xScale)(\"dims\", ctx_r0.dims)(\"showGridLines\", ctx_r0.showGridLines)(\"showLabel\", ctx_r0.showXAxisLabel)(\"labelText\", ctx_r0.xAxisLabel)(\"trimTicks\", ctx_r0.trimXAxisTicks)(\"rotateTicks\", ctx_r0.rotateXAxisTicks)(\"maxTickLength\", ctx_r0.maxXAxisTickLength)(\"tickFormatting\", ctx_r0.xAxisTickFormatting)(\"ticks\", ctx_r0.xAxisTicks);\n  }\n}\nfunction AreaChartStackedComponent__svg_g_6_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r8 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\", 8);\n    ɵngcc0.ɵɵlistener(\"dimensionsChanged\", function AreaChartStackedComponent__svg_g_6_Template__svg_g_dimensionsChanged_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r8);\n      var ctx_r7 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r7.updateYAxisWidth($event));\n    });\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var ctx_r1 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"yScale\", ctx_r1.yScale)(\"dims\", ctx_r1.dims)(\"showGridLines\", ctx_r1.showGridLines)(\"showLabel\", ctx_r1.showYAxisLabel)(\"labelText\", ctx_r1.yAxisLabel)(\"trimTicks\", ctx_r1.trimYAxisTicks)(\"maxTickLength\", ctx_r1.maxYAxisTickLength)(\"tickFormatting\", ctx_r1.yAxisTickFormatting)(\"ticks\", ctx_r1.yAxisTicks);\n  }\n}\nfunction AreaChartStackedComponent__svg_g_8_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\");\n    ɵngcc0.ɵɵelement(1, \"g\", 9);\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var series_r9 = ctx.$implicit;\n    var ctx_r2 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"xScale\", ctx_r2.xScale)(\"yScale\", ctx_r2.yScale)(\"colors\", ctx_r2.colors)(\"data\", series_r9)(\"scaleType\", ctx_r2.scaleType)(\"gradient\", ctx_r2.gradient)(\"activeEntries\", ctx_r2.activeEntries)(\"curve\", ctx_r2.curve)(\"animations\", ctx_r2.animations);\n  }\n}\nfunction AreaChartStackedComponent__svg_g_9__svg_g_2_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r13 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\")(1, \"g\", 12);\n    ɵngcc0.ɵɵlistener(\"select\", function AreaChartStackedComponent__svg_g_9__svg_g_2_Template__svg_g_select_1_listener($event) {\n      var restoredCtx = ɵngcc0.ɵɵrestoreView(_r13);\n      var series_r11 = restoredCtx.$implicit;\n      var ctx_r12 = ɵngcc0.ɵɵnextContext(2);\n      return ɵngcc0.ɵɵresetView(ctx_r12.onClick($event, series_r11));\n    })(\"activate\", function AreaChartStackedComponent__svg_g_9__svg_g_2_Template__svg_g_activate_1_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r13);\n      var ctx_r14 = ɵngcc0.ɵɵnextContext(2);\n      return ɵngcc0.ɵɵresetView(ctx_r14.onActivate($event));\n    })(\"deactivate\", function AreaChartStackedComponent__svg_g_9__svg_g_2_Template__svg_g_deactivate_1_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r13);\n      var ctx_r15 = ɵngcc0.ɵɵnextContext(2);\n      return ɵngcc0.ɵɵresetView(ctx_r15.onDeactivate($event));\n    });\n    ɵngcc0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    var series_r11 = ctx.$implicit;\n    var ctx_r10 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"xScale\", ctx_r10.xScale)(\"yScale\", ctx_r10.yScale)(\"colors\", ctx_r10.colors)(\"activeEntries\", ctx_r10.activeEntries)(\"data\", series_r11)(\"scaleType\", ctx_r10.scaleType)(\"visibleValue\", ctx_r10.hoveredVertical)(\"tooltipDisabled\", ctx_r10.tooltipDisabled)(\"tooltipTemplate\", ctx_r10.tooltipTemplate);\n  }\n}\nfunction AreaChartStackedComponent__svg_g_9_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r17 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\", 10);\n    ɵngcc0.ɵɵlistener(\"mouseleave\", function AreaChartStackedComponent__svg_g_9_Template__svg_g_mouseleave_0_listener() {\n      ɵngcc0.ɵɵrestoreView(_r17);\n      var ctx_r16 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r16.hideCircles());\n    });\n    ɵngcc0.ɵɵelementStart(1, \"g\", 11);\n    ɵngcc0.ɵɵlistener(\"hover\", function AreaChartStackedComponent__svg_g_9_Template__svg_g_hover_1_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r17);\n      var ctx_r18 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r18.updateHoveredVertical($event));\n    });\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵtemplate(2, AreaChartStackedComponent__svg_g_9__svg_g_2_Template, 2, 9, \"g\", 4);\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var ctx_r3 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"dims\", ctx_r3.dims)(\"xSet\", ctx_r3.xSet)(\"xScale\", ctx_r3.xScale)(\"yScale\", ctx_r3.yScale)(\"results\", ctx_r3.results)(\"colors\", ctx_r3.colors)(\"tooltipDisabled\", ctx_r3.tooltipDisabled)(\"tooltipTemplate\", ctx_r3.seriesTooltipTemplate);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngForOf\", ctx_r3.results)(\"ngForTrackBy\", ctx_r3.trackBy);\n  }\n}\nfunction AreaChartStackedComponent__svg_g_10__svg_g_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\");\n    ɵngcc0.ɵɵelement(1, \"g\", 14);\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var series_r20 = ctx.$implicit;\n    var ctx_r19 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"xScale\", ctx_r19.timelineXScale)(\"yScale\", ctx_r19.timelineYScale)(\"colors\", ctx_r19.colors)(\"data\", series_r20)(\"scaleType\", ctx_r19.scaleType)(\"gradient\", ctx_r19.gradient)(\"curve\", ctx_r19.curve)(\"animations\", ctx_r19.animations);\n  }\n}\nfunction AreaChartStackedComponent__svg_g_10_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r22 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\", 13);\n    ɵngcc0.ɵɵlistener(\"onDomainChange\", function AreaChartStackedComponent__svg_g_10_Template__svg_g_onDomainChange_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r22);\n      var ctx_r21 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r21.updateDomain($event));\n    });\n    ɵngcc0.ɵɵtemplate(1, AreaChartStackedComponent__svg_g_10__svg_g_1_Template, 2, 8, \"g\", 4);\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var ctx_r4 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"results\", ctx_r4.results)(\"view\", ɵngcc0.ɵɵpureFunction2(10, _c23, ctx_r4.timelineWidth, ctx_r4.height))(\"height\", ctx_r4.timelineHeight)(\"scheme\", ctx_r4.scheme)(\"customColors\", ctx_r4.customColors)(\"legend\", ctx_r4.legend)(\"scaleType\", ctx_r4.scaleType);\n    ɵngcc0.ɵɵattribute(\"transform\", ctx_r4.timelineTransform);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngForOf\", ctx_r4.results)(\"ngForTrackBy\", ctx_r4.trackBy);\n  }\n}\nvar _c25 = [\"ngx-charts-area-series\", \"\"];\nvar _c26 = [\"ngx-charts-bar\", \"\"];\nfunction BarComponent__svg_defs_0_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"defs\");\n    ɵngcc0.ɵɵelement(1, \"g\", 2);\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"orientation\", ctx_r0.orientation)(\"name\", ctx_r0.gradientId)(\"stops\", ctx_r0.gradientStops);\n  }\n}\nfunction BarHorizontalComponent__svg_g_2_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r3 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\", 5);\n    ɵngcc0.ɵɵlistener(\"dimensionsChanged\", function BarHorizontalComponent__svg_g_2_Template__svg_g_dimensionsChanged_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r3);\n      var ctx_r2 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r2.updateXAxisHeight($event));\n    });\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"xScale\", ctx_r0.xScale)(\"dims\", ctx_r0.dims)(\"showGridLines\", ctx_r0.showGridLines)(\"showLabel\", ctx_r0.showXAxisLabel)(\"labelText\", ctx_r0.xAxisLabel)(\"trimTicks\", ctx_r0.trimXAxisTicks)(\"rotateTicks\", ctx_r0.rotateXAxisTicks)(\"maxTickLength\", ctx_r0.maxXAxisTickLength)(\"tickFormatting\", ctx_r0.xAxisTickFormatting)(\"ticks\", ctx_r0.xAxisTicks);\n  }\n}\nfunction BarHorizontalComponent__svg_g_3_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r5 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\", 6);\n    ɵngcc0.ɵɵlistener(\"dimensionsChanged\", function BarHorizontalComponent__svg_g_3_Template__svg_g_dimensionsChanged_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r5);\n      var ctx_r4 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r4.updateYAxisWidth($event));\n    });\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var ctx_r1 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"yScale\", ctx_r1.yScale)(\"dims\", ctx_r1.dims)(\"showLabel\", ctx_r1.showYAxisLabel)(\"labelText\", ctx_r1.yAxisLabel)(\"trimTicks\", ctx_r1.trimYAxisTicks)(\"maxTickLength\", ctx_r1.maxYAxisTickLength)(\"tickFormatting\", ctx_r1.yAxisTickFormatting)(\"ticks\", ctx_r1.yAxisTicks)(\"yAxisOffset\", ctx_r1.dataLabelMaxWidth.negative);\n  }\n}\nfunction BarHorizontal2DComponent__svg_g_3_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r4 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\", 6);\n    ɵngcc0.ɵɵlistener(\"dimensionsChanged\", function BarHorizontal2DComponent__svg_g_3_Template__svg_g_dimensionsChanged_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r4);\n      var ctx_r3 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r3.updateXAxisHeight($event));\n    });\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"xScale\", ctx_r0.valueScale)(\"dims\", ctx_r0.dims)(\"showGridLines\", ctx_r0.showGridLines)(\"showLabel\", ctx_r0.showXAxisLabel)(\"labelText\", ctx_r0.xAxisLabel)(\"trimTicks\", ctx_r0.trimXAxisTicks)(\"rotateTicks\", ctx_r0.rotateXAxisTicks)(\"maxTickLength\", ctx_r0.maxXAxisTickLength)(\"tickFormatting\", ctx_r0.xAxisTickFormatting)(\"ticks\", ctx_r0.xAxisTicks);\n  }\n}\nfunction BarHorizontal2DComponent__svg_g_4_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r6 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\", 7);\n    ɵngcc0.ɵɵlistener(\"dimensionsChanged\", function BarHorizontal2DComponent__svg_g_4_Template__svg_g_dimensionsChanged_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r6);\n      var ctx_r5 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r5.updateYAxisWidth($event));\n    });\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var ctx_r1 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"yScale\", ctx_r1.groupScale)(\"dims\", ctx_r1.dims)(\"showLabel\", ctx_r1.showYAxisLabel)(\"labelText\", ctx_r1.yAxisLabel)(\"trimTicks\", ctx_r1.trimYAxisTicks)(\"maxTickLength\", ctx_r1.maxYAxisTickLength)(\"tickFormatting\", ctx_r1.yAxisTickFormatting)(\"ticks\", ctx_r1.yAxisTicks)(\"yAxisOffset\", ctx_r1.dataLabelMaxWidth.negative);\n  }\n}\nfunction BarHorizontal2DComponent__svg_g_5_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r10 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\")(1, \"g\", 8);\n    ɵngcc0.ɵɵlistener(\"select\", function BarHorizontal2DComponent__svg_g_5_Template__svg_g_select_1_listener($event) {\n      var restoredCtx = ɵngcc0.ɵɵrestoreView(_r10);\n      var group_r7 = restoredCtx.$implicit;\n      var ctx_r9 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r9.onClick($event, group_r7));\n    })(\"activate\", function BarHorizontal2DComponent__svg_g_5_Template__svg_g_activate_1_listener($event) {\n      var restoredCtx = ɵngcc0.ɵɵrestoreView(_r10);\n      var group_r7 = restoredCtx.$implicit;\n      var ctx_r11 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r11.onActivate($event, group_r7));\n    })(\"deactivate\", function BarHorizontal2DComponent__svg_g_5_Template__svg_g_deactivate_1_listener($event) {\n      var restoredCtx = ɵngcc0.ɵɵrestoreView(_r10);\n      var group_r7 = restoredCtx.$implicit;\n      var ctx_r12 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r12.onDeactivate($event, group_r7));\n    })(\"dataLabelWidthChanged\", function BarHorizontal2DComponent__svg_g_5_Template__svg_g_dataLabelWidthChanged_1_listener($event) {\n      var restoredCtx = ɵngcc0.ɵɵrestoreView(_r10);\n      var index_r8 = restoredCtx.index;\n      var ctx_r13 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r13.onDataLabelMaxWidthChanged($event, index_r8));\n    });\n    ɵngcc0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    var group_r7 = ctx.$implicit;\n    var ctx_r2 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"@animationState\", \"active\");\n    ɵngcc0.ɵɵattribute(\"transform\", ctx_r2.groupTransform(group_r7));\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"xScale\", ctx_r2.valueScale)(\"activeEntries\", ctx_r2.activeEntries)(\"yScale\", ctx_r2.innerScale)(\"colors\", ctx_r2.colors)(\"series\", group_r7.series)(\"dims\", ctx_r2.dims)(\"gradient\", ctx_r2.gradient)(\"tooltipDisabled\", ctx_r2.tooltipDisabled)(\"tooltipTemplate\", ctx_r2.tooltipTemplate)(\"seriesName\", group_r7.name)(\"roundEdges\", ctx_r2.roundEdges)(\"animations\", ctx_r2.animations)(\"showDataLabel\", ctx_r2.showDataLabel)(\"dataLabelFormatting\", ctx_r2.dataLabelFormatting)(\"noBarWhenZero\", ctx_r2.noBarWhenZero);\n  }\n}\nfunction BarHorizontalNormalizedComponent__svg_g_2_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r4 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\", 5);\n    ɵngcc0.ɵɵlistener(\"dimensionsChanged\", function BarHorizontalNormalizedComponent__svg_g_2_Template__svg_g_dimensionsChanged_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r4);\n      var ctx_r3 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r3.updateXAxisHeight($event));\n    });\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"xScale\", ctx_r0.xScale)(\"dims\", ctx_r0.dims)(\"showGridLines\", ctx_r0.showGridLines)(\"showLabel\", ctx_r0.showXAxisLabel)(\"labelText\", ctx_r0.xAxisLabel)(\"trimTicks\", ctx_r0.trimXAxisTicks)(\"rotateTicks\", ctx_r0.rotateXAxisTicks)(\"maxTickLength\", ctx_r0.maxXAxisTickLength)(\"tickFormatting\", ctx_r0.xAxisTickFormatting)(\"ticks\", ctx_r0.xAxisTicks);\n  }\n}\nfunction BarHorizontalNormalizedComponent__svg_g_3_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r6 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\", 6);\n    ɵngcc0.ɵɵlistener(\"dimensionsChanged\", function BarHorizontalNormalizedComponent__svg_g_3_Template__svg_g_dimensionsChanged_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r6);\n      var ctx_r5 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r5.updateYAxisWidth($event));\n    });\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var ctx_r1 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"yScale\", ctx_r1.yScale)(\"dims\", ctx_r1.dims)(\"showLabel\", ctx_r1.showYAxisLabel)(\"labelText\", ctx_r1.yAxisLabel)(\"trimTicks\", ctx_r1.trimYAxisTicks)(\"maxTickLength\", ctx_r1.maxYAxisTickLength)(\"tickFormatting\", ctx_r1.yAxisTickFormatting)(\"ticks\", ctx_r1.yAxisTicks);\n  }\n}\nfunction BarHorizontalNormalizedComponent__svg_g_4_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r9 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\")(1, \"g\", 7);\n    ɵngcc0.ɵɵlistener(\"select\", function BarHorizontalNormalizedComponent__svg_g_4_Template__svg_g_select_1_listener($event) {\n      var restoredCtx = ɵngcc0.ɵɵrestoreView(_r9);\n      var group_r7 = restoredCtx.$implicit;\n      var ctx_r8 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r8.onClick($event, group_r7));\n    })(\"activate\", function BarHorizontalNormalizedComponent__svg_g_4_Template__svg_g_activate_1_listener($event) {\n      var restoredCtx = ɵngcc0.ɵɵrestoreView(_r9);\n      var group_r7 = restoredCtx.$implicit;\n      var ctx_r10 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r10.onActivate($event, group_r7));\n    })(\"deactivate\", function BarHorizontalNormalizedComponent__svg_g_4_Template__svg_g_deactivate_1_listener($event) {\n      var restoredCtx = ɵngcc0.ɵɵrestoreView(_r9);\n      var group_r7 = restoredCtx.$implicit;\n      var ctx_r11 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r11.onDeactivate($event, group_r7));\n    });\n    ɵngcc0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    var group_r7 = ctx.$implicit;\n    var ctx_r2 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"@animationState\", \"active\");\n    ɵngcc0.ɵɵattribute(\"transform\", ctx_r2.groupTransform(group_r7));\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"xScale\", ctx_r2.xScale)(\"yScale\", ctx_r2.yScale)(\"activeEntries\", ctx_r2.activeEntries)(\"colors\", ctx_r2.colors)(\"series\", group_r7.series)(\"dims\", ctx_r2.dims)(\"gradient\", ctx_r2.gradient)(\"tooltipDisabled\", ctx_r2.tooltipDisabled)(\"tooltipTemplate\", ctx_r2.tooltipTemplate)(\"seriesName\", group_r7.name)(\"animations\", ctx_r2.animations)(\"noBarWhenZero\", ctx_r2.noBarWhenZero);\n  }\n}\nfunction BarHorizontalStackedComponent__svg_g_2_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r4 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\", 5);\n    ɵngcc0.ɵɵlistener(\"dimensionsChanged\", function BarHorizontalStackedComponent__svg_g_2_Template__svg_g_dimensionsChanged_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r4);\n      var ctx_r3 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r3.updateXAxisHeight($event));\n    });\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"xScale\", ctx_r0.xScale)(\"dims\", ctx_r0.dims)(\"showGridLines\", ctx_r0.showGridLines)(\"showLabel\", ctx_r0.showXAxisLabel)(\"labelText\", ctx_r0.xAxisLabel)(\"trimTicks\", ctx_r0.trimXAxisTicks)(\"rotateTicks\", ctx_r0.rotateXAxisTicks)(\"maxTickLength\", ctx_r0.maxXAxisTickLength)(\"tickFormatting\", ctx_r0.xAxisTickFormatting)(\"ticks\", ctx_r0.xAxisTicks);\n  }\n}\nfunction BarHorizontalStackedComponent__svg_g_3_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r6 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\", 6);\n    ɵngcc0.ɵɵlistener(\"dimensionsChanged\", function BarHorizontalStackedComponent__svg_g_3_Template__svg_g_dimensionsChanged_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r6);\n      var ctx_r5 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r5.updateYAxisWidth($event));\n    });\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var ctx_r1 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"yScale\", ctx_r1.yScale)(\"dims\", ctx_r1.dims)(\"showLabel\", ctx_r1.showYAxisLabel)(\"labelText\", ctx_r1.yAxisLabel)(\"trimTicks\", ctx_r1.trimYAxisTicks)(\"maxTickLength\", ctx_r1.maxYAxisTickLength)(\"tickFormatting\", ctx_r1.yAxisTickFormatting)(\"ticks\", ctx_r1.yAxisTicks)(\"yAxisOffset\", ctx_r1.dataLabelMaxWidth.negative);\n  }\n}\nfunction BarHorizontalStackedComponent__svg_g_4_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r10 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\")(1, \"g\", 7);\n    ɵngcc0.ɵɵlistener(\"select\", function BarHorizontalStackedComponent__svg_g_4_Template__svg_g_select_1_listener($event) {\n      var restoredCtx = ɵngcc0.ɵɵrestoreView(_r10);\n      var group_r7 = restoredCtx.$implicit;\n      var ctx_r9 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r9.onClick($event, group_r7));\n    })(\"activate\", function BarHorizontalStackedComponent__svg_g_4_Template__svg_g_activate_1_listener($event) {\n      var restoredCtx = ɵngcc0.ɵɵrestoreView(_r10);\n      var group_r7 = restoredCtx.$implicit;\n      var ctx_r11 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r11.onActivate($event, group_r7));\n    })(\"deactivate\", function BarHorizontalStackedComponent__svg_g_4_Template__svg_g_deactivate_1_listener($event) {\n      var restoredCtx = ɵngcc0.ɵɵrestoreView(_r10);\n      var group_r7 = restoredCtx.$implicit;\n      var ctx_r12 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r12.onDeactivate($event, group_r7));\n    })(\"dataLabelWidthChanged\", function BarHorizontalStackedComponent__svg_g_4_Template__svg_g_dataLabelWidthChanged_1_listener($event) {\n      var restoredCtx = ɵngcc0.ɵɵrestoreView(_r10);\n      var index_r8 = restoredCtx.index;\n      var ctx_r13 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r13.onDataLabelMaxWidthChanged($event, index_r8));\n    });\n    ɵngcc0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    var group_r7 = ctx.$implicit;\n    var ctx_r2 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"@animationState\", \"active\");\n    ɵngcc0.ɵɵattribute(\"transform\", ctx_r2.groupTransform(group_r7));\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"xScale\", ctx_r2.xScale)(\"yScale\", ctx_r2.yScale)(\"colors\", ctx_r2.colors)(\"series\", group_r7.series)(\"activeEntries\", ctx_r2.activeEntries)(\"dims\", ctx_r2.dims)(\"gradient\", ctx_r2.gradient)(\"tooltipDisabled\", ctx_r2.tooltipDisabled)(\"tooltipTemplate\", ctx_r2.tooltipTemplate)(\"seriesName\", group_r7.name)(\"animations\", ctx_r2.animations)(\"showDataLabel\", ctx_r2.showDataLabel)(\"dataLabelFormatting\", ctx_r2.dataLabelFormatting)(\"noBarWhenZero\", ctx_r2.noBarWhenZero);\n  }\n}\nfunction BarVerticalComponent__svg_g_2_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r3 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\", 5);\n    ɵngcc0.ɵɵlistener(\"dimensionsChanged\", function BarVerticalComponent__svg_g_2_Template__svg_g_dimensionsChanged_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r3);\n      var ctx_r2 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r2.updateXAxisHeight($event));\n    });\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"xScale\", ctx_r0.xScale)(\"dims\", ctx_r0.dims)(\"showLabel\", ctx_r0.showXAxisLabel)(\"labelText\", ctx_r0.xAxisLabel)(\"trimTicks\", ctx_r0.trimXAxisTicks)(\"rotateTicks\", ctx_r0.rotateXAxisTicks)(\"maxTickLength\", ctx_r0.maxXAxisTickLength)(\"tickFormatting\", ctx_r0.xAxisTickFormatting)(\"ticks\", ctx_r0.xAxisTicks)(\"xAxisOffset\", ctx_r0.dataLabelMaxHeight.negative);\n  }\n}\nfunction BarVerticalComponent__svg_g_3_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r5 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\", 6);\n    ɵngcc0.ɵɵlistener(\"dimensionsChanged\", function BarVerticalComponent__svg_g_3_Template__svg_g_dimensionsChanged_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r5);\n      var ctx_r4 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r4.updateYAxisWidth($event));\n    });\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var ctx_r1 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"yScale\", ctx_r1.yScale)(\"dims\", ctx_r1.dims)(\"showGridLines\", ctx_r1.showGridLines)(\"showLabel\", ctx_r1.showYAxisLabel)(\"labelText\", ctx_r1.yAxisLabel)(\"trimTicks\", ctx_r1.trimYAxisTicks)(\"maxTickLength\", ctx_r1.maxYAxisTickLength)(\"tickFormatting\", ctx_r1.yAxisTickFormatting)(\"ticks\", ctx_r1.yAxisTicks);\n  }\n}\nfunction BarVertical2DComponent__svg_g_3_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r4 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\", 6);\n    ɵngcc0.ɵɵlistener(\"dimensionsChanged\", function BarVertical2DComponent__svg_g_3_Template__svg_g_dimensionsChanged_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r4);\n      var ctx_r3 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r3.updateXAxisHeight($event));\n    });\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"xScale\", ctx_r0.groupScale)(\"dims\", ctx_r0.dims)(\"showLabel\", ctx_r0.showXAxisLabel)(\"labelText\", ctx_r0.xAxisLabel)(\"trimTicks\", ctx_r0.trimXAxisTicks)(\"rotateTicks\", ctx_r0.rotateXAxisTicks)(\"maxTickLength\", ctx_r0.maxXAxisTickLength)(\"tickFormatting\", ctx_r0.xAxisTickFormatting)(\"ticks\", ctx_r0.xAxisTicks)(\"xAxisOffset\", ctx_r0.dataLabelMaxHeight.negative);\n  }\n}\nfunction BarVertical2DComponent__svg_g_4_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r6 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\", 7);\n    ɵngcc0.ɵɵlistener(\"dimensionsChanged\", function BarVertical2DComponent__svg_g_4_Template__svg_g_dimensionsChanged_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r6);\n      var ctx_r5 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r5.updateYAxisWidth($event));\n    });\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var ctx_r1 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"yScale\", ctx_r1.valueScale)(\"dims\", ctx_r1.dims)(\"showGridLines\", ctx_r1.showGridLines)(\"showLabel\", ctx_r1.showYAxisLabel)(\"labelText\", ctx_r1.yAxisLabel)(\"trimTicks\", ctx_r1.trimYAxisTicks)(\"maxTickLength\", ctx_r1.maxYAxisTickLength)(\"tickFormatting\", ctx_r1.yAxisTickFormatting)(\"ticks\", ctx_r1.yAxisTicks);\n  }\n}\nfunction BarVertical2DComponent__svg_g_5_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r10 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\", 8);\n    ɵngcc0.ɵɵlistener(\"select\", function BarVertical2DComponent__svg_g_5_Template__svg_g_select_0_listener($event) {\n      var restoredCtx = ɵngcc0.ɵɵrestoreView(_r10);\n      var group_r7 = restoredCtx.$implicit;\n      var ctx_r9 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r9.onClick($event, group_r7));\n    })(\"activate\", function BarVertical2DComponent__svg_g_5_Template__svg_g_activate_0_listener($event) {\n      var restoredCtx = ɵngcc0.ɵɵrestoreView(_r10);\n      var group_r7 = restoredCtx.$implicit;\n      var ctx_r11 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r11.onActivate($event, group_r7));\n    })(\"deactivate\", function BarVertical2DComponent__svg_g_5_Template__svg_g_deactivate_0_listener($event) {\n      var restoredCtx = ɵngcc0.ɵɵrestoreView(_r10);\n      var group_r7 = restoredCtx.$implicit;\n      var ctx_r12 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r12.onDeactivate($event, group_r7));\n    })(\"dataLabelHeightChanged\", function BarVertical2DComponent__svg_g_5_Template__svg_g_dataLabelHeightChanged_0_listener($event) {\n      var restoredCtx = ɵngcc0.ɵɵrestoreView(_r10);\n      var index_r8 = restoredCtx.index;\n      var ctx_r13 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r13.onDataLabelMaxHeightChanged($event, index_r8));\n    });\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var group_r7 = ctx.$implicit;\n    var ctx_r2 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"@animationState\", \"active\")(\"activeEntries\", ctx_r2.activeEntries)(\"xScale\", ctx_r2.innerScale)(\"yScale\", ctx_r2.valueScale)(\"colors\", ctx_r2.colors)(\"series\", group_r7.series)(\"dims\", ctx_r2.dims)(\"gradient\", ctx_r2.gradient)(\"tooltipDisabled\", ctx_r2.tooltipDisabled)(\"tooltipTemplate\", ctx_r2.tooltipTemplate)(\"showDataLabel\", ctx_r2.showDataLabel)(\"dataLabelFormatting\", ctx_r2.dataLabelFormatting)(\"seriesName\", group_r7.name)(\"roundEdges\", ctx_r2.roundEdges)(\"animations\", ctx_r2.animations)(\"noBarWhenZero\", ctx_r2.noBarWhenZero);\n    ɵngcc0.ɵɵattribute(\"transform\", ctx_r2.groupTransform(group_r7));\n  }\n}\nfunction BarVerticalNormalizedComponent__svg_g_2_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r4 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\", 5);\n    ɵngcc0.ɵɵlistener(\"dimensionsChanged\", function BarVerticalNormalizedComponent__svg_g_2_Template__svg_g_dimensionsChanged_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r4);\n      var ctx_r3 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r3.updateXAxisHeight($event));\n    });\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"xScale\", ctx_r0.xScale)(\"dims\", ctx_r0.dims)(\"showLabel\", ctx_r0.showXAxisLabel)(\"labelText\", ctx_r0.xAxisLabel)(\"trimTicks\", ctx_r0.trimXAxisTicks)(\"rotateTicks\", ctx_r0.rotateXAxisTicks)(\"maxTickLength\", ctx_r0.maxXAxisTickLength)(\"tickFormatting\", ctx_r0.xAxisTickFormatting)(\"ticks\", ctx_r0.xAxisTicks);\n  }\n}\nfunction BarVerticalNormalizedComponent__svg_g_3_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r6 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\", 6);\n    ɵngcc0.ɵɵlistener(\"dimensionsChanged\", function BarVerticalNormalizedComponent__svg_g_3_Template__svg_g_dimensionsChanged_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r6);\n      var ctx_r5 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r5.updateYAxisWidth($event));\n    });\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var ctx_r1 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"yScale\", ctx_r1.yScale)(\"dims\", ctx_r1.dims)(\"showGridLines\", ctx_r1.showGridLines)(\"showLabel\", ctx_r1.showYAxisLabel)(\"labelText\", ctx_r1.yAxisLabel)(\"trimTicks\", ctx_r1.trimYAxisTicks)(\"maxTickLength\", ctx_r1.maxYAxisTickLength)(\"tickFormatting\", ctx_r1.yAxisTickFormatting)(\"ticks\", ctx_r1.yAxisTicks);\n  }\n}\nfunction BarVerticalNormalizedComponent__svg_g_4_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r9 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\")(1, \"g\", 7);\n    ɵngcc0.ɵɵlistener(\"select\", function BarVerticalNormalizedComponent__svg_g_4_Template__svg_g_select_1_listener($event) {\n      var restoredCtx = ɵngcc0.ɵɵrestoreView(_r9);\n      var group_r7 = restoredCtx.$implicit;\n      var ctx_r8 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r8.onClick($event, group_r7));\n    })(\"activate\", function BarVerticalNormalizedComponent__svg_g_4_Template__svg_g_activate_1_listener($event) {\n      var restoredCtx = ɵngcc0.ɵɵrestoreView(_r9);\n      var group_r7 = restoredCtx.$implicit;\n      var ctx_r10 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r10.onActivate($event, group_r7));\n    })(\"deactivate\", function BarVerticalNormalizedComponent__svg_g_4_Template__svg_g_deactivate_1_listener($event) {\n      var restoredCtx = ɵngcc0.ɵɵrestoreView(_r9);\n      var group_r7 = restoredCtx.$implicit;\n      var ctx_r11 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r11.onDeactivate($event, group_r7));\n    });\n    ɵngcc0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    var group_r7 = ctx.$implicit;\n    var ctx_r2 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"@animationState\", \"active\");\n    ɵngcc0.ɵɵattribute(\"transform\", ctx_r2.groupTransform(group_r7));\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"xScale\", ctx_r2.xScale)(\"yScale\", ctx_r2.yScale)(\"activeEntries\", ctx_r2.activeEntries)(\"colors\", ctx_r2.colors)(\"series\", group_r7.series)(\"dims\", ctx_r2.dims)(\"gradient\", ctx_r2.gradient)(\"tooltipDisabled\", ctx_r2.tooltipDisabled)(\"tooltipTemplate\", ctx_r2.tooltipTemplate)(\"seriesName\", group_r7.name)(\"animations\", ctx_r2.animations)(\"noBarWhenZero\", ctx_r2.noBarWhenZero);\n  }\n}\nfunction BarVerticalStackedComponent__svg_g_2_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r4 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\", 5);\n    ɵngcc0.ɵɵlistener(\"dimensionsChanged\", function BarVerticalStackedComponent__svg_g_2_Template__svg_g_dimensionsChanged_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r4);\n      var ctx_r3 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r3.updateXAxisHeight($event));\n    });\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"xScale\", ctx_r0.xScale)(\"dims\", ctx_r0.dims)(\"showLabel\", ctx_r0.showXAxisLabel)(\"labelText\", ctx_r0.xAxisLabel)(\"trimTicks\", ctx_r0.trimXAxisTicks)(\"rotateTicks\", ctx_r0.rotateXAxisTicks)(\"maxTickLength\", ctx_r0.maxXAxisTickLength)(\"tickFormatting\", ctx_r0.xAxisTickFormatting)(\"ticks\", ctx_r0.xAxisTicks)(\"xAxisOffset\", ctx_r0.dataLabelMaxHeight.negative);\n  }\n}\nfunction BarVerticalStackedComponent__svg_g_3_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r6 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\", 6);\n    ɵngcc0.ɵɵlistener(\"dimensionsChanged\", function BarVerticalStackedComponent__svg_g_3_Template__svg_g_dimensionsChanged_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r6);\n      var ctx_r5 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r5.updateYAxisWidth($event));\n    });\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var ctx_r1 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"yScale\", ctx_r1.yScale)(\"dims\", ctx_r1.dims)(\"showGridLines\", ctx_r1.showGridLines)(\"showLabel\", ctx_r1.showYAxisLabel)(\"labelText\", ctx_r1.yAxisLabel)(\"trimTicks\", ctx_r1.trimYAxisTicks)(\"maxTickLength\", ctx_r1.maxYAxisTickLength)(\"tickFormatting\", ctx_r1.yAxisTickFormatting)(\"ticks\", ctx_r1.yAxisTicks);\n  }\n}\nfunction BarVerticalStackedComponent__svg_g_4_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r10 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\")(1, \"g\", 7);\n    ɵngcc0.ɵɵlistener(\"select\", function BarVerticalStackedComponent__svg_g_4_Template__svg_g_select_1_listener($event) {\n      var restoredCtx = ɵngcc0.ɵɵrestoreView(_r10);\n      var group_r7 = restoredCtx.$implicit;\n      var ctx_r9 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r9.onClick($event, group_r7));\n    })(\"activate\", function BarVerticalStackedComponent__svg_g_4_Template__svg_g_activate_1_listener($event) {\n      var restoredCtx = ɵngcc0.ɵɵrestoreView(_r10);\n      var group_r7 = restoredCtx.$implicit;\n      var ctx_r11 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r11.onActivate($event, group_r7));\n    })(\"deactivate\", function BarVerticalStackedComponent__svg_g_4_Template__svg_g_deactivate_1_listener($event) {\n      var restoredCtx = ɵngcc0.ɵɵrestoreView(_r10);\n      var group_r7 = restoredCtx.$implicit;\n      var ctx_r12 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r12.onDeactivate($event, group_r7));\n    })(\"dataLabelHeightChanged\", function BarVerticalStackedComponent__svg_g_4_Template__svg_g_dataLabelHeightChanged_1_listener($event) {\n      var restoredCtx = ɵngcc0.ɵɵrestoreView(_r10);\n      var index_r8 = restoredCtx.index;\n      var ctx_r13 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r13.onDataLabelMaxHeightChanged($event, index_r8));\n    });\n    ɵngcc0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    var group_r7 = ctx.$implicit;\n    var ctx_r2 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"@animationState\", \"active\");\n    ɵngcc0.ɵɵattribute(\"transform\", ctx_r2.groupTransform(group_r7));\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"xScale\", ctx_r2.xScale)(\"yScale\", ctx_r2.yScale)(\"activeEntries\", ctx_r2.activeEntries)(\"colors\", ctx_r2.colors)(\"series\", group_r7.series)(\"dims\", ctx_r2.dims)(\"gradient\", ctx_r2.gradient)(\"tooltipDisabled\", ctx_r2.tooltipDisabled)(\"tooltipTemplate\", ctx_r2.tooltipTemplate)(\"showDataLabel\", ctx_r2.showDataLabel)(\"dataLabelFormatting\", ctx_r2.dataLabelFormatting)(\"seriesName\", group_r7.name)(\"animations\", ctx_r2.animations)(\"noBarWhenZero\", ctx_r2.noBarWhenZero);\n  }\n}\nvar _c27 = [\"ngx-charts-series-vertical\", \"\"];\nfunction SeriesVerticalComponent__svg_g_0_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r4 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\", 2);\n    ɵngcc0.ɵɵlistener(\"select\", function SeriesVerticalComponent__svg_g_0_Template__svg_g_select_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r4);\n      var ctx_r3 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r3.onClick($event));\n    })(\"activate\", function SeriesVerticalComponent__svg_g_0_Template__svg_g_activate_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r4);\n      var ctx_r5 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r5.activate.emit($event));\n    })(\"deactivate\", function SeriesVerticalComponent__svg_g_0_Template__svg_g_deactivate_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r4);\n      var ctx_r6 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r6.deactivate.emit($event));\n    });\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var bar_r2 = ctx.$implicit;\n    var ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"@animationState\", \"active\")(\"@.disabled\", !ctx_r0.animations)(\"width\", bar_r2.width)(\"height\", bar_r2.height)(\"x\", bar_r2.x)(\"y\", bar_r2.y)(\"fill\", bar_r2.color)(\"stops\", bar_r2.gradientStops)(\"data\", bar_r2.data)(\"orientation\", \"vertical\")(\"roundEdges\", bar_r2.roundEdges)(\"gradient\", ctx_r0.gradient)(\"ariaLabel\", bar_r2.ariaLabel)(\"isActive\", ctx_r0.isActive(bar_r2.data))(\"tooltipDisabled\", ctx_r0.tooltipDisabled)(\"tooltipPlacement\", ctx_r0.tooltipPlacement)(\"tooltipType\", ctx_r0.tooltipType)(\"tooltipTitle\", ctx_r0.tooltipTemplate ? undefined : bar_r2.tooltipText)(\"tooltipTemplate\", ctx_r0.tooltipTemplate)(\"tooltipContext\", bar_r2.data)(\"noBarWhenZero\", ctx_r0.noBarWhenZero)(\"animations\", ctx_r0.animations);\n  }\n}\nfunction SeriesVerticalComponent__svg_g_1__svg_g_1_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r11 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\", 4);\n    ɵngcc0.ɵɵlistener(\"dimensionsChanged\", function SeriesVerticalComponent__svg_g_1__svg_g_1_Template__svg_g_dimensionsChanged_0_listener($event) {\n      var restoredCtx = ɵngcc0.ɵɵrestoreView(_r11);\n      var i_r9 = restoredCtx.index;\n      var ctx_r10 = ɵngcc0.ɵɵnextContext(2);\n      return ɵngcc0.ɵɵresetView(ctx_r10.dataLabelHeightChanged.emit({\n        size: $event,\n        index: i_r9\n      }));\n    });\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var b_r8 = ctx.$implicit;\n    var ctx_r7 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵproperty(\"barX\", b_r8.x)(\"barY\", b_r8.y)(\"barWidth\", b_r8.width)(\"barHeight\", b_r8.height)(\"value\", b_r8.total)(\"valueFormatting\", ctx_r7.dataLabelFormatting)(\"orientation\", \"vertical\");\n  }\n}\nfunction SeriesVerticalComponent__svg_g_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\");\n    ɵngcc0.ɵɵtemplate(1, SeriesVerticalComponent__svg_g_1__svg_g_1_Template, 1, 7, \"g\", 3);\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var ctx_r1 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngForOf\", ctx_r1.barsForDataLabels)(\"ngForTrackBy\", ctx_r1.trackDataLabelBy);\n  }\n}\nvar _c28 = [\"ngx-charts-series-horizontal\", \"\"];\nfunction SeriesHorizontal__svg_g_0_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r4 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\", 2);\n    ɵngcc0.ɵɵlistener(\"select\", function SeriesHorizontal__svg_g_0_Template__svg_g_select_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r4);\n      var ctx_r3 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r3.click($event));\n    })(\"activate\", function SeriesHorizontal__svg_g_0_Template__svg_g_activate_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r4);\n      var ctx_r5 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r5.activate.emit($event));\n    })(\"deactivate\", function SeriesHorizontal__svg_g_0_Template__svg_g_deactivate_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r4);\n      var ctx_r6 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r6.deactivate.emit($event));\n    });\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var bar_r2 = ctx.$implicit;\n    var ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"@animationState\", \"active\")(\"width\", bar_r2.width)(\"height\", bar_r2.height)(\"x\", bar_r2.x)(\"y\", bar_r2.y)(\"fill\", bar_r2.color)(\"stops\", bar_r2.gradientStops)(\"data\", bar_r2.data)(\"orientation\", \"horizontal\")(\"roundEdges\", bar_r2.roundEdges)(\"gradient\", ctx_r0.gradient)(\"isActive\", ctx_r0.isActive(bar_r2.data))(\"ariaLabel\", bar_r2.ariaLabel)(\"animations\", ctx_r0.animations)(\"tooltipDisabled\", ctx_r0.tooltipDisabled)(\"tooltipPlacement\", ctx_r0.tooltipPlacement)(\"tooltipType\", ctx_r0.tooltipType)(\"tooltipTitle\", ctx_r0.tooltipTemplate ? undefined : bar_r2.tooltipText)(\"tooltipTemplate\", ctx_r0.tooltipTemplate)(\"tooltipContext\", bar_r2.data)(\"noBarWhenZero\", ctx_r0.noBarWhenZero);\n  }\n}\nfunction SeriesHorizontal__svg_g_1__svg_g_1_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r11 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\", 4);\n    ɵngcc0.ɵɵlistener(\"dimensionsChanged\", function SeriesHorizontal__svg_g_1__svg_g_1_Template__svg_g_dimensionsChanged_0_listener($event) {\n      var restoredCtx = ɵngcc0.ɵɵrestoreView(_r11);\n      var i_r9 = restoredCtx.index;\n      var ctx_r10 = ɵngcc0.ɵɵnextContext(2);\n      return ɵngcc0.ɵɵresetView(ctx_r10.dataLabelWidthChanged.emit({\n        size: $event,\n        index: i_r9\n      }));\n    });\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var b_r8 = ctx.$implicit;\n    var ctx_r7 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵproperty(\"barX\", b_r8.x)(\"barY\", b_r8.y)(\"barWidth\", b_r8.width)(\"barHeight\", b_r8.height)(\"value\", b_r8.total)(\"valueFormatting\", ctx_r7.dataLabelFormatting)(\"orientation\", \"horizontal\");\n  }\n}\nfunction SeriesHorizontal__svg_g_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\");\n    ɵngcc0.ɵɵtemplate(1, SeriesHorizontal__svg_g_1__svg_g_1_Template, 1, 7, \"g\", 3);\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var ctx_r1 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngForOf\", ctx_r1.barsForDataLabels)(\"ngForTrackBy\", ctx_r1.trackDataLabelBy);\n  }\n}\nvar _c29 = [\"ngx-charts-bar-label\", \"\"];\nfunction BubbleChartComponent__svg_g_5_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r4 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\", 6);\n    ɵngcc0.ɵɵlistener(\"dimensionsChanged\", function BubbleChartComponent__svg_g_5_Template__svg_g_dimensionsChanged_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r4);\n      var ctx_r3 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r3.updateXAxisHeight($event));\n    });\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"showGridLines\", ctx_r0.showGridLines)(\"dims\", ctx_r0.dims)(\"xScale\", ctx_r0.xScale)(\"showLabel\", ctx_r0.showXAxisLabel)(\"labelText\", ctx_r0.xAxisLabel)(\"trimTicks\", ctx_r0.trimXAxisTicks)(\"rotateTicks\", ctx_r0.rotateXAxisTicks)(\"maxTickLength\", ctx_r0.maxXAxisTickLength)(\"tickFormatting\", ctx_r0.xAxisTickFormatting)(\"ticks\", ctx_r0.xAxisTicks);\n  }\n}\nfunction BubbleChartComponent__svg_g_6_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r6 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\", 7);\n    ɵngcc0.ɵɵlistener(\"dimensionsChanged\", function BubbleChartComponent__svg_g_6_Template__svg_g_dimensionsChanged_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r6);\n      var ctx_r5 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r5.updateYAxisWidth($event));\n    });\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var ctx_r1 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"showGridLines\", ctx_r1.showGridLines)(\"yScale\", ctx_r1.yScale)(\"dims\", ctx_r1.dims)(\"showLabel\", ctx_r1.showYAxisLabel)(\"labelText\", ctx_r1.yAxisLabel)(\"trimTicks\", ctx_r1.trimYAxisTicks)(\"maxTickLength\", ctx_r1.maxYAxisTickLength)(\"tickFormatting\", ctx_r1.yAxisTickFormatting)(\"ticks\", ctx_r1.yAxisTicks);\n  }\n}\nfunction BubbleChartComponent__svg_g_9_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r9 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\")(1, \"g\", 8);\n    ɵngcc0.ɵɵlistener(\"select\", function BubbleChartComponent__svg_g_9_Template__svg_g_select_1_listener($event) {\n      var restoredCtx = ɵngcc0.ɵɵrestoreView(_r9);\n      var series_r7 = restoredCtx.$implicit;\n      var ctx_r8 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r8.onClick($event, series_r7));\n    })(\"activate\", function BubbleChartComponent__svg_g_9_Template__svg_g_activate_1_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r9);\n      var ctx_r10 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r10.onActivate($event));\n    })(\"deactivate\", function BubbleChartComponent__svg_g_9_Template__svg_g_deactivate_1_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r9);\n      var ctx_r11 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r11.onDeactivate($event));\n    });\n    ɵngcc0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    var series_r7 = ctx.$implicit;\n    var ctx_r2 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"@animationState\", \"active\");\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"xScale\", ctx_r2.xScale)(\"yScale\", ctx_r2.yScale)(\"rScale\", ctx_r2.rScale)(\"xScaleType\", ctx_r2.xScaleType)(\"yScaleType\", ctx_r2.yScaleType)(\"xAxisLabel\", ctx_r2.xAxisLabel)(\"yAxisLabel\", ctx_r2.yAxisLabel)(\"colors\", ctx_r2.colors)(\"data\", series_r7)(\"activeEntries\", ctx_r2.activeEntries)(\"tooltipDisabled\", ctx_r2.tooltipDisabled)(\"tooltipTemplate\", ctx_r2.tooltipTemplate);\n  }\n}\nvar _c30 = [\"ngx-charts-bubble-series\", \"\"];\nfunction BubbleSeriesComponent__svg_g_0_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r3 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\")(1, \"g\")(2, \"g\", 1);\n    ɵngcc0.ɵɵlistener(\"select\", function BubbleSeriesComponent__svg_g_0_Template__svg_g_select_2_listener() {\n      var restoredCtx = ɵngcc0.ɵɵrestoreView(_r3);\n      var circle_r1 = restoredCtx.$implicit;\n      var ctx_r2 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r2.onClick(circle_r1.data));\n    })(\"activate\", function BubbleSeriesComponent__svg_g_0_Template__svg_g_activate_2_listener() {\n      var restoredCtx = ɵngcc0.ɵɵrestoreView(_r3);\n      var circle_r1 = restoredCtx.$implicit;\n      var ctx_r4 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r4.activateCircle(circle_r1));\n    })(\"deactivate\", function BubbleSeriesComponent__svg_g_0_Template__svg_g_deactivate_2_listener() {\n      var restoredCtx = ɵngcc0.ɵɵrestoreView(_r3);\n      var circle_r1 = restoredCtx.$implicit;\n      var ctx_r5 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r5.deactivateCircle(circle_r1));\n    });\n    ɵngcc0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    var circle_r1 = ctx.$implicit;\n    var ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵattribute(\"transform\", circle_r1.transform);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵstyleProp(\"opacity\", circle_r1.opacity);\n    ɵngcc0.ɵɵclassProp(\"active\", circle_r1.isActive);\n    ɵngcc0.ɵɵproperty(\"@animationState\", \"active\")(\"cx\", 0)(\"cy\", 0)(\"r\", circle_r1.radius)(\"fill\", circle_r1.color)(\"pointerEvents\", \"all\")(\"data\", circle_r1.value)(\"classNames\", circle_r1.classNames)(\"tooltipDisabled\", ctx_r0.tooltipDisabled)(\"tooltipPlacement\", \"top\")(\"tooltipType\", \"tooltip\")(\"tooltipTitle\", ctx_r0.tooltipTemplate ? undefined : ctx_r0.getTooltipText(circle_r1))(\"tooltipTemplate\", ctx_r0.tooltipTemplate)(\"tooltipContext\", circle_r1.data);\n  }\n}\nvar _c31 = [\"linkTemplate\"];\nvar _c32 = [\"nodeTemplate\"];\nfunction ForceDirectedGraphComponent__svg_g_3_1__svg_ng_template_0_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n  }\n}\nvar _c33 = function (a0) {\n  return {\n    $implicit: a0\n  };\n};\nfunction ForceDirectedGraphComponent__svg_g_3_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵtemplate(0, ForceDirectedGraphComponent__svg_g_3_1__svg_ng_template_0_Template, 0, 0, \"ng-template\", 8);\n  }\n  if (rf & 2) {\n    var link_r2 = ɵngcc0.ɵɵnextContext().$implicit;\n    var ctx_r3 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r3.linkTemplate)(\"ngTemplateOutletContext\", ɵngcc0.ɵɵpureFunction1(2, _c33, link_r2));\n  }\n}\nfunction ForceDirectedGraphComponent__svg_g_3__svg_line_2_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelement(0, \"line\", 9);\n  }\n  if (rf & 2) {\n    var link_r2 = ɵngcc0.ɵɵnextContext().$implicit;\n    ɵngcc0.ɵɵattribute(\"x1\", link_r2.source.x)(\"y1\", link_r2.source.y)(\"x2\", link_r2.target.x)(\"y2\", link_r2.target.y);\n  }\n}\nfunction ForceDirectedGraphComponent__svg_g_3_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\");\n    ɵngcc0.ɵɵtemplate(1, ForceDirectedGraphComponent__svg_g_3_1_Template, 1, 4, null, 6);\n    ɵngcc0.ɵɵtemplate(2, ForceDirectedGraphComponent__svg_g_3__svg_line_2_Template, 1, 4, \"line\", 7);\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r0.linkTemplate);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", !ctx_r0.linkTemplate);\n  }\n}\nfunction ForceDirectedGraphComponent__svg_g_5_1__svg_ng_template_0_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n  }\n}\nfunction ForceDirectedGraphComponent__svg_g_5_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵtemplate(0, ForceDirectedGraphComponent__svg_g_5_1__svg_ng_template_0_Template, 0, 0, \"ng-template\", 8);\n  }\n  if (rf & 2) {\n    var node_r8 = ɵngcc0.ɵɵnextContext().$implicit;\n    var ctx_r9 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r9.nodeTemplate)(\"ngTemplateOutletContext\", ɵngcc0.ɵɵpureFunction1(2, _c33, node_r8));\n  }\n}\nfunction ForceDirectedGraphComponent__svg_g_5__svg_circle_2_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelement(0, \"circle\", 12);\n  }\n}\nfunction ForceDirectedGraphComponent__svg_g_5_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r14 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\", 10);\n    ɵngcc0.ɵɵlistener(\"mousedown\", function ForceDirectedGraphComponent__svg_g_5_Template__svg_g_mousedown_0_listener($event) {\n      var restoredCtx = ɵngcc0.ɵɵrestoreView(_r14);\n      var node_r8 = restoredCtx.$implicit;\n      var ctx_r13 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r13.onDragStart(node_r8, $event));\n    })(\"click\", function ForceDirectedGraphComponent__svg_g_5_Template__svg_g_click_0_listener() {\n      var restoredCtx = ɵngcc0.ɵɵrestoreView(_r14);\n      var node_r8 = restoredCtx.$implicit;\n      var ctx_r15 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r15.onClick({\n        name: node_r8.value\n      }));\n    });\n    ɵngcc0.ɵɵtemplate(1, ForceDirectedGraphComponent__svg_g_5_1_Template, 1, 4, null, 6);\n    ɵngcc0.ɵɵtemplate(2, ForceDirectedGraphComponent__svg_g_5__svg_circle_2_Template, 1, 0, \"circle\", 11);\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var node_r8 = ctx.$implicit;\n    var ctx_r1 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"tooltipDisabled\", ctx_r1.tooltipDisabled)(\"tooltipPlacement\", \"top\")(\"tooltipType\", \"tooltip\")(\"tooltipTitle\", ctx_r1.tooltipTemplate ? undefined : ctx_r1.escape(node_r8.value))(\"tooltipTemplate\", ctx_r1.tooltipTemplate)(\"tooltipContext\", node_r8);\n    ɵngcc0.ɵɵattribute(\"transform\", \"translate(\" + node_r8.x + \",\" + node_r8.y + \")\")(\"fill\", ctx_r1.colors.getColor(ctx_r1.groupResultsBy(node_r8)))(\"stroke\", ctx_r1.colors.getColor(ctx_r1.groupResultsBy(node_r8)));\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r1.nodeTemplate);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", !ctx_r1.nodeTemplate);\n  }\n}\nvar _c34 = [\"ngx-charts-heat-map-cell\", \"\"];\nfunction HeatMapCellComponent__svg_defs_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"defs\");\n    ɵngcc0.ɵɵelement(1, \"g\", 3);\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"name\", ctx_r0.gradientId)(\"stops\", ctx_r0.gradientStops);\n  }\n}\nvar _c35 = [\"ngx-charts-heat-map-cell-series\", \"\"];\nvar _c36 = function (a0, a1, a2) {\n  return {\n    series: a0,\n    name: a1,\n    value: a2\n  };\n};\nfunction HeatCellSeriesComponent__svg_g_0_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r3 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\", 1);\n    ɵngcc0.ɵɵlistener(\"select\", function HeatCellSeriesComponent__svg_g_0_Template__svg_g_select_0_listener() {\n      var restoredCtx = ɵngcc0.ɵɵrestoreView(_r3);\n      var c_r1 = restoredCtx.$implicit;\n      var ctx_r2 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r2.onClick(c_r1.cell));\n    })(\"activate\", function HeatCellSeriesComponent__svg_g_0_Template__svg_g_activate_0_listener() {\n      var restoredCtx = ɵngcc0.ɵɵrestoreView(_r3);\n      var c_r1 = restoredCtx.$implicit;\n      var ctx_r4 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r4.activate.emit(c_r1.cell));\n    })(\"deactivate\", function HeatCellSeriesComponent__svg_g_0_Template__svg_g_deactivate_0_listener() {\n      var restoredCtx = ɵngcc0.ɵɵrestoreView(_r3);\n      var c_r1 = restoredCtx.$implicit;\n      var ctx_r5 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r5.deactivate.emit(c_r1.cell));\n    });\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var c_r1 = ctx.$implicit;\n    var ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"x\", c_r1.x)(\"y\", c_r1.y)(\"width\", c_r1.width)(\"height\", c_r1.height)(\"fill\", c_r1.fill)(\"data\", c_r1.data)(\"gradient\", ctx_r0.gradient)(\"animations\", ctx_r0.animations)(\"tooltipDisabled\", ctx_r0.tooltipDisabled)(\"tooltipPlacement\", \"top\")(\"tooltipType\", \"tooltip\")(\"tooltipTitle\", ctx_r0.tooltipTemplate ? undefined : ctx_r0.tooltipText(c_r1))(\"tooltipTemplate\", ctx_r0.tooltipTemplate)(\"tooltipContext\", ɵngcc0.ɵɵpureFunction3(14, _c36, c_r1.series, c_r1.label, c_r1.data));\n  }\n}\nfunction HeatMapComponent__svg_g_2_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r4 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\", 6);\n    ɵngcc0.ɵɵlistener(\"dimensionsChanged\", function HeatMapComponent__svg_g_2_Template__svg_g_dimensionsChanged_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r4);\n      var ctx_r3 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r3.updateXAxisHeight($event));\n    });\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"xScale\", ctx_r0.xScale)(\"dims\", ctx_r0.dims)(\"showLabel\", ctx_r0.showXAxisLabel)(\"labelText\", ctx_r0.xAxisLabel)(\"trimTicks\", ctx_r0.trimXAxisTicks)(\"rotateTicks\", ctx_r0.rotateXAxisTicks)(\"maxTickLength\", ctx_r0.maxXAxisTickLength)(\"tickFormatting\", ctx_r0.xAxisTickFormatting)(\"ticks\", ctx_r0.xAxisTicks);\n  }\n}\nfunction HeatMapComponent__svg_g_3_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r6 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\", 7);\n    ɵngcc0.ɵɵlistener(\"dimensionsChanged\", function HeatMapComponent__svg_g_3_Template__svg_g_dimensionsChanged_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r6);\n      var ctx_r5 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r5.updateYAxisWidth($event));\n    });\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var ctx_r1 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"yScale\", ctx_r1.yScale)(\"dims\", ctx_r1.dims)(\"showLabel\", ctx_r1.showYAxisLabel)(\"labelText\", ctx_r1.yAxisLabel)(\"trimTicks\", ctx_r1.trimYAxisTicks)(\"maxTickLength\", ctx_r1.maxYAxisTickLength)(\"tickFormatting\", ctx_r1.yAxisTickFormatting)(\"ticks\", ctx_r1.yAxisTicks);\n  }\n}\nfunction HeatMapComponent__svg_rect_4_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelement(0, \"rect\");\n  }\n  if (rf & 2) {\n    var rect_r7 = ctx.$implicit;\n    ɵngcc0.ɵɵattribute(\"x\", rect_r7.x)(\"y\", rect_r7.y)(\"rx\", rect_r7.rx)(\"width\", rect_r7.width)(\"height\", rect_r7.height)(\"fill\", rect_r7.fill);\n  }\n}\nvar _c37 = [\"ngx-charts-line\", \"\"];\nfunction LineChartComponent__svg_g_5_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r6 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\", 7);\n    ɵngcc0.ɵɵlistener(\"dimensionsChanged\", function LineChartComponent__svg_g_5_Template__svg_g_dimensionsChanged_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r6);\n      var ctx_r5 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r5.updateXAxisHeight($event));\n    });\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"xScale\", ctx_r0.xScale)(\"dims\", ctx_r0.dims)(\"showGridLines\", ctx_r0.showGridLines)(\"showLabel\", ctx_r0.showXAxisLabel)(\"labelText\", ctx_r0.xAxisLabel)(\"trimTicks\", ctx_r0.trimXAxisTicks)(\"rotateTicks\", ctx_r0.rotateXAxisTicks)(\"maxTickLength\", ctx_r0.maxXAxisTickLength)(\"tickFormatting\", ctx_r0.xAxisTickFormatting)(\"ticks\", ctx_r0.xAxisTicks);\n  }\n}\nfunction LineChartComponent__svg_g_6_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r8 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\", 8);\n    ɵngcc0.ɵɵlistener(\"dimensionsChanged\", function LineChartComponent__svg_g_6_Template__svg_g_dimensionsChanged_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r8);\n      var ctx_r7 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r7.updateYAxisWidth($event));\n    });\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var ctx_r1 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"yScale\", ctx_r1.yScale)(\"dims\", ctx_r1.dims)(\"showGridLines\", ctx_r1.showGridLines)(\"showLabel\", ctx_r1.showYAxisLabel)(\"labelText\", ctx_r1.yAxisLabel)(\"trimTicks\", ctx_r1.trimYAxisTicks)(\"maxTickLength\", ctx_r1.maxYAxisTickLength)(\"tickFormatting\", ctx_r1.yAxisTickFormatting)(\"ticks\", ctx_r1.yAxisTicks)(\"referenceLines\", ctx_r1.referenceLines)(\"showRefLines\", ctx_r1.showRefLines)(\"showRefLabels\", ctx_r1.showRefLabels);\n  }\n}\nfunction LineChartComponent__svg_g_8_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\");\n    ɵngcc0.ɵɵelement(1, \"g\", 9);\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var series_r9 = ctx.$implicit;\n    var ctx_r2 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"@animationState\", \"active\");\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"xScale\", ctx_r2.xScale)(\"yScale\", ctx_r2.yScale)(\"colors\", ctx_r2.colors)(\"data\", series_r9)(\"activeEntries\", ctx_r2.activeEntries)(\"scaleType\", ctx_r2.scaleType)(\"curve\", ctx_r2.curve)(\"rangeFillOpacity\", ctx_r2.rangeFillOpacity)(\"hasRange\", ctx_r2.hasRange)(\"animations\", ctx_r2.animations);\n  }\n}\nfunction LineChartComponent__svg_g_9__svg_g_2_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r13 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\")(1, \"g\", 13);\n    ɵngcc0.ɵɵlistener(\"select\", function LineChartComponent__svg_g_9__svg_g_2_Template__svg_g_select_1_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r13);\n      var ctx_r12 = ɵngcc0.ɵɵnextContext(2);\n      return ɵngcc0.ɵɵresetView(ctx_r12.onClick($event));\n    })(\"activate\", function LineChartComponent__svg_g_9__svg_g_2_Template__svg_g_activate_1_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r13);\n      var ctx_r14 = ɵngcc0.ɵɵnextContext(2);\n      return ɵngcc0.ɵɵresetView(ctx_r14.onActivate($event));\n    })(\"deactivate\", function LineChartComponent__svg_g_9__svg_g_2_Template__svg_g_deactivate_1_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r13);\n      var ctx_r15 = ɵngcc0.ɵɵnextContext(2);\n      return ɵngcc0.ɵɵresetView(ctx_r15.onDeactivate($event));\n    });\n    ɵngcc0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    var series_r11 = ctx.$implicit;\n    var ctx_r10 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"xScale\", ctx_r10.xScale)(\"yScale\", ctx_r10.yScale)(\"colors\", ctx_r10.colors)(\"data\", series_r11)(\"scaleType\", ctx_r10.scaleType)(\"visibleValue\", ctx_r10.hoveredVertical)(\"activeEntries\", ctx_r10.activeEntries)(\"tooltipDisabled\", ctx_r10.tooltipDisabled)(\"tooltipTemplate\", ctx_r10.tooltipTemplate);\n  }\n}\nfunction LineChartComponent__svg_g_9_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r17 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\", 10);\n    ɵngcc0.ɵɵlistener(\"mouseleave\", function LineChartComponent__svg_g_9_Template__svg_g_mouseleave_0_listener() {\n      ɵngcc0.ɵɵrestoreView(_r17);\n      var ctx_r16 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r16.hideCircles());\n    });\n    ɵngcc0.ɵɵelementStart(1, \"g\", 11);\n    ɵngcc0.ɵɵlistener(\"hover\", function LineChartComponent__svg_g_9_Template__svg_g_hover_1_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r17);\n      var ctx_r18 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r18.updateHoveredVertical($event));\n    });\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵtemplate(2, LineChartComponent__svg_g_9__svg_g_2_Template, 2, 9, \"g\", 12);\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var ctx_r3 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"dims\", ctx_r3.dims)(\"xSet\", ctx_r3.xSet)(\"xScale\", ctx_r3.xScale)(\"yScale\", ctx_r3.yScale)(\"results\", ctx_r3.results)(\"colors\", ctx_r3.colors)(\"tooltipDisabled\", ctx_r3.tooltipDisabled)(\"tooltipTemplate\", ctx_r3.seriesTooltipTemplate);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngForOf\", ctx_r3.results);\n  }\n}\nfunction LineChartComponent__svg_g_10__svg_g_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\");\n    ɵngcc0.ɵɵelement(1, \"g\", 15);\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var series_r20 = ctx.$implicit;\n    var ctx_r19 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"xScale\", ctx_r19.timelineXScale)(\"yScale\", ctx_r19.timelineYScale)(\"colors\", ctx_r19.colors)(\"data\", series_r20)(\"scaleType\", ctx_r19.scaleType)(\"curve\", ctx_r19.curve)(\"hasRange\", ctx_r19.hasRange)(\"animations\", ctx_r19.animations);\n  }\n}\nfunction LineChartComponent__svg_g_10_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r22 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\", 14);\n    ɵngcc0.ɵɵlistener(\"onDomainChange\", function LineChartComponent__svg_g_10_Template__svg_g_onDomainChange_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r22);\n      var ctx_r21 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r21.updateDomain($event));\n    });\n    ɵngcc0.ɵɵtemplate(1, LineChartComponent__svg_g_10__svg_g_1_Template, 2, 8, \"g\", 4);\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var ctx_r4 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"results\", ctx_r4.results)(\"view\", ɵngcc0.ɵɵpureFunction2(10, _c23, ctx_r4.timelineWidth, ctx_r4.height))(\"height\", ctx_r4.timelineHeight)(\"scheme\", ctx_r4.scheme)(\"customColors\", ctx_r4.customColors)(\"scaleType\", ctx_r4.scaleType)(\"legend\", ctx_r4.legend);\n    ɵngcc0.ɵɵattribute(\"transform\", ctx_r4.timelineTransform);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngForOf\", ctx_r4.results)(\"ngForTrackBy\", ctx_r4.trackBy);\n  }\n}\nvar _c38 = [\"ngx-charts-line-series\", \"\"];\nfunction LineSeriesComponent__svg_g_2_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelement(0, \"g\", 4);\n  }\n  if (rf & 2) {\n    var ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"name\", ctx_r0.gradientId)(\"stops\", ctx_r0.gradientStops);\n  }\n}\nfunction LineSeriesComponent__svg_g_5_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelement(0, \"g\", 5);\n  }\n  if (rf & 2) {\n    var ctx_r1 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵclassProp(\"active\", ctx_r1.isActive(ctx_r1.data))(\"inactive\", ctx_r1.isInactive(ctx_r1.data));\n    ɵngcc0.ɵɵproperty(\"data\", ctx_r1.data)(\"path\", ctx_r1.outerPath)(\"fill\", ctx_r1.hasGradient ? ctx_r1.gradientUrl : ctx_r1.colors.getColor(ctx_r1.data.name))(\"opacity\", ctx_r1.rangeFillOpacity)(\"animations\", ctx_r1.animations);\n  }\n}\nfunction PolarChartComponent__svg_g_4__svg_circle_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelement(0, \"circle\", 8);\n  }\n  if (rf & 2) {\n    var r_r6 = ctx.$implicit;\n    ɵngcc0.ɵɵattribute(\"r\", r_r6);\n  }\n}\nfunction PolarChartComponent__svg_g_4_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\");\n    ɵngcc0.ɵɵtemplate(1, PolarChartComponent__svg_g_4__svg_circle_1_Template, 1, 1, \"circle\", 7);\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngForOf\", ctx_r0.radiusTicks);\n  }\n}\nfunction PolarChartComponent__svg_g_5__svg_g_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelement(0, \"g\", 10);\n  }\n  if (rf & 2) {\n    var tick_r8 = ctx.$implicit;\n    var ctx_r7 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵproperty(\"data\", tick_r8)(\"radius\", ctx_r7.outerRadius)(\"label\", tick_r8.label)(\"max\", ctx_r7.outerRadius)(\"value\", ctx_r7.showGridLines ? 1 : ctx_r7.outerRadius)(\"explodeSlices\", true)(\"animations\", ctx_r7.animations)(\"labelTrim\", ctx_r7.labelTrim)(\"labelTrimSize\", ctx_r7.labelTrimSize);\n  }\n}\nfunction PolarChartComponent__svg_g_5_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\");\n    ɵngcc0.ɵɵtemplate(1, PolarChartComponent__svg_g_5__svg_g_1_Template, 1, 9, \"g\", 9);\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var ctx_r1 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngForOf\", ctx_r1.thetaTicks);\n  }\n}\nfunction PolarChartComponent__svg_g_6_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r10 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\", 11);\n    ɵngcc0.ɵɵlistener(\"dimensionsChanged\", function PolarChartComponent__svg_g_6_Template__svg_g_dimensionsChanged_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r10);\n      var ctx_r9 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r9.updateYAxisWidth($event));\n    });\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var ctx_r2 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"yScale\", ctx_r2.yAxisScale)(\"dims\", ctx_r2.yAxisDims)(\"showGridLines\", ctx_r2.showGridLines)(\"showLabel\", ctx_r2.showYAxisLabel)(\"labelText\", ctx_r2.yAxisLabel)(\"trimTicks\", ctx_r2.trimYAxisTicks)(\"maxTickLength\", ctx_r2.maxYAxisTickLength)(\"tickFormatting\", ctx_r2.yAxisTickFormatting);\n    ɵngcc0.ɵɵattribute(\"transform\", ctx_r2.transformYAxis);\n  }\n}\nfunction PolarChartComponent__svg_g_7_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelement(0, \"g\", 12);\n  }\n  if (rf & 2) {\n    var ctx_r3 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"label\", ctx_r3.xAxisLabel)(\"offset\", ctx_r3.labelOffset)(\"orient\", \"bottom\")(\"height\", ctx_r3.dims.height)(\"width\", ctx_r3.dims.width);\n  }\n}\nfunction PolarChartComponent__svg_g_9_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r13 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\")(1, \"g\", 13);\n    ɵngcc0.ɵɵlistener(\"select\", function PolarChartComponent__svg_g_9_Template__svg_g_select_1_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r13);\n      var ctx_r12 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r12.onClick($event));\n    })(\"activate\", function PolarChartComponent__svg_g_9_Template__svg_g_activate_1_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r13);\n      var ctx_r14 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r14.onActivate($event));\n    })(\"deactivate\", function PolarChartComponent__svg_g_9_Template__svg_g_deactivate_1_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r13);\n      var ctx_r15 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r15.onDeactivate($event));\n    });\n    ɵngcc0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    var series_r11 = ctx.$implicit;\n    var ctx_r4 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"@animationState\", \"active\");\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"gradient\", ctx_r4.gradient)(\"xScale\", ctx_r4.xScale)(\"yScale\", ctx_r4.yScale)(\"colors\", ctx_r4.colors)(\"data\", series_r11)(\"activeEntries\", ctx_r4.activeEntries)(\"scaleType\", ctx_r4.scaleType)(\"curve\", ctx_r4.curve)(\"rangeFillOpacity\", ctx_r4.rangeFillOpacity)(\"animations\", ctx_r4.animations)(\"tooltipDisabled\", ctx_r4.tooltipDisabled)(\"tooltipTemplate\", ctx_r4.tooltipTemplate);\n  }\n}\nvar _c39 = [\"ngx-charts-polar-series\", \"\"];\nfunction PolarSeriesComponent__svg_g_2_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelement(0, \"g\", 4);\n  }\n  if (rf & 2) {\n    var ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"color\", ctx_r0.seriesColor)(\"name\", ctx_r0.gradientId)(\"startOpacity\", 0.25)(\"endOpacity\", 1)(\"stops\", ctx_r0.gradientStops);\n  }\n}\nfunction PolarSeriesComponent__svg_g_4_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r4 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\", 5);\n    ɵngcc0.ɵɵlistener(\"select\", function PolarSeriesComponent__svg_g_4_Template__svg_g_select_0_listener() {\n      var restoredCtx = ɵngcc0.ɵɵrestoreView(_r4);\n      var circle_r2 = restoredCtx.$implicit;\n      var ctx_r3 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r3.select.emit(circle_r2.data));\n    })(\"activate\", function PolarSeriesComponent__svg_g_4_Template__svg_g_activate_0_listener() {\n      var restoredCtx = ɵngcc0.ɵɵrestoreView(_r4);\n      var circle_r2 = restoredCtx.$implicit;\n      var ctx_r5 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r5.activate.emit({\n        name: circle_r2.data.series\n      }));\n    })(\"deactivate\", function PolarSeriesComponent__svg_g_4_Template__svg_g_deactivate_0_listener() {\n      var restoredCtx = ɵngcc0.ɵɵrestoreView(_r4);\n      var circle_r2 = restoredCtx.$implicit;\n      var ctx_r6 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r6.deactivate.emit({\n        name: circle_r2.data.series\n      }));\n    });\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var circle_r2 = ctx.$implicit;\n    var ctx_r1 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵstyleProp(\"opacity\", ctx_r1.inactive ? 0.2 : 1);\n    ɵngcc0.ɵɵproperty(\"cx\", circle_r2.cx)(\"cy\", circle_r2.cy)(\"r\", ctx_r1.circleRadius)(\"fill\", circle_r2.color)(\"tooltipDisabled\", ctx_r1.tooltipDisabled)(\"tooltipPlacement\", \"top\")(\"tooltipTitle\", ctx_r1.tooltipTemplate ? undefined : ctx_r1.tooltipText(circle_r2))(\"tooltipTemplate\", ctx_r1.tooltipTemplate)(\"tooltipContext\", circle_r2.data);\n  }\n}\nvar _c40 = [\"ngx-charts-pie-label\", \"\"];\nvar _c41 = [\"ngx-charts-pie-arc\", \"\"];\nfunction PieArcComponent__svg_defs_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"defs\");\n    ɵngcc0.ɵɵelement(1, \"g\", 3);\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"color\", ctx_r0.fill)(\"name\", ctx_r0.radialGradientId)(\"startOpacity\", ctx_r0.startOpacity);\n  }\n}\nvar _c42 = \".pie-label{font-size:11px}.pie-label.animation{animation:750ms ease-in fadeIn}@keyframes fadeIn{from{opacity:0}to{opacity:1}}.pie-label-line{stroke-dasharray:100%}.pie-label-line.animation{animation:3s linear drawOut;transition:d 750ms}@keyframes drawOut{from{stroke-dashoffset:100%}to{stroke-dashoffset:0}}\";\nfunction PieGridComponent__svg_g_2__svg_text_2_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelement(0, \"text\", 10);\n  }\n  if (rf & 2) {\n    var series_r1 = ɵngcc0.ɵɵnextContext().$implicit;\n    ɵngcc0.ɵɵproperty(\"countTo\", series_r1.percent)(\"countSuffix\", \"%\");\n  }\n}\nfunction PieGridComponent__svg_g_2__svg_text_3_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"text\", 11);\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var series_r1 = ɵngcc0.ɵɵnextContext().$implicit;\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate1(\" \", series_r1.percent.toLocaleString(), \" \");\n  }\n}\nfunction PieGridComponent__svg_g_2__svg_text_6_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelement(0, \"text\", 12);\n  }\n  if (rf & 2) {\n    var series_r1 = ɵngcc0.ɵɵnextContext().$implicit;\n    var ctx_r4 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"countTo\", series_r1.total)(\"countPrefix\", ctx_r4.label + \": \");\n    ɵngcc0.ɵɵattribute(\"y\", series_r1.outerRadius);\n  }\n}\nfunction PieGridComponent__svg_g_2__svg_text_7_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"text\", 13);\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var series_r1 = ɵngcc0.ɵɵnextContext().$implicit;\n    var ctx_r5 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵattribute(\"y\", series_r1.outerRadius);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate2(\" \", ctx_r5.label, \": \", series_r1.total.toLocaleString(), \" \");\n  }\n}\nvar _c43 = function (a0) {\n  return {\n    data: a0\n  };\n};\nfunction PieGridComponent__svg_g_2_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r11 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\", 3)(1, \"g\", 4);\n    ɵngcc0.ɵɵlistener(\"select\", function PieGridComponent__svg_g_2_Template__svg_g_select_1_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r11);\n      var ctx_r10 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r10.onClick($event));\n    })(\"activate\", function PieGridComponent__svg_g_2_Template__svg_g_activate_1_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r11);\n      var ctx_r12 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r12.onActivate($event));\n    })(\"deactivate\", function PieGridComponent__svg_g_2_Template__svg_g_deactivate_1_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r11);\n      var ctx_r13 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r13.onDeactivate($event));\n    });\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵtemplate(2, PieGridComponent__svg_g_2__svg_text_2_Template, 1, 2, \"text\", 5);\n    ɵngcc0.ɵɵtemplate(3, PieGridComponent__svg_g_2__svg_text_3_Template, 2, 1, \"text\", 6);\n    ɵngcc0.ɵɵelementStart(4, \"text\", 7);\n    ɵngcc0.ɵɵtext(5);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵtemplate(6, PieGridComponent__svg_g_2__svg_text_6_Template, 1, 3, \"text\", 8);\n    ɵngcc0.ɵɵtemplate(7, PieGridComponent__svg_g_2__svg_text_7_Template, 2, 3, \"text\", 9);\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var series_r1 = ctx.$implicit;\n    var ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵattribute(\"transform\", series_r1.transform);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"colors\", series_r1.colors)(\"data\", series_r1.data)(\"innerRadius\", series_r1.innerRadius)(\"outerRadius\", series_r1.outerRadius)(\"animations\", ctx_r0.animations)(\"tooltipDisabled\", ctx_r0.tooltipDisabled)(\"tooltipPlacement\", \"top\")(\"tooltipType\", \"tooltip\")(\"tooltipTitle\", ctx_r0.tooltipTemplate ? undefined : ctx_r0.tooltipText(ɵngcc0.ɵɵpureFunction1(17, _c43, series_r1)))(\"tooltipTemplate\", ctx_r0.tooltipTemplate)(\"tooltipContext\", series_r1.data[0].data);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r0.animations);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", !ctx_r0.animations);\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵtextInterpolate1(\" \", series_r1.label, \" \");\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r0.animations);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", !ctx_r0.animations);\n  }\n}\nvar _c44 = [\"ngx-charts-pie-grid-series\", \"\"];\nfunction PieGridSeriesComponent__svg_g_1_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r3 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\", 2);\n    ɵngcc0.ɵɵlistener(\"select\", function PieGridSeriesComponent__svg_g_1_Template__svg_g_select_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r3);\n      var ctx_r2 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r2.onClick($event));\n    })(\"activate\", function PieGridSeriesComponent__svg_g_1_Template__svg_g_activate_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r3);\n      var ctx_r4 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r4.activate.emit($event));\n    })(\"deactivate\", function PieGridSeriesComponent__svg_g_1_Template__svg_g_deactivate_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r3);\n      var ctx_r5 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r5.deactivate.emit($event));\n    });\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var arc_r1 = ctx.$implicit;\n    var ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"startAngle\", arc_r1.startAngle)(\"endAngle\", arc_r1.endAngle)(\"innerRadius\", ctx_r0.innerRadius)(\"outerRadius\", ctx_r0.outerRadius)(\"fill\", ctx_r0.color(arc_r1))(\"value\", arc_r1.data.value)(\"data\", arc_r1.data)(\"gradient\", false)(\"pointerEvents\", arc_r1.pointerEvents)(\"animate\", arc_r1.animate);\n    ɵngcc0.ɵɵattribute(\"class\", arc_r1.class);\n  }\n}\nvar _c45 = [\"ngx-charts-pie-series\", \"\"];\nfunction PieSeriesComponent__svg_g_0__svg_g_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelement(0, \"g\", 3);\n  }\n  if (rf & 2) {\n    var arc_r1 = ɵngcc0.ɵɵnextContext().$implicit;\n    var ctx_r2 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"data\", arc_r1)(\"radius\", ctx_r2.outerRadius)(\"color\", ctx_r2.color(arc_r1))(\"label\", ctx_r2.labelText(arc_r1))(\"labelTrim\", ctx_r2.trimLabels)(\"labelTrimSize\", ctx_r2.maxLabelLength)(\"max\", ctx_r2.max)(\"value\", arc_r1.value)(\"explodeSlices\", ctx_r2.explodeSlices)(\"animations\", ctx_r2.animations);\n  }\n}\nfunction PieSeriesComponent__svg_g_0_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r5 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\");\n    ɵngcc0.ɵɵtemplate(1, PieSeriesComponent__svg_g_0__svg_g_1_Template, 1, 10, \"g\", 1);\n    ɵngcc0.ɵɵelementStart(2, \"g\", 2);\n    ɵngcc0.ɵɵlistener(\"select\", function PieSeriesComponent__svg_g_0_Template__svg_g_select_2_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r5);\n      var ctx_r4 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r4.onClick($event));\n    })(\"activate\", function PieSeriesComponent__svg_g_0_Template__svg_g_activate_2_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r5);\n      var ctx_r6 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r6.activate.emit($event));\n    })(\"deactivate\", function PieSeriesComponent__svg_g_0_Template__svg_g_deactivate_2_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r5);\n      var ctx_r7 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r7.deactivate.emit($event));\n    })(\"dblclick\", function PieSeriesComponent__svg_g_0_Template__svg_g_dblclick_2_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r5);\n      var ctx_r8 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r8.dblclick.emit($event));\n    });\n    ɵngcc0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    var arc_r1 = ctx.$implicit;\n    var ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r0.labelVisible(arc_r1));\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"startAngle\", arc_r1.startAngle)(\"endAngle\", arc_r1.endAngle)(\"innerRadius\", ctx_r0.innerRadius)(\"outerRadius\", ctx_r0.outerRadius)(\"fill\", ctx_r0.color(arc_r1))(\"value\", arc_r1.data.value)(\"gradient\", ctx_r0.gradient)(\"data\", arc_r1.data)(\"max\", ctx_r0.max)(\"explodeSlices\", ctx_r0.explodeSlices)(\"isActive\", ctx_r0.isActive(arc_r1.data))(\"animate\", ctx_r0.animations)(\"tooltipDisabled\", ctx_r0.tooltipDisabled)(\"tooltipPlacement\", \"top\")(\"tooltipType\", \"tooltip\")(\"tooltipTitle\", ctx_r0.getTooltipTitle(arc_r1))(\"tooltipTemplate\", ctx_r0.tooltipTemplate)(\"tooltipContext\", arc_r1.data);\n  }\n}\nvar _c46 = [\"textEl\"];\nvar _c47 = [\"ngx-charts-card\", \"\"];\nfunction CardComponent__svg_path_2_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelement(0, \"path\", 7);\n  }\n  if (rf & 2) {\n    var ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵattribute(\"fill\", ctx_r0.bandColor)(\"transform\", ctx_r0.transformBand)(\"d\", ctx_r0.bandPath);\n  }\n}\nvar _c48 = [\"ngx-charts-card-series\", \"\"];\nfunction CardSeriesComponent__svg_rect_0_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelement(0, \"rect\", 2);\n  }\n  if (rf & 2) {\n    var c_r2 = ctx.$implicit;\n    var ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵstyleProp(\"fill\", ctx_r0.emptyColor);\n    ɵngcc0.ɵɵattribute(\"x\", c_r2.x)(\"y\", c_r2.y)(\"width\", c_r2.width)(\"height\", c_r2.height);\n  }\n}\nfunction CardSeriesComponent__svg_g_1_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r5 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\", 3);\n    ɵngcc0.ɵɵlistener(\"select\", function CardSeriesComponent__svg_g_1_Template__svg_g_select_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r5);\n      var ctx_r4 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r4.onClick($event));\n    });\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var c_r3 = ctx.$implicit;\n    var ctx_r1 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"x\", c_r3.x)(\"y\", c_r3.y)(\"width\", c_r3.width)(\"height\", c_r3.height)(\"color\", c_r3.color)(\"bandColor\", c_r3.bandColor)(\"textColor\", c_r3.textColor)(\"data\", c_r3.data)(\"label\", c_r3.label)(\"medianSize\", ctx_r1.medianSize)(\"valueFormatting\", ctx_r1.valueFormatting)(\"labelFormatting\", ctx_r1.labelFormatting)(\"animations\", ctx_r1.animations);\n  }\n}\nvar _c49 = [\"ngx-charts-tree-map-cell\", \"\"];\nfunction TreeMapCellComponent__svg_defs_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"defs\");\n    ɵngcc0.ɵɵelement(1, \"g\", 3);\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"name\", ctx_r0.gradientId)(\"stops\", ctx_r0.gradientStops);\n  }\n}\nfunction TreeMapCellComponent__svg_foreignObject_3__xhtml_span_4_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelement(0, \"span\", 8);\n  }\n  if (rf & 2) {\n    var ctx_r2 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵproperty(\"countTo\", ctx_r2.value)(\"valueFormatting\", ctx_r2.valueFormatting);\n  }\n}\nfunction TreeMapCellComponent__svg_foreignObject_3__xhtml_span_5_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"span\", 9);\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var ctx_r3 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate1(\" \", ctx_r3.formattedValue, \" \");\n  }\n}\nfunction TreeMapCellComponent__svg_foreignObject_3_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"foreignObject\", 4);\n    ɵngcc0.ɵɵnamespaceHTML();\n    ɵngcc0.ɵɵelementStart(1, \"p\");\n    ɵngcc0.ɵɵelement(2, \"span\", 5)(3, \"br\");\n    ɵngcc0.ɵɵtemplate(4, TreeMapCellComponent__svg_foreignObject_3__xhtml_span_4_Template, 1, 2, \"span\", 6);\n    ɵngcc0.ɵɵtemplate(5, TreeMapCellComponent__svg_foreignObject_3__xhtml_span_5_Template, 2, 1, \"span\", 7);\n    ɵngcc0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    var ctx_r1 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵstyleProp(\"pointer-events\", \"none\");\n    ɵngcc0.ɵɵattribute(\"x\", ctx_r1.x)(\"y\", ctx_r1.y)(\"width\", ctx_r1.width)(\"height\", ctx_r1.height);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵstyleProp(\"color\", ctx_r1.getTextColor())(\"height\", ctx_r1.height + \"px\")(\"width\", ctx_r1.width + \"px\");\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"innerHTML\", ctx_r1.formattedLabel, ɵngcc0.ɵɵsanitizeHtml);\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r1.animations);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", !ctx_r1.animations);\n  }\n}\nvar _c50 = [\"ngx-charts-tree-map-cell-series\", \"\"];\nfunction TreeMapCellSeriesComponent__svg_g_0_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r3 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\", 1);\n    ɵngcc0.ɵɵlistener(\"select\", function TreeMapCellSeriesComponent__svg_g_0_Template__svg_g_select_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r3);\n      var ctx_r2 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r2.onClick($event));\n    });\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var c_r1 = ctx.$implicit;\n    var ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"data\", c_r1.data)(\"x\", c_r1.x)(\"y\", c_r1.y)(\"width\", c_r1.width)(\"height\", c_r1.height)(\"fill\", c_r1.fill)(\"label\", c_r1.label)(\"value\", c_r1.value)(\"valueType\", c_r1.valueType)(\"valueFormatting\", ctx_r0.valueFormatting)(\"labelFormatting\", ctx_r0.labelFormatting)(\"gradient\", ctx_r0.gradient)(\"animations\", ctx_r0.animations)(\"tooltipDisabled\", ctx_r0.tooltipDisabled)(\"tooltipPlacement\", \"top\")(\"tooltipType\", \"tooltip\")(\"tooltipTitle\", ctx_r0.tooltipTemplate ? undefined : ctx_r0.getTooltipText(c_r1))(\"tooltipTemplate\", ctx_r0.tooltipTemplate)(\"tooltipContext\", c_r1.data);\n  }\n}\nvar _c51 = [\"valueTextEl\"];\nvar _c52 = [\"unitsTextEl\"];\nfunction LinearGaugeComponent__svg_line_4_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelement(0, \"line\", 10);\n  }\n  if (rf & 2) {\n    var ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵattribute(\"transform\", ctx_r0.transformLine)(\"stroke\", ctx_r0.colors.getColor(ctx_r0.units));\n  }\n}\nfunction LinearGaugeComponent__svg_line_5_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelement(0, \"line\", 11);\n  }\n  if (rf & 2) {\n    var ctx_r1 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵattribute(\"transform\", ctx_r1.transformLine)(\"stroke\", ctx_r1.colors.getColor(ctx_r1.units));\n  }\n}\nvar _c53 = function () {\n  return {};\n};\nfunction GaugeComponent__svg_g_2_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r5 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\")(1, \"g\", 5);\n    ɵngcc0.ɵɵlistener(\"select\", function GaugeComponent__svg_g_2_Template__svg_g_select_1_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r5);\n      var ctx_r4 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r4.onClick($event));\n    })(\"activate\", function GaugeComponent__svg_g_2_Template__svg_g_activate_1_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r5);\n      var ctx_r6 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r6.onActivate($event));\n    })(\"deactivate\", function GaugeComponent__svg_g_2_Template__svg_g_deactivate_1_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r5);\n      var ctx_r7 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r7.onDeactivate($event));\n    });\n    ɵngcc0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    var arc_r3 = ctx.$implicit;\n    var ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵattribute(\"transform\", ctx_r0.rotation);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"backgroundArc\", arc_r3.backgroundArc)(\"valueArc\", arc_r3.valueArc)(\"cornerRadius\", ctx_r0.cornerRadius)(\"colors\", ctx_r0.colors)(\"isActive\", ctx_r0.isActive(arc_r3.valueArc.data))(\"tooltipDisabled\", ctx_r0.tooltipDisabled)(\"tooltipTemplate\", ctx_r0.tooltipTemplate)(\"valueFormatting\", ctx_r0.valueFormatting)(\"animations\", ctx_r0.animations);\n  }\n}\nfunction GaugeComponent__svg_g_3_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelement(0, \"g\", 6);\n  }\n  if (rf & 2) {\n    var ctx_r1 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"bigSegments\", ctx_r1.bigSegments)(\"smallSegments\", ctx_r1.smallSegments)(\"min\", ctx_r1.min)(\"max\", ctx_r1.max)(\"radius\", ctx_r1.outerRadius)(\"angleSpan\", ctx_r1.angleSpan)(\"valueScale\", ctx_r1.valueScale)(\"startAngle\", ctx_r1.startAngle)(\"tickFormatting\", ctx_r1.axisTickFormatting);\n  }\n}\nfunction GaugeComponent__svg_text_4_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"text\", 7, 8)(2, \"tspan\", 9);\n    ɵngcc0.ɵɵtext(3);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(4, \"tspan\", 10);\n    ɵngcc0.ɵɵtext(5);\n    ɵngcc0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    var ctx_r2 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵstyleProp(\"text-anchor\", \"middle\");\n    ɵngcc0.ɵɵattribute(\"transform\", ctx_r2.textTransform);\n    ɵngcc0.ɵɵadvance(3);\n    ɵngcc0.ɵɵtextInterpolate(ctx_r2.displayValue);\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵtextInterpolate(ctx_r2.units);\n  }\n}\nvar _c54 = [\"ngx-charts-gauge-arc\", \"\"];\nvar _c55 = [\"ngx-charts-gauge-axis\", \"\"];\nfunction GaugeAxisComponent__svg_g_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\", 2);\n    ɵngcc0.ɵɵelement(1, \"path\");\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var tick_r3 = ctx.$implicit;\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵattribute(\"d\", tick_r3.line);\n  }\n}\nfunction GaugeAxisComponent__svg_g_2_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\", 2)(1, \"text\", 3);\n    ɵngcc0.ɵɵtext(2);\n    ɵngcc0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    var tick_r4 = ctx.$implicit;\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵstyleProp(\"text-anchor\", tick_r4.textAnchor);\n    ɵngcc0.ɵɵattribute(\"transform\", tick_r4.textTransform);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate1(\" \", tick_r4.text, \" \");\n  }\n}\nfunction GaugeAxisComponent__svg_g_3_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"g\", 4);\n    ɵngcc0.ɵɵelement(1, \"path\");\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var tick_r5 = ctx.$implicit;\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵattribute(\"d\", tick_r5.line);\n  }\n}\nvar extendStatics = function (d, b) {\n  extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n  };\n  return extendStatics(d, b);\n};\nfunction __extends(d, b) {\n  extendStatics(d, b);\n  function __() {\n    this.constructor = d;\n  }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\nvar __assign = function () {\n  __assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nfunction __decorate(decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\nfunction __metadata(metadataKey, metadataValue) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\n}\n\n// The export is needed here to generate a valid polyfills.metadata.json file\nfunction ngxChartsPolyfills() {\n  // IE11 fix\n  // Ref: https://github.com/swimlane/ngx-charts/issues/386\n  if (typeof SVGElement !== 'undefined' && typeof SVGElement.prototype.contains === 'undefined') {\n    SVGElement.prototype.contains = HTMLDivElement.prototype.contains;\n  }\n}\nngxChartsPolyfills();\nvar PlacementTypes = /*#__PURE__*/(() => {\n  (function (PlacementTypes) {\n    PlacementTypes[PlacementTypes[\"top\"] = 'top'] = \"top\";\n    PlacementTypes[PlacementTypes[\"bottom\"] = 'bottom'] = \"bottom\";\n    PlacementTypes[PlacementTypes[\"left\"] = 'left'] = \"left\";\n    PlacementTypes[PlacementTypes[\"right\"] = 'right'] = \"right\";\n  })(PlacementTypes || (PlacementTypes = {}));\n  return PlacementTypes;\n})();\nvar caretOffset = 7;\nfunction verticalPosition(elDimensions, popoverDimensions, alignment) {\n  if (alignment === 'top') {\n    return elDimensions.top - caretOffset;\n  }\n  if (alignment === 'bottom') {\n    return elDimensions.top + elDimensions.height - popoverDimensions.height + caretOffset;\n  }\n  if (alignment === 'center') {\n    return elDimensions.top + elDimensions.height / 2 - popoverDimensions.height / 2;\n  }\n  return undefined;\n}\nfunction horizontalPosition(elDimensions, popoverDimensions, alignment) {\n  if (alignment === 'left') {\n    return elDimensions.left - caretOffset;\n  }\n  if (alignment === 'right') {\n    return elDimensions.left + elDimensions.width - popoverDimensions.width + caretOffset;\n  }\n  if (alignment === 'center') {\n    return elDimensions.left + elDimensions.width / 2 - popoverDimensions.width / 2;\n  }\n  return undefined;\n}\n/**\n * Position helper for the popover directive.\n *\n * @export\n * @class PositionHelper\n */\nvar PositionHelper = /** @class */function () {\n  function PositionHelper() {}\n  /**\n   * Calculate vertical alignment position\n   *\n   * @static\n   * @param {any} elDimensions\n   * @param {any} popoverDimensions\n   * @param {any} alignment\n   * @returns {number}\n   *\n   * @memberOf PositionHelper\n   */\n  PositionHelper.calculateVerticalAlignment = function (elDimensions, popoverDimensions, alignment) {\n    var result = verticalPosition(elDimensions, popoverDimensions, alignment);\n    if (result + popoverDimensions.height > window.innerHeight) {\n      result = window.innerHeight - popoverDimensions.height;\n    }\n    return result;\n  };\n  /**\n   * Calculate vertical caret position\n   *\n   * @static\n   * @param {any} elDimensions\n   * @param {any} popoverDimensions\n   * @param {any} caretDimensions\n   * @param {any} alignment\n   * @returns {number}\n   *\n   * @memberOf PositionHelper\n   */\n  PositionHelper.calculateVerticalCaret = function (elDimensions, popoverDimensions, caretDimensions, alignment) {\n    var result;\n    if (alignment === 'top') {\n      result = elDimensions.height / 2 - caretDimensions.height / 2 + caretOffset;\n    }\n    if (alignment === 'bottom') {\n      result = popoverDimensions.height - elDimensions.height / 2 - caretDimensions.height / 2 - caretOffset;\n    }\n    if (alignment === 'center') {\n      result = popoverDimensions.height / 2 - caretDimensions.height / 2;\n    }\n    var popoverPosition = verticalPosition(elDimensions, popoverDimensions, alignment);\n    if (popoverPosition + popoverDimensions.height > window.innerHeight) {\n      result += popoverPosition + popoverDimensions.height - window.innerHeight;\n    }\n    return result;\n  };\n  /**\n   * Calculate horz alignment position\n   *\n   * @static\n   * @param {any} elDimensions\n   * @param {any} popoverDimensions\n   * @param {any} alignment\n   * @returns {number}\n   *\n   * @memberOf PositionHelper\n   */\n  PositionHelper.calculateHorizontalAlignment = function (elDimensions, popoverDimensions, alignment) {\n    var result = horizontalPosition(elDimensions, popoverDimensions, alignment);\n    if (result + popoverDimensions.width > window.innerWidth) {\n      result = window.innerWidth - popoverDimensions.width;\n    }\n    return result;\n  };\n  /**\n   * Calculate horz caret position\n   *\n   * @static\n   * @param {any} elDimensions\n   * @param {any} popoverDimensions\n   * @param {any} caretDimensions\n   * @param {any} alignment\n   * @returns {number}\n   *\n   * @memberOf PositionHelper\n   */\n  PositionHelper.calculateHorizontalCaret = function (elDimensions, popoverDimensions, caretDimensions, alignment) {\n    var result;\n    if (alignment === 'left') {\n      result = elDimensions.width / 2 - caretDimensions.width / 2 + caretOffset;\n    }\n    if (alignment === 'right') {\n      result = popoverDimensions.width - elDimensions.width / 2 - caretDimensions.width / 2 - caretOffset;\n    }\n    if (alignment === 'center') {\n      result = popoverDimensions.width / 2 - caretDimensions.width / 2;\n    }\n    var popoverPosition = horizontalPosition(elDimensions, popoverDimensions, alignment);\n    if (popoverPosition + popoverDimensions.width > window.innerWidth) {\n      result += popoverPosition + popoverDimensions.width - window.innerWidth;\n    }\n    return result;\n  };\n  /**\n   * Checks if the element's position should be flipped\n   *\n   * @static\n   * @param {any} elDimensions\n   * @param {any} popoverDimensions\n   * @param {any} placement\n   * @param {any} spacing\n   * @returns {boolean}\n   *\n   * @memberOf PositionHelper\n   */\n  PositionHelper.shouldFlip = function (elDimensions, popoverDimensions, placement, spacing) {\n    var flip = false;\n    if (placement === 'right') {\n      if (elDimensions.left + elDimensions.width + popoverDimensions.width + spacing > window.innerWidth) {\n        flip = true;\n      }\n    }\n    if (placement === 'left') {\n      if (elDimensions.left - popoverDimensions.width - spacing < 0) {\n        flip = true;\n      }\n    }\n    if (placement === 'top') {\n      if (elDimensions.top - popoverDimensions.height - spacing < 0) {\n        flip = true;\n      }\n    }\n    if (placement === 'bottom') {\n      if (elDimensions.top + elDimensions.height + popoverDimensions.height + spacing > window.innerHeight) {\n        flip = true;\n      }\n    }\n    return flip;\n  };\n  /**\n   * Position caret\n   *\n   * @static\n   * @param {any} placement\n   * @param {any} elmDim\n   * @param {any} hostDim\n   * @param {any} caretDimensions\n   * @param {any} alignment\n   * @returns {*}\n   *\n   * @memberOf PositionHelper\n   */\n  PositionHelper.positionCaret = function (placement, elmDim, hostDim, caretDimensions, alignment) {\n    var top = 0;\n    var left = 0;\n    if (placement === PlacementTypes.right) {\n      left = -7;\n      top = PositionHelper.calculateVerticalCaret(hostDim, elmDim, caretDimensions, alignment);\n    } else if (placement === PlacementTypes.left) {\n      left = elmDim.width;\n      top = PositionHelper.calculateVerticalCaret(hostDim, elmDim, caretDimensions, alignment);\n    } else if (placement === PlacementTypes.top) {\n      top = elmDim.height;\n      left = PositionHelper.calculateHorizontalCaret(hostDim, elmDim, caretDimensions, alignment);\n    } else if (placement === PlacementTypes.bottom) {\n      top = -7;\n      left = PositionHelper.calculateHorizontalCaret(hostDim, elmDim, caretDimensions, alignment);\n    }\n    return {\n      top: top,\n      left: left\n    };\n  };\n  /**\n   * Position content\n   *\n   * @static\n   * @param {any} placement\n   * @param {any} elmDim\n   * @param {any} hostDim\n   * @param {any} spacing\n   * @param {any} alignment\n   * @returns {*}\n   *\n   * @memberOf PositionHelper\n   */\n  PositionHelper.positionContent = function (placement, elmDim, hostDim, spacing, alignment) {\n    var top = 0;\n    var left = 0;\n    if (placement === PlacementTypes.right) {\n      left = hostDim.left + hostDim.width + spacing;\n      top = PositionHelper.calculateVerticalAlignment(hostDim, elmDim, alignment);\n    } else if (placement === PlacementTypes.left) {\n      left = hostDim.left - elmDim.width - spacing;\n      top = PositionHelper.calculateVerticalAlignment(hostDim, elmDim, alignment);\n    } else if (placement === PlacementTypes.top) {\n      top = hostDim.top - elmDim.height - spacing;\n      left = PositionHelper.calculateHorizontalAlignment(hostDim, elmDim, alignment);\n    } else if (placement === PlacementTypes.bottom) {\n      top = hostDim.top + hostDim.height + spacing;\n      left = PositionHelper.calculateHorizontalAlignment(hostDim, elmDim, alignment);\n    }\n    return {\n      top: top,\n      left: left\n    };\n  };\n  /**\n   * Determine placement based on flip\n   *\n   * @static\n   * @param {any} placement\n   * @param {any} elmDim\n   * @param {any} hostDim\n   * @param {any} spacing\n   * @returns {*}\n   *\n   * @memberOf PositionHelper\n   */\n  PositionHelper.determinePlacement = function (placement, elmDim, hostDim, spacing) {\n    var shouldFlip = PositionHelper.shouldFlip(hostDim, elmDim, placement, spacing);\n    if (shouldFlip) {\n      if (placement === PlacementTypes.right) {\n        return PlacementTypes.left;\n      } else if (placement === PlacementTypes.left) {\n        return PlacementTypes.right;\n      } else if (placement === PlacementTypes.top) {\n        return PlacementTypes.bottom;\n      } else if (placement === PlacementTypes.bottom) {\n        return PlacementTypes.top;\n      }\n    }\n    return placement;\n  };\n  return PositionHelper;\n}();\nvar StyleTypes = /*#__PURE__*/(() => {\n  (function (StyleTypes) {\n    StyleTypes[StyleTypes[\"popover\"] = 'popover'] = \"popover\";\n    StyleTypes[StyleTypes[\"tooltip\"] = 'tooltip'] = \"tooltip\";\n  })(StyleTypes || (StyleTypes = {}));\n  return StyleTypes;\n})();\nvar AlignmentTypes = /*#__PURE__*/(() => {\n  (function (AlignmentTypes) {\n    AlignmentTypes[AlignmentTypes[\"left\"] = 'left'] = \"left\";\n    AlignmentTypes[AlignmentTypes[\"center\"] = 'center'] = \"center\";\n    AlignmentTypes[AlignmentTypes[\"right\"] = 'right'] = \"right\";\n  })(AlignmentTypes || (AlignmentTypes = {}));\n  return AlignmentTypes;\n})();\nvar ShowTypes = /*#__PURE__*/(() => {\n  (function (ShowTypes) {\n    ShowTypes[ShowTypes[\"all\"] = 'all'] = \"all\";\n    ShowTypes[ShowTypes[\"focus\"] = 'focus'] = \"focus\";\n    ShowTypes[ShowTypes[\"mouseover\"] = 'mouseover'] = \"mouseover\";\n  })(ShowTypes || (ShowTypes = {}));\n  return ShowTypes;\n})();\n/**\n * Injection service is a helper to append components\n * dynamically to a known location in the DOM, most\n * noteably for dialogs/tooltips appending to body.\n *\n * @export\n * @class InjectionService\n */\nvar InjectionService = /** @class */function () {\n  function InjectionService(applicationRef, componentFactoryResolver, injector) {\n    this.applicationRef = applicationRef;\n    this.componentFactoryResolver = componentFactoryResolver;\n    this.injector = injector;\n  }\n  InjectionService_1 = InjectionService;\n  /**\n   * Sets a default global root view container. This is useful for\n   * things like ngUpgrade that doesn't have a ApplicationRef root.\n   *\n   * @param container\n   */\n  InjectionService.setGlobalRootViewContainer = function (container) {\n    InjectionService_1.globalRootViewContainer = container;\n  };\n  /**\n   * Gets the root view container to inject the component to.\n   *\n   * @returns {ComponentRef<any>}\n   *\n   * @memberOf InjectionService\n   */\n  InjectionService.prototype.getRootViewContainer = function () {\n    var rootComponents = this.applicationRef.components;\n    // fix cannot read length of undefined\n    if (rootComponents) {\n      if (rootComponents.length) return rootComponents[0];\n    }\n    if (this._container) return this._container;\n    if (InjectionService_1.globalRootViewContainer) return InjectionService_1.globalRootViewContainer;\n    throw new Error('View Container not found! ngUpgrade needs to manually set this via setRootViewContainer.');\n  };\n  /**\n   * Overrides the default root view container. This is useful for\n   * things like ngUpgrade that doesn't have a ApplicationRef root.\n   *\n   * @param {any} container\n   *\n   * @memberOf InjectionService\n   */\n  InjectionService.prototype.setRootViewContainer = function (container) {\n    this._container = container;\n  };\n  /**\n   * Gets the html element for a component ref.\n   *\n   * @param {ComponentRef<any>} componentRef\n   * @returns {HTMLElement}\n   *\n   * @memberOf InjectionService\n   */\n  InjectionService.prototype.getComponentRootNode = function (componentRef) {\n    // the top most component root node has no `hostView`\n    if (!componentRef.hostView) return componentRef.element.nativeElement;\n    return componentRef.hostView.rootNodes[0];\n  };\n  /**\n   * Gets the root component container html element.\n   *\n   * @returns {HTMLElement}\n   *\n   * @memberOf InjectionService\n   */\n  InjectionService.prototype.getRootViewContainerNode = function () {\n    return this.getComponentRootNode(this.getRootViewContainer());\n  };\n  /**\n   * Projects the bindings onto the component\n   *\n   * @param {ComponentRef<any>} component\n   * @param {*} options\n   * @returns {ComponentRef<any>}\n   *\n   * @memberOf InjectionService\n   */\n  InjectionService.prototype.projectComponentBindings = function (component, bindings) {\n    if (bindings) {\n      if (bindings.inputs !== undefined) {\n        var bindingKeys = Object.getOwnPropertyNames(bindings.inputs);\n        for (var _i = 0, bindingKeys_1 = bindingKeys; _i < bindingKeys_1.length; _i++) {\n          var bindingName = bindingKeys_1[_i];\n          component.instance[bindingName] = bindings.inputs[bindingName];\n        }\n      }\n      if (bindings.outputs !== undefined) {\n        var eventKeys = Object.getOwnPropertyNames(bindings.outputs);\n        for (var _a = 0, eventKeys_1 = eventKeys; _a < eventKeys_1.length; _a++) {\n          var eventName = eventKeys_1[_a];\n          component.instance[eventName] = bindings.outputs[eventName];\n        }\n      }\n    }\n    return component;\n  };\n  /**\n   * Appends a component to a adjacent location\n   *\n   * @template T\n   * @param {Type<T>} componentClass\n   * @param {*} [options={}]\n   * @param {Element} [location=this.getRootViewContainerNode()]\n   * @returns {ComponentRef<any>}\n   *\n   * @memberOf InjectionService\n   */\n  InjectionService.prototype.appendComponent = function (componentClass, bindings, location) {\n    if (bindings === void 0) {\n      bindings = {};\n    }\n    if (location === void 0) {\n      location = this.getRootViewContainerNode();\n    }\n    var componentFactory = this.componentFactoryResolver.resolveComponentFactory(componentClass);\n    var componentRef = componentFactory.create(this.injector);\n    var appRef = this.applicationRef;\n    var componentRootNode = this.getComponentRootNode(componentRef);\n    // project the options passed to the component instance\n    this.projectComponentBindings(componentRef, bindings);\n    appRef.attachView(componentRef.hostView);\n    componentRef.onDestroy(function () {\n      appRef.detachView(componentRef.hostView);\n    });\n    // use the renderer to append the element for univseral support\n    var renderer = componentRef.instance.renderer;\n    renderer.appendChild(location, componentRootNode);\n    return componentRef;\n  };\n  var InjectionService_1, _a, _b, _c;\n  InjectionService.globalRootViewContainer = null;\n  InjectionService = InjectionService_1 = __decorate([__metadata(\"design:paramtypes\", [typeof (_a = typeof ApplicationRef !== \"undefined\" && ApplicationRef) === \"function\" ? _a : Object, typeof (_b = typeof ComponentFactoryResolver !== \"undefined\" && ComponentFactoryResolver) === \"function\" ? _b : Object, typeof (_c = typeof Injector !== \"undefined\" && Injector) === \"function\" ? _c : Object])], InjectionService);\n  InjectionService.ɵfac = function InjectionService_Factory(t) {\n    return new (t || InjectionService)(ɵngcc0.ɵɵinject(typeof (_a = typeof ApplicationRef !== \"undefined\" && ApplicationRef) === \"function\" ? _a : Object), ɵngcc0.ɵɵinject(typeof (_b = typeof ComponentFactoryResolver !== \"undefined\" && ComponentFactoryResolver) === \"function\" ? _b : Object), ɵngcc0.ɵɵinject(typeof (_c = typeof Injector !== \"undefined\" && Injector) === \"function\" ? _c : Object));\n  };\n  InjectionService.ɵprov = /*@__PURE__*/ɵngcc0.ɵɵdefineInjectable({\n    token: InjectionService,\n    factory: function (t) {\n      return InjectionService.ɵfac(t);\n    }\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  return InjectionService;\n}();\nvar InjectionRegistery = /** @class */function () {\n  function InjectionRegistery(injectionService) {\n    this.injectionService = injectionService;\n    this.defaults = {};\n    this.components = new Map();\n  }\n  InjectionRegistery.prototype.getByType = function (type) {\n    if (type === void 0) {\n      type = this.type;\n    }\n    return this.components.get(type);\n  };\n  InjectionRegistery.prototype.create = function (bindings) {\n    return this.createByType(this.type, bindings);\n  };\n  InjectionRegistery.prototype.createByType = function (type, bindings) {\n    bindings = this.assignDefaults(bindings);\n    var component = this.injectComponent(type, bindings);\n    this.register(type, component);\n    return component;\n  };\n  InjectionRegistery.prototype.destroy = function (instance) {\n    var compsByType = this.components.get(instance.componentType);\n    if (compsByType) {\n      var idx = compsByType.indexOf(instance);\n      if (idx > -1) {\n        var component = compsByType[idx];\n        component.destroy();\n        compsByType.splice(idx, 1);\n      }\n    }\n  };\n  InjectionRegistery.prototype.destroyAll = function () {\n    this.destroyByType(this.type);\n  };\n  InjectionRegistery.prototype.destroyByType = function (type) {\n    var comps = this.components.get(type);\n    if (comps) {\n      for (var _i = 0, comps_1 = comps; _i < comps_1.length; _i++) {\n        var comp = comps_1[_i];\n        this.destroy(comp);\n      }\n    }\n  };\n  InjectionRegistery.prototype.assignDefaults = function (bindings) {\n    var _a = this.defaults,\n      inputs = _a.inputs,\n      outputs = _a.outputs;\n    if (!bindings.inputs && !bindings.outputs) {\n      bindings = {\n        inputs: bindings\n      };\n    }\n    if (inputs) {\n      bindings.inputs = Object.assign(inputs, bindings.inputs);\n    }\n    if (outputs) {\n      bindings.outputs = Object.assign(outputs, bindings.outputs);\n    }\n    return bindings;\n  };\n  InjectionRegistery.prototype.injectComponent = function (type, bindings) {\n    return this.injectionService.appendComponent(type, bindings);\n  };\n  InjectionRegistery.prototype.register = function (type, component) {\n    if (!this.components.has(type)) {\n      this.components.set(type, []);\n    }\n    var types = this.components.get(type);\n    types.push(component);\n  };\n  return InjectionRegistery;\n}();\n\n/**\n * Throttle a function\n *\n * @export\n * @param {*}      func\n * @param {number} wait\n * @param {*}      [options]\n * @returns\n */\nfunction throttle(func, wait, options) {\n  options = options || {};\n  var context;\n  var args;\n  var result;\n  var timeout = null;\n  var previous = 0;\n  function later() {\n    previous = options.leading === false ? 0 : +new Date();\n    timeout = null;\n    result = func.apply(context, args);\n  }\n  return function () {\n    var now = +new Date();\n    if (!previous && options.leading === false) {\n      previous = now;\n    }\n    var remaining = wait - (now - previous);\n    context = this;\n    args = arguments;\n    if (remaining <= 0) {\n      clearTimeout(timeout);\n      timeout = null;\n      previous = now;\n      result = func.apply(context, args);\n    } else if (!timeout && options.trailing !== false) {\n      timeout = setTimeout(later, remaining);\n    }\n    return result;\n  };\n}\n/**\n * Throttle decorator\n *\n *  class MyClass {\n *    throttleable(10)\n *    myFn() { ... }\n *  }\n *\n * @export\n * @param {number} duration\n * @param {*} [options]\n * @returns\n */\nfunction throttleable(duration, options) {\n  return function innerDecorator(target, key, descriptor) {\n    return {\n      configurable: true,\n      enumerable: descriptor.enumerable,\n      get: function getter() {\n        Object.defineProperty(this, key, {\n          configurable: true,\n          enumerable: descriptor.enumerable,\n          value: throttle(descriptor.value, duration, options)\n        });\n        return this[key];\n      }\n    };\n  };\n}\nvar TooltipContentComponent = /** @class */function () {\n  function TooltipContentComponent(element, renderer) {\n    this.element = element;\n    this.renderer = renderer;\n  }\n  Object.defineProperty(TooltipContentComponent.prototype, \"cssClasses\", {\n    get: function () {\n      var clz = 'ngx-charts-tooltip-content';\n      clz += \" position-\" + this.placement;\n      clz += \" type-\" + this.type;\n      clz += \" \" + this.cssClass;\n      return clz;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  TooltipContentComponent.prototype.ngAfterViewInit = function () {\n    setTimeout(this.position.bind(this));\n  };\n  TooltipContentComponent.prototype.position = function () {\n    var _this = this;\n    var nativeElm = this.element.nativeElement;\n    var hostDim = this.host.nativeElement.getBoundingClientRect();\n    if (!hostDim.height && !hostDim.width) return;\n    var elmDim = nativeElm.getBoundingClientRect();\n    this.checkFlip(hostDim, elmDim);\n    this.positionContent(nativeElm, hostDim, elmDim);\n    if (this.showCaret) {\n      this.positionCaret(hostDim, elmDim);\n    }\n    setTimeout(function () {\n      return _this.renderer.addClass(nativeElm, 'animate');\n    }, 1);\n  };\n  TooltipContentComponent.prototype.positionContent = function (nativeElm, hostDim, elmDim) {\n    var _a = PositionHelper.positionContent(this.placement, elmDim, hostDim, this.spacing, this.alignment),\n      top = _a.top,\n      left = _a.left;\n    this.renderer.setStyle(nativeElm, 'top', top + \"px\");\n    this.renderer.setStyle(nativeElm, 'left', left + \"px\");\n  };\n  TooltipContentComponent.prototype.positionCaret = function (hostDim, elmDim) {\n    var caretElm = this.caretElm.nativeElement;\n    var caretDimensions = caretElm.getBoundingClientRect();\n    var _a = PositionHelper.positionCaret(this.placement, elmDim, hostDim, caretDimensions, this.alignment),\n      top = _a.top,\n      left = _a.left;\n    this.renderer.setStyle(caretElm, 'top', top + \"px\");\n    this.renderer.setStyle(caretElm, 'left', left + \"px\");\n  };\n  TooltipContentComponent.prototype.checkFlip = function (hostDim, elmDim) {\n    this.placement = PositionHelper.determinePlacement(this.placement, elmDim, hostDim, this.spacing);\n  };\n  TooltipContentComponent.prototype.onWindowResize = function () {\n    this.position();\n  };\n  var _a, _b, _c, _d, _e;\n  __decorate([Input(), __metadata(\"design:type\", Object)], TooltipContentComponent.prototype, \"host\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], TooltipContentComponent.prototype, \"showCaret\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", typeof (_a = typeof StyleTypes !== \"undefined\" && StyleTypes) === \"function\" ? _a : Object)], TooltipContentComponent.prototype, \"type\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", typeof (_b = typeof PlacementTypes !== \"undefined\" && PlacementTypes) === \"function\" ? _b : Object)], TooltipContentComponent.prototype, \"placement\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", typeof (_c = typeof AlignmentTypes !== \"undefined\" && AlignmentTypes) === \"function\" ? _c : Object)], TooltipContentComponent.prototype, \"alignment\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], TooltipContentComponent.prototype, \"spacing\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], TooltipContentComponent.prototype, \"cssClass\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], TooltipContentComponent.prototype, \"title\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], TooltipContentComponent.prototype, \"template\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], TooltipContentComponent.prototype, \"context\", void 0);\n  __decorate([ViewChild('caretElm', {\n    static: false\n  }), __metadata(\"design:type\", Object)], TooltipContentComponent.prototype, \"caretElm\", void 0);\n  __decorate([HostBinding('class'), __metadata(\"design:type\", String), __metadata(\"design:paramtypes\", [])], TooltipContentComponent.prototype, \"cssClasses\", null);\n  __decorate([HostListener('window:resize'), throttleable(100), __metadata(\"design:type\", Function), __metadata(\"design:paramtypes\", []), __metadata(\"design:returntype\", void 0)], TooltipContentComponent.prototype, \"onWindowResize\", null);\n  TooltipContentComponent = __decorate([__metadata(\"design:paramtypes\", [typeof (_d = typeof ElementRef !== \"undefined\" && ElementRef) === \"function\" ? _d : Object, typeof (_e = typeof Renderer2 !== \"undefined\" && Renderer2) === \"function\" ? _e : Object])], TooltipContentComponent);\n  TooltipContentComponent.ɵfac = function TooltipContentComponent_Factory(t) {\n    return new (t || TooltipContentComponent)(ɵngcc0.ɵɵdirectiveInject(typeof (_d = typeof ElementRef !== \"undefined\" && ElementRef) === \"function\" ? _d : Object), ɵngcc0.ɵɵdirectiveInject(typeof (_e = typeof Renderer2 !== \"undefined\" && Renderer2) === \"function\" ? _e : Object));\n  };\n  TooltipContentComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: TooltipContentComponent,\n    selectors: [[\"ngx-tooltip-content\"]],\n    viewQuery: function TooltipContentComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵviewQuery(_c0, 5);\n      }\n      if (rf & 2) {\n        var _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.caretElm = _t.first);\n      }\n    },\n    hostVars: 2,\n    hostBindings: function TooltipContentComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵlistener(\"resize\", function TooltipContentComponent_resize_HostBindingHandler() {\n          return ctx.onWindowResize();\n        }, false, ɵngcc0.ɵɵresolveWindow);\n      }\n      if (rf & 2) {\n        ɵngcc0.ɵɵclassMap(ctx.cssClasses);\n      }\n    },\n    inputs: {\n      placement: \"placement\",\n      host: \"host\",\n      showCaret: \"showCaret\",\n      type: \"type\",\n      alignment: \"alignment\",\n      spacing: \"spacing\",\n      cssClass: \"cssClass\",\n      title: \"title\",\n      template: \"template\",\n      context: \"context\"\n    },\n    decls: 6,\n    vars: 6,\n    consts: [[3, \"hidden\"], [\"caretElm\", \"\"], [1, \"tooltip-content\"], [4, \"ngIf\"], [3, \"innerHTML\", 4, \"ngIf\"], [3, \"ngTemplateOutlet\", \"ngTemplateOutletContext\"], [3, \"innerHTML\"]],\n    template: function TooltipContentComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"div\");\n        ɵngcc0.ɵɵelement(1, \"span\", 0, 1);\n        ɵngcc0.ɵɵelementStart(3, \"div\", 2);\n        ɵngcc0.ɵɵtemplate(4, TooltipContentComponent_span_4_Template, 2, 4, \"span\", 3);\n        ɵngcc0.ɵɵtemplate(5, TooltipContentComponent_span_5_Template, 1, 1, \"span\", 4);\n        ɵngcc0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵclassMapInterpolate1(\"tooltip-caret position-\", ctx.placement, \"\");\n        ɵngcc0.ɵɵproperty(\"hidden\", !ctx.showCaret);\n        ɵngcc0.ɵɵadvance(3);\n        ɵngcc0.ɵɵproperty(\"ngIf\", !ctx.title);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.title);\n      }\n    },\n    dependencies: [ɵngcc1.NgIf, ɵngcc1.NgTemplateOutlet],\n    styles: [\".ngx-charts-tooltip-content{position:fixed;border-radius:3px;z-index:5000;display:block;font-weight:400;opacity:0;pointer-events:none!important}.ngx-charts-tooltip-content.type-popover{background:#fff;color:#060709;border:1px solid #72809b;box-shadow:0 1px 3px 0 rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 2px 1px -1px rgba(0,0,0,.12);font-size:13px;padding:4px}.ngx-charts-tooltip-content.type-popover .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid #fff}.ngx-charts-tooltip-content.type-tooltip{color:#fff;background:rgba(0,0,0,.75);font-size:12px;padding:0 10px;text-align:center;pointer-events:auto}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content .tooltip-label{display:block;line-height:1em;padding:8px 5px 5px 5px;font-size:1em}.ngx-charts-tooltip-content .tooltip-val{display:block;font-size:1.3em;line-height:1em;padding:0 5px 8px 5px}.ngx-charts-tooltip-content .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.position-right{transform:translate3d(10px,0,0)}.ngx-charts-tooltip-content.position-left{transform:translate3d(-10px,0,0)}.ngx-charts-tooltip-content.position-top{transform:translate3d(0,-10px,0)}.ngx-charts-tooltip-content.position-bottom{transform:translate3d(0,10px,0)}.ngx-charts-tooltip-content.animate{opacity:1;transition:opacity .3s,transform .3s;transform:translate3d(0,0,0);pointer-events:auto}.area-tooltip-container{padding:5px 0;pointer-events:none}.tooltip-item{text-align:left;line-height:1.2em;padding:5px 0}.tooltip-item .tooltip-item-color{display:inline-block;height:12px;width:12px;margin-right:5px;color:#5b646b;border-radius:3px}\"],\n    encapsulation: 2\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  return TooltipContentComponent;\n}();\nvar TooltipService = /** @class */function (_super) {\n  __extends(TooltipService, _super);\n  function TooltipService(injectionService) {\n    var _this = _super.call(this, injectionService) || this;\n    _this.injectionService = injectionService;\n    _this.type = TooltipContentComponent;\n    return _this;\n  }\n  var _a;\n  TooltipService = __decorate([__metadata(\"design:paramtypes\", [typeof (_a = typeof InjectionService !== \"undefined\" && InjectionService) === \"function\" ? _a : Object])], TooltipService);\n  TooltipService.ɵfac = function TooltipService_Factory(t) {\n    return new (t || TooltipService)(ɵngcc0.ɵɵinject(typeof (_a = typeof InjectionService !== \"undefined\" && InjectionService) === \"function\" ? _a : Object));\n  };\n  TooltipService.ɵprov = /*@__PURE__*/ɵngcc0.ɵɵdefineInjectable({\n    token: TooltipService,\n    factory: function (t) {\n      return TooltipService.ɵfac(t);\n    }\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  return TooltipService;\n}(InjectionRegistery);\nvar TooltipDirective = /** @class */function () {\n  function TooltipDirective(tooltipService, viewContainerRef, renderer) {\n    this.tooltipService = tooltipService;\n    this.viewContainerRef = viewContainerRef;\n    this.renderer = renderer;\n    this.tooltipCssClass = '';\n    this.tooltipTitle = '';\n    this.tooltipAppendToBody = true;\n    this.tooltipSpacing = 10;\n    this.tooltipDisabled = false;\n    this.tooltipShowCaret = true;\n    this.tooltipPlacement = PlacementTypes.top;\n    this.tooltipAlignment = AlignmentTypes.center;\n    this.tooltipType = StyleTypes.popover;\n    this.tooltipCloseOnClickOutside = true;\n    this.tooltipCloseOnMouseLeave = true;\n    this.tooltipHideTimeout = 300;\n    this.tooltipShowTimeout = 100;\n    this.tooltipShowEvent = ShowTypes.all;\n    this.tooltipImmediateExit = false;\n    this.show = new EventEmitter();\n    this.hide = new EventEmitter();\n  }\n  Object.defineProperty(TooltipDirective.prototype, \"listensForFocus\", {\n    get: function () {\n      return this.tooltipShowEvent === ShowTypes.all || this.tooltipShowEvent === ShowTypes.focus;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(TooltipDirective.prototype, \"listensForHover\", {\n    get: function () {\n      return this.tooltipShowEvent === ShowTypes.all || this.tooltipShowEvent === ShowTypes.mouseover;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  TooltipDirective.prototype.ngOnDestroy = function () {\n    this.hideTooltip(true);\n  };\n  TooltipDirective.prototype.onFocus = function () {\n    if (this.listensForFocus) {\n      this.showTooltip();\n    }\n  };\n  TooltipDirective.prototype.onBlur = function () {\n    if (this.listensForFocus) {\n      this.hideTooltip(true);\n    }\n  };\n  TooltipDirective.prototype.onMouseEnter = function () {\n    if (this.listensForHover) {\n      this.showTooltip();\n    }\n  };\n  TooltipDirective.prototype.onMouseLeave = function (target) {\n    if (this.listensForHover && this.tooltipCloseOnMouseLeave) {\n      clearTimeout(this.timeout);\n      if (this.component) {\n        var contentDom = this.component.instance.element.nativeElement;\n        var contains = contentDom.contains(target);\n        if (contains) return;\n      }\n      this.hideTooltip(this.tooltipImmediateExit);\n    }\n  };\n  TooltipDirective.prototype.onMouseClick = function () {\n    if (this.listensForHover) {\n      this.hideTooltip(true);\n    }\n  };\n  TooltipDirective.prototype.showTooltip = function (immediate) {\n    var _this = this;\n    if (this.component || this.tooltipDisabled) return;\n    var time = immediate ? 0 : this.tooltipShowTimeout;\n    clearTimeout(this.timeout);\n    this.timeout = setTimeout(function () {\n      _this.tooltipService.destroyAll();\n      var options = _this.createBoundOptions();\n      _this.component = _this.tooltipService.create(options);\n      // add a tiny timeout to avoid event re-triggers\n      setTimeout(function () {\n        if (_this.component) {\n          _this.addHideListeners(_this.component.instance.element.nativeElement);\n        }\n      }, 10);\n      _this.show.emit(true);\n    }, time);\n  };\n  TooltipDirective.prototype.addHideListeners = function (tooltip) {\n    var _this = this;\n    // on mouse enter, cancel the hide triggered by the leave\n    this.mouseEnterContentEvent = this.renderer.listen(tooltip, 'mouseenter', function () {\n      clearTimeout(_this.timeout);\n    });\n    // content mouse leave listener\n    if (this.tooltipCloseOnMouseLeave) {\n      this.mouseLeaveContentEvent = this.renderer.listen(tooltip, 'mouseleave', function () {\n        _this.hideTooltip(_this.tooltipImmediateExit);\n      });\n    }\n    // content close on click outside\n    if (this.tooltipCloseOnClickOutside) {\n      this.documentClickEvent = this.renderer.listen(document, 'click', function (event$$1) {\n        var contains = tooltip.contains(event$$1.target);\n        if (!contains) _this.hideTooltip();\n      });\n    }\n  };\n  TooltipDirective.prototype.hideTooltip = function (immediate) {\n    var _this = this;\n    if (immediate === void 0) {\n      immediate = false;\n    }\n    if (!this.component) return;\n    var destroyFn = function () {\n      // remove events\n      if (_this.mouseLeaveContentEvent) _this.mouseLeaveContentEvent();\n      if (_this.mouseEnterContentEvent) _this.mouseEnterContentEvent();\n      if (_this.documentClickEvent) _this.documentClickEvent();\n      // emit events\n      _this.hide.emit(true);\n      // destroy component\n      _this.tooltipService.destroy(_this.component);\n      _this.component = undefined;\n    };\n    clearTimeout(this.timeout);\n    if (!immediate) {\n      this.timeout = setTimeout(destroyFn, this.tooltipHideTimeout);\n    } else {\n      destroyFn();\n    }\n  };\n  TooltipDirective.prototype.createBoundOptions = function () {\n    return {\n      title: this.tooltipTitle,\n      template: this.tooltipTemplate,\n      host: this.viewContainerRef.element,\n      placement: this.tooltipPlacement,\n      alignment: this.tooltipAlignment,\n      type: this.tooltipType,\n      showCaret: this.tooltipShowCaret,\n      cssClass: this.tooltipCssClass,\n      spacing: this.tooltipSpacing,\n      context: this.tooltipContext\n    };\n  };\n  var _a, _b, _c, _d, _e, _f, _g;\n  __decorate([Input(), __metadata(\"design:type\", String)], TooltipDirective.prototype, \"tooltipCssClass\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], TooltipDirective.prototype, \"tooltipTitle\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], TooltipDirective.prototype, \"tooltipAppendToBody\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], TooltipDirective.prototype, \"tooltipSpacing\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], TooltipDirective.prototype, \"tooltipDisabled\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], TooltipDirective.prototype, \"tooltipShowCaret\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", typeof (_a = typeof PlacementTypes !== \"undefined\" && PlacementTypes) === \"function\" ? _a : Object)], TooltipDirective.prototype, \"tooltipPlacement\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", typeof (_b = typeof AlignmentTypes !== \"undefined\" && AlignmentTypes) === \"function\" ? _b : Object)], TooltipDirective.prototype, \"tooltipAlignment\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", typeof (_c = typeof StyleTypes !== \"undefined\" && StyleTypes) === \"function\" ? _c : Object)], TooltipDirective.prototype, \"tooltipType\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], TooltipDirective.prototype, \"tooltipCloseOnClickOutside\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], TooltipDirective.prototype, \"tooltipCloseOnMouseLeave\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], TooltipDirective.prototype, \"tooltipHideTimeout\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], TooltipDirective.prototype, \"tooltipShowTimeout\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], TooltipDirective.prototype, \"tooltipTemplate\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", typeof (_d = typeof ShowTypes !== \"undefined\" && ShowTypes) === \"function\" ? _d : Object)], TooltipDirective.prototype, \"tooltipShowEvent\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], TooltipDirective.prototype, \"tooltipContext\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], TooltipDirective.prototype, \"tooltipImmediateExit\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", Object)], TooltipDirective.prototype, \"show\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", Object)], TooltipDirective.prototype, \"hide\", void 0);\n  __decorate([HostListener('focusin'), __metadata(\"design:type\", Function), __metadata(\"design:paramtypes\", []), __metadata(\"design:returntype\", void 0)], TooltipDirective.prototype, \"onFocus\", null);\n  __decorate([HostListener('blur'), __metadata(\"design:type\", Function), __metadata(\"design:paramtypes\", []), __metadata(\"design:returntype\", void 0)], TooltipDirective.prototype, \"onBlur\", null);\n  __decorate([HostListener('mouseenter'), __metadata(\"design:type\", Function), __metadata(\"design:paramtypes\", []), __metadata(\"design:returntype\", void 0)], TooltipDirective.prototype, \"onMouseEnter\", null);\n  __decorate([HostListener('mouseleave', ['$event.target']), __metadata(\"design:type\", Function), __metadata(\"design:paramtypes\", [Object]), __metadata(\"design:returntype\", void 0)], TooltipDirective.prototype, \"onMouseLeave\", null);\n  __decorate([HostListener('click'), __metadata(\"design:type\", Function), __metadata(\"design:paramtypes\", []), __metadata(\"design:returntype\", void 0)], TooltipDirective.prototype, \"onMouseClick\", null);\n  TooltipDirective = __decorate([__metadata(\"design:paramtypes\", [typeof (_e = typeof TooltipService !== \"undefined\" && TooltipService) === \"function\" ? _e : Object, typeof (_f = typeof ViewContainerRef !== \"undefined\" && ViewContainerRef) === \"function\" ? _f : Object, typeof (_g = typeof Renderer2 !== \"undefined\" && Renderer2) === \"function\" ? _g : Object])], TooltipDirective);\n  TooltipDirective.ɵfac = function TooltipDirective_Factory(t) {\n    return new (t || TooltipDirective)(ɵngcc0.ɵɵdirectiveInject(typeof (_e = typeof TooltipService !== \"undefined\" && TooltipService) === \"function\" ? _e : Object), ɵngcc0.ɵɵdirectiveInject(typeof (_f = typeof ViewContainerRef !== \"undefined\" && ViewContainerRef) === \"function\" ? _f : Object), ɵngcc0.ɵɵdirectiveInject(typeof (_g = typeof Renderer2 !== \"undefined\" && Renderer2) === \"function\" ? _g : Object));\n  };\n  TooltipDirective.ɵdir = /*@__PURE__*/ɵngcc0.ɵɵdefineDirective({\n    type: TooltipDirective,\n    selectors: [[\"\", \"ngx-tooltip\", \"\"]],\n    hostBindings: function TooltipDirective_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵlistener(\"focusin\", function TooltipDirective_focusin_HostBindingHandler() {\n          return ctx.onFocus();\n        })(\"blur\", function TooltipDirective_blur_HostBindingHandler() {\n          return ctx.onBlur();\n        })(\"mouseenter\", function TooltipDirective_mouseenter_HostBindingHandler() {\n          return ctx.onMouseEnter();\n        })(\"mouseleave\", function TooltipDirective_mouseleave_HostBindingHandler($event) {\n          return ctx.onMouseLeave($event.target);\n        })(\"click\", function TooltipDirective_click_HostBindingHandler() {\n          return ctx.onMouseClick();\n        });\n      }\n    },\n    inputs: {\n      tooltipCssClass: \"tooltipCssClass\",\n      tooltipTitle: \"tooltipTitle\",\n      tooltipAppendToBody: \"tooltipAppendToBody\",\n      tooltipSpacing: \"tooltipSpacing\",\n      tooltipDisabled: \"tooltipDisabled\",\n      tooltipShowCaret: \"tooltipShowCaret\",\n      tooltipPlacement: \"tooltipPlacement\",\n      tooltipAlignment: \"tooltipAlignment\",\n      tooltipType: \"tooltipType\",\n      tooltipCloseOnClickOutside: \"tooltipCloseOnClickOutside\",\n      tooltipCloseOnMouseLeave: \"tooltipCloseOnMouseLeave\",\n      tooltipHideTimeout: \"tooltipHideTimeout\",\n      tooltipShowTimeout: \"tooltipShowTimeout\",\n      tooltipShowEvent: \"tooltipShowEvent\",\n      tooltipImmediateExit: \"tooltipImmediateExit\",\n      tooltipTemplate: \"tooltipTemplate\",\n      tooltipContext: \"tooltipContext\"\n    },\n    outputs: {\n      show: \"show\",\n      hide: \"hide\"\n    }\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  return TooltipDirective;\n}();\nvar TooltipModule = /** @class */function () {\n  function TooltipModule() {}\n  TooltipModule.ɵfac = function TooltipModule_Factory(t) {\n    return new (t || TooltipModule)();\n  };\n  TooltipModule.ɵmod = /*@__PURE__*/ɵngcc0.ɵɵdefineNgModule({\n    type: TooltipModule\n  });\n  TooltipModule.ɵinj = /*@__PURE__*/ɵngcc0.ɵɵdefineInjector({\n    providers: [InjectionService, TooltipService],\n    imports: [CommonModule]\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  (function () {\n    (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(TooltipModule, {\n      declarations: function () {\n        return [TooltipContentComponent, TooltipDirective];\n      },\n      imports: function () {\n        return [CommonModule];\n      },\n      exports: function () {\n        return [TooltipContentComponent, TooltipDirective];\n      }\n    });\n  })();\n  return TooltipModule;\n}();\nvar ChartComponent = /** @class */function () {\n  function ChartComponent(vcr, tooltipService) {\n    this.vcr = vcr;\n    this.tooltipService = tooltipService;\n    this.showLegend = false;\n    this.animations = true;\n    this.legendLabelClick = new EventEmitter();\n    this.legendLabelActivate = new EventEmitter();\n    this.legendLabelDeactivate = new EventEmitter();\n    this.tooltipService.injectionService.setRootViewContainer(this.vcr);\n  }\n  ChartComponent.prototype.ngOnChanges = function (changes) {\n    this.update();\n  };\n  ChartComponent.prototype.update = function () {\n    var legendColumns = 0;\n    if (this.showLegend) {\n      this.legendType = this.getLegendType();\n      if (!this.legendOptions || this.legendOptions.position === 'right') {\n        if (this.legendType === 'scaleLegend') {\n          legendColumns = 1;\n        } else {\n          legendColumns = 2;\n        }\n      }\n    }\n    var chartColumns = 12 - legendColumns;\n    this.chartWidth = Math.floor(this.view[0] * chartColumns / 12.0);\n    this.legendWidth = !this.legendOptions || this.legendOptions.position === 'right' ? Math.floor(this.view[0] * legendColumns / 12.0) : this.chartWidth;\n  };\n  ChartComponent.prototype.getLegendType = function () {\n    if (this.legendOptions.scaleType === 'linear') {\n      return 'scaleLegend';\n    } else {\n      return 'legend';\n    }\n  };\n  var _a, _b, _c, _d, _e;\n  __decorate([Input(), __metadata(\"design:type\", Object)], ChartComponent.prototype, \"view\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], ChartComponent.prototype, \"showLegend\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], ChartComponent.prototype, \"legendOptions\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], ChartComponent.prototype, \"data\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], ChartComponent.prototype, \"legendData\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], ChartComponent.prototype, \"legendType\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], ChartComponent.prototype, \"colors\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Array)], ChartComponent.prototype, \"activeEntries\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], ChartComponent.prototype, \"animations\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", typeof (_a = typeof EventEmitter !== \"undefined\" && EventEmitter) === \"function\" ? _a : Object)], ChartComponent.prototype, \"legendLabelClick\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", typeof (_b = typeof EventEmitter !== \"undefined\" && EventEmitter) === \"function\" ? _b : Object)], ChartComponent.prototype, \"legendLabelActivate\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", typeof (_c = typeof EventEmitter !== \"undefined\" && EventEmitter) === \"function\" ? _c : Object)], ChartComponent.prototype, \"legendLabelDeactivate\", void 0);\n  ChartComponent = __decorate([__metadata(\"design:paramtypes\", [typeof (_d = typeof ViewContainerRef !== \"undefined\" && ViewContainerRef) === \"function\" ? _d : Object, typeof (_e = typeof TooltipService !== \"undefined\" && TooltipService) === \"function\" ? _e : Object])], ChartComponent);\n  ChartComponent.ɵfac = function ChartComponent_Factory(t) {\n    return new (t || ChartComponent)(ɵngcc0.ɵɵdirectiveInject(typeof (_d = typeof ViewContainerRef !== \"undefined\" && ViewContainerRef) === \"function\" ? _d : Object), ɵngcc0.ɵɵdirectiveInject(typeof (_e = typeof TooltipService !== \"undefined\" && TooltipService) === \"function\" ? _e : Object));\n  };\n  ChartComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: ChartComponent,\n    selectors: [[\"ngx-charts-chart\"]],\n    inputs: {\n      showLegend: \"showLegend\",\n      animations: \"animations\",\n      legendType: \"legendType\",\n      view: \"view\",\n      legendOptions: \"legendOptions\",\n      data: \"data\",\n      legendData: \"legendData\",\n      colors: \"colors\",\n      activeEntries: \"activeEntries\"\n    },\n    outputs: {\n      legendLabelClick: \"legendLabelClick\",\n      legendLabelActivate: \"legendLabelActivate\",\n      legendLabelDeactivate: \"legendLabelDeactivate\"\n    },\n    features: [ɵngcc0.ɵɵProvidersFeature([TooltipService]), ɵngcc0.ɵɵNgOnChangesFeature],\n    ngContentSelectors: _c2,\n    decls: 5,\n    vars: 8,\n    consts: [[1, \"ngx-charts-outer\"], [1, \"ngx-charts\"], [\"class\", \"chart-legend\", 3, \"horizontal\", \"valueRange\", \"colors\", \"height\", \"width\", 4, \"ngIf\"], [\"class\", \"chart-legend\", 3, \"horizontal\", \"data\", \"title\", \"colors\", \"height\", \"width\", \"activeEntries\", \"labelClick\", \"labelActivate\", \"labelDeactivate\", 4, \"ngIf\"], [1, \"chart-legend\", 3, \"horizontal\", \"valueRange\", \"colors\", \"height\", \"width\"], [1, \"chart-legend\", 3, \"horizontal\", \"data\", \"title\", \"colors\", \"height\", \"width\", \"activeEntries\", \"labelClick\", \"labelActivate\", \"labelDeactivate\"]],\n    template: function ChartComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵprojectionDef();\n        ɵngcc0.ɵɵelementStart(0, \"div\", 0);\n        ɵngcc0.ɵɵnamespaceSVG();\n        ɵngcc0.ɵɵelementStart(1, \"svg\", 1);\n        ɵngcc0.ɵɵprojection(2);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵtemplate(3, ChartComponent_ngx_charts_scale_legend_3_Template, 1, 5, \"ngx-charts-scale-legend\", 2);\n        ɵngcc0.ɵɵtemplate(4, ChartComponent_ngx_charts_legend_4_Template, 1, 7, \"ngx-charts-legend\", 3);\n        ɵngcc0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        ɵngcc0.ɵɵstyleProp(\"width\", ctx.view[0], \"px\");\n        ɵngcc0.ɵɵproperty(\"@animationState\", \"active\")(\"@.disabled\", !ctx.animations);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵattribute(\"width\", ctx.chartWidth)(\"height\", ctx.view[1]);\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.showLegend && ctx.legendType === \"scaleLegend\");\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.showLegend && ctx.legendType === \"legend\");\n      }\n    },\n    dependencies: function () {\n      return [ɵngcc1.NgIf, LegendComponent, ScaleLegendComponent];\n    },\n    encapsulation: 2,\n    data: {\n      animation: [trigger('animationState', [transition(':enter', [style({\n        opacity: 0\n      }), animate('500ms 100ms', style({\n        opacity: 1\n      }))])])]\n    },\n    changeDetection: 0\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  return ChartComponent;\n}();\n\n/**\n * Formats a label given a date, number or string.\n *\n * @export\n * @param {*} label\n * @returns {string}\n */\nfunction formatLabel(label) {\n  if (label instanceof Date) {\n    label = label.toLocaleDateString();\n  } else {\n    label = label.toLocaleString();\n  }\n  return label;\n}\n/**\n * Escapes a label.\n *\n * @export\n * @param {*} label\n * @returns {string}\n */\nfunction escapeLabel(label) {\n  return label.toLocaleString().replace(/[&'`\"<>]/g, function (match) {\n    return {\n      '&': '&amp;',\n      '\\'': '&#x27;',\n      '`': '&#x60;',\n      '\"': '&quot;',\n      '<': '&lt;',\n      '>': '&gt;'\n    }[match];\n  });\n}\nvar LegendComponent = /** @class */function () {\n  function LegendComponent(cd) {\n    this.cd = cd;\n    this.horizontal = false;\n    this.labelClick = new EventEmitter();\n    this.labelActivate = new EventEmitter();\n    this.labelDeactivate = new EventEmitter();\n    this.legendEntries = [];\n  }\n  LegendComponent.prototype.ngOnChanges = function (changes) {\n    this.update();\n  };\n  LegendComponent.prototype.update = function () {\n    this.cd.markForCheck();\n    this.legendEntries = this.getLegendEntries();\n  };\n  LegendComponent.prototype.getLegendEntries = function () {\n    var items = [];\n    var _loop_1 = function (label) {\n      var formattedLabel = formatLabel(label);\n      var idx = items.findIndex(function (i) {\n        return i.label === formattedLabel;\n      });\n      if (idx === -1) {\n        items.push({\n          label: label,\n          formattedLabel: formattedLabel,\n          color: this_1.colors.getColor(label)\n        });\n      }\n    };\n    var this_1 = this;\n    for (var _i = 0, _a = this.data; _i < _a.length; _i++) {\n      var label = _a[_i];\n      _loop_1(label);\n    }\n    return items;\n  };\n  LegendComponent.prototype.isActive = function (entry) {\n    if (!this.activeEntries) return false;\n    var item = this.activeEntries.find(function (d) {\n      return entry.label === d.name;\n    });\n    return item !== undefined;\n  };\n  LegendComponent.prototype.activate = function (item) {\n    this.labelActivate.emit(item);\n  };\n  LegendComponent.prototype.deactivate = function (item) {\n    this.labelDeactivate.emit(item);\n  };\n  LegendComponent.prototype.trackBy = function (index, item) {\n    return item.label;\n  };\n  var _a, _b, _c, _d;\n  __decorate([Input(), __metadata(\"design:type\", Object)], LegendComponent.prototype, \"data\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], LegendComponent.prototype, \"title\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], LegendComponent.prototype, \"colors\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], LegendComponent.prototype, \"height\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], LegendComponent.prototype, \"width\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], LegendComponent.prototype, \"activeEntries\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], LegendComponent.prototype, \"horizontal\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", typeof (_a = typeof EventEmitter !== \"undefined\" && EventEmitter) === \"function\" ? _a : Object)], LegendComponent.prototype, \"labelClick\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", typeof (_b = typeof EventEmitter !== \"undefined\" && EventEmitter) === \"function\" ? _b : Object)], LegendComponent.prototype, \"labelActivate\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", typeof (_c = typeof EventEmitter !== \"undefined\" && EventEmitter) === \"function\" ? _c : Object)], LegendComponent.prototype, \"labelDeactivate\", void 0);\n  LegendComponent = __decorate([__metadata(\"design:paramtypes\", [typeof (_d = typeof ChangeDetectorRef !== \"undefined\" && ChangeDetectorRef) === \"function\" ? _d : Object])], LegendComponent);\n  LegendComponent.ɵfac = function LegendComponent_Factory(t) {\n    return new (t || LegendComponent)(ɵngcc0.ɵɵdirectiveInject(typeof (_d = typeof ChangeDetectorRef !== \"undefined\" && ChangeDetectorRef) === \"function\" ? _d : Object));\n  };\n  LegendComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: LegendComponent,\n    selectors: [[\"ngx-charts-legend\"]],\n    inputs: {\n      horizontal: \"horizontal\",\n      data: \"data\",\n      title: \"title\",\n      colors: \"colors\",\n      height: \"height\",\n      width: \"width\",\n      activeEntries: \"activeEntries\"\n    },\n    outputs: {\n      labelClick: \"labelClick\",\n      labelActivate: \"labelActivate\",\n      labelDeactivate: \"labelDeactivate\"\n    },\n    features: [ɵngcc0.ɵɵNgOnChangesFeature],\n    decls: 5,\n    vars: 9,\n    consts: [[\"class\", \"legend-title\", 4, \"ngIf\"], [1, \"legend-wrap\"], [1, \"legend-labels\"], [\"class\", \"legend-label\", 4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [1, \"legend-title\"], [1, \"legend-title-text\"], [1, \"legend-label\"], [3, \"label\", \"formattedLabel\", \"color\", \"isActive\", \"select\", \"activate\", \"deactivate\"]],\n    template: function LegendComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"div\");\n        ɵngcc0.ɵɵtemplate(1, LegendComponent_header_1_Template, 3, 1, \"header\", 0);\n        ɵngcc0.ɵɵelementStart(2, \"div\", 1)(3, \"ul\", 2);\n        ɵngcc0.ɵɵtemplate(4, LegendComponent_li_4_Template, 2, 4, \"li\", 3);\n        ɵngcc0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        ɵngcc0.ɵɵstyleProp(\"width\", ctx.width, \"px\");\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", (ctx.title == null ? null : ctx.title.length) > 0);\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵstyleProp(\"max-height\", ctx.height - 45, \"px\");\n        ɵngcc0.ɵɵclassProp(\"horizontal-legend\", ctx.horizontal);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngForOf\", ctx.legendEntries)(\"ngForTrackBy\", ctx.trackBy);\n      }\n    },\n    dependencies: function () {\n      return [ɵngcc1.NgForOf, ɵngcc1.NgIf, LegendEntryComponent];\n    },\n    styles: [\".chart-legend{display:inline-block;padding:0;width:auto!important}.chart-legend .legend-title{white-space:nowrap;overflow:hidden;margin-left:10px;margin-bottom:5px;font-size:14px;font-weight:700}.chart-legend li,.chart-legend ul{padding:0;margin:0;list-style:none}.chart-legend .horizontal-legend li{display:inline-block}.chart-legend .legend-wrap{width:calc(100% - 10px)}.chart-legend .legend-labels{line-height:85%;list-style:none;text-align:left;float:left;width:100%;border-radius:3px;overflow-y:auto;overflow-x:hidden;white-space:nowrap;background:rgba(0,0,0,.05)}.chart-legend .legend-label{cursor:pointer;font-size:90%;margin:8px;color:#afb7c8}.chart-legend .legend-label:hover{color:#000;-webkit-transition:.2s;-moz-transition:.2s;transition:.2s}.chart-legend .legend-label .active .legend-label-text{color:#000}.chart-legend .legend-label-color{display:inline-block;height:15px;width:15px;margin-right:5px;color:#5b646b;border-radius:3px}.chart-legend .legend-label-text{display:inline-block;vertical-align:top;line-height:15px;font-size:12px;width:calc(100% - 20px);text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.chart-legend .legend-title-text{vertical-align:bottom;display:inline-block;line-height:16px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}\"],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  return LegendComponent;\n}();\nvar ScaleLegendComponent = /** @class */function () {\n  function ScaleLegendComponent(sanitizer) {\n    this.sanitizer = sanitizer;\n    this.horizontal = false;\n  }\n  ScaleLegendComponent.prototype.ngOnChanges = function (changes) {\n    var gradientValues = this.gradientString(this.colors.range(), this.colors.domain());\n    var direction = this.horizontal ? 'right' : 'bottom';\n    this.gradient = this.sanitizer.bypassSecurityTrustStyle(\"linear-gradient(to \" + direction + \", \" + gradientValues + \")\");\n  };\n  ScaleLegendComponent.prototype.gradientString = function (colors, splits) {\n    splits.push(1);\n    var pairs = [];\n    colors.reverse().forEach(function (c, i) {\n      pairs.push(c + \" \" + Math.round(splits[i] * 100) + \"%\");\n    });\n    return pairs.join(', ');\n  };\n  var _a;\n  __decorate([Input(), __metadata(\"design:type\", Object)], ScaleLegendComponent.prototype, \"valueRange\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], ScaleLegendComponent.prototype, \"colors\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], ScaleLegendComponent.prototype, \"height\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], ScaleLegendComponent.prototype, \"width\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], ScaleLegendComponent.prototype, \"horizontal\", void 0);\n  ScaleLegendComponent = __decorate([__metadata(\"design:paramtypes\", [typeof (_a = typeof DomSanitizer !== \"undefined\" && DomSanitizer) === \"function\" ? _a : Object])], ScaleLegendComponent);\n  ScaleLegendComponent.ɵfac = function ScaleLegendComponent_Factory(t) {\n    return new (t || ScaleLegendComponent)(ɵngcc0.ɵɵdirectiveInject(typeof (_a = typeof DomSanitizer !== \"undefined\" && DomSanitizer) === \"function\" ? _a : Object));\n  };\n  ScaleLegendComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: ScaleLegendComponent,\n    selectors: [[\"ngx-charts-scale-legend\"]],\n    inputs: {\n      horizontal: \"horizontal\",\n      valueRange: \"valueRange\",\n      colors: \"colors\",\n      height: \"height\",\n      width: \"width\"\n    },\n    features: [ɵngcc0.ɵɵNgOnChangesFeature],\n    decls: 8,\n    vars: 10,\n    consts: [[1, \"scale-legend\"], [1, \"scale-legend-label\"], [1, \"scale-legend-wrap\"]],\n    template: function ScaleLegendComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"span\");\n        ɵngcc0.ɵɵtext(3);\n        ɵngcc0.ɵɵelementEnd()();\n        ɵngcc0.ɵɵelement(4, \"div\", 2);\n        ɵngcc0.ɵɵelementStart(5, \"div\", 1)(6, \"span\");\n        ɵngcc0.ɵɵtext(7);\n        ɵngcc0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        ɵngcc0.ɵɵstyleProp(\"height\", ctx.horizontal ? undefined : ctx.height, \"px\")(\"width\", ctx.width, \"px\");\n        ɵngcc0.ɵɵclassProp(\"horizontal-legend\", ctx.horizontal);\n        ɵngcc0.ɵɵadvance(3);\n        ɵngcc0.ɵɵtextInterpolate(ctx.valueRange[1].toLocaleString());\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵstyleProp(\"background\", ctx.gradient);\n        ɵngcc0.ɵɵadvance(3);\n        ɵngcc0.ɵɵtextInterpolate(ctx.valueRange[0].toLocaleString());\n      }\n    },\n    styles: [\".chart-legend{display:inline-block;padding:0;width:auto!important}.chart-legend .scale-legend{text-align:center;display:flex;flex-direction:column}.chart-legend .scale-legend-wrap{display:inline-block;flex:1;width:30px;border-radius:5px;margin:0 auto}.chart-legend .scale-legend-label{font-size:12px}.chart-legend .horizontal-legend.scale-legend{flex-direction:row}.chart-legend .horizontal-legend .scale-legend-wrap{width:auto;height:30px;margin:0 16px}\"],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  return ScaleLegendComponent;\n}();\nvar LegendEntryComponent = /** @class */function () {\n  function LegendEntryComponent() {\n    this.isActive = false;\n    this.select = new EventEmitter();\n    this.activate = new EventEmitter();\n    this.deactivate = new EventEmitter();\n    this.toggle = new EventEmitter();\n  }\n  Object.defineProperty(LegendEntryComponent.prototype, \"trimmedLabel\", {\n    get: function () {\n      return this.formattedLabel || '(empty)';\n    },\n    enumerable: true,\n    configurable: true\n  });\n  LegendEntryComponent.prototype.onMouseEnter = function () {\n    this.activate.emit({\n      name: this.label\n    });\n  };\n  LegendEntryComponent.prototype.onMouseLeave = function () {\n    this.deactivate.emit({\n      name: this.label\n    });\n  };\n  var _a, _b, _c, _d;\n  __decorate([Input(), __metadata(\"design:type\", String)], LegendEntryComponent.prototype, \"color\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], LegendEntryComponent.prototype, \"label\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], LegendEntryComponent.prototype, \"formattedLabel\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], LegendEntryComponent.prototype, \"isActive\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", typeof (_a = typeof EventEmitter !== \"undefined\" && EventEmitter) === \"function\" ? _a : Object)], LegendEntryComponent.prototype, \"select\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", typeof (_b = typeof EventEmitter !== \"undefined\" && EventEmitter) === \"function\" ? _b : Object)], LegendEntryComponent.prototype, \"activate\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", typeof (_c = typeof EventEmitter !== \"undefined\" && EventEmitter) === \"function\" ? _c : Object)], LegendEntryComponent.prototype, \"deactivate\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", typeof (_d = typeof EventEmitter !== \"undefined\" && EventEmitter) === \"function\" ? _d : Object)], LegendEntryComponent.prototype, \"toggle\", void 0);\n  __decorate([HostListener('mouseenter'), __metadata(\"design:type\", Function), __metadata(\"design:paramtypes\", []), __metadata(\"design:returntype\", void 0)], LegendEntryComponent.prototype, \"onMouseEnter\", null);\n  __decorate([HostListener('mouseleave'), __metadata(\"design:type\", Function), __metadata(\"design:paramtypes\", []), __metadata(\"design:returntype\", void 0)], LegendEntryComponent.prototype, \"onMouseLeave\", null);\n  LegendEntryComponent.ɵfac = function LegendEntryComponent_Factory(t) {\n    return new (t || LegendEntryComponent)();\n  };\n  LegendEntryComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: LegendEntryComponent,\n    selectors: [[\"ngx-charts-legend-entry\"]],\n    hostBindings: function LegendEntryComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵlistener(\"mouseenter\", function LegendEntryComponent_mouseenter_HostBindingHandler() {\n          return ctx.onMouseEnter();\n        })(\"mouseleave\", function LegendEntryComponent_mouseleave_HostBindingHandler() {\n          return ctx.onMouseLeave();\n        });\n      }\n    },\n    inputs: {\n      isActive: \"isActive\",\n      color: \"color\",\n      label: \"label\",\n      formattedLabel: \"formattedLabel\"\n    },\n    outputs: {\n      select: \"select\",\n      activate: \"activate\",\n      deactivate: \"deactivate\",\n      toggle: \"toggle\"\n    },\n    decls: 4,\n    vars: 6,\n    consts: [[\"tabindex\", \"-1\", 3, \"title\", \"click\"], [1, \"legend-label-color\", 3, \"click\"], [1, \"legend-label-text\"]],\n    template: function LegendEntryComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"span\", 0);\n        ɵngcc0.ɵɵlistener(\"click\", function LegendEntryComponent_Template_span_click_0_listener() {\n          return ctx.select.emit(ctx.formattedLabel);\n        });\n        ɵngcc0.ɵɵelementStart(1, \"span\", 1);\n        ɵngcc0.ɵɵlistener(\"click\", function LegendEntryComponent_Template_span_click_1_listener() {\n          return ctx.toggle.emit(ctx.formattedLabel);\n        });\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(2, \"span\", 2);\n        ɵngcc0.ɵɵtext(3);\n        ɵngcc0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        ɵngcc0.ɵɵclassProp(\"active\", ctx.isActive);\n        ɵngcc0.ɵɵproperty(\"title\", ctx.formattedLabel);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵstyleProp(\"background-color\", ctx.color);\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵtextInterpolate1(\" \", ctx.trimmedLabel, \" \");\n      }\n    },\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  return LegendEntryComponent;\n}();\nfunction trimLabel(s, max$$1) {\n  if (max$$1 === void 0) {\n    max$$1 = 16;\n  }\n  if (typeof s !== 'string') {\n    if (typeof s === 'number') {\n      return s + '';\n    } else {\n      return '';\n    }\n  }\n  s = s.trim();\n  if (s.length <= max$$1) {\n    return s;\n  } else {\n    return s.slice(0, max$$1) + \"...\";\n  }\n}\nvar AdvancedLegendComponent = /** @class */function () {\n  function AdvancedLegendComponent() {\n    this.label = 'Total';\n    this.animations = true;\n    this.select = new EventEmitter();\n    this.activate = new EventEmitter();\n    this.deactivate = new EventEmitter();\n    this.legendItems = [];\n    this.labelFormatting = function (label) {\n      return label;\n    };\n    this.percentageFormatting = function (percentage) {\n      return percentage;\n    };\n    this.defaultValueFormatting = function (value) {\n      return value.toLocaleString();\n    };\n  }\n  AdvancedLegendComponent.prototype.ngOnChanges = function (changes) {\n    this.update();\n  };\n  AdvancedLegendComponent.prototype.getTotal = function () {\n    return this.data.map(function (d) {\n      return d.value;\n    }).reduce(function (sum, d) {\n      return sum + d;\n    }, 0);\n  };\n  AdvancedLegendComponent.prototype.update = function () {\n    this.total = this.getTotal();\n    this.roundedTotal = this.total;\n    this.legendItems = this.getLegendItems();\n  };\n  AdvancedLegendComponent.prototype.getLegendItems = function () {\n    var _this = this;\n    return this.data.map(function (d) {\n      var label = formatLabel(d.name);\n      var value = d.value;\n      var color = _this.colors.getColor(label);\n      var percentage = _this.total > 0 ? value / _this.total * 100 : 0;\n      var formattedLabel = typeof _this.labelFormatting === 'function' ? _this.labelFormatting(label) : label;\n      return {\n        _value: value,\n        data: d,\n        value: value,\n        color: color,\n        label: formattedLabel,\n        displayLabel: trimLabel(formattedLabel, 20),\n        origialLabel: d.name,\n        percentage: _this.percentageFormatting ? _this.percentageFormatting(percentage) : percentage.toLocaleString()\n      };\n    });\n  };\n  AdvancedLegendComponent.prototype.trackBy = function (item) {\n    return item.formattedLabel;\n  };\n  var _a, _b, _c;\n  __decorate([Input(), __metadata(\"design:type\", Number)], AdvancedLegendComponent.prototype, \"width\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], AdvancedLegendComponent.prototype, \"data\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], AdvancedLegendComponent.prototype, \"colors\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], AdvancedLegendComponent.prototype, \"label\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], AdvancedLegendComponent.prototype, \"animations\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", typeof (_a = typeof EventEmitter !== \"undefined\" && EventEmitter) === \"function\" ? _a : Object)], AdvancedLegendComponent.prototype, \"select\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", typeof (_b = typeof EventEmitter !== \"undefined\" && EventEmitter) === \"function\" ? _b : Object)], AdvancedLegendComponent.prototype, \"activate\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", typeof (_c = typeof EventEmitter !== \"undefined\" && EventEmitter) === \"function\" ? _c : Object)], AdvancedLegendComponent.prototype, \"deactivate\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Function)], AdvancedLegendComponent.prototype, \"valueFormatting\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Function)], AdvancedLegendComponent.prototype, \"labelFormatting\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Function)], AdvancedLegendComponent.prototype, \"percentageFormatting\", void 0);\n  AdvancedLegendComponent.ɵfac = function AdvancedLegendComponent_Factory(t) {\n    return new (t || AdvancedLegendComponent)();\n  };\n  AdvancedLegendComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: AdvancedLegendComponent,\n    selectors: [[\"ngx-charts-advanced-legend\"]],\n    inputs: {\n      label: \"label\",\n      animations: \"animations\",\n      labelFormatting: \"labelFormatting\",\n      percentageFormatting: \"percentageFormatting\",\n      width: \"width\",\n      data: \"data\",\n      colors: \"colors\",\n      valueFormatting: \"valueFormatting\"\n    },\n    outputs: {\n      select: \"select\",\n      activate: \"activate\",\n      deactivate: \"deactivate\"\n    },\n    features: [ɵngcc0.ɵɵNgOnChangesFeature],\n    decls: 8,\n    vars: 7,\n    consts: [[1, \"advanced-pie-legend\"], [\"class\", \"total-value\", \"ngx-charts-count-up\", \"\", 3, \"countTo\", \"valueFormatting\", 4, \"ngIf\"], [\"class\", \"total-value\", 4, \"ngIf\"], [1, \"total-label\"], [1, \"legend-items-container\"], [1, \"legend-items\"], [\"tabindex\", \"-1\", \"class\", \"legend-item\", 3, \"mouseenter\", \"mouseleave\", \"click\", 4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [\"ngx-charts-count-up\", \"\", 1, \"total-value\", 3, \"countTo\", \"valueFormatting\"], [1, \"total-value\"], [\"tabindex\", \"-1\", 1, \"legend-item\", 3, \"mouseenter\", \"mouseleave\", \"click\"], [1, \"item-color\"], [\"class\", \"item-value\", \"ngx-charts-count-up\", \"\", 3, \"countTo\", \"valueFormatting\", 4, \"ngIf\"], [\"class\", \"item-value\", 4, \"ngIf\"], [1, \"item-label\"], [\"class\", \"item-percent\", \"ngx-charts-count-up\", \"\", 3, \"countTo\", \"countSuffix\", 4, \"ngIf\"], [\"class\", \"item-percent\", 4, \"ngIf\"], [\"ngx-charts-count-up\", \"\", 1, \"item-value\", 3, \"countTo\", \"valueFormatting\"], [1, \"item-value\"], [\"ngx-charts-count-up\", \"\", 1, \"item-percent\", 3, \"countTo\", \"countSuffix\"], [1, \"item-percent\"]],\n    template: function AdvancedLegendComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"div\", 0);\n        ɵngcc0.ɵɵtemplate(1, AdvancedLegendComponent_div_1_Template, 1, 2, \"div\", 1);\n        ɵngcc0.ɵɵtemplate(2, AdvancedLegendComponent_div_2_Template, 2, 1, \"div\", 2);\n        ɵngcc0.ɵɵelementStart(3, \"div\", 3);\n        ɵngcc0.ɵɵtext(4);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(5, \"div\", 4)(6, \"div\", 5);\n        ɵngcc0.ɵɵtemplate(7, AdvancedLegendComponent_div_7_Template, 8, 7, \"div\", 6);\n        ɵngcc0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        ɵngcc0.ɵɵstyleProp(\"width\", ctx.width, \"px\");\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.animations);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", !ctx.animations);\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵtextInterpolate1(\" \", ctx.label, \" \");\n        ɵngcc0.ɵɵadvance(3);\n        ɵngcc0.ɵɵproperty(\"ngForOf\", ctx.legendItems)(\"ngForTrackBy\", ctx.trackBy);\n      }\n    },\n    dependencies: function () {\n      return [ɵngcc1.NgForOf, ɵngcc1.NgIf, CountUpDirective];\n    },\n    styles: [\".advanced-pie-legend{float:left;position:relative;top:50%;transform:translate(0,-50%)}.advanced-pie-legend .total-value{font-size:36px}.advanced-pie-legend .total-label{font-size:24px;margin-bottom:19px}.advanced-pie-legend .legend-items-container{width:100%}.advanced-pie-legend .legend-items-container .legend-items{white-space:nowrap;overflow:auto}.advanced-pie-legend .legend-items-container .legend-items .legend-item{margin-right:20px;display:inline-block;cursor:pointer}.advanced-pie-legend .legend-items-container .legend-items .legend-item:focus{outline:0}.advanced-pie-legend .legend-items-container .legend-items .legend-item:hover{color:#000;-webkit-transition:.2s;-moz-transition:.2s;transition:.2s}.advanced-pie-legend .legend-items-container .legend-items .legend-item .item-value{font-size:24px;margin-top:-6px;margin-left:11px}.advanced-pie-legend .legend-items-container .legend-items .legend-item .item-label{font-size:14px;opacity:.7;margin-left:11px;margin-top:-6px}.advanced-pie-legend .legend-items-container .legend-items .legend-item .item-percent{font-size:24px;opacity:.7;margin-left:11px}.advanced-pie-legend .legend-items-container .legend-items .legend-item .item-color{border-left:4px solid;width:4px;height:42px;float:left;margin-right:7px}\"],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  return AdvancedLegendComponent;\n}();\nvar cache = {};\n/**\n * Generates a short id.\n *\n * Description:\n *   A 4-character alphanumeric sequence (364 = 1.6 million)\n *   This should only be used for JavaScript specific models.\n *   http://stackoverflow.com/questions/6248666/how-to-generate-short-uid-like-ax4j9z-in-js\n *\n *   Example: `ebgf`\n */\nfunction id() {\n  var newId = ('0000' + (Math.random() * Math.pow(36, 4) << 0).toString(36)).slice(-4);\n  // append a 'a' because neo gets mad\n  newId = \"a\" + newId;\n  // ensure not already used\n  if (!cache[newId]) {\n    cache[newId] = true;\n    return newId;\n  }\n  return id();\n}\nvar colorSets = [{\n  name: 'vivid',\n  selectable: true,\n  group: 'Ordinal',\n  domain: ['#647c8a', '#3f51b5', '#2196f3', '#00b862', '#afdf0a', '#a7b61a', '#f3e562', '#ff9800', '#ff5722', '#ff4514']\n}, {\n  name: 'natural',\n  selectable: true,\n  group: 'Ordinal',\n  domain: ['#bf9d76', '#e99450', '#d89f59', '#f2dfa7', '#a5d7c6', '#7794b1', '#afafaf', '#707160', '#ba9383', '#d9d5c3']\n}, {\n  name: 'cool',\n  selectable: true,\n  group: 'Ordinal',\n  domain: ['#a8385d', '#7aa3e5', '#a27ea8', '#aae3f5', '#adcded', '#a95963', '#8796c0', '#7ed3ed', '#50abcc', '#ad6886']\n}, {\n  name: 'fire',\n  selectable: true,\n  group: 'Ordinal',\n  domain: ['#ff3d00', '#bf360c', '#ff8f00', '#ff6f00', '#ff5722', '#e65100', '#ffca28', '#ffab00']\n}, {\n  name: 'solar',\n  selectable: true,\n  group: 'Continuous',\n  domain: ['#fff8e1', '#ffecb3', '#ffe082', '#ffd54f', '#ffca28', '#ffc107', '#ffb300', '#ffa000', '#ff8f00', '#ff6f00']\n}, {\n  name: 'air',\n  selectable: true,\n  group: 'Continuous',\n  domain: ['#e1f5fe', '#b3e5fc', '#81d4fa', '#4fc3f7', '#29b6f6', '#03a9f4', '#039be5', '#0288d1', '#0277bd', '#01579b']\n}, {\n  name: 'aqua',\n  selectable: true,\n  group: 'Continuous',\n  domain: ['#e0f7fa', '#b2ebf2', '#80deea', '#4dd0e1', '#26c6da', '#00bcd4', '#00acc1', '#0097a7', '#00838f', '#006064']\n}, {\n  name: 'flame',\n  selectable: false,\n  group: 'Ordinal',\n  domain: ['#A10A28', '#D3342D', '#EF6D49', '#FAAD67', '#FDDE90', '#DBED91', '#A9D770', '#6CBA67', '#2C9653', '#146738']\n}, {\n  name: 'ocean',\n  selectable: false,\n  group: 'Ordinal',\n  domain: ['#1D68FB', '#33C0FC', '#4AFFFE', '#AFFFFF', '#FFFC63', '#FDBD2D', '#FC8A25', '#FA4F1E', '#FA141B', '#BA38D1']\n}, {\n  name: 'forest',\n  selectable: false,\n  group: 'Ordinal',\n  domain: ['#55C22D', '#C1F33D', '#3CC099', '#AFFFFF', '#8CFC9D', '#76CFFA', '#BA60FB', '#EE6490', '#C42A1C', '#FC9F32']\n}, {\n  name: 'horizon',\n  selectable: false,\n  group: 'Ordinal',\n  domain: ['#2597FB', '#65EBFD', '#99FDD0', '#FCEE4B', '#FEFCFA', '#FDD6E3', '#FCB1A8', '#EF6F7B', '#CB96E8', '#EFDEE0']\n}, {\n  name: 'neons',\n  selectable: false,\n  group: 'Ordinal',\n  domain: ['#FF3333', '#FF33FF', '#CC33FF', '#0000FF', '#33CCFF', '#33FFFF', '#33FF66', '#CCFF33', '#FFCC00', '#FF6600']\n}, {\n  name: 'picnic',\n  selectable: false,\n  group: 'Ordinal',\n  domain: ['#FAC51D', '#66BD6D', '#FAA026', '#29BB9C', '#E96B56', '#55ACD2', '#B7332F', '#2C83C9', '#9166B8', '#92E7E8']\n}, {\n  name: 'night',\n  selectable: false,\n  group: 'Ordinal',\n  domain: ['#2B1B5A', '#501356', '#183356', '#28203F', '#391B3C', '#1E2B3C', '#120634', '#2D0432', '#051932', '#453080', '#75267D', '#2C507D', '#4B3880', '#752F7D', '#35547D']\n}, {\n  name: 'nightLights',\n  selectable: false,\n  group: 'Ordinal',\n  domain: ['#4e31a5', '#9c25a7', '#3065ab', '#57468b', '#904497', '#46648b', '#32118d', '#a00fb3', '#1052a2', '#6e51bd', '#b63cc3', '#6c97cb', '#8671c1', '#b455be', '#7496c3']\n}];\nfunction sortLinear(data, property, direction) {\n  if (direction === void 0) {\n    direction = 'asc';\n  }\n  return data.sort(function (a, b) {\n    if (direction === 'asc') {\n      return a[property] - b[property];\n    } else {\n      return b[property] - a[property];\n    }\n  });\n}\nfunction sortByDomain(data, property, direction, domain) {\n  if (direction === void 0) {\n    direction = 'asc';\n  }\n  return data.sort(function (a, b) {\n    var aVal = a[property];\n    var bVal = b[property];\n    var aIdx = domain.indexOf(aVal);\n    var bIdx = domain.indexOf(bVal);\n    if (direction === 'asc') {\n      return aIdx - bIdx;\n    } else {\n      return bIdx - aIdx;\n    }\n  });\n}\nfunction sortByTime(data, property, direction) {\n  if (direction === void 0) {\n    direction = 'asc';\n  }\n  return data.sort(function (a, b) {\n    var aDate = a[property].getTime();\n    var bDate = b[property].getTime();\n    if (direction === 'asc') {\n      if (aDate > bDate) return 1;\n      if (bDate > aDate) return -1;\n      return 0;\n    } else {\n      if (aDate > bDate) return -1;\n      if (bDate > aDate) return 1;\n      return 0;\n    }\n  });\n}\n\n/**\n * Accepts a color (string) and returns a inverted hex color (string)\n * http://stackoverflow.com/questions/9600295/automatically-change-text-color-to-assure-readability\n *\n * @export\n * @param {any} value\n * @returns {string}\n */\nfunction invertColor(value) {\n  var color = rgb(value);\n  var r = color.r,\n    g = color.g,\n    b = color.b,\n    opacity = color.opacity;\n  if (opacity === 0) {\n    return color.toString();\n  }\n  var yiq = (r * 299 + g * 587 + b * 114) / 1000;\n  var depth = yiq >= 128 ? -.8 : .8;\n  return shadeRGBColor(color, depth);\n}\n/**\n * Given a rgb, it will darken/lighten\n * http://stackoverflow.com/questions/5560248/programmatically-lighten-or-darken-a-hex-color-or-rgb-and-blend-colors\n *\n * @export\n * @param {any} { r, g, b }\n * @param {any} percent\n * @returns\n */\nfunction shadeRGBColor(_a, percent) {\n  var r = _a.r,\n    g = _a.g,\n    b = _a.b;\n  var t = percent < 0 ? 0 : 255;\n  var p = percent < 0 ? percent * -1 : percent;\n  r = Math.round((t - r) * p) + r;\n  g = Math.round((t - g) * p) + g;\n  b = Math.round((t - b) * p) + b;\n  return \"rgb(\" + r + \", \" + g + \", \" + b + \")\";\n}\n\n/**\n * Visibility Observer\n */\nvar VisibilityObserver = /** @class */function () {\n  function VisibilityObserver(element, zone) {\n    this.element = element;\n    this.zone = zone;\n    this.visible = new EventEmitter();\n    this.isVisible = false;\n    this.runCheck();\n  }\n  VisibilityObserver.prototype.destroy = function () {\n    clearTimeout(this.timeout);\n  };\n  VisibilityObserver.prototype.onVisibilityChange = function () {\n    var _this = this;\n    // trigger zone recalc for columns\n    this.zone.run(function () {\n      _this.isVisible = true;\n      _this.visible.emit(true);\n    });\n  };\n  VisibilityObserver.prototype.runCheck = function () {\n    var _this = this;\n    var check = function () {\n      if (!_this.element) {\n        return;\n      }\n      // https://davidwalsh.name/offsetheight-visibility\n      var _a = _this.element.nativeElement,\n        offsetHeight = _a.offsetHeight,\n        offsetWidth = _a.offsetWidth;\n      if (offsetHeight && offsetWidth) {\n        clearTimeout(_this.timeout);\n        _this.onVisibilityChange();\n      } else {\n        clearTimeout(_this.timeout);\n        _this.zone.runOutsideAngular(function () {\n          _this.timeout = setTimeout(function () {\n            return check();\n          }, 100);\n        });\n      }\n    };\n    this.zone.runOutsideAngular(function () {\n      _this.timeout = setTimeout(function () {\n        return check();\n      });\n    });\n  };\n  var _a;\n  __decorate([Output(), __metadata(\"design:type\", typeof (_a = typeof EventEmitter !== \"undefined\" && EventEmitter) === \"function\" ? _a : Object)], VisibilityObserver.prototype, \"visible\", void 0);\n  VisibilityObserver.ɵfac = function VisibilityObserver_Factory(t) {\n    ɵngcc0.ɵɵinvalidFactory();\n  };\n  VisibilityObserver.ɵdir = /*@__PURE__*/ɵngcc0.ɵɵdefineDirective({\n    type: VisibilityObserver,\n    outputs: {\n      visible: \"visible\"\n    }\n  });\n  return VisibilityObserver;\n}();\nfunction isDate(value) {\n  return toString.call(value) === '[object Date]';\n}\nvar BaseChartComponent = /** @class */function () {\n  function BaseChartComponent(chartElement, zone, cd) {\n    this.chartElement = chartElement;\n    this.zone = zone;\n    this.cd = cd;\n    this.scheme = 'cool';\n    this.schemeType = 'ordinal';\n    this.animations = true;\n    this.select = new EventEmitter();\n  }\n  BaseChartComponent.prototype.ngAfterViewInit = function () {\n    this.bindWindowResizeEvent();\n    // listen for visibility of the element for hidden by default scenario\n    this.visibilityObserver = new VisibilityObserver(this.chartElement, this.zone);\n    this.visibilityObserver.visible.subscribe(this.update.bind(this));\n  };\n  BaseChartComponent.prototype.ngOnDestroy = function () {\n    this.unbindEvents();\n    if (this.visibilityObserver) {\n      this.visibilityObserver.visible.unsubscribe();\n      this.visibilityObserver.destroy();\n    }\n  };\n  BaseChartComponent.prototype.ngOnChanges = function (changes) {\n    this.update();\n  };\n  BaseChartComponent.prototype.update = function () {\n    if (this.results) {\n      this.results = this.cloneData(this.results);\n    } else {\n      this.results = [];\n    }\n    if (this.view) {\n      this.width = this.view[0];\n      this.height = this.view[1];\n    } else {\n      var dims = this.getContainerDims();\n      if (dims) {\n        this.width = dims.width;\n        this.height = dims.height;\n      }\n    }\n    // default values if width or height are 0 or undefined\n    if (!this.width) {\n      this.width = 600;\n    }\n    if (!this.height) {\n      this.height = 400;\n    }\n    this.width = Math.floor(this.width);\n    this.height = Math.floor(this.height);\n    if (this.cd) {\n      this.cd.markForCheck();\n    }\n  };\n  BaseChartComponent.prototype.getContainerDims = function () {\n    var width;\n    var height;\n    var hostElem = this.chartElement.nativeElement;\n    if (hostElem.parentNode !== null) {\n      // Get the container dimensions\n      var dims = hostElem.parentNode.getBoundingClientRect();\n      width = dims.width;\n      height = dims.height;\n    }\n    if (width && height) {\n      return {\n        width: width,\n        height: height\n      };\n    }\n    return null;\n  };\n  /**\n   * Converts all date objects that appear as name\n   * into formatted date strings\n   */\n  BaseChartComponent.prototype.formatDates = function () {\n    for (var i = 0; i < this.results.length; i++) {\n      var g = this.results[i];\n      g.label = g.name;\n      if (g.label instanceof Date) {\n        g.label = g.label.toLocaleDateString();\n      }\n      if (g.series) {\n        for (var j = 0; j < g.series.length; j++) {\n          var d = g.series[j];\n          d.label = d.name;\n          if (d.label instanceof Date) {\n            d.label = d.label.toLocaleDateString();\n          }\n        }\n      }\n    }\n  };\n  BaseChartComponent.prototype.unbindEvents = function () {\n    if (this.resizeSubscription) {\n      this.resizeSubscription.unsubscribe();\n    }\n  };\n  BaseChartComponent.prototype.bindWindowResizeEvent = function () {\n    var _this = this;\n    var source = fromEvent(window, 'resize');\n    var subscription = source.pipe(debounceTime(200)).subscribe(function (e) {\n      _this.update();\n      if (_this.cd) {\n        _this.cd.markForCheck();\n      }\n    });\n    this.resizeSubscription = subscription;\n  };\n  /**\n   * Clones the data into a new object\n   *\n   * @private\n   * @param {any} data\n   * @returns {*}\n   *\n   * @memberOf BaseChart\n   */\n  BaseChartComponent.prototype.cloneData = function (data) {\n    var results = [];\n    for (var _i = 0, data_1 = data; _i < data_1.length; _i++) {\n      var item = data_1[_i];\n      var copy = {\n        name: item['name']\n      };\n      if (item['value'] !== undefined) {\n        copy['value'] = item['value'];\n      }\n      if (item['series'] !== undefined) {\n        copy['series'] = [];\n        for (var _a = 0, _b = item['series']; _a < _b.length; _a++) {\n          var seriesItem = _b[_a];\n          var seriesItemCopy = Object.assign({}, seriesItem);\n          copy['series'].push(seriesItemCopy);\n        }\n      }\n      if (item['extra'] !== undefined) {\n        copy['extra'] = JSON.parse(JSON.stringify(item['extra']));\n      }\n      results.push(copy);\n    }\n    return results;\n  };\n  var _a, _b, _c;\n  __decorate([Input(), __metadata(\"design:type\", Object)], BaseChartComponent.prototype, \"results\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Array)], BaseChartComponent.prototype, \"view\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BaseChartComponent.prototype, \"scheme\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], BaseChartComponent.prototype, \"schemeType\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BaseChartComponent.prototype, \"customColors\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BaseChartComponent.prototype, \"animations\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", Object)], BaseChartComponent.prototype, \"select\", void 0);\n  BaseChartComponent = __decorate([__metadata(\"design:paramtypes\", [typeof (_a = typeof ElementRef !== \"undefined\" && ElementRef) === \"function\" ? _a : Object, typeof (_b = typeof NgZone !== \"undefined\" && NgZone) === \"function\" ? _b : Object, typeof (_c = typeof ChangeDetectorRef !== \"undefined\" && ChangeDetectorRef) === \"function\" ? _c : Object])], BaseChartComponent);\n  BaseChartComponent.ɵfac = function BaseChartComponent_Factory(t) {\n    return new (t || BaseChartComponent)(ɵngcc0.ɵɵdirectiveInject(typeof (_a = typeof ElementRef !== \"undefined\" && ElementRef) === \"function\" ? _a : Object), ɵngcc0.ɵɵdirectiveInject(typeof (_b = typeof NgZone !== \"undefined\" && NgZone) === \"function\" ? _b : Object), ɵngcc0.ɵɵdirectiveInject(typeof (_c = typeof ChangeDetectorRef !== \"undefined\" && ChangeDetectorRef) === \"function\" ? _c : Object));\n  };\n  BaseChartComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: BaseChartComponent,\n    selectors: [[\"base-chart\"]],\n    inputs: {\n      scheme: \"scheme\",\n      schemeType: \"schemeType\",\n      animations: \"animations\",\n      results: \"results\",\n      view: \"view\",\n      customColors: \"customColors\"\n    },\n    outputs: {\n      select: \"select\"\n    },\n    features: [ɵngcc0.ɵɵNgOnChangesFeature],\n    decls: 1,\n    vars: 0,\n    template: function BaseChartComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵelement(0, \"div\");\n      }\n    },\n    encapsulation: 2\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  return BaseChartComponent;\n}();\nvar AxisLabelComponent = /** @class */function () {\n  function AxisLabelComponent(element) {\n    this.textHeight = 25;\n    this.margin = 5;\n    this.element = element.nativeElement;\n  }\n  AxisLabelComponent.prototype.ngOnChanges = function (changes) {\n    this.update();\n  };\n  AxisLabelComponent.prototype.update = function () {\n    this.strokeWidth = '0.01';\n    this.textAnchor = 'middle';\n    this.transform = '';\n    switch (this.orient) {\n      case 'top':\n        this.y = this.offset;\n        this.x = this.width / 2;\n        break;\n      case 'bottom':\n        this.y = this.offset;\n        this.x = this.width / 2;\n        break;\n      case 'left':\n        this.y = -(this.offset + this.textHeight + this.margin);\n        this.x = -this.height / 2;\n        this.transform = 'rotate(270)';\n        break;\n      case 'right':\n        this.y = this.offset + this.margin;\n        this.x = -this.height / 2;\n        this.transform = 'rotate(270)';\n        break;\n      default:\n    }\n  };\n  var _a;\n  __decorate([Input(), __metadata(\"design:type\", Object)], AxisLabelComponent.prototype, \"orient\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], AxisLabelComponent.prototype, \"label\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], AxisLabelComponent.prototype, \"offset\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], AxisLabelComponent.prototype, \"width\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], AxisLabelComponent.prototype, \"height\", void 0);\n  AxisLabelComponent = __decorate([__metadata(\"design:paramtypes\", [typeof (_a = typeof ElementRef !== \"undefined\" && ElementRef) === \"function\" ? _a : Object])], AxisLabelComponent);\n  AxisLabelComponent.ɵfac = function AxisLabelComponent_Factory(t) {\n    return new (t || AxisLabelComponent)(ɵngcc0.ɵɵdirectiveInject(typeof (_a = typeof ElementRef !== \"undefined\" && ElementRef) === \"function\" ? _a : Object));\n  };\n  AxisLabelComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: AxisLabelComponent,\n    selectors: [[\"g\", \"ngx-charts-axis-label\", \"\"]],\n    inputs: {\n      orient: \"orient\",\n      label: \"label\",\n      offset: \"offset\",\n      width: \"width\",\n      height: \"height\"\n    },\n    features: [ɵngcc0.ɵɵNgOnChangesFeature],\n    attrs: _c3,\n    decls: 2,\n    vars: 6,\n    template: function AxisLabelComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵnamespaceSVG();\n        ɵngcc0.ɵɵelementStart(0, \"text\");\n        ɵngcc0.ɵɵtext(1);\n        ɵngcc0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        ɵngcc0.ɵɵattribute(\"stroke-width\", ctx.strokeWidth)(\"x\", ctx.x)(\"y\", ctx.y)(\"text-anchor\", ctx.textAnchor)(\"transform\", ctx.transform);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵtextInterpolate1(\" \", ctx.label, \" \");\n      }\n    },\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  return AxisLabelComponent;\n}();\nfunction reduceTicks(ticks, maxTicks) {\n  if (ticks.length > maxTicks) {\n    var reduced = [];\n    var modulus = Math.floor(ticks.length / maxTicks);\n    for (var i = 0; i < ticks.length; i++) {\n      if (i % modulus === 0) {\n        reduced.push(ticks[i]);\n      }\n    }\n    ticks = reduced;\n  }\n  return ticks;\n}\nvar XAxisTicksComponent = /** @class */function () {\n  function XAxisTicksComponent() {\n    this.tickArguments = [5];\n    this.tickStroke = '#ccc';\n    this.trimTicks = true;\n    this.maxTickLength = 16;\n    this.showGridLines = false;\n    this.rotateTicks = true;\n    this.dimensionsChanged = new EventEmitter();\n    this.verticalSpacing = 20;\n    this.rotateLabels = false;\n    this.innerTickSize = 6;\n    this.outerTickSize = 6;\n    this.tickPadding = 3;\n    this.textAnchor = 'middle';\n    this.maxTicksLength = 0;\n    this.maxAllowedLength = 16;\n    this.height = 0;\n  }\n  XAxisTicksComponent.prototype.ngOnChanges = function (changes) {\n    this.update();\n  };\n  XAxisTicksComponent.prototype.ngAfterViewInit = function () {\n    var _this = this;\n    setTimeout(function () {\n      return _this.updateDims();\n    });\n  };\n  XAxisTicksComponent.prototype.updateDims = function () {\n    var _this = this;\n    var height = parseInt(this.ticksElement.nativeElement.getBoundingClientRect().height, 10);\n    if (height !== this.height) {\n      this.height = height;\n      this.dimensionsChanged.emit({\n        height: height\n      });\n      setTimeout(function () {\n        return _this.updateDims();\n      });\n    }\n  };\n  XAxisTicksComponent.prototype.update = function () {\n    var _this = this;\n    var scale = this.scale;\n    this.ticks = this.getTicks();\n    if (this.tickFormatting) {\n      this.tickFormat = this.tickFormatting;\n    } else if (scale.tickFormat) {\n      this.tickFormat = scale.tickFormat.apply(scale, this.tickArguments);\n    } else {\n      this.tickFormat = function (d) {\n        if (d.constructor.name === 'Date') {\n          return d.toLocaleDateString();\n        }\n        return d.toLocaleString();\n      };\n    }\n    var angle = this.rotateTicks ? this.getRotationAngle(this.ticks) : null;\n    this.adjustedScale = this.scale.bandwidth ? function (d) {\n      return this.scale(d) + this.scale.bandwidth() * 0.5;\n    } : this.scale;\n    this.textTransform = '';\n    if (angle && angle !== 0) {\n      this.textTransform = \"rotate(\" + angle + \")\";\n      this.textAnchor = 'end';\n      this.verticalSpacing = 10;\n    } else {\n      this.textAnchor = 'middle';\n    }\n    setTimeout(function () {\n      return _this.updateDims();\n    });\n  };\n  XAxisTicksComponent.prototype.getRotationAngle = function (ticks) {\n    var angle = 0;\n    this.maxTicksLength = 0;\n    for (var i = 0; i < ticks.length; i++) {\n      var tick = this.tickFormat(ticks[i]).toString();\n      var tickLength = tick.length;\n      if (this.trimTicks) {\n        tickLength = this.tickTrim(tick).length;\n      }\n      if (tickLength > this.maxTicksLength) {\n        this.maxTicksLength = tickLength;\n      }\n    }\n    var len = Math.min(this.maxTicksLength, this.maxAllowedLength);\n    var charWidth = 8; // need to measure this\n    var wordWidth = len * charWidth;\n    var baseWidth = wordWidth;\n    var maxBaseWidth = Math.floor(this.width / ticks.length);\n    // calculate optimal angle\n    while (baseWidth > maxBaseWidth && angle > -90) {\n      angle -= 30;\n      baseWidth = Math.cos(angle * (Math.PI / 180)) * wordWidth;\n    }\n    return angle;\n  };\n  XAxisTicksComponent.prototype.getTicks = function () {\n    var ticks;\n    var maxTicks = this.getMaxTicks(20);\n    var maxScaleTicks = this.getMaxTicks(100);\n    if (this.tickValues) {\n      ticks = this.tickValues;\n    } else if (this.scale.ticks) {\n      ticks = this.scale.ticks.apply(this.scale, [maxScaleTicks]);\n    } else {\n      ticks = this.scale.domain();\n      ticks = reduceTicks(ticks, maxTicks);\n    }\n    return ticks;\n  };\n  XAxisTicksComponent.prototype.getMaxTicks = function (tickWidth) {\n    return Math.floor(this.width / tickWidth);\n  };\n  XAxisTicksComponent.prototype.tickTransform = function (tick) {\n    return 'translate(' + this.adjustedScale(tick) + ',' + this.verticalSpacing + ')';\n  };\n  XAxisTicksComponent.prototype.gridLineTransform = function () {\n    return \"translate(0,\" + (-this.verticalSpacing - 5) + \")\";\n  };\n  XAxisTicksComponent.prototype.tickTrim = function (label) {\n    return this.trimTicks ? trimLabel(label, this.maxTickLength) : label;\n  };\n  var _a;\n  __decorate([Input(), __metadata(\"design:type\", Object)], XAxisTicksComponent.prototype, \"scale\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], XAxisTicksComponent.prototype, \"orient\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], XAxisTicksComponent.prototype, \"tickArguments\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Array)], XAxisTicksComponent.prototype, \"tickValues\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], XAxisTicksComponent.prototype, \"tickStroke\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], XAxisTicksComponent.prototype, \"trimTicks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], XAxisTicksComponent.prototype, \"maxTickLength\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], XAxisTicksComponent.prototype, \"tickFormatting\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], XAxisTicksComponent.prototype, \"showGridLines\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], XAxisTicksComponent.prototype, \"gridLineHeight\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], XAxisTicksComponent.prototype, \"width\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], XAxisTicksComponent.prototype, \"rotateTicks\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", Object)], XAxisTicksComponent.prototype, \"dimensionsChanged\", void 0);\n  __decorate([ViewChild('ticksel', {\n    static: false\n  }), __metadata(\"design:type\", typeof (_a = typeof ElementRef !== \"undefined\" && ElementRef) === \"function\" ? _a : Object)], XAxisTicksComponent.prototype, \"ticksElement\", void 0);\n  XAxisTicksComponent.ɵfac = function XAxisTicksComponent_Factory(t) {\n    return new (t || XAxisTicksComponent)();\n  };\n  XAxisTicksComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: XAxisTicksComponent,\n    selectors: [[\"g\", \"ngx-charts-x-axis-ticks\", \"\"]],\n    viewQuery: function XAxisTicksComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵviewQuery(_c4, 5);\n      }\n      if (rf & 2) {\n        var _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.ticksElement = _t.first);\n      }\n    },\n    inputs: {\n      tickArguments: \"tickArguments\",\n      tickStroke: \"tickStroke\",\n      trimTicks: \"trimTicks\",\n      maxTickLength: \"maxTickLength\",\n      showGridLines: \"showGridLines\",\n      rotateTicks: \"rotateTicks\",\n      scale: \"scale\",\n      orient: \"orient\",\n      tickValues: \"tickValues\",\n      tickFormatting: \"tickFormatting\",\n      gridLineHeight: \"gridLineHeight\",\n      width: \"width\"\n    },\n    outputs: {\n      dimensionsChanged: \"dimensionsChanged\"\n    },\n    features: [ɵngcc0.ɵɵNgOnChangesFeature],\n    attrs: _c5,\n    decls: 4,\n    vars: 2,\n    consts: [[\"ticksel\", \"\"], [\"class\", \"tick\", 4, \"ngFor\", \"ngForOf\"], [4, \"ngFor\", \"ngForOf\"], [1, \"tick\"], [\"stroke-width\", \"0.01\"], [4, \"ngIf\"], [\"y2\", \"0\", 1, \"gridline-path\", \"gridline-path-vertical\"]],\n    template: function XAxisTicksComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵnamespaceSVG();\n        ɵngcc0.ɵɵelementStart(0, \"g\", null, 0);\n        ɵngcc0.ɵɵtemplate(2, XAxisTicksComponent__svg_g_2_Template, 5, 7, \"g\", 1);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵtemplate(3, XAxisTicksComponent__svg_g_3_Template, 2, 2, \"g\", 2);\n      }\n      if (rf & 2) {\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵproperty(\"ngForOf\", ctx.ticks);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngForOf\", ctx.ticks);\n      }\n    },\n    dependencies: [ɵngcc1.NgForOf, ɵngcc1.NgIf],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  return XAxisTicksComponent;\n}();\nvar XAxisComponent = /** @class */function () {\n  function XAxisComponent() {\n    this.rotateTicks = true;\n    this.showGridLines = false;\n    this.xOrient = 'bottom';\n    this.xAxisOffset = 0;\n    this.dimensionsChanged = new EventEmitter();\n    this.xAxisClassName = 'x axis';\n    this.labelOffset = 0;\n    this.fill = 'none';\n    this.stroke = 'stroke';\n    this.tickStroke = '#ccc';\n    this.strokeWidth = 'none';\n    this.padding = 5;\n  }\n  XAxisComponent.prototype.ngOnChanges = function (changes) {\n    this.update();\n  };\n  XAxisComponent.prototype.update = function () {\n    this.transform = \"translate(0,\" + (this.xAxisOffset + this.padding + this.dims.height) + \")\";\n    if (typeof this.xAxisTickCount !== 'undefined') {\n      this.tickArguments = [this.xAxisTickCount];\n    }\n  };\n  XAxisComponent.prototype.emitTicksHeight = function (_a) {\n    var _this = this;\n    var height = _a.height;\n    var newLabelOffset = height + 25 + 5;\n    if (newLabelOffset !== this.labelOffset) {\n      this.labelOffset = newLabelOffset;\n      setTimeout(function () {\n        _this.dimensionsChanged.emit({\n          height: height\n        });\n      }, 0);\n    }\n  };\n  var _a;\n  __decorate([Input(), __metadata(\"design:type\", Object)], XAxisComponent.prototype, \"xScale\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], XAxisComponent.prototype, \"dims\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], XAxisComponent.prototype, \"trimTicks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], XAxisComponent.prototype, \"rotateTicks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], XAxisComponent.prototype, \"maxTickLength\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], XAxisComponent.prototype, \"tickFormatting\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], XAxisComponent.prototype, \"showGridLines\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], XAxisComponent.prototype, \"showLabel\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], XAxisComponent.prototype, \"labelText\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Array)], XAxisComponent.prototype, \"ticks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], XAxisComponent.prototype, \"xAxisTickInterval\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], XAxisComponent.prototype, \"xAxisTickCount\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], XAxisComponent.prototype, \"xOrient\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], XAxisComponent.prototype, \"xAxisOffset\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", Object)], XAxisComponent.prototype, \"dimensionsChanged\", void 0);\n  __decorate([ViewChild(XAxisTicksComponent, {\n    static: false\n  }), __metadata(\"design:type\", typeof (_a = typeof XAxisTicksComponent !== \"undefined\" && XAxisTicksComponent) === \"function\" ? _a : Object)], XAxisComponent.prototype, \"ticksComponent\", void 0);\n  XAxisComponent.ɵfac = function XAxisComponent_Factory(t) {\n    return new (t || XAxisComponent)();\n  };\n  XAxisComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: XAxisComponent,\n    selectors: [[\"g\", \"ngx-charts-x-axis\", \"\"]],\n    viewQuery: function XAxisComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵviewQuery(XAxisTicksComponent, 5);\n      }\n      if (rf & 2) {\n        var _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.ticksComponent = _t.first);\n      }\n    },\n    inputs: {\n      rotateTicks: \"rotateTicks\",\n      showGridLines: \"showGridLines\",\n      xOrient: \"xOrient\",\n      xAxisOffset: \"xAxisOffset\",\n      xScale: \"xScale\",\n      dims: \"dims\",\n      trimTicks: \"trimTicks\",\n      maxTickLength: \"maxTickLength\",\n      tickFormatting: \"tickFormatting\",\n      showLabel: \"showLabel\",\n      labelText: \"labelText\",\n      ticks: \"ticks\",\n      xAxisTickInterval: \"xAxisTickInterval\",\n      xAxisTickCount: \"xAxisTickCount\"\n    },\n    outputs: {\n      dimensionsChanged: \"dimensionsChanged\"\n    },\n    features: [ɵngcc0.ɵɵNgOnChangesFeature],\n    attrs: _c6,\n    decls: 3,\n    vars: 4,\n    consts: [[\"ngx-charts-x-axis-ticks\", \"\", 3, \"trimTicks\", \"rotateTicks\", \"maxTickLength\", \"tickFormatting\", \"tickArguments\", \"tickStroke\", \"scale\", \"orient\", \"showGridLines\", \"gridLineHeight\", \"width\", \"tickValues\", \"dimensionsChanged\", 4, \"ngIf\"], [\"ngx-charts-axis-label\", \"\", 3, \"label\", \"offset\", \"orient\", \"height\", \"width\", 4, \"ngIf\"], [\"ngx-charts-x-axis-ticks\", \"\", 3, \"trimTicks\", \"rotateTicks\", \"maxTickLength\", \"tickFormatting\", \"tickArguments\", \"tickStroke\", \"scale\", \"orient\", \"showGridLines\", \"gridLineHeight\", \"width\", \"tickValues\", \"dimensionsChanged\"], [\"ngx-charts-axis-label\", \"\", 3, \"label\", \"offset\", \"orient\", \"height\", \"width\"]],\n    template: function XAxisComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵnamespaceSVG();\n        ɵngcc0.ɵɵelementStart(0, \"g\");\n        ɵngcc0.ɵɵtemplate(1, XAxisComponent__svg_g_1_Template, 1, 12, \"g\", 0);\n        ɵngcc0.ɵɵtemplate(2, XAxisComponent__svg_g_2_Template, 1, 5, \"g\", 1);\n        ɵngcc0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        ɵngcc0.ɵɵattribute(\"class\", ctx.xAxisClassName)(\"transform\", ctx.transform);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.xScale);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.showLabel);\n      }\n    },\n    dependencies: [ɵngcc1.NgIf, AxisLabelComponent, XAxisTicksComponent],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  return XAxisComponent;\n}();\n\n/**\n * Generates a rounded rectanglar path\n *\n * @export\n * @param {*} x, y, w, h, r, tl, tr, bl, br\n * @returns {string}\n */\nfunction roundedRect(x, y, w, h, r, _a) {\n  var tl = _a[0],\n    tr = _a[1],\n    bl = _a[2],\n    br = _a[3];\n  var retval = '';\n  w = Math.floor(w);\n  h = Math.floor(h);\n  w = w === 0 ? 1 : w;\n  h = h === 0 ? 1 : h;\n  retval = \"M\" + [x + r, y];\n  retval += \"h\" + (w - 2 * r);\n  if (tr) {\n    retval += \"a\" + [r, r] + \" 0 0 1 \" + [r, r];\n  } else {\n    retval += \"h\" + r + \"v\" + r;\n  }\n  retval += \"v\" + (h - 2 * r);\n  if (br) {\n    retval += \"a\" + [r, r] + \" 0 0 1 \" + [-r, r];\n  } else {\n    retval += \"v\" + r + \"h\" + -r;\n  }\n  retval += \"h\" + (2 * r - w);\n  if (bl) {\n    retval += \"a\" + [r, r] + \" 0 0 1 \" + [-r, -r];\n  } else {\n    retval += \"h\" + -r + \"v\" + -r;\n  }\n  retval += \"v\" + (2 * r - h);\n  if (tl) {\n    retval += \"a\" + [r, r] + \" 0 0 1 \" + [r, -r];\n  } else {\n    retval += \"v\" + -r + \"h\" + r;\n  }\n  retval += \"z\";\n  return retval;\n}\nvar YAxisTicksComponent = /** @class */function () {\n  function YAxisTicksComponent() {\n    this.tickArguments = [5];\n    this.tickStroke = '#ccc';\n    this.trimTicks = true;\n    this.maxTickLength = 16;\n    this.showGridLines = false;\n    this.showRefLabels = false;\n    this.showRefLines = false;\n    this.dimensionsChanged = new EventEmitter();\n    this.innerTickSize = 6;\n    this.tickPadding = 3;\n    this.verticalSpacing = 20;\n    this.textAnchor = 'middle';\n    this.width = 0;\n    this.outerTickSize = 6;\n    this.rotateLabels = false;\n    this.referenceLineLength = 0;\n  }\n  YAxisTicksComponent.prototype.ngOnChanges = function (changes) {\n    this.update();\n  };\n  YAxisTicksComponent.prototype.ngAfterViewInit = function () {\n    var _this = this;\n    setTimeout(function () {\n      return _this.updateDims();\n    });\n  };\n  YAxisTicksComponent.prototype.updateDims = function () {\n    var _this = this;\n    var width = parseInt(this.ticksElement.nativeElement.getBoundingClientRect().width, 10);\n    if (width !== this.width) {\n      this.width = width;\n      this.dimensionsChanged.emit({\n        width: width\n      });\n      setTimeout(function () {\n        return _this.updateDims();\n      });\n    }\n  };\n  YAxisTicksComponent.prototype.update = function () {\n    var _this = this;\n    var scale;\n    var sign = this.orient === 'top' || this.orient === 'right' ? -1 : 1;\n    this.tickSpacing = Math.max(this.innerTickSize, 0) + this.tickPadding;\n    scale = this.scale;\n    this.ticks = this.getTicks();\n    if (this.tickFormatting) {\n      this.tickFormat = this.tickFormatting;\n    } else if (scale.tickFormat) {\n      this.tickFormat = scale.tickFormat.apply(scale, this.tickArguments);\n    } else {\n      this.tickFormat = function (d) {\n        if (d.constructor.name === 'Date') {\n          return d.toLocaleDateString();\n        }\n        return d.toLocaleString();\n      };\n    }\n    this.adjustedScale = scale.bandwidth ? function (d) {\n      return scale(d) + scale.bandwidth() * 0.5;\n    } : scale;\n    if (this.showRefLines && this.referenceLines) {\n      this.setReferencelines();\n    }\n    switch (this.orient) {\n      case 'top':\n        this.transform = function (tick) {\n          return 'translate(' + this.adjustedScale(tick) + ',0)';\n        };\n        this.textAnchor = 'middle';\n        this.y2 = this.innerTickSize * sign;\n        this.y1 = this.tickSpacing * sign;\n        this.dy = sign < 0 ? '0em' : '.71em';\n        break;\n      case 'bottom':\n        this.transform = function (tick) {\n          return 'translate(' + this.adjustedScale(tick) + ',0)';\n        };\n        this.textAnchor = 'middle';\n        this.y2 = this.innerTickSize * sign;\n        this.y1 = this.tickSpacing * sign;\n        this.dy = sign < 0 ? '0em' : '.71em';\n        break;\n      case 'left':\n        this.transform = function (tick) {\n          return 'translate(0,' + this.adjustedScale(tick) + ')';\n        };\n        this.textAnchor = 'end';\n        this.x2 = this.innerTickSize * -sign;\n        this.x1 = this.tickSpacing * -sign;\n        this.dy = '.32em';\n        break;\n      case 'right':\n        this.transform = function (tick) {\n          return 'translate(0,' + this.adjustedScale(tick) + ')';\n        };\n        this.textAnchor = 'start';\n        this.x2 = this.innerTickSize * -sign;\n        this.x1 = this.tickSpacing * -sign;\n        this.dy = '.32em';\n        break;\n      default:\n    }\n    setTimeout(function () {\n      return _this.updateDims();\n    });\n  };\n  YAxisTicksComponent.prototype.setReferencelines = function () {\n    this.refMin = this.adjustedScale(Math.min.apply(null, this.referenceLines.map(function (item) {\n      return item.value;\n    })));\n    this.refMax = this.adjustedScale(Math.max.apply(null, this.referenceLines.map(function (item) {\n      return item.value;\n    })));\n    this.referenceLineLength = this.referenceLines.length;\n    this.referenceAreaPath = roundedRect(0, this.refMax, this.gridLineWidth, this.refMin - this.refMax, 0, [false, false, false, false]);\n  };\n  YAxisTicksComponent.prototype.getTicks = function () {\n    var ticks;\n    var maxTicks = this.getMaxTicks(20);\n    var maxScaleTicks = this.getMaxTicks(50);\n    if (this.tickValues) {\n      ticks = this.tickValues;\n    } else if (this.scale.ticks) {\n      ticks = this.scale.ticks.apply(this.scale, [maxScaleTicks]);\n    } else {\n      ticks = this.scale.domain();\n      ticks = reduceTicks(ticks, maxTicks);\n    }\n    return ticks;\n  };\n  YAxisTicksComponent.prototype.getMaxTicks = function (tickHeight) {\n    return Math.floor(this.height / tickHeight);\n  };\n  YAxisTicksComponent.prototype.tickTransform = function (tick) {\n    return \"translate(\" + this.adjustedScale(tick) + \",\" + this.verticalSpacing + \")\";\n  };\n  YAxisTicksComponent.prototype.gridLineTransform = function () {\n    return \"translate(5,0)\";\n  };\n  YAxisTicksComponent.prototype.tickTrim = function (label) {\n    return this.trimTicks ? trimLabel(label, this.maxTickLength) : label;\n  };\n  var _a;\n  __decorate([Input(), __metadata(\"design:type\", Object)], YAxisTicksComponent.prototype, \"scale\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], YAxisTicksComponent.prototype, \"orient\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], YAxisTicksComponent.prototype, \"tickArguments\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Array)], YAxisTicksComponent.prototype, \"tickValues\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], YAxisTicksComponent.prototype, \"tickStroke\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], YAxisTicksComponent.prototype, \"trimTicks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], YAxisTicksComponent.prototype, \"maxTickLength\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], YAxisTicksComponent.prototype, \"tickFormatting\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], YAxisTicksComponent.prototype, \"showGridLines\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], YAxisTicksComponent.prototype, \"gridLineWidth\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], YAxisTicksComponent.prototype, \"height\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], YAxisTicksComponent.prototype, \"referenceLines\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], YAxisTicksComponent.prototype, \"showRefLabels\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], YAxisTicksComponent.prototype, \"showRefLines\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", Object)], YAxisTicksComponent.prototype, \"dimensionsChanged\", void 0);\n  __decorate([ViewChild('ticksel', {\n    static: false\n  }), __metadata(\"design:type\", typeof (_a = typeof ElementRef !== \"undefined\" && ElementRef) === \"function\" ? _a : Object)], YAxisTicksComponent.prototype, \"ticksElement\", void 0);\n  YAxisTicksComponent.ɵfac = function YAxisTicksComponent_Factory(t) {\n    return new (t || YAxisTicksComponent)();\n  };\n  YAxisTicksComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: YAxisTicksComponent,\n    selectors: [[\"g\", \"ngx-charts-y-axis-ticks\", \"\"]],\n    viewQuery: function YAxisTicksComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵviewQuery(_c4, 5);\n      }\n      if (rf & 2) {\n        var _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.ticksElement = _t.first);\n      }\n    },\n    inputs: {\n      tickArguments: \"tickArguments\",\n      tickStroke: \"tickStroke\",\n      trimTicks: \"trimTicks\",\n      maxTickLength: \"maxTickLength\",\n      showGridLines: \"showGridLines\",\n      showRefLabels: \"showRefLabels\",\n      showRefLines: \"showRefLines\",\n      scale: \"scale\",\n      orient: \"orient\",\n      tickValues: \"tickValues\",\n      tickFormatting: \"tickFormatting\",\n      gridLineWidth: \"gridLineWidth\",\n      height: \"height\",\n      referenceLines: \"referenceLines\"\n    },\n    outputs: {\n      dimensionsChanged: \"dimensionsChanged\"\n    },\n    features: [ɵngcc0.ɵɵNgOnChangesFeature],\n    attrs: _c7,\n    decls: 6,\n    vars: 4,\n    consts: [[\"ticksel\", \"\"], [\"class\", \"tick\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"reference-area\", 4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\"], [1, \"tick\"], [\"stroke-width\", \"0.01\"], [1, \"reference-area\"], [4, \"ngIf\"], [\"class\", \"gridline-path gridline-path-horizontal\", \"x1\", \"0\", 4, \"ngIf\"], [\"x1\", \"0\", 1, \"gridline-path\", \"gridline-path-horizontal\"], [\"x1\", \"0\", 1, \"refline-path\", \"gridline-path-horizontal\"], [1, \"refline-label\"]],\n    template: function YAxisTicksComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵnamespaceSVG();\n        ɵngcc0.ɵɵelementStart(0, \"g\", null, 0);\n        ɵngcc0.ɵɵtemplate(2, YAxisTicksComponent__svg_g_2_Template, 5, 9, \"g\", 1);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵtemplate(3, YAxisTicksComponent__svg_path_3_Template, 1, 2, \"path\", 2);\n        ɵngcc0.ɵɵtemplate(4, YAxisTicksComponent__svg_g_4_Template, 2, 2, \"g\", 3);\n        ɵngcc0.ɵɵtemplate(5, YAxisTicksComponent__svg_g_5_Template, 2, 1, \"g\", 3);\n      }\n      if (rf & 2) {\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵproperty(\"ngForOf\", ctx.ticks);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.referenceLineLength > 1 && ctx.refMax && ctx.refMin && ctx.showRefLines);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngForOf\", ctx.ticks);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngForOf\", ctx.referenceLines);\n      }\n    },\n    dependencies: [ɵngcc1.NgForOf, ɵngcc1.NgIf],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  return YAxisTicksComponent;\n}();\nvar YAxisComponent = /** @class */function () {\n  function YAxisComponent() {\n    this.showGridLines = false;\n    this.yOrient = 'left';\n    this.yAxisOffset = 0;\n    this.dimensionsChanged = new EventEmitter();\n    this.yAxisClassName = 'y axis';\n    this.labelOffset = 15;\n    this.fill = 'none';\n    this.stroke = '#CCC';\n    this.tickStroke = '#CCC';\n    this.strokeWidth = 1;\n    this.padding = 5;\n  }\n  YAxisComponent.prototype.ngOnChanges = function (changes) {\n    this.update();\n  };\n  YAxisComponent.prototype.update = function () {\n    this.offset = -(this.yAxisOffset + this.padding);\n    if (this.yOrient === 'right') {\n      this.labelOffset = 65;\n      this.transform = \"translate(\" + (this.offset + this.dims.width) + \" , 0)\";\n    } else {\n      this.offset = this.offset;\n      this.transform = \"translate(\" + this.offset + \" , 0)\";\n    }\n    if (this.yAxisTickCount !== undefined) {\n      this.tickArguments = [this.yAxisTickCount];\n    }\n  };\n  YAxisComponent.prototype.emitTicksWidth = function (_a) {\n    var _this = this;\n    var width = _a.width;\n    if (width !== this.labelOffset && this.yOrient === 'right') {\n      this.labelOffset = width + this.labelOffset;\n      setTimeout(function () {\n        _this.dimensionsChanged.emit({\n          width: width\n        });\n      }, 0);\n    } else if (width !== this.labelOffset) {\n      this.labelOffset = width;\n      setTimeout(function () {\n        _this.dimensionsChanged.emit({\n          width: width\n        });\n      }, 0);\n    }\n  };\n  var _a;\n  __decorate([Input(), __metadata(\"design:type\", Object)], YAxisComponent.prototype, \"yScale\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], YAxisComponent.prototype, \"dims\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], YAxisComponent.prototype, \"trimTicks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], YAxisComponent.prototype, \"maxTickLength\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], YAxisComponent.prototype, \"tickFormatting\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Array)], YAxisComponent.prototype, \"ticks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], YAxisComponent.prototype, \"showGridLines\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], YAxisComponent.prototype, \"showLabel\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], YAxisComponent.prototype, \"labelText\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], YAxisComponent.prototype, \"yAxisTickInterval\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], YAxisComponent.prototype, \"yAxisTickCount\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], YAxisComponent.prototype, \"yOrient\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], YAxisComponent.prototype, \"referenceLines\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], YAxisComponent.prototype, \"showRefLines\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], YAxisComponent.prototype, \"showRefLabels\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], YAxisComponent.prototype, \"yAxisOffset\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", Object)], YAxisComponent.prototype, \"dimensionsChanged\", void 0);\n  __decorate([ViewChild(YAxisTicksComponent, {\n    static: false\n  }), __metadata(\"design:type\", typeof (_a = typeof YAxisTicksComponent !== \"undefined\" && YAxisTicksComponent) === \"function\" ? _a : Object)], YAxisComponent.prototype, \"ticksComponent\", void 0);\n  YAxisComponent.ɵfac = function YAxisComponent_Factory(t) {\n    return new (t || YAxisComponent)();\n  };\n  YAxisComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: YAxisComponent,\n    selectors: [[\"g\", \"ngx-charts-y-axis\", \"\"]],\n    viewQuery: function YAxisComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵviewQuery(YAxisTicksComponent, 5);\n      }\n      if (rf & 2) {\n        var _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.ticksComponent = _t.first);\n      }\n    },\n    inputs: {\n      showGridLines: \"showGridLines\",\n      yOrient: \"yOrient\",\n      yAxisOffset: \"yAxisOffset\",\n      yScale: \"yScale\",\n      dims: \"dims\",\n      trimTicks: \"trimTicks\",\n      maxTickLength: \"maxTickLength\",\n      tickFormatting: \"tickFormatting\",\n      ticks: \"ticks\",\n      showLabel: \"showLabel\",\n      labelText: \"labelText\",\n      yAxisTickInterval: \"yAxisTickInterval\",\n      yAxisTickCount: \"yAxisTickCount\",\n      referenceLines: \"referenceLines\",\n      showRefLines: \"showRefLines\",\n      showRefLabels: \"showRefLabels\"\n    },\n    outputs: {\n      dimensionsChanged: \"dimensionsChanged\"\n    },\n    features: [ɵngcc0.ɵɵNgOnChangesFeature],\n    attrs: _c8,\n    decls: 3,\n    vars: 4,\n    consts: [[\"ngx-charts-y-axis-ticks\", \"\", 3, \"trimTicks\", \"maxTickLength\", \"tickFormatting\", \"tickArguments\", \"tickValues\", \"tickStroke\", \"scale\", \"orient\", \"showGridLines\", \"gridLineWidth\", \"referenceLines\", \"showRefLines\", \"showRefLabels\", \"height\", \"dimensionsChanged\", 4, \"ngIf\"], [\"ngx-charts-axis-label\", \"\", 3, \"label\", \"offset\", \"orient\", \"height\", \"width\", 4, \"ngIf\"], [\"ngx-charts-y-axis-ticks\", \"\", 3, \"trimTicks\", \"maxTickLength\", \"tickFormatting\", \"tickArguments\", \"tickValues\", \"tickStroke\", \"scale\", \"orient\", \"showGridLines\", \"gridLineWidth\", \"referenceLines\", \"showRefLines\", \"showRefLabels\", \"height\", \"dimensionsChanged\"], [\"ngx-charts-axis-label\", \"\", 3, \"label\", \"offset\", \"orient\", \"height\", \"width\"]],\n    template: function YAxisComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵnamespaceSVG();\n        ɵngcc0.ɵɵelementStart(0, \"g\");\n        ɵngcc0.ɵɵtemplate(1, YAxisComponent__svg_g_1_Template, 1, 14, \"g\", 0);\n        ɵngcc0.ɵɵtemplate(2, YAxisComponent__svg_g_2_Template, 1, 5, \"g\", 1);\n        ɵngcc0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        ɵngcc0.ɵɵattribute(\"class\", ctx.yAxisClassName)(\"transform\", ctx.transform);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.yScale);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.showLabel);\n      }\n    },\n    dependencies: [ɵngcc1.NgIf, AxisLabelComponent, YAxisTicksComponent],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  return YAxisComponent;\n}();\nvar AxesModule = /** @class */function () {\n  function AxesModule() {}\n  AxesModule.ɵfac = function AxesModule_Factory(t) {\n    return new (t || AxesModule)();\n  };\n  AxesModule.ɵmod = /*@__PURE__*/ɵngcc0.ɵɵdefineNgModule({\n    type: AxesModule\n  });\n  AxesModule.ɵinj = /*@__PURE__*/ɵngcc0.ɵɵdefineInjector({\n    imports: [CommonModule]\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  (function () {\n    (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(AxesModule, {\n      declarations: function () {\n        return [AxisLabelComponent, XAxisComponent, XAxisTicksComponent, YAxisComponent, YAxisTicksComponent];\n      },\n      imports: function () {\n        return [CommonModule];\n      },\n      exports: function () {\n        return [AxisLabelComponent, XAxisComponent, XAxisTicksComponent, YAxisComponent, YAxisTicksComponent];\n      }\n    });\n  })();\n  return AxesModule;\n}();\nvar ColorHelper = /** @class */function () {\n  function ColorHelper(scheme, type, domain, customColors) {\n    if (typeof scheme === 'string') {\n      scheme = colorSets.find(function (cs) {\n        return cs.name === scheme;\n      });\n    }\n    this.colorDomain = scheme.domain;\n    this.scaleType = type;\n    this.domain = domain;\n    this.customColors = customColors;\n    this.scale = this.generateColorScheme(scheme, type, this.domain);\n  }\n  ColorHelper.prototype.generateColorScheme = function (scheme, type, domain) {\n    if (typeof scheme === 'string') {\n      scheme = colorSets.find(function (cs) {\n        return cs.name === scheme;\n      });\n    }\n    var colorScale;\n    if (type === 'quantile') {\n      colorScale = scaleQuantile().range(scheme.domain).domain(domain);\n    } else if (type === 'ordinal') {\n      colorScale = scaleOrdinal().range(scheme.domain).domain(domain);\n    } else if (type === 'linear') {\n      // linear schemes must have at least 2 colors\n      var colorDomain = scheme.domain.slice();\n      if (colorDomain.length === 1) {\n        colorDomain.push(colorDomain[0]);\n        this.colorDomain = colorDomain;\n      }\n      var points = range(0, 1, 1.0 / colorDomain.length);\n      colorScale = scaleLinear().domain(points).range(colorDomain);\n    }\n    return colorScale;\n  };\n  ColorHelper.prototype.getColor = function (value) {\n    if (value === undefined || value === null) {\n      throw new Error('Value can not be null');\n    }\n    if (this.scaleType === 'linear') {\n      var valueScale = scaleLinear().domain(this.domain).range([0, 1]);\n      return this.scale(valueScale(value));\n    } else {\n      if (typeof this.customColors === 'function') {\n        return this.customColors(value);\n      }\n      var formattedValue_1 = value.toString();\n      var found = void 0; // todo type customColors\n      if (this.customColors && this.customColors.length > 0) {\n        found = this.customColors.find(function (mapping) {\n          return mapping.name.toLowerCase() === formattedValue_1.toLowerCase();\n        });\n      }\n      if (found) {\n        return found.value;\n      } else {\n        return this.scale(value);\n      }\n    }\n  };\n  ColorHelper.prototype.getLinearGradientStops = function (value, start) {\n    if (start === undefined) {\n      start = this.domain[0];\n    }\n    var valueScale = scaleLinear().domain(this.domain).range([0, 1]);\n    var colorValueScale = scaleBand().domain(this.colorDomain).range([0, 1]);\n    var endColor = this.getColor(value);\n    // generate the stops\n    var startVal = valueScale(start);\n    var startColor = this.getColor(start);\n    var endVal = valueScale(value);\n    var i = 1;\n    var currentVal = startVal;\n    var stops = [];\n    stops.push({\n      color: startColor,\n      offset: startVal,\n      originalOffset: startVal,\n      opacity: 1\n    });\n    while (currentVal < endVal && i < this.colorDomain.length) {\n      var color = this.colorDomain[i];\n      var offset = colorValueScale(color);\n      if (offset <= startVal) {\n        i++;\n        continue;\n      }\n      if (offset.toFixed(4) >= (endVal - colorValueScale.bandwidth()).toFixed(4)) {\n        break;\n      }\n      stops.push({\n        color: color,\n        offset: offset,\n        opacity: 1\n      });\n      currentVal = offset;\n      i++;\n    }\n    if (stops[stops.length - 1].offset < 100) {\n      stops.push({\n        color: endColor,\n        offset: endVal,\n        opacity: 1\n      });\n    }\n    if (endVal === startVal) {\n      stops[0].offset = 0;\n      stops[1].offset = 100;\n    } else {\n      // normalize the offsets into percentages\n      if (stops[stops.length - 1].offset !== 100) {\n        for (var _i = 0, stops_1 = stops; _i < stops_1.length; _i++) {\n          var s = stops_1[_i];\n          s.offset = (s.offset - startVal) / (endVal - startVal) * 100;\n        }\n      }\n    }\n    return stops;\n  };\n  return ColorHelper;\n}();\nvar CircleSeriesComponent = /** @class */function () {\n  function CircleSeriesComponent() {\n    this.type = 'standard';\n    this.tooltipDisabled = false;\n    this.select = new EventEmitter();\n    this.activate = new EventEmitter();\n    this.deactivate = new EventEmitter();\n    this.barVisible = false;\n  }\n  CircleSeriesComponent.prototype.ngOnInit = function () {\n    this.gradientId = 'grad' + id().toString();\n    this.gradientFill = \"url(#\" + this.gradientId + \")\";\n  };\n  CircleSeriesComponent.prototype.ngOnChanges = function (changes) {\n    this.update();\n  };\n  CircleSeriesComponent.prototype.update = function () {\n    this.circle = this.getActiveCircle();\n  };\n  CircleSeriesComponent.prototype.getActiveCircle = function () {\n    var _this = this;\n    var indexActiveDataPoint = this.data.series.findIndex(function (d) {\n      var label = d.name;\n      return label && _this.visibleValue && label.toString() === _this.visibleValue.toString() && d.value !== undefined;\n    });\n    if (indexActiveDataPoint === -1) {\n      // No valid point is 'active/hovered over' at this moment.\n      return undefined;\n    }\n    return this.mapDataPointToCircle(this.data.series[indexActiveDataPoint], indexActiveDataPoint);\n  };\n  CircleSeriesComponent.prototype.mapDataPointToCircle = function (d, i) {\n    var seriesName = this.data.name;\n    var value = d.value;\n    var label = d.name;\n    var tooltipLabel = formatLabel(label);\n    var cx;\n    if (this.scaleType === 'time') {\n      cx = this.xScale(label);\n    } else if (this.scaleType === 'linear') {\n      cx = this.xScale(Number(label));\n    } else {\n      cx = this.xScale(label);\n    }\n    var cy = this.yScale(this.type === 'standard' ? value : d.d1);\n    var radius = 5;\n    var height = this.yScale.range()[0] - cy;\n    var opacity = 1;\n    var color;\n    if (this.colors.scaleType === 'linear') {\n      if (this.type === 'standard') {\n        color = this.colors.getColor(value);\n      } else {\n        color = this.colors.getColor(d.d1);\n      }\n    } else {\n      color = this.colors.getColor(seriesName);\n    }\n    var data = Object.assign({}, d, {\n      series: seriesName,\n      value: value,\n      name: label\n    });\n    return {\n      classNames: [\"circle-data-\" + i],\n      value: value,\n      label: label,\n      data: data,\n      cx: cx,\n      cy: cy,\n      radius: radius,\n      height: height,\n      tooltipLabel: tooltipLabel,\n      color: color,\n      opacity: opacity,\n      seriesName: seriesName,\n      gradientStops: this.getGradientStops(color),\n      min: d.min,\n      max: d.max\n    };\n  };\n  CircleSeriesComponent.prototype.getTooltipText = function (_a) {\n    var tooltipLabel = _a.tooltipLabel,\n      value = _a.value,\n      seriesName = _a.seriesName,\n      min$$1 = _a.min,\n      max$$1 = _a.max;\n    return \"\\n      <span class=\\\"tooltip-label\\\">\" + escapeLabel(seriesName) + \" \\u2022 \" + escapeLabel(tooltipLabel) + \"</span>\\n      <span class=\\\"tooltip-val\\\">\" + value.toLocaleString() + this.getTooltipMinMaxText(min$$1, max$$1) + \"</span>\\n    \";\n  };\n  CircleSeriesComponent.prototype.getTooltipMinMaxText = function (min$$1, max$$1) {\n    if (min$$1 !== undefined || max$$1 !== undefined) {\n      var result = ' (';\n      if (min$$1 !== undefined) {\n        if (max$$1 === undefined) {\n          result += '≥';\n        }\n        result += min$$1.toLocaleString();\n        if (max$$1 !== undefined) {\n          result += ' - ';\n        }\n      } else if (max$$1 !== undefined) {\n        result += '≤';\n      }\n      if (max$$1 !== undefined) {\n        result += max$$1.toLocaleString();\n      }\n      result += ')';\n      return result;\n    } else {\n      return '';\n    }\n  };\n  CircleSeriesComponent.prototype.getGradientStops = function (color) {\n    return [{\n      offset: 0,\n      color: color,\n      opacity: 0.2\n    }, {\n      offset: 100,\n      color: color,\n      opacity: 1\n    }];\n  };\n  CircleSeriesComponent.prototype.onClick = function (data) {\n    this.select.emit(data);\n  };\n  CircleSeriesComponent.prototype.isActive = function (entry) {\n    if (!this.activeEntries) return false;\n    var item = this.activeEntries.find(function (d) {\n      return entry.name === d.name;\n    });\n    return item !== undefined;\n  };\n  CircleSeriesComponent.prototype.activateCircle = function () {\n    this.barVisible = true;\n    this.activate.emit({\n      name: this.data.name\n    });\n  };\n  CircleSeriesComponent.prototype.deactivateCircle = function () {\n    this.barVisible = false;\n    this.circle.opacity = 0;\n    this.deactivate.emit({\n      name: this.data.name\n    });\n  };\n  var _a, _b;\n  __decorate([Input(), __metadata(\"design:type\", Object)], CircleSeriesComponent.prototype, \"data\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], CircleSeriesComponent.prototype, \"type\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], CircleSeriesComponent.prototype, \"xScale\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], CircleSeriesComponent.prototype, \"yScale\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", typeof (_a = typeof ColorHelper !== \"undefined\" && ColorHelper) === \"function\" ? _a : Object)], CircleSeriesComponent.prototype, \"colors\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], CircleSeriesComponent.prototype, \"scaleType\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], CircleSeriesComponent.prototype, \"visibleValue\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Array)], CircleSeriesComponent.prototype, \"activeEntries\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], CircleSeriesComponent.prototype, \"tooltipDisabled\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", typeof (_b = typeof TemplateRef !== \"undefined\" && TemplateRef) === \"function\" ? _b : Object)], CircleSeriesComponent.prototype, \"tooltipTemplate\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", Object)], CircleSeriesComponent.prototype, \"select\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", Object)], CircleSeriesComponent.prototype, \"activate\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", Object)], CircleSeriesComponent.prototype, \"deactivate\", void 0);\n  CircleSeriesComponent.ɵfac = function CircleSeriesComponent_Factory(t) {\n    return new (t || CircleSeriesComponent)();\n  };\n  CircleSeriesComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: CircleSeriesComponent,\n    selectors: [[\"g\", \"ngx-charts-circle-series\", \"\"]],\n    inputs: {\n      type: \"type\",\n      tooltipDisabled: \"tooltipDisabled\",\n      data: \"data\",\n      xScale: \"xScale\",\n      yScale: \"yScale\",\n      colors: \"colors\",\n      scaleType: \"scaleType\",\n      visibleValue: \"visibleValue\",\n      activeEntries: \"activeEntries\",\n      tooltipTemplate: \"tooltipTemplate\"\n    },\n    outputs: {\n      select: \"select\",\n      activate: \"activate\",\n      deactivate: \"deactivate\"\n    },\n    features: [ɵngcc0.ɵɵNgOnChangesFeature],\n    attrs: _c9,\n    decls: 1,\n    vars: 1,\n    consts: [[4, \"ngIf\"], [\"ngx-charts-svg-linear-gradient\", \"\", \"orientation\", \"vertical\", 3, \"name\", \"stops\"], [\"class\", \"tooltip-bar\", 4, \"ngIf\"], [\"ngx-charts-circle\", \"\", \"ngx-tooltip\", \"\", 1, \"circle\", 3, \"cx\", \"cy\", \"r\", \"fill\", \"pointerEvents\", \"data\", \"classNames\", \"tooltipDisabled\", \"tooltipPlacement\", \"tooltipType\", \"tooltipTitle\", \"tooltipTemplate\", \"tooltipContext\", \"select\", \"activate\", \"deactivate\"], [1, \"tooltip-bar\"]],\n    template: function CircleSeriesComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵtemplate(0, CircleSeriesComponent__svg_g_0_Template, 5, 20, \"g\", 0);\n      }\n      if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.circle);\n      }\n    },\n    dependencies: function () {\n      return [ɵngcc1.NgIf, TooltipDirective, CircleComponent, SvgLinearGradientComponent];\n    },\n    encapsulation: 2,\n    data: {\n      animation: [trigger('animationState', [transition(':enter', [style({\n        opacity: 0\n      }), animate(250, style({\n        opacity: 1\n      }))])])]\n    },\n    changeDetection: 0\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  return CircleSeriesComponent;\n}();\nvar CircleComponent = /** @class */function () {\n  function CircleComponent() {\n    this.select = new EventEmitter();\n    this.activate = new EventEmitter();\n    this.deactivate = new EventEmitter();\n  }\n  CircleComponent.prototype.onClick = function () {\n    this.select.emit(this.data);\n  };\n  CircleComponent.prototype.onMouseEnter = function () {\n    this.activate.emit(this.data);\n  };\n  CircleComponent.prototype.onMouseLeave = function () {\n    this.deactivate.emit(this.data);\n  };\n  CircleComponent.prototype.ngOnChanges = function (changes) {\n    this.classNames = Array.isArray(this.classNames) ? this.classNames.join(' ') : '';\n    this.classNames += 'circle';\n  };\n  __decorate([Input(), __metadata(\"design:type\", Object)], CircleComponent.prototype, \"cx\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], CircleComponent.prototype, \"cy\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], CircleComponent.prototype, \"r\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], CircleComponent.prototype, \"fill\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], CircleComponent.prototype, \"stroke\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], CircleComponent.prototype, \"data\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], CircleComponent.prototype, \"classNames\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], CircleComponent.prototype, \"circleOpacity\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], CircleComponent.prototype, \"pointerEvents\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", Object)], CircleComponent.prototype, \"select\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", Object)], CircleComponent.prototype, \"activate\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", Object)], CircleComponent.prototype, \"deactivate\", void 0);\n  __decorate([HostListener('click'), __metadata(\"design:type\", Function), __metadata(\"design:paramtypes\", []), __metadata(\"design:returntype\", void 0)], CircleComponent.prototype, \"onClick\", null);\n  __decorate([HostListener('mouseenter'), __metadata(\"design:type\", Function), __metadata(\"design:paramtypes\", []), __metadata(\"design:returntype\", void 0)], CircleComponent.prototype, \"onMouseEnter\", null);\n  __decorate([HostListener('mouseleave'), __metadata(\"design:type\", Function), __metadata(\"design:paramtypes\", []), __metadata(\"design:returntype\", void 0)], CircleComponent.prototype, \"onMouseLeave\", null);\n  CircleComponent.ɵfac = function CircleComponent_Factory(t) {\n    return new (t || CircleComponent)();\n  };\n  CircleComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: CircleComponent,\n    selectors: [[\"g\", \"ngx-charts-circle\", \"\"]],\n    hostBindings: function CircleComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵlistener(\"click\", function CircleComponent_click_HostBindingHandler() {\n          return ctx.onClick();\n        })(\"mouseenter\", function CircleComponent_mouseenter_HostBindingHandler() {\n          return ctx.onMouseEnter();\n        })(\"mouseleave\", function CircleComponent_mouseleave_HostBindingHandler() {\n          return ctx.onMouseLeave();\n        });\n      }\n    },\n    inputs: {\n      classNames: \"classNames\",\n      cx: \"cx\",\n      cy: \"cy\",\n      r: \"r\",\n      fill: \"fill\",\n      stroke: \"stroke\",\n      data: \"data\",\n      circleOpacity: \"circleOpacity\",\n      pointerEvents: \"pointerEvents\"\n    },\n    outputs: {\n      select: \"select\",\n      activate: \"activate\",\n      deactivate: \"deactivate\"\n    },\n    features: [ɵngcc0.ɵɵNgOnChangesFeature],\n    attrs: _c11,\n    decls: 1,\n    vars: 8,\n    template: function CircleComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵnamespaceSVG();\n        ɵngcc0.ɵɵelement(0, \"circle\");\n      }\n      if (rf & 2) {\n        ɵngcc0.ɵɵattribute(\"cx\", ctx.cx)(\"cy\", ctx.cy)(\"r\", ctx.r)(\"fill\", ctx.fill)(\"stroke\", ctx.stroke)(\"opacity\", ctx.circleOpacity)(\"class\", ctx.classNames)(\"pointer-events\", ctx.pointerEvents);\n      }\n    },\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  return CircleComponent;\n}();\nvar GridPanelComponent = /** @class */function () {\n  function GridPanelComponent() {}\n  __decorate([Input(), __metadata(\"design:type\", Object)], GridPanelComponent.prototype, \"path\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], GridPanelComponent.prototype, \"width\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], GridPanelComponent.prototype, \"height\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], GridPanelComponent.prototype, \"x\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], GridPanelComponent.prototype, \"y\", void 0);\n  GridPanelComponent.ɵfac = function GridPanelComponent_Factory(t) {\n    return new (t || GridPanelComponent)();\n  };\n  GridPanelComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: GridPanelComponent,\n    selectors: [[\"g\", \"ngx-charts-grid-panel\", \"\"]],\n    inputs: {\n      path: \"path\",\n      width: \"width\",\n      height: \"height\",\n      x: \"x\",\n      y: \"y\"\n    },\n    attrs: _c12,\n    decls: 1,\n    vars: 4,\n    consts: [[\"stroke\", \"none\", 1, \"gridpanel\"]],\n    template: function GridPanelComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵnamespaceSVG();\n        ɵngcc0.ɵɵelement(0, \"rect\", 0);\n      }\n      if (rf & 2) {\n        ɵngcc0.ɵɵattribute(\"height\", ctx.height)(\"width\", ctx.width)(\"x\", ctx.x)(\"y\", ctx.y);\n      }\n    },\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  return GridPanelComponent;\n}();\nvar GridPanelSeriesComponent = /** @class */function () {\n  function GridPanelSeriesComponent() {}\n  GridPanelSeriesComponent.prototype.ngOnChanges = function (changes) {\n    this.update();\n  };\n  GridPanelSeriesComponent.prototype.update = function () {\n    this.gridPanels = this.getGridPanels();\n  };\n  GridPanelSeriesComponent.prototype.getGridPanels = function () {\n    var _this = this;\n    return this.data.map(function (d) {\n      var offset;\n      var width;\n      var height;\n      var x;\n      var y;\n      var className = 'odd';\n      if (_this.orient === 'vertical') {\n        var position = _this.xScale(d.name);\n        var positionIndex = Number.parseInt((position / _this.xScale.step()).toString(), 10);\n        if (positionIndex % 2 === 1) {\n          className = 'even';\n        }\n        offset = _this.xScale.bandwidth() * _this.xScale.paddingInner();\n        width = _this.xScale.bandwidth() + offset;\n        height = _this.dims.height;\n        x = _this.xScale(d.name) - offset / 2;\n        y = 0;\n      } else if (_this.orient === 'horizontal') {\n        var position = _this.yScale(d.name);\n        var positionIndex = Number.parseInt((position / _this.yScale.step()).toString(), 10);\n        if (positionIndex % 2 === 1) {\n          className = 'even';\n        }\n        offset = _this.yScale.bandwidth() * _this.yScale.paddingInner();\n        width = _this.dims.width;\n        height = _this.yScale.bandwidth() + offset;\n        x = 0;\n        y = _this.yScale(d.name) - offset / 2;\n      }\n      return {\n        name: d.name,\n        class: className,\n        height: height,\n        width: width,\n        x: x,\n        y: y\n      };\n    });\n  };\n  __decorate([Input(), __metadata(\"design:type\", Object)], GridPanelSeriesComponent.prototype, \"data\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], GridPanelSeriesComponent.prototype, \"dims\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], GridPanelSeriesComponent.prototype, \"xScale\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], GridPanelSeriesComponent.prototype, \"yScale\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], GridPanelSeriesComponent.prototype, \"orient\", void 0);\n  GridPanelSeriesComponent.ɵfac = function GridPanelSeriesComponent_Factory(t) {\n    return new (t || GridPanelSeriesComponent)();\n  };\n  GridPanelSeriesComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: GridPanelSeriesComponent,\n    selectors: [[\"g\", \"ngx-charts-grid-panel-series\", \"\"]],\n    inputs: {\n      data: \"data\",\n      dims: \"dims\",\n      xScale: \"xScale\",\n      yScale: \"yScale\",\n      orient: \"orient\"\n    },\n    features: [ɵngcc0.ɵɵNgOnChangesFeature],\n    attrs: _c13,\n    decls: 1,\n    vars: 1,\n    consts: [[\"ngx-charts-grid-panel\", \"\", 3, \"height\", \"width\", \"x\", \"y\", \"grid-panel\", \"odd\", \"even\", 4, \"ngFor\", \"ngForOf\"], [\"ngx-charts-grid-panel\", \"\", 3, \"height\", \"width\", \"x\", \"y\"]],\n    template: function GridPanelSeriesComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵtemplate(0, GridPanelSeriesComponent__svg_g_0_Template, 1, 10, \"g\", 0);\n      }\n      if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"ngForOf\", ctx.gridPanels);\n      }\n    },\n    dependencies: [ɵngcc1.NgForOf, GridPanelComponent],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  return GridPanelSeriesComponent;\n}();\nvar SvgLinearGradientComponent = /** @class */function () {\n  function SvgLinearGradientComponent() {\n    this.orientation = 'vertical';\n  }\n  SvgLinearGradientComponent.prototype.ngOnChanges = function (changes) {\n    this.x1 = '0%';\n    this.x2 = '0%';\n    this.y1 = '0%';\n    this.y2 = '0%';\n    if (this.orientation === 'horizontal') {\n      this.x2 = '100%';\n    } else if (this.orientation === 'vertical') {\n      this.y1 = '100%';\n    }\n  };\n  __decorate([Input(), __metadata(\"design:type\", Object)], SvgLinearGradientComponent.prototype, \"orientation\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], SvgLinearGradientComponent.prototype, \"name\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Array)], SvgLinearGradientComponent.prototype, \"stops\", void 0);\n  SvgLinearGradientComponent.ɵfac = function SvgLinearGradientComponent_Factory(t) {\n    return new (t || SvgLinearGradientComponent)();\n  };\n  SvgLinearGradientComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: SvgLinearGradientComponent,\n    selectors: [[\"g\", \"ngx-charts-svg-linear-gradient\", \"\"]],\n    inputs: {\n      orientation: \"orientation\",\n      name: \"name\",\n      stops: \"stops\"\n    },\n    features: [ɵngcc0.ɵɵNgOnChangesFeature],\n    attrs: _c14,\n    decls: 2,\n    vars: 6,\n    consts: [[3, \"id\"], [3, \"stop-color\", \"stop-opacity\", 4, \"ngFor\", \"ngForOf\"]],\n    template: function SvgLinearGradientComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵnamespaceSVG();\n        ɵngcc0.ɵɵelementStart(0, \"linearGradient\", 0);\n        ɵngcc0.ɵɵtemplate(1, SvgLinearGradientComponent__svg_stop_1_Template, 1, 5, \"stop\", 1);\n        ɵngcc0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"id\", ctx.name);\n        ɵngcc0.ɵɵattribute(\"x1\", ctx.x1)(\"y1\", ctx.y1)(\"x2\", ctx.x2)(\"y2\", ctx.y2);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngForOf\", ctx.stops);\n      }\n    },\n    dependencies: [ɵngcc1.NgForOf],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  return SvgLinearGradientComponent;\n}();\nvar SvgRadialGradientComponent = /** @class */function () {\n  function SvgRadialGradientComponent() {\n    this.endOpacity = 1;\n    this.cx = 0;\n    this.cy = 0;\n  }\n  Object.defineProperty(SvgRadialGradientComponent.prototype, \"stops\", {\n    get: function () {\n      return this.stopsInput || this.stopsDefault;\n    },\n    set: function (value) {\n      this.stopsInput = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  SvgRadialGradientComponent.prototype.ngOnChanges = function (changes) {\n    this.r = '30%';\n    if ('color' in changes || 'startOpacity' in changes || 'endOpacity' in changes) {\n      this.stopsDefault = [{\n        offset: 0,\n        color: this.color,\n        opacity: this.startOpacity\n      }, {\n        offset: 100,\n        color: this.color,\n        opacity: this.endOpacity\n      }];\n    }\n  };\n  __decorate([Input(), __metadata(\"design:type\", String)], SvgRadialGradientComponent.prototype, \"color\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], SvgRadialGradientComponent.prototype, \"name\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], SvgRadialGradientComponent.prototype, \"startOpacity\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], SvgRadialGradientComponent.prototype, \"endOpacity\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], SvgRadialGradientComponent.prototype, \"cx\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], SvgRadialGradientComponent.prototype, \"cy\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Array), __metadata(\"design:paramtypes\", [Array])], SvgRadialGradientComponent.prototype, \"stops\", null);\n  SvgRadialGradientComponent.ɵfac = function SvgRadialGradientComponent_Factory(t) {\n    return new (t || SvgRadialGradientComponent)();\n  };\n  SvgRadialGradientComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: SvgRadialGradientComponent,\n    selectors: [[\"g\", \"ngx-charts-svg-radial-gradient\", \"\"]],\n    inputs: {\n      endOpacity: \"endOpacity\",\n      cx: \"cx\",\n      cy: \"cy\",\n      stops: \"stops\",\n      color: \"color\",\n      name: \"name\",\n      startOpacity: \"startOpacity\"\n    },\n    features: [ɵngcc0.ɵɵNgOnChangesFeature],\n    attrs: _c15,\n    decls: 2,\n    vars: 5,\n    consts: [[\"gradientUnits\", \"userSpaceOnUse\", 3, \"id\"], [3, \"stop-color\", \"stop-opacity\", 4, \"ngFor\", \"ngForOf\"]],\n    template: function SvgRadialGradientComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵnamespaceSVG();\n        ɵngcc0.ɵɵelementStart(0, \"radialGradient\", 0);\n        ɵngcc0.ɵɵtemplate(1, SvgRadialGradientComponent__svg_stop_1_Template, 1, 5, \"stop\", 1);\n        ɵngcc0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"id\", ctx.name);\n        ɵngcc0.ɵɵattribute(\"cx\", ctx.cx)(\"cy\", ctx.cy)(\"r\", ctx.r);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngForOf\", ctx.stops);\n      }\n    },\n    dependencies: [ɵngcc1.NgForOf],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  return SvgRadialGradientComponent;\n}();\nvar Timeline = /** @class */function () {\n  function Timeline(element, cd) {\n    this.cd = cd;\n    this.height = 50;\n    this.select = new EventEmitter();\n    this.onDomainChange = new EventEmitter();\n    this.initialized = false;\n    this.element = element.nativeElement;\n  }\n  Timeline.prototype.ngOnChanges = function (changes) {\n    this.update();\n    if (!this.initialized) {\n      this.addBrush();\n      this.initialized = true;\n    }\n  };\n  Timeline.prototype.update = function () {\n    this.dims = this.getDims();\n    this.height = this.dims.height;\n    var offsetY = this.view[1] - this.height;\n    this.xDomain = this.getXDomain();\n    this.xScale = this.getXScale();\n    if (this.brush) {\n      this.updateBrush();\n    }\n    this.transform = \"translate(0 , \" + offsetY + \")\";\n    this.filterId = 'filter' + id().toString();\n    this.filter = \"url(#\" + this.filterId + \")\";\n    this.cd.markForCheck();\n  };\n  Timeline.prototype.getXDomain = function () {\n    var values = [];\n    for (var _i = 0, _a = this.results; _i < _a.length; _i++) {\n      var results = _a[_i];\n      for (var _b = 0, _c = results.series; _b < _c.length; _b++) {\n        var d = _c[_b];\n        if (!values.includes(d.name)) {\n          values.push(d.name);\n        }\n      }\n    }\n    var domain = [];\n    if (this.scaleType === 'time') {\n      var min$$1 = Math.min.apply(Math, values);\n      var max$$1 = Math.max.apply(Math, values);\n      domain = [min$$1, max$$1];\n    } else if (this.scaleType === 'linear') {\n      values = values.map(function (v) {\n        return Number(v);\n      });\n      var min$$1 = Math.min.apply(Math, values);\n      var max$$1 = Math.max.apply(Math, values);\n      domain = [min$$1, max$$1];\n    } else {\n      domain = values;\n    }\n    return domain;\n  };\n  Timeline.prototype.getXScale = function () {\n    var scale;\n    if (this.scaleType === 'time') {\n      scale = scaleTime().range([0, this.dims.width]).domain(this.xDomain);\n    } else if (this.scaleType === 'linear') {\n      scale = scaleLinear().range([0, this.dims.width]).domain(this.xDomain);\n    } else if (this.scaleType === 'ordinal') {\n      scale = scalePoint().range([0, this.dims.width]).padding(0.1).domain(this.xDomain);\n    }\n    return scale;\n  };\n  Timeline.prototype.addBrush = function () {\n    var _this = this;\n    if (this.brush) return;\n    var height = this.height;\n    var width = this.view[0];\n    this.brush = brushX().extent([[0, 0], [width, height]]).on('brush end', function () {\n      var selection = event.selection || _this.xScale.range();\n      var newDomain = selection.map(_this.xScale.invert);\n      _this.onDomainChange.emit(newDomain);\n      _this.cd.markForCheck();\n    });\n    select(this.element).select('.brush').call(this.brush);\n  };\n  Timeline.prototype.updateBrush = function () {\n    if (!this.brush) return;\n    var height = this.height;\n    var width = this.view[0];\n    this.brush.extent([[0, 0], [width, height]]);\n    select(this.element).select('.brush').call(this.brush);\n    select(this.element).select('.selection').attr('fill', undefined).attr('stroke', undefined).attr('fill-opacity', undefined);\n    this.cd.markForCheck();\n  };\n  Timeline.prototype.getDims = function () {\n    var width = this.view[0];\n    var dims = {\n      width: width,\n      height: this.height\n    };\n    return dims;\n  };\n  var _a, _b;\n  __decorate([Input(), __metadata(\"design:type\", Object)], Timeline.prototype, \"view\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], Timeline.prototype, \"state\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], Timeline.prototype, \"results\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], Timeline.prototype, \"scheme\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], Timeline.prototype, \"customColors\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], Timeline.prototype, \"legend\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], Timeline.prototype, \"miniChart\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], Timeline.prototype, \"autoScale\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], Timeline.prototype, \"scaleType\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], Timeline.prototype, \"height\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", Object)], Timeline.prototype, \"select\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", Object)], Timeline.prototype, \"onDomainChange\", void 0);\n  Timeline = __decorate([__metadata(\"design:paramtypes\", [typeof (_a = typeof ElementRef !== \"undefined\" && ElementRef) === \"function\" ? _a : Object, typeof (_b = typeof ChangeDetectorRef !== \"undefined\" && ChangeDetectorRef) === \"function\" ? _b : Object])], Timeline);\n  Timeline.ɵfac = function Timeline_Factory(t) {\n    return new (t || Timeline)(ɵngcc0.ɵɵdirectiveInject(typeof (_a = typeof ElementRef !== \"undefined\" && ElementRef) === \"function\" ? _a : Object), ɵngcc0.ɵɵdirectiveInject(typeof (_b = typeof ChangeDetectorRef !== \"undefined\" && ChangeDetectorRef) === \"function\" ? _b : Object));\n  };\n  Timeline.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: Timeline,\n    selectors: [[\"g\", \"ngx-charts-timeline\", \"\"]],\n    inputs: {\n      height: \"height\",\n      view: \"view\",\n      state: \"state\",\n      results: \"results\",\n      scheme: \"scheme\",\n      customColors: \"customColors\",\n      legend: \"legend\",\n      miniChart: \"miniChart\",\n      autoScale: \"autoScale\",\n      scaleType: \"scaleType\"\n    },\n    outputs: {\n      select: \"select\",\n      onDomainChange: \"onDomainChange\"\n    },\n    features: [ɵngcc0.ɵɵNgOnChangesFeature],\n    attrs: _c16,\n    ngContentSelectors: _c2,\n    decls: 7,\n    vars: 4,\n    consts: [[1, \"timeline\"], [\"in\", \"SourceGraphic\", \"type\", \"matrix\", \"values\", \"0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0\"], [1, \"embedded-chart\"], [\"x\", \"0\", \"y\", \"0\", 1, \"brush-background\"], [1, \"brush\"]],\n    template: function Timeline_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵprojectionDef();\n        ɵngcc0.ɵɵnamespaceSVG();\n        ɵngcc0.ɵɵelementStart(0, \"g\", 0)(1, \"filter\");\n        ɵngcc0.ɵɵelement(2, \"feColorMatrix\", 1);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(3, \"g\", 2);\n        ɵngcc0.ɵɵprojection(4);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelement(5, \"rect\", 3)(6, \"g\", 4);\n        ɵngcc0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        ɵngcc0.ɵɵattribute(\"transform\", ctx.transform);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵattribute(\"id\", ctx.filterId);\n        ɵngcc0.ɵɵadvance(4);\n        ɵngcc0.ɵɵattribute(\"width\", ctx.view[0])(\"height\", ctx.height);\n      }\n    },\n    styles: [\".timeline .brush-background{fill:rgba(0,0,0,.05)}.timeline .brush .selection{fill:rgba(0,0,0,.1);stroke-width:1px;stroke:#888}.timeline .brush .handle{fill-opacity:0}.timeline .embedded-chart{opacity:.6}\"],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  return Timeline;\n}();\nvar AreaComponent = /** @class */function () {\n  function AreaComponent(element) {\n    this.opacity = 1;\n    this.startOpacity = 0.5;\n    this.endOpacity = 1;\n    this.gradient = false;\n    this.animations = true;\n    this.select = new EventEmitter();\n    this.initialized = false;\n    this.hasGradient = false;\n    this.element = element.nativeElement;\n  }\n  AreaComponent.prototype.ngOnChanges = function (changes) {\n    if (!this.initialized) {\n      this.loadAnimation();\n      this.initialized = true;\n    } else {\n      this.update();\n    }\n  };\n  AreaComponent.prototype.update = function () {\n    this.gradientId = 'grad' + id().toString();\n    this.gradientFill = \"url(#\" + this.gradientId + \")\";\n    if (this.gradient || this.stops) {\n      this.gradientStops = this.getGradient();\n      this.hasGradient = true;\n    } else {\n      this.hasGradient = false;\n    }\n    this.updatePathEl();\n  };\n  AreaComponent.prototype.loadAnimation = function () {\n    this.areaPath = this.startingPath;\n    setTimeout(this.update.bind(this), 100);\n  };\n  AreaComponent.prototype.updatePathEl = function () {\n    var node = select(this.element).select('.area');\n    if (this.animations) {\n      node.transition().duration(750).attr('d', this.path);\n    } else {\n      node.attr('d', this.path);\n    }\n  };\n  AreaComponent.prototype.getGradient = function () {\n    if (this.stops) {\n      return this.stops;\n    }\n    return [{\n      offset: 0,\n      color: this.fill,\n      opacity: this.startOpacity\n    }, {\n      offset: 100,\n      color: this.fill,\n      opacity: this.endOpacity\n    }];\n  };\n  var _a;\n  __decorate([Input(), __metadata(\"design:type\", Object)], AreaComponent.prototype, \"data\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], AreaComponent.prototype, \"path\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], AreaComponent.prototype, \"startingPath\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], AreaComponent.prototype, \"fill\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], AreaComponent.prototype, \"opacity\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], AreaComponent.prototype, \"startOpacity\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], AreaComponent.prototype, \"endOpacity\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], AreaComponent.prototype, \"activeLabel\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], AreaComponent.prototype, \"gradient\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Array)], AreaComponent.prototype, \"stops\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], AreaComponent.prototype, \"animations\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", Object)], AreaComponent.prototype, \"select\", void 0);\n  AreaComponent = __decorate([__metadata(\"design:paramtypes\", [typeof (_a = typeof ElementRef !== \"undefined\" && ElementRef) === \"function\" ? _a : Object])], AreaComponent);\n  AreaComponent.ɵfac = function AreaComponent_Factory(t) {\n    return new (t || AreaComponent)(ɵngcc0.ɵɵdirectiveInject(typeof (_a = typeof ElementRef !== \"undefined\" && ElementRef) === \"function\" ? _a : Object));\n  };\n  AreaComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: AreaComponent,\n    selectors: [[\"g\", \"ngx-charts-area\", \"\"]],\n    inputs: {\n      opacity: \"opacity\",\n      startOpacity: \"startOpacity\",\n      endOpacity: \"endOpacity\",\n      gradient: \"gradient\",\n      animations: \"animations\",\n      data: \"data\",\n      path: \"path\",\n      startingPath: \"startingPath\",\n      fill: \"fill\",\n      activeLabel: \"activeLabel\",\n      stops: \"stops\"\n    },\n    outputs: {\n      select: \"select\"\n    },\n    features: [ɵngcc0.ɵɵNgOnChangesFeature],\n    attrs: _c17,\n    decls: 2,\n    vars: 5,\n    consts: [[4, \"ngIf\"], [1, \"area\"], [\"ngx-charts-svg-linear-gradient\", \"\", \"orientation\", \"vertical\", 3, \"name\", \"stops\"]],\n    template: function AreaComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵtemplate(0, AreaComponent__svg_defs_0_Template, 2, 2, \"defs\", 0);\n        ɵngcc0.ɵɵnamespaceSVG();\n        ɵngcc0.ɵɵelement(1, \"path\", 1);\n      }\n      if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.gradient);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵstyleProp(\"opacity\", ctx.opacity);\n        ɵngcc0.ɵɵattribute(\"d\", ctx.areaPath)(\"fill\", ctx.gradient ? ctx.gradientFill : ctx.fill);\n      }\n    },\n    dependencies: [ɵngcc1.NgIf, SvgLinearGradientComponent],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  return AreaComponent;\n}();\n\n// If we don't check whether 'window' and 'global' variables are defined,\n// code will fail in browser/node with 'variable is undefined' error.\nvar root;\nif (typeof window !== 'undefined') {\n  root = window;\n} else if (typeof global !== 'undefined') {\n  root = global;\n}\n// tslint:disable-next-line:variable-name\nvar MouseEvent = root.MouseEvent;\nfunction createMouseEvent(name, bubbles, cancelable) {\n  if (bubbles === void 0) {\n    bubbles = false;\n  }\n  if (cancelable === void 0) {\n    cancelable = true;\n  }\n  // Calling new of an event does not work correctly on IE. The following is a tested workaround\n  // See https://stackoverflow.com/questions/27176983/dispatchevent-not-working-in-ie11\n  if (typeof MouseEvent === 'function') {\n    // Sane browsers\n    return new MouseEvent(name, {\n      bubbles: bubbles,\n      cancelable: cancelable\n    });\n  } else {\n    // IE\n    var event$$1 = document.createEvent('MouseEvent');\n    event$$1.initEvent(name, bubbles, cancelable);\n    return event$$1;\n  }\n}\nvar TooltipArea = /** @class */function () {\n  function TooltipArea() {\n    this.anchorOpacity = 0;\n    this.anchorPos = -1;\n    this.anchorValues = [];\n    this.showPercentage = false;\n    this.tooltipDisabled = false;\n    this.hover = new EventEmitter();\n  }\n  TooltipArea.prototype.getValues = function (xVal) {\n    var results = [];\n    for (var _i = 0, _a = this.results; _i < _a.length; _i++) {\n      var group = _a[_i];\n      var item = group.series.find(function (d) {\n        return d.name.toString() === xVal.toString();\n      });\n      var groupName = group.name;\n      if (groupName instanceof Date) {\n        groupName = groupName.toLocaleDateString();\n      }\n      if (item) {\n        var label = item.name;\n        var val = item.value;\n        if (this.showPercentage) {\n          val = (item.d1 - item.d0).toFixed(2) + '%';\n        }\n        var color = void 0;\n        if (this.colors.scaleType === 'linear') {\n          var v = val;\n          if (item.d1) {\n            v = item.d1;\n          }\n          color = this.colors.getColor(v);\n        } else {\n          color = this.colors.getColor(group.name);\n        }\n        var data = Object.assign({}, item, {\n          value: val,\n          name: label,\n          series: groupName,\n          min: item.min,\n          max: item.max,\n          color: color\n        });\n        results.push(data);\n      }\n    }\n    return results;\n  };\n  TooltipArea.prototype.mouseMove = function (event$$1) {\n    var xPos = event$$1.pageX - event$$1.target.getBoundingClientRect().left;\n    var closestIndex = this.findClosestPointIndex(xPos);\n    var closestPoint = this.xSet[closestIndex];\n    this.anchorPos = this.xScale(closestPoint);\n    this.anchorPos = Math.max(0, this.anchorPos);\n    this.anchorPos = Math.min(this.dims.width, this.anchorPos);\n    this.anchorValues = this.getValues(closestPoint);\n    if (this.anchorPos !== this.lastAnchorPos) {\n      var ev = createMouseEvent('mouseleave');\n      this.tooltipAnchor.nativeElement.dispatchEvent(ev);\n      this.anchorOpacity = 0.7;\n      this.hover.emit({\n        value: closestPoint\n      });\n      this.showTooltip();\n      this.lastAnchorPos = this.anchorPos;\n    }\n  };\n  TooltipArea.prototype.findClosestPointIndex = function (xPos) {\n    var minIndex = 0;\n    var maxIndex = this.xSet.length - 1;\n    var minDiff = Number.MAX_VALUE;\n    var closestIndex = 0;\n    while (minIndex <= maxIndex) {\n      var currentIndex = (minIndex + maxIndex) / 2 | 0;\n      var currentElement = this.xScale(this.xSet[currentIndex]);\n      var curDiff = Math.abs(currentElement - xPos);\n      if (curDiff < minDiff) {\n        minDiff = curDiff;\n        closestIndex = currentIndex;\n      }\n      if (currentElement < xPos) {\n        minIndex = currentIndex + 1;\n      } else if (currentElement > xPos) {\n        maxIndex = currentIndex - 1;\n      } else {\n        minDiff = 0;\n        closestIndex = currentIndex;\n        break;\n      }\n    }\n    return closestIndex;\n  };\n  TooltipArea.prototype.showTooltip = function () {\n    var event$$1 = createMouseEvent('mouseenter');\n    this.tooltipAnchor.nativeElement.dispatchEvent(event$$1);\n  };\n  TooltipArea.prototype.hideTooltip = function () {\n    var event$$1 = createMouseEvent('mouseleave');\n    this.tooltipAnchor.nativeElement.dispatchEvent(event$$1);\n    this.anchorOpacity = 0;\n    this.lastAnchorPos = -1;\n  };\n  TooltipArea.prototype.getToolTipText = function (tooltipItem) {\n    var result = '';\n    if (tooltipItem.series !== undefined) {\n      result += tooltipItem.series;\n    } else {\n      result += '???';\n    }\n    result += ': ';\n    if (tooltipItem.value !== undefined) {\n      result += tooltipItem.value.toLocaleString();\n    }\n    if (tooltipItem.min !== undefined || tooltipItem.max !== undefined) {\n      result += ' (';\n      if (tooltipItem.min !== undefined) {\n        if (tooltipItem.max === undefined) {\n          result += '≥';\n        }\n        result += tooltipItem.min.toLocaleString();\n        if (tooltipItem.max !== undefined) {\n          result += ' - ';\n        }\n      } else if (tooltipItem.max !== undefined) {\n        result += '≤';\n      }\n      if (tooltipItem.max !== undefined) {\n        result += tooltipItem.max.toLocaleString();\n      }\n      result += ')';\n    }\n    return result;\n  };\n  var _a;\n  __decorate([Input(), __metadata(\"design:type\", Object)], TooltipArea.prototype, \"dims\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], TooltipArea.prototype, \"xSet\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], TooltipArea.prototype, \"xScale\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], TooltipArea.prototype, \"yScale\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], TooltipArea.prototype, \"results\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], TooltipArea.prototype, \"colors\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], TooltipArea.prototype, \"showPercentage\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], TooltipArea.prototype, \"tooltipDisabled\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", typeof (_a = typeof TemplateRef !== \"undefined\" && TemplateRef) === \"function\" ? _a : Object)], TooltipArea.prototype, \"tooltipTemplate\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", Object)], TooltipArea.prototype, \"hover\", void 0);\n  __decorate([ViewChild('tooltipAnchor', {\n    static: false\n  }), __metadata(\"design:type\", Object)], TooltipArea.prototype, \"tooltipAnchor\", void 0);\n  TooltipArea.ɵfac = function TooltipArea_Factory(t) {\n    return new (t || TooltipArea)();\n  };\n  TooltipArea.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: TooltipArea,\n    selectors: [[\"g\", \"ngx-charts-tooltip-area\", \"\"]],\n    viewQuery: function TooltipArea_Query(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵviewQuery(_c18, 5);\n      }\n      if (rf & 2) {\n        var _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.tooltipAnchor = _t.first);\n      }\n    },\n    inputs: {\n      showPercentage: \"showPercentage\",\n      tooltipDisabled: \"tooltipDisabled\",\n      dims: \"dims\",\n      xSet: \"xSet\",\n      xScale: \"xScale\",\n      yScale: \"yScale\",\n      results: \"results\",\n      colors: \"colors\",\n      tooltipTemplate: \"tooltipTemplate\"\n    },\n    outputs: {\n      hover: \"hover\"\n    },\n    attrs: _c19,\n    decls: 6,\n    vars: 18,\n    consts: [[\"y\", \"0\", 1, \"tooltip-area\", 2, \"opacity\", \"0\", \"cursor\", \"'auto'\", 3, \"mousemove\", \"mouseleave\"], [\"defaultTooltipTemplate\", \"\"], [\"y\", \"0\", \"ngx-tooltip\", \"\", 1, \"tooltip-anchor\", 3, \"tooltipDisabled\", \"tooltipPlacement\", \"tooltipType\", \"tooltipSpacing\", \"tooltipTemplate\", \"tooltipContext\", \"tooltipImmediateExit\"], [\"tooltipAnchor\", \"\"], [1, \"area-tooltip-container\"], [\"class\", \"tooltip-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"tooltip-item\"], [1, \"tooltip-item-color\"]],\n    template: function TooltipArea_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵnamespaceSVG();\n        ɵngcc0.ɵɵelementStart(0, \"g\")(1, \"rect\", 0);\n        ɵngcc0.ɵɵlistener(\"mousemove\", function TooltipArea_Template__svg_rect_mousemove_1_listener($event) {\n          return ctx.mouseMove($event);\n        })(\"mouseleave\", function TooltipArea_Template__svg_rect_mouseleave_1_listener() {\n          return ctx.hideTooltip();\n        });\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵtemplate(2, TooltipArea__xhtml_ng_template_2_Template, 2, 1, \"ng-template\", null, 1, ɵngcc0.ɵɵtemplateRefExtractor);\n        ɵngcc0.ɵɵelement(4, \"rect\", 2, 3);\n        ɵngcc0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        var _r0 = ɵngcc0.ɵɵreference(3);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵattribute(\"x\", 0)(\"width\", ctx.dims.width)(\"height\", ctx.dims.height);\n        ɵngcc0.ɵɵadvance(3);\n        ɵngcc0.ɵɵstyleProp(\"opacity\", ctx.anchorOpacity)(\"pointer-events\", \"none\");\n        ɵngcc0.ɵɵproperty(\"@animationState\", ctx.anchorOpacity !== 0 ? \"active\" : \"inactive\")(\"tooltipDisabled\", ctx.tooltipDisabled)(\"tooltipPlacement\", \"right\")(\"tooltipType\", \"tooltip\")(\"tooltipSpacing\", 15)(\"tooltipTemplate\", ctx.tooltipTemplate ? ctx.tooltipTemplate : _r0)(\"tooltipContext\", ctx.anchorValues)(\"tooltipImmediateExit\", true);\n        ɵngcc0.ɵɵattribute(\"x\", ctx.anchorPos)(\"width\", 1)(\"height\", ctx.dims.height);\n      }\n    },\n    dependencies: [ɵngcc1.NgForOf, TooltipDirective],\n    encapsulation: 2,\n    data: {\n      animation: [trigger('animationState', [transition('inactive => active', [style({\n        opacity: 0\n      }), animate(250, style({\n        opacity: 0.7\n      }))]), transition('active => inactive', [style({\n        opacity: 0.7\n      }), animate(250, style({\n        opacity: 0\n      }))])])]\n    },\n    changeDetection: 0\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  return TooltipArea;\n}();\n\n// Robert Penner's easeOutExpo\nfunction easeOutExpo(t, b, c, d) {\n  return c * (-Math.pow(2, -10 * t / d) + 1) * 1024 / 1023 + b;\n}\n/**\n * Counts from a number to the end incrementally.\n *\n * @export\n * @param {any} countFrom\n * @param {any} countTo\n * @param {any} countDecimals\n * @param {any} countDuration\n * @param {any} callback\n * @returns\n */\nfunction count(countFrom, countTo, countDecimals, countDuration, callback) {\n  var startVal = Number(countFrom);\n  var endVal = Number(countTo);\n  var countDown = startVal > endVal;\n  var decimals = Math.max(0, countDecimals);\n  var dec = Math.pow(10, decimals);\n  var duration = Number(countDuration) * 1000;\n  var startTime;\n  function runCount(timestamp) {\n    var frameVal;\n    var progress = timestamp - startTime;\n    if (countDown) {\n      frameVal = startVal - easeOutExpo(progress, 0, startVal - endVal, duration);\n    } else {\n      frameVal = easeOutExpo(progress, startVal, endVal - startVal, duration);\n    }\n    if (countDown) {\n      frameVal = frameVal < endVal ? endVal : frameVal;\n    } else {\n      frameVal = frameVal > endVal ? endVal : frameVal;\n    }\n    frameVal = Math.round(frameVal * dec) / dec;\n    var tick = progress < duration;\n    callback({\n      value: frameVal,\n      progress: progress,\n      timestamp: timestamp,\n      finished: !tick\n    });\n    if (tick) {\n      return requestAnimationFrame(function (val) {\n        return runCount(val);\n      });\n    }\n  }\n  return requestAnimationFrame(function (timestamp) {\n    startTime = timestamp;\n    return runCount(timestamp);\n  });\n}\n/**\n * Determine decimals places\n *\n * @export\n * @param {any} countTo\n * @returns\n */\nfunction decimalChecker(countTo) {\n  var endVal = Number(countTo);\n  if (endVal % 1 !== 0 && Math.abs(endVal) <= 10) {\n    return 2;\n  }\n  return 0;\n}\n\n/**\n * Count up component\n *\n * Loosely inspired by:\n *  - https://github.com/izupet/angular2-counto\n *  - https://inorganik.github.io/countUp.js/\n *\n * @export\n * @class CountUpDirective\n */\nvar CountUpDirective = /** @class */function () {\n  function CountUpDirective(cd, element) {\n    this.cd = cd;\n    this.countDuration = 1;\n    this.countPrefix = '';\n    this.countSuffix = '';\n    this.countChange = new EventEmitter();\n    this.countFinish = new EventEmitter();\n    this.value = '';\n    this._countDecimals = 0;\n    this._countTo = 0;\n    this._countFrom = 0;\n    this.nativeElement = element.nativeElement;\n  }\n  Object.defineProperty(CountUpDirective.prototype, \"countDecimals\", {\n    get: function () {\n      if (this._countDecimals) return this._countDecimals;\n      return decimalChecker(this.countTo);\n    },\n    set: function (val) {\n      this._countDecimals = val;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(CountUpDirective.prototype, \"countTo\", {\n    get: function () {\n      return this._countTo;\n    },\n    set: function (val) {\n      this._countTo = parseFloat(val);\n      this.start();\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(CountUpDirective.prototype, \"countFrom\", {\n    get: function () {\n      return this._countFrom;\n    },\n    set: function (val) {\n      this._countFrom = parseFloat(val);\n      this.start();\n    },\n    enumerable: true,\n    configurable: true\n  });\n  CountUpDirective.prototype.ngOnDestroy = function () {\n    cancelAnimationFrame(this.animationReq);\n  };\n  CountUpDirective.prototype.start = function () {\n    var _this = this;\n    cancelAnimationFrame(this.animationReq);\n    var valueFormatting = this.valueFormatting || function (value) {\n      return \"\" + _this.countPrefix + value.toLocaleString() + _this.countSuffix;\n    };\n    var callback = function (_a) {\n      var value = _a.value,\n        progress = _a.progress,\n        finished = _a.finished;\n      _this.value = valueFormatting(value);\n      _this.cd.markForCheck();\n      if (!finished) _this.countChange.emit({\n        value: _this.value,\n        progress: progress\n      });\n      if (finished) _this.countFinish.emit({\n        value: _this.value,\n        progress: progress\n      });\n    };\n    this.animationReq = count(this.countFrom, this.countTo, this.countDecimals, this.countDuration, callback);\n  };\n  var _a, _b;\n  __decorate([Input(), __metadata(\"design:type\", Number)], CountUpDirective.prototype, \"countDuration\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], CountUpDirective.prototype, \"countPrefix\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], CountUpDirective.prototype, \"countSuffix\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], CountUpDirective.prototype, \"valueFormatting\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number), __metadata(\"design:paramtypes\", [Number])], CountUpDirective.prototype, \"countDecimals\", null);\n  __decorate([Input(), __metadata(\"design:type\", Object), __metadata(\"design:paramtypes\", [Object])], CountUpDirective.prototype, \"countTo\", null);\n  __decorate([Input(), __metadata(\"design:type\", Object), __metadata(\"design:paramtypes\", [Object])], CountUpDirective.prototype, \"countFrom\", null);\n  __decorate([Output(), __metadata(\"design:type\", Object)], CountUpDirective.prototype, \"countChange\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", Object)], CountUpDirective.prototype, \"countFinish\", void 0);\n  CountUpDirective = __decorate([__metadata(\"design:paramtypes\", [typeof (_a = typeof ChangeDetectorRef !== \"undefined\" && ChangeDetectorRef) === \"function\" ? _a : Object, typeof (_b = typeof ElementRef !== \"undefined\" && ElementRef) === \"function\" ? _b : Object])], CountUpDirective);\n  CountUpDirective.ɵfac = function CountUpDirective_Factory(t) {\n    return new (t || CountUpDirective)(ɵngcc0.ɵɵdirectiveInject(typeof (_a = typeof ChangeDetectorRef !== \"undefined\" && ChangeDetectorRef) === \"function\" ? _a : Object), ɵngcc0.ɵɵdirectiveInject(typeof (_b = typeof ElementRef !== \"undefined\" && ElementRef) === \"function\" ? _b : Object));\n  };\n  CountUpDirective.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: CountUpDirective,\n    selectors: [[\"\", \"ngx-charts-count-up\", \"\"]],\n    inputs: {\n      countDuration: \"countDuration\",\n      countPrefix: \"countPrefix\",\n      countSuffix: \"countSuffix\",\n      countDecimals: \"countDecimals\",\n      countTo: \"countTo\",\n      countFrom: \"countFrom\",\n      valueFormatting: \"valueFormatting\"\n    },\n    outputs: {\n      countChange: \"countChange\",\n      countFinish: \"countFinish\"\n    },\n    attrs: _c20,\n    decls: 1,\n    vars: 1,\n    template: function CountUpDirective_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵtext(0);\n      }\n      if (rf & 2) {\n        ɵngcc0.ɵɵtextInterpolate(ctx.value);\n      }\n    },\n    encapsulation: 2\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  return CountUpDirective;\n}();\nvar COMPONENTS = [AreaComponent, BaseChartComponent, CountUpDirective, TooltipArea, ChartComponent, LegendComponent, LegendEntryComponent, ScaleLegendComponent, CircleComponent, CircleSeriesComponent, GridPanelComponent, GridPanelSeriesComponent, SvgLinearGradientComponent, SvgRadialGradientComponent, Timeline, AdvancedLegendComponent];\nvar ChartCommonModule = /** @class */function () {\n  function ChartCommonModule() {}\n  ChartCommonModule.ɵfac = function ChartCommonModule_Factory(t) {\n    return new (t || ChartCommonModule)();\n  };\n  ChartCommonModule.ɵmod = /*@__PURE__*/ɵngcc0.ɵɵdefineNgModule({\n    type: ChartCommonModule\n  });\n  ChartCommonModule.ɵinj = /*@__PURE__*/ɵngcc0.ɵɵdefineInjector({\n    imports: [CommonModule, AxesModule, TooltipModule, CommonModule, AxesModule, TooltipModule]\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  (function () {\n    (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(ChartCommonModule, {\n      declarations: function () {\n        return [AreaComponent, BaseChartComponent, CountUpDirective, TooltipArea, ChartComponent, LegendComponent, LegendEntryComponent, ScaleLegendComponent, CircleComponent, CircleSeriesComponent, GridPanelComponent, GridPanelSeriesComponent, SvgLinearGradientComponent, SvgRadialGradientComponent, Timeline, AdvancedLegendComponent];\n      },\n      imports: function () {\n        return [CommonModule, AxesModule, TooltipModule];\n      },\n      exports: function () {\n        return [CommonModule, AxesModule, TooltipModule, AreaComponent, BaseChartComponent, CountUpDirective, TooltipArea, ChartComponent, LegendComponent, LegendEntryComponent, ScaleLegendComponent, CircleComponent, CircleSeriesComponent, GridPanelComponent, GridPanelSeriesComponent, SvgLinearGradientComponent, SvgRadialGradientComponent, Timeline, AdvancedLegendComponent];\n      }\n    });\n  })();\n  return ChartCommonModule;\n}();\nfunction calculateViewDimensions(_a) {\n  var width = _a.width,\n    height = _a.height,\n    margins = _a.margins,\n    _b = _a.showXAxis,\n    showXAxis = _b === void 0 ? false : _b,\n    _c = _a.showYAxis,\n    showYAxis = _c === void 0 ? false : _c,\n    _d = _a.xAxisHeight,\n    xAxisHeight = _d === void 0 ? 0 : _d,\n    _e = _a.yAxisWidth,\n    yAxisWidth = _e === void 0 ? 0 : _e,\n    _f = _a.showXLabel,\n    showXLabel = _f === void 0 ? false : _f,\n    _g = _a.showYLabel,\n    showYLabel = _g === void 0 ? false : _g,\n    _h = _a.showLegend,\n    showLegend = _h === void 0 ? false : _h,\n    _j = _a.legendType,\n    legendType = _j === void 0 ? 'ordinal' : _j,\n    _k = _a.legendPosition,\n    legendPosition = _k === void 0 ? 'right' : _k,\n    _l = _a.columns,\n    columns = _l === void 0 ? 12 : _l;\n  var xOffset = margins[3];\n  var chartWidth = width;\n  var chartHeight = height - margins[0] - margins[2];\n  if (showLegend && legendPosition === 'right') {\n    if (legendType === 'ordinal') {\n      columns -= 2;\n    } else {\n      columns -= 1;\n    }\n  }\n  chartWidth = chartWidth * columns / 12;\n  chartWidth = chartWidth - margins[1] - margins[3];\n  if (showXAxis) {\n    chartHeight -= 5;\n    chartHeight -= xAxisHeight;\n    if (showXLabel) {\n      // text height + spacing between axis label and tick labels\n      var offset = 25 + 5;\n      chartHeight -= offset;\n    }\n  }\n  if (showYAxis) {\n    chartWidth -= 5;\n    chartWidth -= yAxisWidth;\n    xOffset += yAxisWidth;\n    xOffset += 10;\n    if (showYLabel) {\n      // text height + spacing between axis label and tick labels\n      var offset = 25 + 5;\n      chartWidth -= offset;\n      xOffset += offset;\n    }\n  }\n  chartWidth = Math.max(0, chartWidth);\n  chartHeight = Math.max(0, chartHeight);\n  return {\n    width: Math.floor(chartWidth),\n    height: Math.floor(chartHeight),\n    xOffset: Math.floor(xOffset)\n  };\n}\n\n/**\n * Based on the data, return an array with unique values.\n *\n * @export\n * @returns array\n * @param results\n */\nfunction getUniqueXDomainValues(results) {\n  var valueSet = new Set();\n  for (var _i = 0, results_1 = results; _i < results_1.length; _i++) {\n    var result = results_1[_i];\n    for (var _a = 0, _b = result.series; _a < _b.length; _a++) {\n      var d = _b[_a];\n      valueSet.add(d.name);\n    }\n  }\n  return Array.from(valueSet);\n}\n/**\n * Get the scaleType of enumerable of values.\n * @param values\n * @returns {string} 'time', 'linear' or 'ordinal'\n */\nfunction getScaleType(values, checkDateType) {\n  if (checkDateType === void 0) {\n    checkDateType = true;\n  }\n  if (checkDateType) {\n    var allDates = values.every(function (value) {\n      return value instanceof Date;\n    });\n    if (allDates) {\n      return 'time';\n    }\n  }\n  var allNumbers = values.every(function (value) {\n    return typeof value === 'number';\n  });\n  if (allNumbers) {\n    return 'linear';\n  }\n  return 'ordinal';\n}\nvar AreaChartComponent = /** @class */function (_super) {\n  __extends(AreaChartComponent, _super);\n  function AreaChartComponent() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.legendTitle = 'Legend';\n    _this.legendPosition = 'right';\n    _this.baseValue = 'auto';\n    _this.showGridLines = true;\n    _this.curve = curveLinear;\n    _this.activeEntries = [];\n    _this.trimXAxisTicks = true;\n    _this.trimYAxisTicks = true;\n    _this.rotateXAxisTicks = true;\n    _this.maxXAxisTickLength = 16;\n    _this.maxYAxisTickLength = 16;\n    _this.roundDomains = false;\n    _this.tooltipDisabled = false;\n    _this.activate = new EventEmitter();\n    _this.deactivate = new EventEmitter();\n    _this.margin = [10, 20, 10, 20];\n    _this.xAxisHeight = 0;\n    _this.yAxisWidth = 0;\n    _this.timelineHeight = 50;\n    _this.timelinePadding = 10;\n    return _this;\n  }\n  AreaChartComponent.prototype.update = function () {\n    _super.prototype.update.call(this);\n    this.dims = calculateViewDimensions({\n      width: this.width,\n      height: this.height,\n      margins: this.margin,\n      showXAxis: this.xAxis,\n      showYAxis: this.yAxis,\n      xAxisHeight: this.xAxisHeight,\n      yAxisWidth: this.yAxisWidth,\n      showXLabel: this.showXAxisLabel,\n      showYLabel: this.showYAxisLabel,\n      showLegend: this.legend,\n      legendType: this.schemeType,\n      legendPosition: this.legendPosition\n    });\n    if (this.timeline) {\n      this.dims.height -= this.timelineHeight + this.margin[2] + this.timelinePadding;\n    }\n    this.xDomain = this.getXDomain();\n    if (this.filteredDomain) {\n      this.xDomain = this.filteredDomain;\n    }\n    this.yDomain = this.getYDomain();\n    this.seriesDomain = this.getSeriesDomain();\n    this.xScale = this.getXScale(this.xDomain, this.dims.width);\n    this.yScale = this.getYScale(this.yDomain, this.dims.height);\n    this.updateTimeline();\n    this.setColors();\n    this.legendOptions = this.getLegendOptions();\n    this.transform = \"translate(\" + this.dims.xOffset + \", \" + this.margin[0] + \")\";\n    this.clipPathId = 'clip' + id().toString();\n    this.clipPath = \"url(#\" + this.clipPathId + \")\";\n  };\n  AreaChartComponent.prototype.updateTimeline = function () {\n    if (this.timeline) {\n      this.timelineWidth = this.dims.width;\n      this.timelineXDomain = this.getXDomain();\n      this.timelineXScale = this.getXScale(this.timelineXDomain, this.timelineWidth);\n      this.timelineYScale = this.getYScale(this.yDomain, this.timelineHeight);\n      this.timelineTransform = \"translate(\" + this.dims.xOffset + \", \" + -this.margin[2] + \")\";\n    }\n  };\n  AreaChartComponent.prototype.getXDomain = function () {\n    var values = getUniqueXDomainValues(this.results);\n    this.scaleType = getScaleType(values);\n    var domain = [];\n    if (this.scaleType === 'linear') {\n      values = values.map(function (v) {\n        return Number(v);\n      });\n    }\n    var min$$1;\n    var max$$1;\n    if (this.scaleType === 'time' || this.scaleType === 'linear') {\n      min$$1 = this.xScaleMin ? this.xScaleMin : Math.min.apply(Math, values);\n      max$$1 = this.xScaleMax ? this.xScaleMax : Math.max.apply(Math, values);\n    }\n    if (this.scaleType === 'time') {\n      domain = [new Date(min$$1), new Date(max$$1)];\n      this.xSet = values.slice().sort(function (a, b) {\n        var aDate = a.getTime();\n        var bDate = b.getTime();\n        if (aDate > bDate) return 1;\n        if (bDate > aDate) return -1;\n        return 0;\n      });\n    } else if (this.scaleType === 'linear') {\n      domain = [min$$1, max$$1];\n      this.xSet = values.slice().sort(function (a, b) {\n        return a - b;\n      });\n    } else {\n      domain = values;\n      this.xSet = values;\n    }\n    return domain;\n  };\n  AreaChartComponent.prototype.getYDomain = function () {\n    var domain = [];\n    for (var _i = 0, _a = this.results; _i < _a.length; _i++) {\n      var results = _a[_i];\n      for (var _b = 0, _c = results.series; _b < _c.length; _b++) {\n        var d = _c[_b];\n        if (!domain.includes(d.value)) {\n          domain.push(d.value);\n        }\n      }\n    }\n    var values = domain.slice();\n    if (!this.autoScale) {\n      values.push(0);\n    }\n    if (this.baseValue !== 'auto') {\n      values.push(this.baseValue);\n    }\n    var min$$1 = this.yScaleMin ? this.yScaleMin : Math.min.apply(Math, values);\n    var max$$1 = this.yScaleMax ? this.yScaleMax : Math.max.apply(Math, values);\n    return [min$$1, max$$1];\n  };\n  AreaChartComponent.prototype.getSeriesDomain = function () {\n    return this.results.map(function (d) {\n      return d.name;\n    });\n  };\n  AreaChartComponent.prototype.getXScale = function (domain, width) {\n    var scale;\n    if (this.scaleType === 'time') {\n      scale = scaleTime();\n    } else if (this.scaleType === 'linear') {\n      scale = scaleLinear();\n    } else if (this.scaleType === 'ordinal') {\n      scale = scalePoint().padding(0.1);\n    }\n    scale.range([0, width]).domain(domain);\n    return this.roundDomains ? scale.nice() : scale;\n  };\n  AreaChartComponent.prototype.getYScale = function (domain, height) {\n    var scale = scaleLinear().range([height, 0]).domain(domain);\n    return this.roundDomains ? scale.nice() : scale;\n  };\n  AreaChartComponent.prototype.getScaleType = function (values) {\n    var date = true;\n    var num = true;\n    for (var _i = 0, values_1 = values; _i < values_1.length; _i++) {\n      var value = values_1[_i];\n      if (!this.isDate(value)) {\n        date = false;\n      }\n      if (typeof value !== 'number') {\n        num = false;\n      }\n    }\n    if (date) {\n      return 'time';\n    }\n    if (num) {\n      return 'linear';\n    }\n    return 'ordinal';\n  };\n  AreaChartComponent.prototype.isDate = function (value) {\n    if (value instanceof Date) {\n      return true;\n    }\n    return false;\n  };\n  AreaChartComponent.prototype.updateDomain = function (domain) {\n    this.filteredDomain = domain;\n    this.xDomain = this.filteredDomain;\n    this.xScale = this.getXScale(this.xDomain, this.dims.width);\n  };\n  AreaChartComponent.prototype.updateHoveredVertical = function (item) {\n    this.hoveredVertical = item.value;\n    this.deactivateAll();\n  };\n  AreaChartComponent.prototype.hideCircles = function () {\n    this.hoveredVertical = null;\n    this.deactivateAll();\n  };\n  AreaChartComponent.prototype.onClick = function (data, series) {\n    if (series) {\n      data.series = series.name;\n    }\n    this.select.emit(data);\n  };\n  AreaChartComponent.prototype.trackBy = function (index, item) {\n    return item.name;\n  };\n  AreaChartComponent.prototype.setColors = function () {\n    var domain;\n    if (this.schemeType === 'ordinal') {\n      domain = this.seriesDomain;\n    } else {\n      domain = this.yDomain;\n    }\n    this.colors = new ColorHelper(this.scheme, this.schemeType, domain, this.customColors);\n  };\n  AreaChartComponent.prototype.getLegendOptions = function () {\n    var opts = {\n      scaleType: this.schemeType,\n      colors: undefined,\n      domain: [],\n      title: undefined,\n      position: this.legendPosition\n    };\n    if (opts.scaleType === 'ordinal') {\n      opts.domain = this.seriesDomain;\n      opts.colors = this.colors;\n      opts.title = this.legendTitle;\n    } else {\n      opts.domain = this.yDomain;\n      opts.colors = this.colors.scale;\n    }\n    return opts;\n  };\n  AreaChartComponent.prototype.updateYAxisWidth = function (_a) {\n    var width = _a.width;\n    this.yAxisWidth = width;\n    this.update();\n  };\n  AreaChartComponent.prototype.updateXAxisHeight = function (_a) {\n    var height = _a.height;\n    this.xAxisHeight = height;\n    this.update();\n  };\n  AreaChartComponent.prototype.onActivate = function (item) {\n    var idx = this.activeEntries.findIndex(function (d) {\n      return d.name === item.name && d.value === item.value;\n    });\n    if (idx > -1) {\n      return;\n    }\n    this.activeEntries = [item].concat(this.activeEntries);\n    this.activate.emit({\n      value: item,\n      entries: this.activeEntries\n    });\n  };\n  AreaChartComponent.prototype.onDeactivate = function (item) {\n    var idx = this.activeEntries.findIndex(function (d) {\n      return d.name === item.name && d.value === item.value;\n    });\n    this.activeEntries.splice(idx, 1);\n    this.activeEntries = this.activeEntries.slice();\n    this.deactivate.emit({\n      value: item,\n      entries: this.activeEntries\n    });\n  };\n  AreaChartComponent.prototype.deactivateAll = function () {\n    this.activeEntries = this.activeEntries.slice();\n    for (var _i = 0, _a = this.activeEntries; _i < _a.length; _i++) {\n      var entry = _a[_i];\n      this.deactivate.emit({\n        value: entry,\n        entries: []\n      });\n    }\n    this.activeEntries = [];\n  };\n  var _a, _b, _c, _d;\n  __decorate([Input(), __metadata(\"design:type\", Object)], AreaChartComponent.prototype, \"legend\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], AreaChartComponent.prototype, \"legendTitle\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], AreaChartComponent.prototype, \"legendPosition\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], AreaChartComponent.prototype, \"state\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], AreaChartComponent.prototype, \"xAxis\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], AreaChartComponent.prototype, \"yAxis\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], AreaChartComponent.prototype, \"baseValue\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], AreaChartComponent.prototype, \"autoScale\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], AreaChartComponent.prototype, \"showXAxisLabel\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], AreaChartComponent.prototype, \"showYAxisLabel\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], AreaChartComponent.prototype, \"xAxisLabel\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], AreaChartComponent.prototype, \"yAxisLabel\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], AreaChartComponent.prototype, \"timeline\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], AreaChartComponent.prototype, \"gradient\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], AreaChartComponent.prototype, \"showGridLines\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], AreaChartComponent.prototype, \"curve\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Array)], AreaChartComponent.prototype, \"activeEntries\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], AreaChartComponent.prototype, \"schemeType\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], AreaChartComponent.prototype, \"trimXAxisTicks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], AreaChartComponent.prototype, \"trimYAxisTicks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], AreaChartComponent.prototype, \"rotateXAxisTicks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], AreaChartComponent.prototype, \"maxXAxisTickLength\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], AreaChartComponent.prototype, \"maxYAxisTickLength\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], AreaChartComponent.prototype, \"xAxisTickFormatting\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], AreaChartComponent.prototype, \"yAxisTickFormatting\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Array)], AreaChartComponent.prototype, \"xAxisTicks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Array)], AreaChartComponent.prototype, \"yAxisTicks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], AreaChartComponent.prototype, \"roundDomains\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], AreaChartComponent.prototype, \"tooltipDisabled\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], AreaChartComponent.prototype, \"xScaleMin\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], AreaChartComponent.prototype, \"xScaleMax\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], AreaChartComponent.prototype, \"yScaleMin\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], AreaChartComponent.prototype, \"yScaleMax\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", typeof (_a = typeof EventEmitter !== \"undefined\" && EventEmitter) === \"function\" ? _a : Object)], AreaChartComponent.prototype, \"activate\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", typeof (_b = typeof EventEmitter !== \"undefined\" && EventEmitter) === \"function\" ? _b : Object)], AreaChartComponent.prototype, \"deactivate\", void 0);\n  __decorate([ContentChild('tooltipTemplate', {\n    static: false\n  }), __metadata(\"design:type\", typeof (_c = typeof TemplateRef !== \"undefined\" && TemplateRef) === \"function\" ? _c : Object)], AreaChartComponent.prototype, \"tooltipTemplate\", void 0);\n  __decorate([ContentChild('seriesTooltipTemplate', {\n    static: false\n  }), __metadata(\"design:type\", typeof (_d = typeof TemplateRef !== \"undefined\" && TemplateRef) === \"function\" ? _d : Object)], AreaChartComponent.prototype, \"seriesTooltipTemplate\", void 0);\n  __decorate([HostListener('mouseleave'), __metadata(\"design:type\", Function), __metadata(\"design:paramtypes\", []), __metadata(\"design:returntype\", void 0)], AreaChartComponent.prototype, \"hideCircles\", null);\n  AreaChartComponent.ɵfac = /*@__PURE__*/function () {\n    var ɵAreaChartComponent_BaseFactory;\n    return function AreaChartComponent_Factory(t) {\n      return (ɵAreaChartComponent_BaseFactory || (ɵAreaChartComponent_BaseFactory = ɵngcc0.ɵɵgetInheritedFactory(AreaChartComponent)))(t || AreaChartComponent);\n    };\n  }();\n  AreaChartComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: AreaChartComponent,\n    selectors: [[\"ngx-charts-area-chart\"]],\n    contentQueries: function AreaChartComponent_ContentQueries(rf, ctx, dirIndex) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵcontentQuery(dirIndex, _c21, 5);\n        ɵngcc0.ɵɵcontentQuery(dirIndex, _c22, 5);\n      }\n      if (rf & 2) {\n        var _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.tooltipTemplate = _t.first);\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.seriesTooltipTemplate = _t.first);\n      }\n    },\n    hostBindings: function AreaChartComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵlistener(\"mouseleave\", function AreaChartComponent_mouseleave_HostBindingHandler() {\n          return ctx.hideCircles();\n        });\n      }\n    },\n    inputs: {\n      activeEntries: \"activeEntries\",\n      legend: \"legend\",\n      legendTitle: \"legendTitle\",\n      legendPosition: \"legendPosition\",\n      state: \"state\",\n      xAxis: \"xAxis\",\n      yAxis: \"yAxis\",\n      baseValue: \"baseValue\",\n      autoScale: \"autoScale\",\n      showXAxisLabel: \"showXAxisLabel\",\n      showYAxisLabel: \"showYAxisLabel\",\n      xAxisLabel: \"xAxisLabel\",\n      yAxisLabel: \"yAxisLabel\",\n      timeline: \"timeline\",\n      gradient: \"gradient\",\n      showGridLines: \"showGridLines\",\n      curve: \"curve\",\n      schemeType: \"schemeType\",\n      trimXAxisTicks: \"trimXAxisTicks\",\n      trimYAxisTicks: \"trimYAxisTicks\",\n      rotateXAxisTicks: \"rotateXAxisTicks\",\n      maxXAxisTickLength: \"maxXAxisTickLength\",\n      maxYAxisTickLength: \"maxYAxisTickLength\",\n      xAxisTickFormatting: \"xAxisTickFormatting\",\n      yAxisTickFormatting: \"yAxisTickFormatting\",\n      xAxisTicks: \"xAxisTicks\",\n      yAxisTicks: \"yAxisTicks\",\n      roundDomains: \"roundDomains\",\n      tooltipDisabled: \"tooltipDisabled\",\n      xScaleMin: \"xScaleMin\",\n      xScaleMax: \"xScaleMax\",\n      yScaleMin: \"yScaleMin\",\n      yScaleMax: \"yScaleMax\"\n    },\n    outputs: {\n      activate: \"activate\",\n      deactivate: \"deactivate\"\n    },\n    features: [ɵngcc0.ɵɵInheritDefinitionFeature],\n    decls: 11,\n    vars: 20,\n    consts: [[3, \"view\", \"showLegend\", \"legendOptions\", \"activeEntries\", \"animations\", \"legendLabelClick\", \"legendLabelActivate\", \"legendLabelDeactivate\"], [1, \"area-chart\", \"chart\"], [\"ngx-charts-x-axis\", \"\", 3, \"xScale\", \"dims\", \"showGridLines\", \"showLabel\", \"labelText\", \"trimTicks\", \"rotateTicks\", \"maxTickLength\", \"tickFormatting\", \"ticks\", \"dimensionsChanged\", 4, \"ngIf\"], [\"ngx-charts-y-axis\", \"\", 3, \"yScale\", \"dims\", \"showGridLines\", \"showLabel\", \"labelText\", \"trimTicks\", \"maxTickLength\", \"tickFormatting\", \"ticks\", \"dimensionsChanged\", 4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [3, \"mouseleave\", 4, \"ngIf\"], [\"ngx-charts-timeline\", \"\", 3, \"results\", \"view\", \"height\", \"scheme\", \"customColors\", \"legend\", \"scaleType\", \"onDomainChange\", 4, \"ngIf\"], [\"ngx-charts-x-axis\", \"\", 3, \"xScale\", \"dims\", \"showGridLines\", \"showLabel\", \"labelText\", \"trimTicks\", \"rotateTicks\", \"maxTickLength\", \"tickFormatting\", \"ticks\", \"dimensionsChanged\"], [\"ngx-charts-y-axis\", \"\", 3, \"yScale\", \"dims\", \"showGridLines\", \"showLabel\", \"labelText\", \"trimTicks\", \"maxTickLength\", \"tickFormatting\", \"ticks\", \"dimensionsChanged\"], [\"ngx-charts-area-series\", \"\", 3, \"xScale\", \"yScale\", \"baseValue\", \"colors\", \"data\", \"activeEntries\", \"scaleType\", \"gradient\", \"curve\", \"animations\"], [3, \"mouseleave\"], [\"ngx-charts-tooltip-area\", \"\", 3, \"dims\", \"xSet\", \"xScale\", \"yScale\", \"results\", \"colors\", \"tooltipDisabled\", \"tooltipTemplate\", \"hover\"], [4, \"ngFor\", \"ngForOf\"], [\"ngx-charts-circle-series\", \"\", 3, \"xScale\", \"yScale\", \"colors\", \"activeEntries\", \"data\", \"scaleType\", \"visibleValue\", \"tooltipDisabled\", \"tooltipTemplate\", \"select\", \"activate\", \"deactivate\"], [\"ngx-charts-timeline\", \"\", 3, \"results\", \"view\", \"height\", \"scheme\", \"customColors\", \"legend\", \"scaleType\", \"onDomainChange\"], [\"ngx-charts-area-series\", \"\", 3, \"xScale\", \"yScale\", \"baseValue\", \"colors\", \"data\", \"scaleType\", \"gradient\", \"curve\", \"animations\"]],\n    template: function AreaChartComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"ngx-charts-chart\", 0);\n        ɵngcc0.ɵɵlistener(\"legendLabelClick\", function AreaChartComponent_Template_ngx_charts_chart_legendLabelClick_0_listener($event) {\n          return ctx.onClick($event);\n        })(\"legendLabelActivate\", function AreaChartComponent_Template_ngx_charts_chart_legendLabelActivate_0_listener($event) {\n          return ctx.onActivate($event);\n        })(\"legendLabelDeactivate\", function AreaChartComponent_Template_ngx_charts_chart_legendLabelDeactivate_0_listener($event) {\n          return ctx.onDeactivate($event);\n        });\n        ɵngcc0.ɵɵnamespaceSVG();\n        ɵngcc0.ɵɵelementStart(1, \"defs\")(2, \"clipPath\");\n        ɵngcc0.ɵɵelement(3, \"rect\");\n        ɵngcc0.ɵɵelementEnd()();\n        ɵngcc0.ɵɵelementStart(4, \"g\", 1);\n        ɵngcc0.ɵɵtemplate(5, AreaChartComponent__svg_g_5_Template, 1, 10, \"g\", 2);\n        ɵngcc0.ɵɵtemplate(6, AreaChartComponent__svg_g_6_Template, 1, 9, \"g\", 3);\n        ɵngcc0.ɵɵelementStart(7, \"g\");\n        ɵngcc0.ɵɵtemplate(8, AreaChartComponent__svg_g_8_Template, 2, 10, \"g\", 4);\n        ɵngcc0.ɵɵtemplate(9, AreaChartComponent__svg_g_9_Template, 3, 9, \"g\", 5);\n        ɵngcc0.ɵɵelementEnd()();\n        ɵngcc0.ɵɵtemplate(10, AreaChartComponent__svg_g_10_Template, 2, 13, \"g\", 6);\n        ɵngcc0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"view\", ɵngcc0.ɵɵpureFunction2(17, _c23, ctx.width, ctx.height))(\"showLegend\", ctx.legend)(\"legendOptions\", ctx.legendOptions)(\"activeEntries\", ctx.activeEntries)(\"animations\", ctx.animations);\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵattribute(\"id\", ctx.clipPathId);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵattribute(\"width\", ctx.dims.width + 10)(\"height\", ctx.dims.height + 10)(\"transform\", \"translate(-5, -5)\");\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵattribute(\"transform\", ctx.transform);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.xAxis);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.yAxis);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵattribute(\"clip-path\", ctx.clipPath);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngForOf\", ctx.results)(\"ngForTrackBy\", ctx.trackBy);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", !ctx.tooltipDisabled);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.timeline && ctx.scaleType != \"ordinal\");\n      }\n    },\n    dependencies: function () {\n      return [ɵngcc1.NgForOf, ɵngcc1.NgIf, XAxisComponent, YAxisComponent, TooltipArea, ChartComponent, CircleSeriesComponent, Timeline, AreaSeriesComponent];\n    },\n    styles: [_c24],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  return AreaChartComponent;\n}(BaseChartComponent);\nvar AreaChartNormalizedComponent = /** @class */function (_super) {\n  __extends(AreaChartNormalizedComponent, _super);\n  function AreaChartNormalizedComponent() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.legend = false;\n    _this.legendTitle = 'Legend';\n    _this.legendPosition = 'right';\n    _this.showGridLines = true;\n    _this.curve = curveLinear;\n    _this.activeEntries = [];\n    _this.trimXAxisTicks = true;\n    _this.trimYAxisTicks = true;\n    _this.rotateXAxisTicks = true;\n    _this.maxXAxisTickLength = 16;\n    _this.maxYAxisTickLength = 16;\n    _this.roundDomains = false;\n    _this.tooltipDisabled = false;\n    _this.activate = new EventEmitter();\n    _this.deactivate = new EventEmitter();\n    _this.margin = [10, 20, 10, 20];\n    _this.xAxisHeight = 0;\n    _this.yAxisWidth = 0;\n    _this.timelineHeight = 50;\n    _this.timelinePadding = 10;\n    return _this;\n  }\n  AreaChartNormalizedComponent.prototype.update = function () {\n    var _this = this;\n    _super.prototype.update.call(this);\n    this.dims = calculateViewDimensions({\n      width: this.width,\n      height: this.height,\n      margins: this.margin,\n      showXAxis: this.xAxis,\n      showYAxis: this.yAxis,\n      xAxisHeight: this.xAxisHeight,\n      yAxisWidth: this.yAxisWidth,\n      showXLabel: this.showXAxisLabel,\n      showYLabel: this.showYAxisLabel,\n      showLegend: this.legend,\n      legendType: this.schemeType,\n      legendPosition: this.legendPosition\n    });\n    if (this.timeline) {\n      this.dims.height -= this.timelineHeight + this.margin[2] + this.timelinePadding;\n    }\n    this.xDomain = this.getXDomain();\n    if (this.filteredDomain) {\n      this.xDomain = this.filteredDomain;\n    }\n    this.yDomain = this.getYDomain();\n    this.seriesDomain = this.getSeriesDomain();\n    this.xScale = this.getXScale(this.xDomain, this.dims.width);\n    this.yScale = this.getYScale(this.yDomain, this.dims.height);\n    var _loop_1 = function (i) {\n      var val = this_1.xSet[i];\n      var d0 = 0;\n      var total = 0;\n      for (var _i = 0, _a = this_1.results; _i < _a.length; _i++) {\n        var group = _a[_i];\n        var d = group.series.find(function (item) {\n          var a = item.name;\n          var b = val;\n          if (_this.scaleType === 'time') {\n            a = a.valueOf();\n            b = b.valueOf();\n          }\n          return a === b;\n        });\n        if (d) {\n          total += d.value;\n        }\n      }\n      for (var _b = 0, _c = this_1.results; _b < _c.length; _b++) {\n        var group = _c[_b];\n        var d = group.series.find(function (item) {\n          var a = item.name;\n          var b = val;\n          if (_this.scaleType === 'time') {\n            a = a.valueOf();\n            b = b.valueOf();\n          }\n          return a === b;\n        });\n        if (d) {\n          d.d0 = d0;\n          d.d1 = d0 + d.value;\n          d0 += d.value;\n        } else {\n          d = {\n            name: val,\n            value: 0,\n            d0: d0,\n            d1: d0\n          };\n          group.series.push(d);\n        }\n        if (total > 0) {\n          d.d0 = d.d0 * 100 / total;\n          d.d1 = d.d1 * 100 / total;\n        } else {\n          d.d0 = 0;\n          d.d1 = 0;\n        }\n      }\n    };\n    var this_1 = this;\n    for (var i = 0; i < this.xSet.length; i++) {\n      _loop_1(i);\n    }\n    this.updateTimeline();\n    this.setColors();\n    this.legendOptions = this.getLegendOptions();\n    this.transform = \"translate(\" + this.dims.xOffset + \" , \" + this.margin[0] + \")\";\n    this.clipPathId = 'clip' + id().toString();\n    this.clipPath = \"url(#\" + this.clipPathId + \")\";\n  };\n  AreaChartNormalizedComponent.prototype.updateTimeline = function () {\n    if (this.timeline) {\n      this.timelineWidth = this.dims.width;\n      this.timelineXDomain = this.getXDomain();\n      this.timelineXScale = this.getXScale(this.timelineXDomain, this.timelineWidth);\n      this.timelineYScale = this.getYScale(this.yDomain, this.timelineHeight);\n      this.timelineTransform = \"translate(\" + this.dims.xOffset + \", \" + -this.margin[2] + \")\";\n    }\n  };\n  AreaChartNormalizedComponent.prototype.getXDomain = function () {\n    var values = getUniqueXDomainValues(this.results);\n    this.scaleType = getScaleType(values);\n    var domain = [];\n    if (this.scaleType === 'time') {\n      var min$$1 = Math.min.apply(Math, values);\n      var max$$1 = Math.max.apply(Math, values);\n      domain = [new Date(min$$1), new Date(max$$1)];\n      this.xSet = values.slice().sort(function (a, b) {\n        var aDate = a.getTime();\n        var bDate = b.getTime();\n        if (aDate > bDate) return 1;\n        if (bDate > aDate) return -1;\n        return 0;\n      });\n    } else if (this.scaleType === 'linear') {\n      values = values.map(function (v) {\n        return Number(v);\n      });\n      var min$$1 = Math.min.apply(Math, values);\n      var max$$1 = Math.max.apply(Math, values);\n      domain = [min$$1, max$$1];\n      this.xSet = values.slice().sort(function (a, b) {\n        return a - b;\n      });\n    } else {\n      domain = values;\n      this.xSet = values;\n    }\n    return domain;\n  };\n  AreaChartNormalizedComponent.prototype.getYDomain = function () {\n    return [0, 100];\n  };\n  AreaChartNormalizedComponent.prototype.getSeriesDomain = function () {\n    return this.results.map(function (d) {\n      return d.name;\n    });\n  };\n  AreaChartNormalizedComponent.prototype.getXScale = function (domain, width) {\n    var scale;\n    if (this.scaleType === 'time') {\n      scale = scaleTime();\n    } else if (this.scaleType === 'linear') {\n      scale = scaleLinear();\n    } else if (this.scaleType === 'ordinal') {\n      scale = scalePoint().padding(0.1);\n    }\n    scale.range([0, width]).domain(domain);\n    return this.roundDomains ? scale.nice() : scale;\n  };\n  AreaChartNormalizedComponent.prototype.getYScale = function (domain, height) {\n    var scale = scaleLinear().range([height, 0]).domain(domain);\n    return this.roundDomains ? scale.nice() : scale;\n  };\n  AreaChartNormalizedComponent.prototype.updateDomain = function (domain) {\n    this.filteredDomain = domain;\n    this.xDomain = this.filteredDomain;\n    this.xScale = this.getXScale(this.xDomain, this.dims.width);\n  };\n  AreaChartNormalizedComponent.prototype.updateHoveredVertical = function (item) {\n    this.hoveredVertical = item.value;\n    this.deactivateAll();\n  };\n  AreaChartNormalizedComponent.prototype.hideCircles = function () {\n    this.hoveredVertical = null;\n    this.deactivateAll();\n  };\n  AreaChartNormalizedComponent.prototype.onClick = function (data, series) {\n    if (series) {\n      data.series = series.name;\n    }\n    this.select.emit(data);\n  };\n  AreaChartNormalizedComponent.prototype.trackBy = function (index, item) {\n    return item.name;\n  };\n  AreaChartNormalizedComponent.prototype.setColors = function () {\n    var domain;\n    if (this.schemeType === 'ordinal') {\n      domain = this.seriesDomain;\n    } else {\n      domain = this.yDomain;\n    }\n    this.colors = new ColorHelper(this.scheme, this.schemeType, domain, this.customColors);\n  };\n  AreaChartNormalizedComponent.prototype.getLegendOptions = function () {\n    var opts = {\n      scaleType: this.schemeType,\n      colors: undefined,\n      domain: [],\n      title: undefined,\n      position: this.legendPosition\n    };\n    if (opts.scaleType === 'ordinal') {\n      opts.domain = this.seriesDomain;\n      opts.colors = this.colors;\n      opts.title = this.legendTitle;\n    } else {\n      opts.domain = this.yDomain;\n      opts.colors = this.colors.scale;\n    }\n    return opts;\n  };\n  AreaChartNormalizedComponent.prototype.updateYAxisWidth = function (_a) {\n    var width = _a.width;\n    this.yAxisWidth = width;\n    this.update();\n  };\n  AreaChartNormalizedComponent.prototype.updateXAxisHeight = function (_a) {\n    var height = _a.height;\n    this.xAxisHeight = height;\n    this.update();\n  };\n  AreaChartNormalizedComponent.prototype.onActivate = function (item) {\n    var idx = this.activeEntries.findIndex(function (d) {\n      return d.name === item.name && d.value === item.value;\n    });\n    if (idx > -1) {\n      return;\n    }\n    this.activeEntries = [item].concat(this.activeEntries);\n    this.activate.emit({\n      value: item,\n      entries: this.activeEntries\n    });\n  };\n  AreaChartNormalizedComponent.prototype.onDeactivate = function (item) {\n    var idx = this.activeEntries.findIndex(function (d) {\n      return d.name === item.name && d.value === item.value;\n    });\n    this.activeEntries.splice(idx, 1);\n    this.activeEntries = this.activeEntries.slice();\n    this.deactivate.emit({\n      value: item,\n      entries: this.activeEntries\n    });\n  };\n  AreaChartNormalizedComponent.prototype.deactivateAll = function () {\n    this.activeEntries = this.activeEntries.slice();\n    for (var _i = 0, _a = this.activeEntries; _i < _a.length; _i++) {\n      var entry = _a[_i];\n      this.deactivate.emit({\n        value: entry,\n        entries: []\n      });\n    }\n    this.activeEntries = [];\n  };\n  var _a, _b, _c, _d;\n  __decorate([Input(), __metadata(\"design:type\", Object)], AreaChartNormalizedComponent.prototype, \"legend\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], AreaChartNormalizedComponent.prototype, \"legendTitle\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], AreaChartNormalizedComponent.prototype, \"legendPosition\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], AreaChartNormalizedComponent.prototype, \"xAxis\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], AreaChartNormalizedComponent.prototype, \"yAxis\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], AreaChartNormalizedComponent.prototype, \"showXAxisLabel\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], AreaChartNormalizedComponent.prototype, \"showYAxisLabel\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], AreaChartNormalizedComponent.prototype, \"xAxisLabel\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], AreaChartNormalizedComponent.prototype, \"yAxisLabel\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], AreaChartNormalizedComponent.prototype, \"timeline\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], AreaChartNormalizedComponent.prototype, \"gradient\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], AreaChartNormalizedComponent.prototype, \"showGridLines\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], AreaChartNormalizedComponent.prototype, \"curve\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Array)], AreaChartNormalizedComponent.prototype, \"activeEntries\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], AreaChartNormalizedComponent.prototype, \"schemeType\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], AreaChartNormalizedComponent.prototype, \"trimXAxisTicks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], AreaChartNormalizedComponent.prototype, \"trimYAxisTicks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], AreaChartNormalizedComponent.prototype, \"rotateXAxisTicks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], AreaChartNormalizedComponent.prototype, \"maxXAxisTickLength\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], AreaChartNormalizedComponent.prototype, \"maxYAxisTickLength\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], AreaChartNormalizedComponent.prototype, \"xAxisTickFormatting\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], AreaChartNormalizedComponent.prototype, \"yAxisTickFormatting\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Array)], AreaChartNormalizedComponent.prototype, \"xAxisTicks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Array)], AreaChartNormalizedComponent.prototype, \"yAxisTicks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], AreaChartNormalizedComponent.prototype, \"roundDomains\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], AreaChartNormalizedComponent.prototype, \"tooltipDisabled\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", typeof (_a = typeof EventEmitter !== \"undefined\" && EventEmitter) === \"function\" ? _a : Object)], AreaChartNormalizedComponent.prototype, \"activate\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", typeof (_b = typeof EventEmitter !== \"undefined\" && EventEmitter) === \"function\" ? _b : Object)], AreaChartNormalizedComponent.prototype, \"deactivate\", void 0);\n  __decorate([ContentChild('tooltipTemplate', {\n    static: false\n  }), __metadata(\"design:type\", typeof (_c = typeof TemplateRef !== \"undefined\" && TemplateRef) === \"function\" ? _c : Object)], AreaChartNormalizedComponent.prototype, \"tooltipTemplate\", void 0);\n  __decorate([ContentChild('seriesTooltipTemplate', {\n    static: false\n  }), __metadata(\"design:type\", typeof (_d = typeof TemplateRef !== \"undefined\" && TemplateRef) === \"function\" ? _d : Object)], AreaChartNormalizedComponent.prototype, \"seriesTooltipTemplate\", void 0);\n  __decorate([HostListener('mouseleave'), __metadata(\"design:type\", Function), __metadata(\"design:paramtypes\", []), __metadata(\"design:returntype\", void 0)], AreaChartNormalizedComponent.prototype, \"hideCircles\", null);\n  AreaChartNormalizedComponent.ɵfac = /*@__PURE__*/function () {\n    var ɵAreaChartNormalizedComponent_BaseFactory;\n    return function AreaChartNormalizedComponent_Factory(t) {\n      return (ɵAreaChartNormalizedComponent_BaseFactory || (ɵAreaChartNormalizedComponent_BaseFactory = ɵngcc0.ɵɵgetInheritedFactory(AreaChartNormalizedComponent)))(t || AreaChartNormalizedComponent);\n    };\n  }();\n  AreaChartNormalizedComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: AreaChartNormalizedComponent,\n    selectors: [[\"ngx-charts-area-chart-normalized\"]],\n    contentQueries: function AreaChartNormalizedComponent_ContentQueries(rf, ctx, dirIndex) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵcontentQuery(dirIndex, _c21, 5);\n        ɵngcc0.ɵɵcontentQuery(dirIndex, _c22, 5);\n      }\n      if (rf & 2) {\n        var _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.tooltipTemplate = _t.first);\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.seriesTooltipTemplate = _t.first);\n      }\n    },\n    hostBindings: function AreaChartNormalizedComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵlistener(\"mouseleave\", function AreaChartNormalizedComponent_mouseleave_HostBindingHandler() {\n          return ctx.hideCircles();\n        });\n      }\n    },\n    inputs: {\n      activeEntries: \"activeEntries\",\n      legend: \"legend\",\n      legendTitle: \"legendTitle\",\n      legendPosition: \"legendPosition\",\n      xAxis: \"xAxis\",\n      yAxis: \"yAxis\",\n      showXAxisLabel: \"showXAxisLabel\",\n      showYAxisLabel: \"showYAxisLabel\",\n      xAxisLabel: \"xAxisLabel\",\n      yAxisLabel: \"yAxisLabel\",\n      timeline: \"timeline\",\n      gradient: \"gradient\",\n      showGridLines: \"showGridLines\",\n      curve: \"curve\",\n      schemeType: \"schemeType\",\n      trimXAxisTicks: \"trimXAxisTicks\",\n      trimYAxisTicks: \"trimYAxisTicks\",\n      rotateXAxisTicks: \"rotateXAxisTicks\",\n      maxXAxisTickLength: \"maxXAxisTickLength\",\n      maxYAxisTickLength: \"maxYAxisTickLength\",\n      xAxisTickFormatting: \"xAxisTickFormatting\",\n      yAxisTickFormatting: \"yAxisTickFormatting\",\n      xAxisTicks: \"xAxisTicks\",\n      yAxisTicks: \"yAxisTicks\",\n      roundDomains: \"roundDomains\",\n      tooltipDisabled: \"tooltipDisabled\"\n    },\n    outputs: {\n      activate: \"activate\",\n      deactivate: \"deactivate\"\n    },\n    features: [ɵngcc0.ɵɵInheritDefinitionFeature],\n    decls: 11,\n    vars: 20,\n    consts: [[3, \"view\", \"showLegend\", \"legendOptions\", \"activeEntries\", \"animations\", \"legendLabelClick\", \"legendLabelActivate\", \"legendLabelDeactivate\"], [1, \"area-chart\", \"chart\"], [\"ngx-charts-x-axis\", \"\", 3, \"xScale\", \"dims\", \"showGridLines\", \"showLabel\", \"labelText\", \"trimTicks\", \"rotateTicks\", \"maxTickLength\", \"tickFormatting\", \"ticks\", \"dimensionsChanged\", 4, \"ngIf\"], [\"ngx-charts-y-axis\", \"\", 3, \"yScale\", \"dims\", \"showGridLines\", \"showLabel\", \"labelText\", \"trimTicks\", \"maxTickLength\", \"tickFormatting\", \"ticks\", \"dimensionsChanged\", 4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [3, \"mouseleave\", 4, \"ngIf\"], [\"ngx-charts-timeline\", \"\", 3, \"results\", \"view\", \"height\", \"scheme\", \"customColors\", \"legend\", \"scaleType\", \"onDomainChange\", 4, \"ngIf\"], [\"ngx-charts-x-axis\", \"\", 3, \"xScale\", \"dims\", \"showGridLines\", \"showLabel\", \"labelText\", \"trimTicks\", \"rotateTicks\", \"maxTickLength\", \"tickFormatting\", \"ticks\", \"dimensionsChanged\"], [\"ngx-charts-y-axis\", \"\", 3, \"yScale\", \"dims\", \"showGridLines\", \"showLabel\", \"labelText\", \"trimTicks\", \"maxTickLength\", \"tickFormatting\", \"ticks\", \"dimensionsChanged\"], [\"ngx-charts-area-series\", \"\", \"normalized\", \"true\", 3, \"xScale\", \"yScale\", \"colors\", \"data\", \"scaleType\", \"activeEntries\", \"gradient\", \"curve\", \"animations\"], [3, \"mouseleave\"], [\"ngx-charts-tooltip-area\", \"\", 3, \"dims\", \"xSet\", \"xScale\", \"yScale\", \"results\", \"colors\", \"showPercentage\", \"tooltipDisabled\", \"tooltipTemplate\", \"hover\"], [4, \"ngFor\", \"ngForOf\"], [\"ngx-charts-circle-series\", \"\", \"type\", \"stacked\", 3, \"xScale\", \"yScale\", \"colors\", \"activeEntries\", \"data\", \"scaleType\", \"visibleValue\", \"tooltipDisabled\", \"tooltipTemplate\", \"select\", \"activate\", \"deactivate\"], [\"ngx-charts-timeline\", \"\", 3, \"results\", \"view\", \"height\", \"scheme\", \"customColors\", \"legend\", \"scaleType\", \"onDomainChange\"], [\"ngx-charts-area-series\", \"\", \"normalized\", \"true\", 3, \"xScale\", \"yScale\", \"colors\", \"data\", \"scaleType\", \"gradient\", \"curve\", \"animations\"]],\n    template: function AreaChartNormalizedComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"ngx-charts-chart\", 0);\n        ɵngcc0.ɵɵlistener(\"legendLabelClick\", function AreaChartNormalizedComponent_Template_ngx_charts_chart_legendLabelClick_0_listener($event) {\n          return ctx.onClick($event);\n        })(\"legendLabelActivate\", function AreaChartNormalizedComponent_Template_ngx_charts_chart_legendLabelActivate_0_listener($event) {\n          return ctx.onActivate($event);\n        })(\"legendLabelDeactivate\", function AreaChartNormalizedComponent_Template_ngx_charts_chart_legendLabelDeactivate_0_listener($event) {\n          return ctx.onDeactivate($event);\n        });\n        ɵngcc0.ɵɵnamespaceSVG();\n        ɵngcc0.ɵɵelementStart(1, \"defs\")(2, \"clipPath\");\n        ɵngcc0.ɵɵelement(3, \"rect\");\n        ɵngcc0.ɵɵelementEnd()();\n        ɵngcc0.ɵɵelementStart(4, \"g\", 1);\n        ɵngcc0.ɵɵtemplate(5, AreaChartNormalizedComponent__svg_g_5_Template, 1, 10, \"g\", 2);\n        ɵngcc0.ɵɵtemplate(6, AreaChartNormalizedComponent__svg_g_6_Template, 1, 9, \"g\", 3);\n        ɵngcc0.ɵɵelementStart(7, \"g\");\n        ɵngcc0.ɵɵtemplate(8, AreaChartNormalizedComponent__svg_g_8_Template, 2, 9, \"g\", 4);\n        ɵngcc0.ɵɵtemplate(9, AreaChartNormalizedComponent__svg_g_9_Template, 3, 10, \"g\", 5);\n        ɵngcc0.ɵɵelementEnd()();\n        ɵngcc0.ɵɵtemplate(10, AreaChartNormalizedComponent__svg_g_10_Template, 2, 13, \"g\", 6);\n        ɵngcc0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"view\", ɵngcc0.ɵɵpureFunction2(17, _c23, ctx.width, ctx.height))(\"showLegend\", ctx.legend)(\"legendOptions\", ctx.legendOptions)(\"activeEntries\", ctx.activeEntries)(\"animations\", ctx.animations);\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵattribute(\"id\", ctx.clipPathId);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵattribute(\"width\", ctx.dims.width + 10)(\"height\", ctx.dims.height + 10)(\"transform\", \"translate(-5, -5)\");\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵattribute(\"transform\", ctx.transform);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.xAxis);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.yAxis);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵattribute(\"clip-path\", ctx.clipPath);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngForOf\", ctx.results)(\"ngForTrackBy\", ctx.trackBy);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", !ctx.tooltipDisabled);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.timeline && ctx.scaleType != \"ordinal\");\n      }\n    },\n    dependencies: function () {\n      return [ɵngcc1.NgForOf, ɵngcc1.NgIf, XAxisComponent, YAxisComponent, TooltipArea, ChartComponent, CircleSeriesComponent, Timeline, AreaSeriesComponent];\n    },\n    styles: [_c24],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  return AreaChartNormalizedComponent;\n}(BaseChartComponent);\nvar AreaChartStackedComponent = /** @class */function (_super) {\n  __extends(AreaChartStackedComponent, _super);\n  function AreaChartStackedComponent() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.legend = false;\n    _this.legendTitle = 'Legend';\n    _this.legendPosition = 'right';\n    _this.showGridLines = true;\n    _this.curve = curveLinear;\n    _this.activeEntries = [];\n    _this.trimXAxisTicks = true;\n    _this.trimYAxisTicks = true;\n    _this.rotateXAxisTicks = true;\n    _this.maxXAxisTickLength = 16;\n    _this.maxYAxisTickLength = 16;\n    _this.roundDomains = false;\n    _this.tooltipDisabled = false;\n    _this.activate = new EventEmitter();\n    _this.deactivate = new EventEmitter();\n    _this.margin = [10, 20, 10, 20];\n    _this.xAxisHeight = 0;\n    _this.yAxisWidth = 0;\n    _this.timelineHeight = 50;\n    _this.timelinePadding = 10;\n    return _this;\n  }\n  AreaChartStackedComponent.prototype.update = function () {\n    var _this = this;\n    _super.prototype.update.call(this);\n    this.dims = calculateViewDimensions({\n      width: this.width,\n      height: this.height,\n      margins: this.margin,\n      showXAxis: this.xAxis,\n      showYAxis: this.yAxis,\n      xAxisHeight: this.xAxisHeight,\n      yAxisWidth: this.yAxisWidth,\n      showXLabel: this.showXAxisLabel,\n      showYLabel: this.showYAxisLabel,\n      showLegend: this.legend,\n      legendType: this.schemeType,\n      legendPosition: this.legendPosition\n    });\n    if (this.timeline) {\n      this.dims.height -= this.timelineHeight + this.margin[2] + this.timelinePadding;\n    }\n    this.xDomain = this.getXDomain();\n    if (this.filteredDomain) {\n      this.xDomain = this.filteredDomain;\n    }\n    this.yDomain = this.getYDomain();\n    this.seriesDomain = this.getSeriesDomain();\n    this.xScale = this.getXScale(this.xDomain, this.dims.width);\n    this.yScale = this.getYScale(this.yDomain, this.dims.height);\n    var _loop_1 = function (i) {\n      var val = this_1.xSet[i];\n      var d0 = 0;\n      for (var _i = 0, _a = this_1.results; _i < _a.length; _i++) {\n        var group = _a[_i];\n        var d = group.series.find(function (item) {\n          var a = item.name;\n          var b = val;\n          if (_this.scaleType === 'time') {\n            a = a.valueOf();\n            b = b.valueOf();\n          }\n          return a === b;\n        });\n        if (d) {\n          d.d0 = d0;\n          d.d1 = d0 + d.value;\n          d0 += d.value;\n        } else {\n          d = {\n            name: val,\n            value: 0,\n            d0: d0,\n            d1: d0\n          };\n          group.series.push(d);\n        }\n      }\n    };\n    var this_1 = this;\n    for (var i = 0; i < this.xSet.length; i++) {\n      _loop_1(i);\n    }\n    this.updateTimeline();\n    this.setColors();\n    this.legendOptions = this.getLegendOptions();\n    this.transform = \"translate(\" + this.dims.xOffset + \" , \" + this.margin[0] + \")\";\n    this.clipPathId = 'clip' + id().toString();\n    this.clipPath = \"url(#\" + this.clipPathId + \")\";\n  };\n  AreaChartStackedComponent.prototype.updateTimeline = function () {\n    if (this.timeline) {\n      this.timelineWidth = this.dims.width;\n      this.timelineXDomain = this.getXDomain();\n      this.timelineXScale = this.getXScale(this.timelineXDomain, this.timelineWidth);\n      this.timelineYScale = this.getYScale(this.yDomain, this.timelineHeight);\n      this.timelineTransform = \"translate(\" + this.dims.xOffset + \", \" + -this.margin[2] + \")\";\n    }\n  };\n  AreaChartStackedComponent.prototype.getXDomain = function () {\n    var values = getUniqueXDomainValues(this.results);\n    this.scaleType = getScaleType(values);\n    var domain = [];\n    if (this.scaleType === 'linear') {\n      values = values.map(function (v) {\n        return Number(v);\n      });\n    }\n    var min$$1;\n    var max$$1;\n    if (this.scaleType === 'time' || this.scaleType === 'linear') {\n      min$$1 = this.xScaleMin ? this.xScaleMin : Math.min.apply(Math, values);\n      max$$1 = this.xScaleMax ? this.xScaleMax : Math.max.apply(Math, values);\n    }\n    if (this.scaleType === 'time') {\n      domain = [new Date(min$$1), new Date(max$$1)];\n      this.xSet = values.slice().sort(function (a, b) {\n        var aDate = a.getTime();\n        var bDate = b.getTime();\n        if (aDate > bDate) return 1;\n        if (bDate > aDate) return -1;\n        return 0;\n      });\n    } else if (this.scaleType === 'linear') {\n      domain = [min$$1, max$$1];\n      this.xSet = values.slice().sort(function (a, b) {\n        return a - b;\n      });\n    } else {\n      domain = values;\n      this.xSet = values;\n    }\n    return domain;\n  };\n  AreaChartStackedComponent.prototype.getYDomain = function () {\n    var _this = this;\n    var domain = [];\n    var _loop_2 = function (i) {\n      var val = this_2.xSet[i];\n      var sum = 0;\n      for (var _i = 0, _a = this_2.results; _i < _a.length; _i++) {\n        var group = _a[_i];\n        var d = group.series.find(function (item) {\n          var a = item.name;\n          var b = val;\n          if (_this.scaleType === 'time') {\n            a = a.valueOf();\n            b = b.valueOf();\n          }\n          return a === b;\n        });\n        if (d) {\n          sum += d.value;\n        }\n      }\n      domain.push(sum);\n    };\n    var this_2 = this;\n    for (var i = 0; i < this.xSet.length; i++) {\n      _loop_2(i);\n    }\n    var min$$1 = this.yScaleMin ? this.yScaleMin : Math.min.apply(Math, [0].concat(domain));\n    var max$$1 = this.yScaleMax ? this.yScaleMax : Math.max.apply(Math, domain);\n    return [min$$1, max$$1];\n  };\n  AreaChartStackedComponent.prototype.getSeriesDomain = function () {\n    return this.results.map(function (d) {\n      return d.name;\n    });\n  };\n  AreaChartStackedComponent.prototype.getXScale = function (domain, width) {\n    var scale;\n    if (this.scaleType === 'time') {\n      scale = scaleTime();\n    } else if (this.scaleType === 'linear') {\n      scale = scaleLinear();\n    } else if (this.scaleType === 'ordinal') {\n      scale = scalePoint().padding(0.1);\n    }\n    scale.range([0, width]).domain(domain);\n    return this.roundDomains ? scale.nice() : scale;\n  };\n  AreaChartStackedComponent.prototype.getYScale = function (domain, height) {\n    var scale = scaleLinear().range([height, 0]).domain(domain);\n    return this.roundDomains ? scale.nice() : scale;\n  };\n  AreaChartStackedComponent.prototype.updateDomain = function (domain) {\n    this.filteredDomain = domain;\n    this.xDomain = this.filteredDomain;\n    this.xScale = this.getXScale(this.xDomain, this.dims.width);\n  };\n  AreaChartStackedComponent.prototype.updateHoveredVertical = function (item) {\n    this.hoveredVertical = item.value;\n    this.deactivateAll();\n  };\n  AreaChartStackedComponent.prototype.hideCircles = function () {\n    this.hoveredVertical = null;\n    this.deactivateAll();\n  };\n  AreaChartStackedComponent.prototype.onClick = function (data, series) {\n    if (series) {\n      data.series = series.name;\n    }\n    this.select.emit(data);\n  };\n  AreaChartStackedComponent.prototype.trackBy = function (index, item) {\n    return item.name;\n  };\n  AreaChartStackedComponent.prototype.setColors = function () {\n    var domain;\n    if (this.schemeType === 'ordinal') {\n      domain = this.seriesDomain;\n    } else {\n      domain = this.yDomain;\n    }\n    this.colors = new ColorHelper(this.scheme, this.schemeType, domain, this.customColors);\n  };\n  AreaChartStackedComponent.prototype.getLegendOptions = function () {\n    var opts = {\n      scaleType: this.schemeType,\n      colors: undefined,\n      domain: [],\n      title: undefined,\n      position: this.legendPosition\n    };\n    if (opts.scaleType === 'ordinal') {\n      opts.domain = this.seriesDomain;\n      opts.colors = this.colors;\n      opts.title = this.legendTitle;\n    } else {\n      opts.domain = this.yDomain;\n      opts.colors = this.colors.scale;\n    }\n    return opts;\n  };\n  AreaChartStackedComponent.prototype.updateYAxisWidth = function (_a) {\n    var width = _a.width;\n    this.yAxisWidth = width;\n    this.update();\n  };\n  AreaChartStackedComponent.prototype.updateXAxisHeight = function (_a) {\n    var height = _a.height;\n    this.xAxisHeight = height;\n    this.update();\n  };\n  AreaChartStackedComponent.prototype.onActivate = function (item) {\n    var idx = this.activeEntries.findIndex(function (d) {\n      return d.name === item.name && d.value === item.value;\n    });\n    if (idx > -1) {\n      return;\n    }\n    this.activeEntries = [item].concat(this.activeEntries);\n    this.activate.emit({\n      value: item,\n      entries: this.activeEntries\n    });\n  };\n  AreaChartStackedComponent.prototype.onDeactivate = function (item) {\n    var idx = this.activeEntries.findIndex(function (d) {\n      return d.name === item.name && d.value === item.value;\n    });\n    this.activeEntries.splice(idx, 1);\n    this.activeEntries = this.activeEntries.slice();\n    this.deactivate.emit({\n      value: item,\n      entries: this.activeEntries\n    });\n  };\n  AreaChartStackedComponent.prototype.deactivateAll = function () {\n    this.activeEntries = this.activeEntries.slice();\n    for (var _i = 0, _a = this.activeEntries; _i < _a.length; _i++) {\n      var entry = _a[_i];\n      this.deactivate.emit({\n        value: entry,\n        entries: []\n      });\n    }\n    this.activeEntries = [];\n  };\n  var _a, _b, _c, _d;\n  __decorate([Input(), __metadata(\"design:type\", Object)], AreaChartStackedComponent.prototype, \"legend\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], AreaChartStackedComponent.prototype, \"legendTitle\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], AreaChartStackedComponent.prototype, \"legendPosition\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], AreaChartStackedComponent.prototype, \"xAxis\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], AreaChartStackedComponent.prototype, \"yAxis\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], AreaChartStackedComponent.prototype, \"showXAxisLabel\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], AreaChartStackedComponent.prototype, \"showYAxisLabel\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], AreaChartStackedComponent.prototype, \"xAxisLabel\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], AreaChartStackedComponent.prototype, \"yAxisLabel\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], AreaChartStackedComponent.prototype, \"timeline\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], AreaChartStackedComponent.prototype, \"gradient\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], AreaChartStackedComponent.prototype, \"showGridLines\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], AreaChartStackedComponent.prototype, \"curve\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Array)], AreaChartStackedComponent.prototype, \"activeEntries\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], AreaChartStackedComponent.prototype, \"schemeType\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], AreaChartStackedComponent.prototype, \"trimXAxisTicks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], AreaChartStackedComponent.prototype, \"trimYAxisTicks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], AreaChartStackedComponent.prototype, \"rotateXAxisTicks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], AreaChartStackedComponent.prototype, \"maxXAxisTickLength\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], AreaChartStackedComponent.prototype, \"maxYAxisTickLength\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], AreaChartStackedComponent.prototype, \"xAxisTickFormatting\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], AreaChartStackedComponent.prototype, \"yAxisTickFormatting\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Array)], AreaChartStackedComponent.prototype, \"xAxisTicks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Array)], AreaChartStackedComponent.prototype, \"yAxisTicks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], AreaChartStackedComponent.prototype, \"roundDomains\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], AreaChartStackedComponent.prototype, \"tooltipDisabled\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], AreaChartStackedComponent.prototype, \"xScaleMin\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], AreaChartStackedComponent.prototype, \"xScaleMax\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], AreaChartStackedComponent.prototype, \"yScaleMin\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], AreaChartStackedComponent.prototype, \"yScaleMax\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", typeof (_a = typeof EventEmitter !== \"undefined\" && EventEmitter) === \"function\" ? _a : Object)], AreaChartStackedComponent.prototype, \"activate\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", typeof (_b = typeof EventEmitter !== \"undefined\" && EventEmitter) === \"function\" ? _b : Object)], AreaChartStackedComponent.prototype, \"deactivate\", void 0);\n  __decorate([ContentChild('tooltipTemplate', {\n    static: false\n  }), __metadata(\"design:type\", typeof (_c = typeof TemplateRef !== \"undefined\" && TemplateRef) === \"function\" ? _c : Object)], AreaChartStackedComponent.prototype, \"tooltipTemplate\", void 0);\n  __decorate([ContentChild('seriesTooltipTemplate', {\n    static: false\n  }), __metadata(\"design:type\", typeof (_d = typeof TemplateRef !== \"undefined\" && TemplateRef) === \"function\" ? _d : Object)], AreaChartStackedComponent.prototype, \"seriesTooltipTemplate\", void 0);\n  __decorate([HostListener('mouseleave'), __metadata(\"design:type\", Function), __metadata(\"design:paramtypes\", []), __metadata(\"design:returntype\", void 0)], AreaChartStackedComponent.prototype, \"hideCircles\", null);\n  AreaChartStackedComponent.ɵfac = /*@__PURE__*/function () {\n    var ɵAreaChartStackedComponent_BaseFactory;\n    return function AreaChartStackedComponent_Factory(t) {\n      return (ɵAreaChartStackedComponent_BaseFactory || (ɵAreaChartStackedComponent_BaseFactory = ɵngcc0.ɵɵgetInheritedFactory(AreaChartStackedComponent)))(t || AreaChartStackedComponent);\n    };\n  }();\n  AreaChartStackedComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: AreaChartStackedComponent,\n    selectors: [[\"ngx-charts-area-chart-stacked\"]],\n    contentQueries: function AreaChartStackedComponent_ContentQueries(rf, ctx, dirIndex) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵcontentQuery(dirIndex, _c21, 5);\n        ɵngcc0.ɵɵcontentQuery(dirIndex, _c22, 5);\n      }\n      if (rf & 2) {\n        var _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.tooltipTemplate = _t.first);\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.seriesTooltipTemplate = _t.first);\n      }\n    },\n    hostBindings: function AreaChartStackedComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵlistener(\"mouseleave\", function AreaChartStackedComponent_mouseleave_HostBindingHandler() {\n          return ctx.hideCircles();\n        });\n      }\n    },\n    inputs: {\n      activeEntries: \"activeEntries\",\n      legend: \"legend\",\n      legendTitle: \"legendTitle\",\n      legendPosition: \"legendPosition\",\n      xAxis: \"xAxis\",\n      yAxis: \"yAxis\",\n      showXAxisLabel: \"showXAxisLabel\",\n      showYAxisLabel: \"showYAxisLabel\",\n      xAxisLabel: \"xAxisLabel\",\n      yAxisLabel: \"yAxisLabel\",\n      timeline: \"timeline\",\n      gradient: \"gradient\",\n      showGridLines: \"showGridLines\",\n      curve: \"curve\",\n      schemeType: \"schemeType\",\n      trimXAxisTicks: \"trimXAxisTicks\",\n      trimYAxisTicks: \"trimYAxisTicks\",\n      rotateXAxisTicks: \"rotateXAxisTicks\",\n      maxXAxisTickLength: \"maxXAxisTickLength\",\n      maxYAxisTickLength: \"maxYAxisTickLength\",\n      xAxisTickFormatting: \"xAxisTickFormatting\",\n      yAxisTickFormatting: \"yAxisTickFormatting\",\n      xAxisTicks: \"xAxisTicks\",\n      yAxisTicks: \"yAxisTicks\",\n      roundDomains: \"roundDomains\",\n      tooltipDisabled: \"tooltipDisabled\",\n      xScaleMin: \"xScaleMin\",\n      xScaleMax: \"xScaleMax\",\n      yScaleMin: \"yScaleMin\",\n      yScaleMax: \"yScaleMax\"\n    },\n    outputs: {\n      activate: \"activate\",\n      deactivate: \"deactivate\"\n    },\n    features: [ɵngcc0.ɵɵInheritDefinitionFeature],\n    decls: 11,\n    vars: 20,\n    consts: [[3, \"view\", \"showLegend\", \"legendOptions\", \"activeEntries\", \"animations\", \"legendLabelClick\", \"legendLabelActivate\", \"legendLabelDeactivate\"], [1, \"area-chart\", \"chart\"], [\"ngx-charts-x-axis\", \"\", 3, \"xScale\", \"dims\", \"showGridLines\", \"showLabel\", \"labelText\", \"trimTicks\", \"rotateTicks\", \"maxTickLength\", \"tickFormatting\", \"ticks\", \"dimensionsChanged\", 4, \"ngIf\"], [\"ngx-charts-y-axis\", \"\", 3, \"yScale\", \"dims\", \"showGridLines\", \"showLabel\", \"labelText\", \"trimTicks\", \"maxTickLength\", \"tickFormatting\", \"ticks\", \"dimensionsChanged\", 4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [3, \"mouseleave\", 4, \"ngIf\"], [\"ngx-charts-timeline\", \"\", 3, \"results\", \"view\", \"height\", \"scheme\", \"customColors\", \"legend\", \"scaleType\", \"onDomainChange\", 4, \"ngIf\"], [\"ngx-charts-x-axis\", \"\", 3, \"xScale\", \"dims\", \"showGridLines\", \"showLabel\", \"labelText\", \"trimTicks\", \"rotateTicks\", \"maxTickLength\", \"tickFormatting\", \"ticks\", \"dimensionsChanged\"], [\"ngx-charts-y-axis\", \"\", 3, \"yScale\", \"dims\", \"showGridLines\", \"showLabel\", \"labelText\", \"trimTicks\", \"maxTickLength\", \"tickFormatting\", \"ticks\", \"dimensionsChanged\"], [\"ngx-charts-area-series\", \"\", \"stacked\", \"true\", 3, \"xScale\", \"yScale\", \"colors\", \"data\", \"scaleType\", \"gradient\", \"activeEntries\", \"curve\", \"animations\"], [3, \"mouseleave\"], [\"ngx-charts-tooltip-area\", \"\", 3, \"dims\", \"xSet\", \"xScale\", \"yScale\", \"results\", \"colors\", \"tooltipDisabled\", \"tooltipTemplate\", \"hover\"], [\"ngx-charts-circle-series\", \"\", \"type\", \"stacked\", 3, \"xScale\", \"yScale\", \"colors\", \"activeEntries\", \"data\", \"scaleType\", \"visibleValue\", \"tooltipDisabled\", \"tooltipTemplate\", \"select\", \"activate\", \"deactivate\"], [\"ngx-charts-timeline\", \"\", 3, \"results\", \"view\", \"height\", \"scheme\", \"customColors\", \"legend\", \"scaleType\", \"onDomainChange\"], [\"ngx-charts-area-series\", \"\", \"stacked\", \"true\", 3, \"xScale\", \"yScale\", \"colors\", \"data\", \"scaleType\", \"gradient\", \"curve\", \"animations\"]],\n    template: function AreaChartStackedComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"ngx-charts-chart\", 0);\n        ɵngcc0.ɵɵlistener(\"legendLabelClick\", function AreaChartStackedComponent_Template_ngx_charts_chart_legendLabelClick_0_listener($event) {\n          return ctx.onClick($event);\n        })(\"legendLabelActivate\", function AreaChartStackedComponent_Template_ngx_charts_chart_legendLabelActivate_0_listener($event) {\n          return ctx.onActivate($event);\n        })(\"legendLabelDeactivate\", function AreaChartStackedComponent_Template_ngx_charts_chart_legendLabelDeactivate_0_listener($event) {\n          return ctx.onDeactivate($event);\n        });\n        ɵngcc0.ɵɵnamespaceSVG();\n        ɵngcc0.ɵɵelementStart(1, \"defs\")(2, \"clipPath\");\n        ɵngcc0.ɵɵelement(3, \"rect\");\n        ɵngcc0.ɵɵelementEnd()();\n        ɵngcc0.ɵɵelementStart(4, \"g\", 1);\n        ɵngcc0.ɵɵtemplate(5, AreaChartStackedComponent__svg_g_5_Template, 1, 10, \"g\", 2);\n        ɵngcc0.ɵɵtemplate(6, AreaChartStackedComponent__svg_g_6_Template, 1, 9, \"g\", 3);\n        ɵngcc0.ɵɵelementStart(7, \"g\");\n        ɵngcc0.ɵɵtemplate(8, AreaChartStackedComponent__svg_g_8_Template, 2, 9, \"g\", 4);\n        ɵngcc0.ɵɵtemplate(9, AreaChartStackedComponent__svg_g_9_Template, 3, 10, \"g\", 5);\n        ɵngcc0.ɵɵelementEnd()();\n        ɵngcc0.ɵɵtemplate(10, AreaChartStackedComponent__svg_g_10_Template, 2, 13, \"g\", 6);\n        ɵngcc0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"view\", ɵngcc0.ɵɵpureFunction2(17, _c23, ctx.width, ctx.height))(\"showLegend\", ctx.legend)(\"legendOptions\", ctx.legendOptions)(\"activeEntries\", ctx.activeEntries)(\"animations\", ctx.animations);\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵattribute(\"id\", ctx.clipPathId);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵattribute(\"width\", ctx.dims.width + 10)(\"height\", ctx.dims.height + 10)(\"transform\", \"translate(-5, -5)\");\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵattribute(\"transform\", ctx.transform);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.xAxis);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.yAxis);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵattribute(\"clip-path\", ctx.clipPath);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngForOf\", ctx.results)(\"ngForTrackBy\", ctx.trackBy);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", !ctx.tooltipDisabled);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.timeline && ctx.scaleType != \"ordinal\");\n      }\n    },\n    dependencies: function () {\n      return [ɵngcc1.NgForOf, ɵngcc1.NgIf, XAxisComponent, YAxisComponent, TooltipArea, ChartComponent, CircleSeriesComponent, Timeline, AreaSeriesComponent];\n    },\n    styles: [_c24],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  return AreaChartStackedComponent;\n}(BaseChartComponent);\nvar AreaSeriesComponent = /** @class */function () {\n  function AreaSeriesComponent() {\n    this.baseValue = 'auto';\n    this.stacked = false;\n    this.normalized = false;\n    this.animations = true;\n    this.select = new EventEmitter();\n  }\n  AreaSeriesComponent.prototype.ngOnChanges = function (changes) {\n    this.update();\n  };\n  AreaSeriesComponent.prototype.update = function () {\n    var _this = this;\n    this.updateGradient();\n    var currentArea;\n    var startingArea;\n    var xProperty = function (d) {\n      var label = d.name;\n      return _this.xScale(label);\n    };\n    if (this.stacked || this.normalized) {\n      currentArea = area().x(xProperty).y0(function (d, i) {\n        return _this.yScale(d.d0);\n      }).y1(function (d, i) {\n        return _this.yScale(d.d1);\n      });\n      startingArea = area().x(xProperty).y0(function (d) {\n        return _this.yScale.range()[0];\n      }).y1(function (d) {\n        return _this.yScale.range()[0];\n      });\n    } else {\n      currentArea = area().x(xProperty).y0(function () {\n        return _this.baseValue === 'auto' ? _this.yScale.range()[0] : _this.yScale(_this.baseValue);\n      }).y1(function (d) {\n        return _this.yScale(d.value);\n      });\n      startingArea = area().x(xProperty).y0(function (d) {\n        return _this.baseValue === 'auto' ? _this.yScale.range()[0] : _this.yScale(_this.baseValue);\n      }).y1(function (d) {\n        return _this.baseValue === 'auto' ? _this.yScale.range()[0] : _this.yScale(_this.baseValue);\n      });\n    }\n    currentArea.curve(this.curve);\n    startingArea.curve(this.curve);\n    this.opacity = .8;\n    var data = this.data.series;\n    if (this.scaleType === 'linear') {\n      data = sortLinear(data, 'name');\n    } else if (this.scaleType === 'time') {\n      data = sortByTime(data, 'name');\n    } else {\n      data = sortByDomain(data, 'name', 'asc', this.xScale.domain());\n    }\n    this.path = currentArea(data);\n    this.startingPath = startingArea(data);\n  };\n  AreaSeriesComponent.prototype.updateGradient = function () {\n    if (this.colors.scaleType === 'linear') {\n      this.hasGradient = true;\n      if (this.stacked || this.normalized) {\n        var d0values = this.data.series.map(function (d) {\n          return d.d0;\n        });\n        var d1values = this.data.series.map(function (d) {\n          return d.d1;\n        });\n        var max$$1 = Math.max.apply(Math, d1values);\n        var min$$1 = Math.min.apply(Math, d0values);\n        this.gradientStops = this.colors.getLinearGradientStops(max$$1, min$$1);\n      } else {\n        var values = this.data.series.map(function (d) {\n          return d.value;\n        });\n        var max$$1 = Math.max.apply(Math, values);\n        this.gradientStops = this.colors.getLinearGradientStops(max$$1);\n      }\n    } else {\n      this.hasGradient = false;\n      this.gradientStops = undefined;\n    }\n  };\n  AreaSeriesComponent.prototype.isActive = function (entry) {\n    if (!this.activeEntries) return false;\n    var item = this.activeEntries.find(function (d) {\n      return entry.name === d.name;\n    });\n    return item !== undefined;\n  };\n  AreaSeriesComponent.prototype.isInactive = function (entry) {\n    if (!this.activeEntries || this.activeEntries.length === 0) return false;\n    var item = this.activeEntries.find(function (d) {\n      return entry.name === d.name;\n    });\n    return item === undefined;\n  };\n  __decorate([Input(), __metadata(\"design:type\", Object)], AreaSeriesComponent.prototype, \"data\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], AreaSeriesComponent.prototype, \"xScale\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], AreaSeriesComponent.prototype, \"yScale\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], AreaSeriesComponent.prototype, \"baseValue\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], AreaSeriesComponent.prototype, \"colors\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], AreaSeriesComponent.prototype, \"scaleType\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], AreaSeriesComponent.prototype, \"stacked\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], AreaSeriesComponent.prototype, \"normalized\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], AreaSeriesComponent.prototype, \"gradient\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], AreaSeriesComponent.prototype, \"curve\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Array)], AreaSeriesComponent.prototype, \"activeEntries\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], AreaSeriesComponent.prototype, \"animations\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", Object)], AreaSeriesComponent.prototype, \"select\", void 0);\n  AreaSeriesComponent.ɵfac = function AreaSeriesComponent_Factory(t) {\n    return new (t || AreaSeriesComponent)();\n  };\n  AreaSeriesComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: AreaSeriesComponent,\n    selectors: [[\"g\", \"ngx-charts-area-series\", \"\"]],\n    inputs: {\n      baseValue: \"baseValue\",\n      stacked: \"stacked\",\n      normalized: \"normalized\",\n      animations: \"animations\",\n      data: \"data\",\n      xScale: \"xScale\",\n      yScale: \"yScale\",\n      colors: \"colors\",\n      scaleType: \"scaleType\",\n      gradient: \"gradient\",\n      curve: \"curve\",\n      activeEntries: \"activeEntries\"\n    },\n    outputs: {\n      select: \"select\"\n    },\n    features: [ɵngcc0.ɵɵNgOnChangesFeature],\n    attrs: _c25,\n    decls: 1,\n    vars: 12,\n    consts: [[\"ngx-charts-area\", \"\", 1, \"area-series\", 3, \"data\", \"path\", \"fill\", \"stops\", \"startingPath\", \"opacity\", \"gradient\", \"animations\"]],\n    template: function AreaSeriesComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵnamespaceSVG();\n        ɵngcc0.ɵɵelement(0, \"g\", 0);\n      }\n      if (rf & 2) {\n        ɵngcc0.ɵɵclassProp(\"active\", ctx.isActive(ctx.data))(\"inactive\", ctx.isInactive(ctx.data));\n        ɵngcc0.ɵɵproperty(\"data\", ctx.data)(\"path\", ctx.path)(\"fill\", ctx.colors.getColor(ctx.data.name))(\"stops\", ctx.gradientStops)(\"startingPath\", ctx.startingPath)(\"opacity\", ctx.opacity)(\"gradient\", ctx.gradient || ctx.hasGradient)(\"animations\", ctx.animations);\n      }\n    },\n    dependencies: [AreaComponent],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  return AreaSeriesComponent;\n}();\nvar AreaChartModule = /** @class */function () {\n  function AreaChartModule() {}\n  AreaChartModule.ɵfac = function AreaChartModule_Factory(t) {\n    return new (t || AreaChartModule)();\n  };\n  AreaChartModule.ɵmod = /*@__PURE__*/ɵngcc0.ɵɵdefineNgModule({\n    type: AreaChartModule\n  });\n  AreaChartModule.ɵinj = /*@__PURE__*/ɵngcc0.ɵɵdefineInjector({\n    imports: [ChartCommonModule]\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  (function () {\n    (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(AreaChartModule, {\n      declarations: [AreaChartComponent, AreaChartNormalizedComponent, AreaChartStackedComponent, AreaSeriesComponent],\n      imports: [ChartCommonModule],\n      exports: [AreaChartComponent, AreaChartNormalizedComponent, AreaChartStackedComponent, AreaSeriesComponent]\n    });\n  })();\n  return AreaChartModule;\n}();\nvar BarComponent = /** @class */function () {\n  function BarComponent(element) {\n    this.roundEdges = true;\n    this.gradient = false;\n    this.offset = 0;\n    this.isActive = false;\n    this.animations = true;\n    this.noBarWhenZero = true;\n    this.select = new EventEmitter();\n    this.activate = new EventEmitter();\n    this.deactivate = new EventEmitter();\n    this.initialized = false;\n    this.hasGradient = false;\n    this.hideBar = false;\n    this.element = element.nativeElement;\n  }\n  BarComponent.prototype.ngOnChanges = function (changes) {\n    if (!this.initialized) {\n      this.loadAnimation();\n      this.initialized = true;\n    } else {\n      this.update();\n    }\n  };\n  BarComponent.prototype.update = function () {\n    this.gradientId = 'grad' + id().toString();\n    this.gradientFill = \"url(#\" + this.gradientId + \")\";\n    if (this.gradient || this.stops) {\n      this.gradientStops = this.getGradient();\n      this.hasGradient = true;\n    } else {\n      this.hasGradient = false;\n    }\n    this.updatePathEl();\n    this.checkToHideBar();\n  };\n  BarComponent.prototype.loadAnimation = function () {\n    this.path = this.getStartingPath();\n    setTimeout(this.update.bind(this), 100);\n  };\n  BarComponent.prototype.updatePathEl = function () {\n    var node = select(this.element).select('.bar');\n    var path = this.getPath();\n    if (this.animations) {\n      node.transition().duration(500).attr('d', path);\n    } else {\n      node.attr('d', path);\n    }\n  };\n  BarComponent.prototype.getGradient = function () {\n    if (this.stops) {\n      return this.stops;\n    }\n    return [{\n      offset: 0,\n      color: this.fill,\n      opacity: this.getStartOpacity()\n    }, {\n      offset: 100,\n      color: this.fill,\n      opacity: 1\n    }];\n  };\n  BarComponent.prototype.getStartingPath = function () {\n    if (!this.animations) {\n      return this.getPath();\n    }\n    var radius = this.getRadius();\n    var path;\n    if (this.roundEdges) {\n      if (this.orientation === 'vertical') {\n        radius = Math.min(this.height, radius);\n        path = roundedRect(this.x, this.y + this.height, this.width, 1, 0, this.edges);\n      } else if (this.orientation === 'horizontal') {\n        radius = Math.min(this.width, radius);\n        path = roundedRect(this.x, this.y, 1, this.height, 0, this.edges);\n      }\n    } else {\n      if (this.orientation === 'vertical') {\n        path = roundedRect(this.x, this.y + this.height, this.width, 1, 0, this.edges);\n      } else if (this.orientation === 'horizontal') {\n        path = roundedRect(this.x, this.y, 1, this.height, 0, this.edges);\n      }\n    }\n    return path;\n  };\n  BarComponent.prototype.getPath = function () {\n    var radius = this.getRadius();\n    var path;\n    if (this.roundEdges) {\n      if (this.orientation === 'vertical') {\n        radius = Math.min(this.height, radius);\n        path = roundedRect(this.x, this.y, this.width, this.height, radius, this.edges);\n      } else if (this.orientation === 'horizontal') {\n        radius = Math.min(this.width, radius);\n        path = roundedRect(this.x, this.y, this.width, this.height, radius, this.edges);\n      }\n    } else {\n      path = roundedRect(this.x, this.y, this.width, this.height, radius, this.edges);\n    }\n    return path;\n  };\n  BarComponent.prototype.getRadius = function () {\n    var radius = 0;\n    if (this.roundEdges && this.height > 5 && this.width > 5) {\n      radius = Math.floor(Math.min(5, this.height / 2, this.width / 2));\n    }\n    return radius;\n  };\n  BarComponent.prototype.getStartOpacity = function () {\n    if (this.roundEdges) {\n      return 0.2;\n    } else {\n      return 0.5;\n    }\n  };\n  Object.defineProperty(BarComponent.prototype, \"edges\", {\n    get: function () {\n      var edges = [false, false, false, false];\n      if (this.roundEdges) {\n        if (this.orientation === 'vertical') {\n          if (this.data.value > 0) {\n            edges = [true, true, false, false];\n          } else {\n            edges = [false, false, true, true];\n          }\n        } else if (this.orientation === 'horizontal') {\n          if (this.data.value > 0) {\n            edges = [false, true, false, true];\n          } else {\n            edges = [true, false, true, false];\n          }\n        }\n      }\n      return edges;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  BarComponent.prototype.onMouseEnter = function () {\n    this.activate.emit(this.data);\n  };\n  BarComponent.prototype.onMouseLeave = function () {\n    this.deactivate.emit(this.data);\n  };\n  BarComponent.prototype.checkToHideBar = function () {\n    this.hideBar = this.noBarWhenZero && (this.orientation === 'vertical' && this.height === 0 || this.orientation === 'horizontal' && this.width === 0);\n  };\n  var _a;\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarComponent.prototype, \"fill\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarComponent.prototype, \"data\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], BarComponent.prototype, \"width\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], BarComponent.prototype, \"height\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], BarComponent.prototype, \"x\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], BarComponent.prototype, \"y\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarComponent.prototype, \"orientation\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarComponent.prototype, \"roundEdges\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarComponent.prototype, \"gradient\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarComponent.prototype, \"offset\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarComponent.prototype, \"isActive\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Array)], BarComponent.prototype, \"stops\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarComponent.prototype, \"animations\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], BarComponent.prototype, \"ariaLabel\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarComponent.prototype, \"noBarWhenZero\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", Object)], BarComponent.prototype, \"select\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", Object)], BarComponent.prototype, \"activate\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", Object)], BarComponent.prototype, \"deactivate\", void 0);\n  __decorate([HostListener('mouseenter'), __metadata(\"design:type\", Function), __metadata(\"design:paramtypes\", []), __metadata(\"design:returntype\", void 0)], BarComponent.prototype, \"onMouseEnter\", null);\n  __decorate([HostListener('mouseleave'), __metadata(\"design:type\", Function), __metadata(\"design:paramtypes\", []), __metadata(\"design:returntype\", void 0)], BarComponent.prototype, \"onMouseLeave\", null);\n  BarComponent = __decorate([__metadata(\"design:paramtypes\", [typeof (_a = typeof ElementRef !== \"undefined\" && ElementRef) === \"function\" ? _a : Object])], BarComponent);\n  BarComponent.ɵfac = function BarComponent_Factory(t) {\n    return new (t || BarComponent)(ɵngcc0.ɵɵdirectiveInject(typeof (_a = typeof ElementRef !== \"undefined\" && ElementRef) === \"function\" ? _a : Object));\n  };\n  BarComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: BarComponent,\n    selectors: [[\"g\", \"ngx-charts-bar\", \"\"]],\n    hostBindings: function BarComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵlistener(\"mouseenter\", function BarComponent_mouseenter_HostBindingHandler() {\n          return ctx.onMouseEnter();\n        })(\"mouseleave\", function BarComponent_mouseleave_HostBindingHandler() {\n          return ctx.onMouseLeave();\n        });\n      }\n    },\n    inputs: {\n      roundEdges: \"roundEdges\",\n      gradient: \"gradient\",\n      offset: \"offset\",\n      isActive: \"isActive\",\n      animations: \"animations\",\n      noBarWhenZero: \"noBarWhenZero\",\n      fill: \"fill\",\n      data: \"data\",\n      width: \"width\",\n      height: \"height\",\n      x: \"x\",\n      y: \"y\",\n      orientation: \"orientation\",\n      stops: \"stops\",\n      ariaLabel: \"ariaLabel\"\n    },\n    outputs: {\n      select: \"select\",\n      activate: \"activate\",\n      deactivate: \"deactivate\"\n    },\n    features: [ɵngcc0.ɵɵNgOnChangesFeature],\n    attrs: _c26,\n    decls: 2,\n    vars: 8,\n    consts: [[4, \"ngIf\"], [\"stroke\", \"none\", \"role\", \"img\", \"tabIndex\", \"-1\", 1, \"bar\", 3, \"click\"], [\"ngx-charts-svg-linear-gradient\", \"\", 3, \"orientation\", \"name\", \"stops\"]],\n    template: function BarComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵtemplate(0, BarComponent__svg_defs_0_Template, 2, 3, \"defs\", 0);\n        ɵngcc0.ɵɵnamespaceSVG();\n        ɵngcc0.ɵɵelementStart(1, \"path\", 1);\n        ɵngcc0.ɵɵlistener(\"click\", function BarComponent_Template__svg_path_click_1_listener() {\n          return ctx.select.emit(ctx.data);\n        });\n        ɵngcc0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.hasGradient);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵclassProp(\"active\", ctx.isActive)(\"hidden\", ctx.hideBar);\n        ɵngcc0.ɵɵattribute(\"d\", ctx.path)(\"aria-label\", ctx.ariaLabel)(\"fill\", ctx.hasGradient ? ctx.gradientFill : ctx.fill);\n      }\n    },\n    dependencies: [ɵngcc1.NgIf, SvgLinearGradientComponent],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  return BarComponent;\n}();\nvar BarHorizontalComponent = /** @class */function (_super) {\n  __extends(BarHorizontalComponent, _super);\n  function BarHorizontalComponent() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.legend = false;\n    _this.legendTitle = 'Legend';\n    _this.legendPosition = 'right';\n    _this.tooltipDisabled = false;\n    _this.showGridLines = true;\n    _this.activeEntries = [];\n    _this.trimXAxisTicks = true;\n    _this.trimYAxisTicks = true;\n    _this.rotateXAxisTicks = true;\n    _this.maxXAxisTickLength = 16;\n    _this.maxYAxisTickLength = 16;\n    _this.barPadding = 8;\n    _this.roundDomains = false;\n    _this.roundEdges = true;\n    _this.showDataLabel = false;\n    _this.noBarWhenZero = true;\n    _this.activate = new EventEmitter();\n    _this.deactivate = new EventEmitter();\n    _this.margin = [10, 20, 10, 20];\n    _this.xAxisHeight = 0;\n    _this.yAxisWidth = 0;\n    _this.dataLabelMaxWidth = {\n      negative: 0,\n      positive: 0\n    };\n    return _this;\n  }\n  BarHorizontalComponent.prototype.update = function () {\n    _super.prototype.update.call(this);\n    if (!this.showDataLabel) {\n      this.dataLabelMaxWidth = {\n        negative: 0,\n        positive: 0\n      };\n    }\n    this.margin = [10, 20 + this.dataLabelMaxWidth.positive, 10, 20 + this.dataLabelMaxWidth.negative];\n    this.dims = calculateViewDimensions({\n      width: this.width,\n      height: this.height,\n      margins: this.margin,\n      showXAxis: this.xAxis,\n      showYAxis: this.yAxis,\n      xAxisHeight: this.xAxisHeight,\n      yAxisWidth: this.yAxisWidth,\n      showXLabel: this.showXAxisLabel,\n      showYLabel: this.showYAxisLabel,\n      showLegend: this.legend,\n      legendType: this.schemeType,\n      legendPosition: this.legendPosition\n    });\n    this.formatDates();\n    this.xScale = this.getXScale();\n    this.yScale = this.getYScale();\n    this.setColors();\n    this.legendOptions = this.getLegendOptions();\n    this.transform = \"translate(\" + this.dims.xOffset + \" , \" + this.margin[0] + \")\";\n  };\n  BarHorizontalComponent.prototype.getXScale = function () {\n    this.xDomain = this.getXDomain();\n    var scale = scaleLinear().range([0, this.dims.width]).domain(this.xDomain);\n    return this.roundDomains ? scale.nice() : scale;\n  };\n  BarHorizontalComponent.prototype.getYScale = function () {\n    this.yDomain = this.getYDomain();\n    var spacing = this.yDomain.length / (this.dims.height / this.barPadding + 1);\n    return scaleBand().rangeRound([0, this.dims.height]).paddingInner(spacing).domain(this.yDomain);\n  };\n  BarHorizontalComponent.prototype.getXDomain = function () {\n    var values = this.results.map(function (d) {\n      return d.value;\n    });\n    var min$$1 = this.xScaleMin ? Math.min.apply(Math, [this.xScaleMin].concat(values)) : Math.min.apply(Math, [0].concat(values));\n    var max$$1 = this.xScaleMax ? Math.max.apply(Math, [this.xScaleMax].concat(values)) : Math.max.apply(Math, [0].concat(values));\n    return [min$$1, max$$1];\n  };\n  BarHorizontalComponent.prototype.getYDomain = function () {\n    return this.results.map(function (d) {\n      return d.label;\n    });\n  };\n  BarHorizontalComponent.prototype.onClick = function (data) {\n    this.select.emit(data);\n  };\n  BarHorizontalComponent.prototype.setColors = function () {\n    var domain;\n    if (this.schemeType === 'ordinal') {\n      domain = this.yDomain;\n    } else {\n      domain = this.xDomain;\n    }\n    this.colors = new ColorHelper(this.scheme, this.schemeType, domain, this.customColors);\n  };\n  BarHorizontalComponent.prototype.getLegendOptions = function () {\n    var opts = {\n      scaleType: this.schemeType,\n      colors: undefined,\n      domain: [],\n      title: undefined,\n      position: this.legendPosition\n    };\n    if (opts.scaleType === 'ordinal') {\n      opts.domain = this.yDomain;\n      opts.colors = this.colors;\n      opts.title = this.legendTitle;\n    } else {\n      opts.domain = this.xDomain;\n      opts.colors = this.colors.scale;\n    }\n    return opts;\n  };\n  BarHorizontalComponent.prototype.updateYAxisWidth = function (_a) {\n    var width = _a.width;\n    this.yAxisWidth = width;\n    this.update();\n  };\n  BarHorizontalComponent.prototype.updateXAxisHeight = function (_a) {\n    var height = _a.height;\n    this.xAxisHeight = height;\n    this.update();\n  };\n  BarHorizontalComponent.prototype.onDataLabelMaxWidthChanged = function (event$$1) {\n    var _this = this;\n    if (event$$1.size.negative) {\n      this.dataLabelMaxWidth.negative = Math.max(this.dataLabelMaxWidth.negative, event$$1.size.width);\n    } else {\n      this.dataLabelMaxWidth.positive = Math.max(this.dataLabelMaxWidth.positive, event$$1.size.width);\n    }\n    if (event$$1.index === this.results.length - 1) {\n      setTimeout(function () {\n        return _this.update();\n      });\n    }\n  };\n  BarHorizontalComponent.prototype.onActivate = function (item, fromLegend) {\n    if (fromLegend === void 0) {\n      fromLegend = false;\n    }\n    item = this.results.find(function (d) {\n      if (fromLegend) {\n        return d.label === item.name;\n      } else {\n        return d.name === item.name;\n      }\n    });\n    var idx = this.activeEntries.findIndex(function (d) {\n      return d.name === item.name && d.value === item.value && d.series === item.series;\n    });\n    if (idx > -1) {\n      return;\n    }\n    this.activeEntries = [item].concat(this.activeEntries);\n    this.activate.emit({\n      value: item,\n      entries: this.activeEntries\n    });\n  };\n  BarHorizontalComponent.prototype.onDeactivate = function (item, fromLegend) {\n    if (fromLegend === void 0) {\n      fromLegend = false;\n    }\n    item = this.results.find(function (d) {\n      if (fromLegend) {\n        return d.label === item.name;\n      } else {\n        return d.name === item.name;\n      }\n    });\n    var idx = this.activeEntries.findIndex(function (d) {\n      return d.name === item.name && d.value === item.value && d.series === item.series;\n    });\n    this.activeEntries.splice(idx, 1);\n    this.activeEntries = this.activeEntries.slice();\n    this.deactivate.emit({\n      value: item,\n      entries: this.activeEntries\n    });\n  };\n  var _a, _b, _c;\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarHorizontalComponent.prototype, \"legend\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], BarHorizontalComponent.prototype, \"legendTitle\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], BarHorizontalComponent.prototype, \"legendPosition\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarHorizontalComponent.prototype, \"xAxis\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarHorizontalComponent.prototype, \"yAxis\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarHorizontalComponent.prototype, \"showXAxisLabel\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarHorizontalComponent.prototype, \"showYAxisLabel\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarHorizontalComponent.prototype, \"xAxisLabel\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarHorizontalComponent.prototype, \"yAxisLabel\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarHorizontalComponent.prototype, \"tooltipDisabled\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarHorizontalComponent.prototype, \"gradient\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarHorizontalComponent.prototype, \"showGridLines\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Array)], BarHorizontalComponent.prototype, \"activeEntries\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], BarHorizontalComponent.prototype, \"schemeType\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarHorizontalComponent.prototype, \"trimXAxisTicks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarHorizontalComponent.prototype, \"trimYAxisTicks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarHorizontalComponent.prototype, \"rotateXAxisTicks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], BarHorizontalComponent.prototype, \"maxXAxisTickLength\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], BarHorizontalComponent.prototype, \"maxYAxisTickLength\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarHorizontalComponent.prototype, \"xAxisTickFormatting\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarHorizontalComponent.prototype, \"yAxisTickFormatting\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Array)], BarHorizontalComponent.prototype, \"xAxisTicks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Array)], BarHorizontalComponent.prototype, \"yAxisTicks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarHorizontalComponent.prototype, \"barPadding\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarHorizontalComponent.prototype, \"roundDomains\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarHorizontalComponent.prototype, \"roundEdges\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], BarHorizontalComponent.prototype, \"xScaleMax\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], BarHorizontalComponent.prototype, \"xScaleMin\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarHorizontalComponent.prototype, \"showDataLabel\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarHorizontalComponent.prototype, \"dataLabelFormatting\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarHorizontalComponent.prototype, \"noBarWhenZero\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", typeof (_a = typeof EventEmitter !== \"undefined\" && EventEmitter) === \"function\" ? _a : Object)], BarHorizontalComponent.prototype, \"activate\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", typeof (_b = typeof EventEmitter !== \"undefined\" && EventEmitter) === \"function\" ? _b : Object)], BarHorizontalComponent.prototype, \"deactivate\", void 0);\n  __decorate([ContentChild('tooltipTemplate', {\n    static: false\n  }), __metadata(\"design:type\", typeof (_c = typeof TemplateRef !== \"undefined\" && TemplateRef) === \"function\" ? _c : Object)], BarHorizontalComponent.prototype, \"tooltipTemplate\", void 0);\n  BarHorizontalComponent.ɵfac = /*@__PURE__*/function () {\n    var ɵBarHorizontalComponent_BaseFactory;\n    return function BarHorizontalComponent_Factory(t) {\n      return (ɵBarHorizontalComponent_BaseFactory || (ɵBarHorizontalComponent_BaseFactory = ɵngcc0.ɵɵgetInheritedFactory(BarHorizontalComponent)))(t || BarHorizontalComponent);\n    };\n  }();\n  BarHorizontalComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: BarHorizontalComponent,\n    selectors: [[\"ngx-charts-bar-horizontal\"]],\n    contentQueries: function BarHorizontalComponent_ContentQueries(rf, ctx, dirIndex) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵcontentQuery(dirIndex, _c21, 5);\n      }\n      if (rf & 2) {\n        var _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.tooltipTemplate = _t.first);\n      }\n    },\n    inputs: {\n      activeEntries: \"activeEntries\",\n      legend: \"legend\",\n      legendTitle: \"legendTitle\",\n      legendPosition: \"legendPosition\",\n      xAxis: \"xAxis\",\n      yAxis: \"yAxis\",\n      showXAxisLabel: \"showXAxisLabel\",\n      showYAxisLabel: \"showYAxisLabel\",\n      xAxisLabel: \"xAxisLabel\",\n      yAxisLabel: \"yAxisLabel\",\n      tooltipDisabled: \"tooltipDisabled\",\n      gradient: \"gradient\",\n      showGridLines: \"showGridLines\",\n      schemeType: \"schemeType\",\n      trimXAxisTicks: \"trimXAxisTicks\",\n      trimYAxisTicks: \"trimYAxisTicks\",\n      rotateXAxisTicks: \"rotateXAxisTicks\",\n      maxXAxisTickLength: \"maxXAxisTickLength\",\n      maxYAxisTickLength: \"maxYAxisTickLength\",\n      xAxisTickFormatting: \"xAxisTickFormatting\",\n      yAxisTickFormatting: \"yAxisTickFormatting\",\n      xAxisTicks: \"xAxisTicks\",\n      yAxisTicks: \"yAxisTicks\",\n      barPadding: \"barPadding\",\n      roundDomains: \"roundDomains\",\n      roundEdges: \"roundEdges\",\n      xScaleMax: \"xScaleMax\",\n      xScaleMin: \"xScaleMin\",\n      showDataLabel: \"showDataLabel\",\n      dataLabelFormatting: \"dataLabelFormatting\",\n      noBarWhenZero: \"noBarWhenZero\"\n    },\n    outputs: {\n      activate: \"activate\",\n      deactivate: \"deactivate\"\n    },\n    features: [ɵngcc0.ɵɵInheritDefinitionFeature],\n    decls: 5,\n    vars: 25,\n    consts: [[3, \"view\", \"showLegend\", \"legendOptions\", \"activeEntries\", \"animations\", \"legendLabelClick\", \"legendLabelActivate\", \"legendLabelDeactivate\"], [1, \"bar-chart\", \"chart\"], [\"ngx-charts-x-axis\", \"\", 3, \"xScale\", \"dims\", \"showGridLines\", \"showLabel\", \"labelText\", \"trimTicks\", \"rotateTicks\", \"maxTickLength\", \"tickFormatting\", \"ticks\", \"dimensionsChanged\", 4, \"ngIf\"], [\"ngx-charts-y-axis\", \"\", 3, \"yScale\", \"dims\", \"showLabel\", \"labelText\", \"trimTicks\", \"maxTickLength\", \"tickFormatting\", \"ticks\", \"yAxisOffset\", \"dimensionsChanged\", 4, \"ngIf\"], [\"ngx-charts-series-horizontal\", \"\", 3, \"xScale\", \"yScale\", \"colors\", \"series\", \"dims\", \"gradient\", \"tooltipDisabled\", \"tooltipTemplate\", \"activeEntries\", \"roundEdges\", \"animations\", \"showDataLabel\", \"dataLabelFormatting\", \"noBarWhenZero\", \"select\", \"activate\", \"deactivate\", \"dataLabelWidthChanged\"], [\"ngx-charts-x-axis\", \"\", 3, \"xScale\", \"dims\", \"showGridLines\", \"showLabel\", \"labelText\", \"trimTicks\", \"rotateTicks\", \"maxTickLength\", \"tickFormatting\", \"ticks\", \"dimensionsChanged\"], [\"ngx-charts-y-axis\", \"\", 3, \"yScale\", \"dims\", \"showLabel\", \"labelText\", \"trimTicks\", \"maxTickLength\", \"tickFormatting\", \"ticks\", \"yAxisOffset\", \"dimensionsChanged\"]],\n    template: function BarHorizontalComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"ngx-charts-chart\", 0);\n        ɵngcc0.ɵɵlistener(\"legendLabelClick\", function BarHorizontalComponent_Template_ngx_charts_chart_legendLabelClick_0_listener($event) {\n          return ctx.onClick($event);\n        })(\"legendLabelActivate\", function BarHorizontalComponent_Template_ngx_charts_chart_legendLabelActivate_0_listener($event) {\n          return ctx.onActivate($event, true);\n        })(\"legendLabelDeactivate\", function BarHorizontalComponent_Template_ngx_charts_chart_legendLabelDeactivate_0_listener($event) {\n          return ctx.onDeactivate($event, true);\n        });\n        ɵngcc0.ɵɵnamespaceSVG();\n        ɵngcc0.ɵɵelementStart(1, \"g\", 1);\n        ɵngcc0.ɵɵtemplate(2, BarHorizontalComponent__svg_g_2_Template, 1, 10, \"g\", 2);\n        ɵngcc0.ɵɵtemplate(3, BarHorizontalComponent__svg_g_3_Template, 1, 9, \"g\", 3);\n        ɵngcc0.ɵɵelementStart(4, \"g\", 4);\n        ɵngcc0.ɵɵlistener(\"select\", function BarHorizontalComponent_Template__svg_g_select_4_listener($event) {\n          return ctx.onClick($event);\n        })(\"activate\", function BarHorizontalComponent_Template__svg_g_activate_4_listener($event) {\n          return ctx.onActivate($event);\n        })(\"deactivate\", function BarHorizontalComponent_Template__svg_g_deactivate_4_listener($event) {\n          return ctx.onDeactivate($event);\n        })(\"dataLabelWidthChanged\", function BarHorizontalComponent_Template__svg_g_dataLabelWidthChanged_4_listener($event) {\n          return ctx.onDataLabelMaxWidthChanged($event);\n        });\n        ɵngcc0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"view\", ɵngcc0.ɵɵpureFunction2(22, _c23, ctx.width, ctx.height))(\"showLegend\", ctx.legend)(\"legendOptions\", ctx.legendOptions)(\"activeEntries\", ctx.activeEntries)(\"animations\", ctx.animations);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵattribute(\"transform\", ctx.transform);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.xAxis);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.yAxis);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"xScale\", ctx.xScale)(\"yScale\", ctx.yScale)(\"colors\", ctx.colors)(\"series\", ctx.results)(\"dims\", ctx.dims)(\"gradient\", ctx.gradient)(\"tooltipDisabled\", ctx.tooltipDisabled)(\"tooltipTemplate\", ctx.tooltipTemplate)(\"activeEntries\", ctx.activeEntries)(\"roundEdges\", ctx.roundEdges)(\"animations\", ctx.animations)(\"showDataLabel\", ctx.showDataLabel)(\"dataLabelFormatting\", ctx.dataLabelFormatting)(\"noBarWhenZero\", ctx.noBarWhenZero);\n      }\n    },\n    dependencies: function () {\n      return [ɵngcc1.NgIf, XAxisComponent, YAxisComponent, ChartComponent, SeriesHorizontal];\n    },\n    styles: [_c24],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  return BarHorizontalComponent;\n}(BaseChartComponent);\nvar BarHorizontal2DComponent = /** @class */function (_super) {\n  __extends(BarHorizontal2DComponent, _super);\n  function BarHorizontal2DComponent() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.legend = false;\n    _this.legendTitle = 'Legend';\n    _this.legendPosition = 'right';\n    _this.tooltipDisabled = false;\n    _this.showGridLines = true;\n    _this.activeEntries = [];\n    _this.trimXAxisTicks = true;\n    _this.trimYAxisTicks = true;\n    _this.rotateXAxisTicks = true;\n    _this.maxXAxisTickLength = 16;\n    _this.maxYAxisTickLength = 16;\n    _this.groupPadding = 16;\n    _this.barPadding = 8;\n    _this.roundDomains = false;\n    _this.roundEdges = true;\n    _this.showDataLabel = false;\n    _this.noBarWhenZero = true;\n    _this.activate = new EventEmitter();\n    _this.deactivate = new EventEmitter();\n    _this.margin = [10, 20, 10, 20];\n    _this.xAxisHeight = 0;\n    _this.yAxisWidth = 0;\n    _this.dataLabelMaxWidth = {\n      negative: 0,\n      positive: 0\n    };\n    return _this;\n  }\n  BarHorizontal2DComponent.prototype.update = function () {\n    _super.prototype.update.call(this);\n    if (!this.showDataLabel) {\n      this.dataLabelMaxWidth = {\n        negative: 0,\n        positive: 0\n      };\n    }\n    this.margin = [10, 20 + this.dataLabelMaxWidth.positive, 10, 20 + this.dataLabelMaxWidth.negative];\n    this.dims = calculateViewDimensions({\n      width: this.width,\n      height: this.height,\n      margins: this.margin,\n      showXAxis: this.xAxis,\n      showYAxis: this.yAxis,\n      xAxisHeight: this.xAxisHeight,\n      yAxisWidth: this.yAxisWidth,\n      showXLabel: this.showXAxisLabel,\n      showYLabel: this.showYAxisLabel,\n      showLegend: this.legend,\n      legendType: this.schemeType,\n      legendPosition: this.legendPosition\n    });\n    this.formatDates();\n    this.groupDomain = this.getGroupDomain();\n    this.innerDomain = this.getInnerDomain();\n    this.valuesDomain = this.getValueDomain();\n    this.groupScale = this.getGroupScale();\n    this.innerScale = this.getInnerScale();\n    this.valueScale = this.getValueScale();\n    this.setColors();\n    this.legendOptions = this.getLegendOptions();\n    this.transform = \"translate(\" + this.dims.xOffset + \" , \" + this.margin[0] + \")\";\n  };\n  BarHorizontal2DComponent.prototype.getGroupScale = function () {\n    var spacing = this.groupDomain.length / (this.dims.height / this.groupPadding + 1);\n    return scaleBand().rangeRound([0, this.dims.height]).paddingInner(spacing).paddingOuter(spacing / 2).domain(this.groupDomain);\n  };\n  BarHorizontal2DComponent.prototype.getInnerScale = function () {\n    var height = this.groupScale.bandwidth();\n    var spacing = this.innerDomain.length / (height / this.barPadding + 1);\n    return scaleBand().rangeRound([0, height]).paddingInner(spacing).domain(this.innerDomain);\n  };\n  BarHorizontal2DComponent.prototype.getValueScale = function () {\n    var scale = scaleLinear().range([0, this.dims.width]).domain(this.valuesDomain);\n    return this.roundDomains ? scale.nice() : scale;\n  };\n  BarHorizontal2DComponent.prototype.getGroupDomain = function () {\n    var domain = [];\n    for (var _i = 0, _a = this.results; _i < _a.length; _i++) {\n      var group = _a[_i];\n      if (!domain.includes(group.label)) {\n        domain.push(group.label);\n      }\n    }\n    return domain;\n  };\n  BarHorizontal2DComponent.prototype.getInnerDomain = function () {\n    var domain = [];\n    for (var _i = 0, _a = this.results; _i < _a.length; _i++) {\n      var group = _a[_i];\n      for (var _b = 0, _c = group.series; _b < _c.length; _b++) {\n        var d = _c[_b];\n        if (!domain.includes(d.label)) {\n          domain.push(d.label);\n        }\n      }\n    }\n    return domain;\n  };\n  BarHorizontal2DComponent.prototype.getValueDomain = function () {\n    var domain = [];\n    for (var _i = 0, _a = this.results; _i < _a.length; _i++) {\n      var group = _a[_i];\n      for (var _b = 0, _c = group.series; _b < _c.length; _b++) {\n        var d = _c[_b];\n        if (!domain.includes(d.value)) {\n          domain.push(d.value);\n        }\n      }\n    }\n    var min$$1 = Math.min.apply(Math, [0].concat(domain));\n    var max$$1 = this.xScaleMax ? Math.max.apply(Math, [this.xScaleMax].concat(domain)) : Math.max.apply(Math, [0].concat(domain));\n    return [min$$1, max$$1];\n  };\n  BarHorizontal2DComponent.prototype.groupTransform = function (group) {\n    return \"translate(0, \" + this.groupScale(group.label) + \")\";\n  };\n  BarHorizontal2DComponent.prototype.onClick = function (data, group) {\n    if (group) {\n      data.series = group.name;\n    }\n    this.select.emit(data);\n  };\n  BarHorizontal2DComponent.prototype.trackBy = function (index, item) {\n    return item.name;\n  };\n  BarHorizontal2DComponent.prototype.setColors = function () {\n    var domain;\n    if (this.schemeType === 'ordinal') {\n      domain = this.innerDomain;\n    } else {\n      domain = this.valuesDomain;\n    }\n    this.colors = new ColorHelper(this.scheme, this.schemeType, domain, this.customColors);\n  };\n  BarHorizontal2DComponent.prototype.getLegendOptions = function () {\n    var opts = {\n      scaleType: this.schemeType,\n      colors: undefined,\n      domain: [],\n      title: undefined,\n      position: this.legendPosition\n    };\n    if (opts.scaleType === 'ordinal') {\n      opts.domain = this.innerDomain;\n      opts.colors = this.colors;\n      opts.title = this.legendTitle;\n    } else {\n      opts.domain = this.valuesDomain;\n      opts.colors = this.colors.scale;\n    }\n    return opts;\n  };\n  BarHorizontal2DComponent.prototype.updateYAxisWidth = function (_a) {\n    var width = _a.width;\n    this.yAxisWidth = width;\n    this.update();\n  };\n  BarHorizontal2DComponent.prototype.updateXAxisHeight = function (_a) {\n    var height = _a.height;\n    this.xAxisHeight = height;\n    this.update();\n  };\n  BarHorizontal2DComponent.prototype.onDataLabelMaxWidthChanged = function (event$$1, groupIndex) {\n    var _this = this;\n    if (event$$1.size.negative) {\n      this.dataLabelMaxWidth.negative = Math.max(this.dataLabelMaxWidth.negative, event$$1.size.width);\n    } else {\n      this.dataLabelMaxWidth.positive = Math.max(this.dataLabelMaxWidth.positive, event$$1.size.width);\n    }\n    if (groupIndex === this.results.length - 1) {\n      setTimeout(function () {\n        return _this.update();\n      });\n    }\n  };\n  BarHorizontal2DComponent.prototype.onActivate = function (event$$1, group, fromLegend) {\n    if (fromLegend === void 0) {\n      fromLegend = false;\n    }\n    var item = Object.assign({}, event$$1);\n    if (group) {\n      item.series = group.name;\n    }\n    var items = this.results.map(function (g) {\n      return g.series;\n    }).flat().filter(function (i) {\n      if (fromLegend) {\n        return i.label === item.name;\n      } else {\n        return i.name === item.name && i.series === item.series;\n      }\n    });\n    this.activeEntries = items.slice();\n    this.activate.emit({\n      value: item,\n      entries: this.activeEntries\n    });\n  };\n  BarHorizontal2DComponent.prototype.onDeactivate = function (event$$1, group, fromLegend) {\n    if (fromLegend === void 0) {\n      fromLegend = false;\n    }\n    var item = Object.assign({}, event$$1);\n    if (group) {\n      item.series = group.name;\n    }\n    this.activeEntries = this.activeEntries.filter(function (i) {\n      if (fromLegend) {\n        return i.label !== item.name;\n      } else {\n        return !(i.name === item.name && i.series === item.series);\n      }\n    });\n    this.deactivate.emit({\n      value: item,\n      entries: this.activeEntries\n    });\n  };\n  var _a, _b, _c;\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarHorizontal2DComponent.prototype, \"legend\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], BarHorizontal2DComponent.prototype, \"legendTitle\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], BarHorizontal2DComponent.prototype, \"legendPosition\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarHorizontal2DComponent.prototype, \"xAxis\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarHorizontal2DComponent.prototype, \"yAxis\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarHorizontal2DComponent.prototype, \"showXAxisLabel\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarHorizontal2DComponent.prototype, \"showYAxisLabel\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarHorizontal2DComponent.prototype, \"xAxisLabel\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarHorizontal2DComponent.prototype, \"yAxisLabel\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarHorizontal2DComponent.prototype, \"tooltipDisabled\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarHorizontal2DComponent.prototype, \"gradient\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarHorizontal2DComponent.prototype, \"showGridLines\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Array)], BarHorizontal2DComponent.prototype, \"activeEntries\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], BarHorizontal2DComponent.prototype, \"schemeType\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarHorizontal2DComponent.prototype, \"trimXAxisTicks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarHorizontal2DComponent.prototype, \"trimYAxisTicks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarHorizontal2DComponent.prototype, \"rotateXAxisTicks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], BarHorizontal2DComponent.prototype, \"maxXAxisTickLength\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], BarHorizontal2DComponent.prototype, \"maxYAxisTickLength\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarHorizontal2DComponent.prototype, \"xAxisTickFormatting\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarHorizontal2DComponent.prototype, \"yAxisTickFormatting\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Array)], BarHorizontal2DComponent.prototype, \"xAxisTicks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Array)], BarHorizontal2DComponent.prototype, \"yAxisTicks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarHorizontal2DComponent.prototype, \"groupPadding\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarHorizontal2DComponent.prototype, \"barPadding\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarHorizontal2DComponent.prototype, \"roundDomains\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarHorizontal2DComponent.prototype, \"roundEdges\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], BarHorizontal2DComponent.prototype, \"xScaleMax\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarHorizontal2DComponent.prototype, \"showDataLabel\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarHorizontal2DComponent.prototype, \"dataLabelFormatting\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarHorizontal2DComponent.prototype, \"noBarWhenZero\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", typeof (_a = typeof EventEmitter !== \"undefined\" && EventEmitter) === \"function\" ? _a : Object)], BarHorizontal2DComponent.prototype, \"activate\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", typeof (_b = typeof EventEmitter !== \"undefined\" && EventEmitter) === \"function\" ? _b : Object)], BarHorizontal2DComponent.prototype, \"deactivate\", void 0);\n  __decorate([ContentChild('tooltipTemplate', {\n    static: false\n  }), __metadata(\"design:type\", typeof (_c = typeof TemplateRef !== \"undefined\" && TemplateRef) === \"function\" ? _c : Object)], BarHorizontal2DComponent.prototype, \"tooltipTemplate\", void 0);\n  BarHorizontal2DComponent.ɵfac = /*@__PURE__*/function () {\n    var ɵBarHorizontal2DComponent_BaseFactory;\n    return function BarHorizontal2DComponent_Factory(t) {\n      return (ɵBarHorizontal2DComponent_BaseFactory || (ɵBarHorizontal2DComponent_BaseFactory = ɵngcc0.ɵɵgetInheritedFactory(BarHorizontal2DComponent)))(t || BarHorizontal2DComponent);\n    };\n  }();\n  BarHorizontal2DComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: BarHorizontal2DComponent,\n    selectors: [[\"ngx-charts-bar-horizontal-2d\"]],\n    contentQueries: function BarHorizontal2DComponent_ContentQueries(rf, ctx, dirIndex) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵcontentQuery(dirIndex, _c21, 5);\n      }\n      if (rf & 2) {\n        var _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.tooltipTemplate = _t.first);\n      }\n    },\n    inputs: {\n      activeEntries: \"activeEntries\",\n      legend: \"legend\",\n      legendTitle: \"legendTitle\",\n      legendPosition: \"legendPosition\",\n      xAxis: \"xAxis\",\n      yAxis: \"yAxis\",\n      showXAxisLabel: \"showXAxisLabel\",\n      showYAxisLabel: \"showYAxisLabel\",\n      xAxisLabel: \"xAxisLabel\",\n      yAxisLabel: \"yAxisLabel\",\n      tooltipDisabled: \"tooltipDisabled\",\n      gradient: \"gradient\",\n      showGridLines: \"showGridLines\",\n      schemeType: \"schemeType\",\n      trimXAxisTicks: \"trimXAxisTicks\",\n      trimYAxisTicks: \"trimYAxisTicks\",\n      rotateXAxisTicks: \"rotateXAxisTicks\",\n      maxXAxisTickLength: \"maxXAxisTickLength\",\n      maxYAxisTickLength: \"maxYAxisTickLength\",\n      xAxisTickFormatting: \"xAxisTickFormatting\",\n      yAxisTickFormatting: \"yAxisTickFormatting\",\n      xAxisTicks: \"xAxisTicks\",\n      yAxisTicks: \"yAxisTicks\",\n      groupPadding: \"groupPadding\",\n      barPadding: \"barPadding\",\n      roundDomains: \"roundDomains\",\n      roundEdges: \"roundEdges\",\n      xScaleMax: \"xScaleMax\",\n      showDataLabel: \"showDataLabel\",\n      dataLabelFormatting: \"dataLabelFormatting\",\n      noBarWhenZero: \"noBarWhenZero\"\n    },\n    outputs: {\n      activate: \"activate\",\n      deactivate: \"deactivate\"\n    },\n    features: [ɵngcc0.ɵɵInheritDefinitionFeature],\n    decls: 6,\n    vars: 17,\n    consts: [[3, \"view\", \"showLegend\", \"legendOptions\", \"activeEntries\", \"animations\", \"legendLabelActivate\", \"legendLabelDeactivate\", \"legendLabelClick\"], [1, \"bar-chart\", \"chart\"], [\"ngx-charts-grid-panel-series\", \"\", \"orient\", \"horizontal\", 3, \"xScale\", \"yScale\", \"data\", \"dims\"], [\"ngx-charts-x-axis\", \"\", 3, \"xScale\", \"dims\", \"showGridLines\", \"showLabel\", \"labelText\", \"trimTicks\", \"rotateTicks\", \"maxTickLength\", \"tickFormatting\", \"ticks\", \"dimensionsChanged\", 4, \"ngIf\"], [\"ngx-charts-y-axis\", \"\", 3, \"yScale\", \"dims\", \"showLabel\", \"labelText\", \"trimTicks\", \"maxTickLength\", \"tickFormatting\", \"ticks\", \"yAxisOffset\", \"dimensionsChanged\", 4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [\"ngx-charts-x-axis\", \"\", 3, \"xScale\", \"dims\", \"showGridLines\", \"showLabel\", \"labelText\", \"trimTicks\", \"rotateTicks\", \"maxTickLength\", \"tickFormatting\", \"ticks\", \"dimensionsChanged\"], [\"ngx-charts-y-axis\", \"\", 3, \"yScale\", \"dims\", \"showLabel\", \"labelText\", \"trimTicks\", \"maxTickLength\", \"tickFormatting\", \"ticks\", \"yAxisOffset\", \"dimensionsChanged\"], [\"ngx-charts-series-horizontal\", \"\", 3, \"xScale\", \"activeEntries\", \"yScale\", \"colors\", \"series\", \"dims\", \"gradient\", \"tooltipDisabled\", \"tooltipTemplate\", \"seriesName\", \"roundEdges\", \"animations\", \"showDataLabel\", \"dataLabelFormatting\", \"noBarWhenZero\", \"select\", \"activate\", \"deactivate\", \"dataLabelWidthChanged\"]],\n    template: function BarHorizontal2DComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"ngx-charts-chart\", 0);\n        ɵngcc0.ɵɵlistener(\"legendLabelActivate\", function BarHorizontal2DComponent_Template_ngx_charts_chart_legendLabelActivate_0_listener($event) {\n          return ctx.onActivate($event, undefined, true);\n        })(\"legendLabelDeactivate\", function BarHorizontal2DComponent_Template_ngx_charts_chart_legendLabelDeactivate_0_listener($event) {\n          return ctx.onDeactivate($event, undefined, true);\n        })(\"legendLabelClick\", function BarHorizontal2DComponent_Template_ngx_charts_chart_legendLabelClick_0_listener($event) {\n          return ctx.onClick($event);\n        });\n        ɵngcc0.ɵɵnamespaceSVG();\n        ɵngcc0.ɵɵelementStart(1, \"g\", 1);\n        ɵngcc0.ɵɵelement(2, \"g\", 2);\n        ɵngcc0.ɵɵtemplate(3, BarHorizontal2DComponent__svg_g_3_Template, 1, 10, \"g\", 3);\n        ɵngcc0.ɵɵtemplate(4, BarHorizontal2DComponent__svg_g_4_Template, 1, 9, \"g\", 4);\n        ɵngcc0.ɵɵtemplate(5, BarHorizontal2DComponent__svg_g_5_Template, 2, 17, \"g\", 5);\n        ɵngcc0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"view\", ɵngcc0.ɵɵpureFunction2(14, _c23, ctx.width, ctx.height))(\"showLegend\", ctx.legend)(\"legendOptions\", ctx.legendOptions)(\"activeEntries\", ctx.activeEntries)(\"animations\", ctx.animations);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵattribute(\"transform\", ctx.transform);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"xScale\", ctx.valueScale)(\"yScale\", ctx.groupScale)(\"data\", ctx.results)(\"dims\", ctx.dims);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.xAxis);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.yAxis);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngForOf\", ctx.results)(\"ngForTrackBy\", ctx.trackBy);\n      }\n    },\n    dependencies: function () {\n      return [ɵngcc1.NgForOf, ɵngcc1.NgIf, XAxisComponent, YAxisComponent, ChartComponent, GridPanelSeriesComponent, SeriesHorizontal];\n    },\n    styles: [_c24],\n    encapsulation: 2,\n    data: {\n      animation: [trigger('animationState', [transition(':leave', [style({\n        opacity: 1,\n        transform: '*'\n      }), animate(500, style({\n        opacity: 0,\n        transform: 'scale(0)'\n      }))])])]\n    },\n    changeDetection: 0\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  return BarHorizontal2DComponent;\n}(BaseChartComponent);\nvar BarHorizontalNormalizedComponent = /** @class */function (_super) {\n  __extends(BarHorizontalNormalizedComponent, _super);\n  function BarHorizontalNormalizedComponent() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.legend = false;\n    _this.legendTitle = 'Legend';\n    _this.legendPosition = 'right';\n    _this.tooltipDisabled = false;\n    _this.showGridLines = true;\n    _this.activeEntries = [];\n    _this.trimXAxisTicks = true;\n    _this.trimYAxisTicks = true;\n    _this.rotateXAxisTicks = true;\n    _this.maxXAxisTickLength = 16;\n    _this.maxYAxisTickLength = 16;\n    _this.barPadding = 8;\n    _this.roundDomains = false;\n    _this.noBarWhenZero = true;\n    _this.activate = new EventEmitter();\n    _this.deactivate = new EventEmitter();\n    _this.margin = [10, 20, 10, 20];\n    _this.xAxisHeight = 0;\n    _this.yAxisWidth = 0;\n    return _this;\n  }\n  BarHorizontalNormalizedComponent.prototype.update = function () {\n    _super.prototype.update.call(this);\n    this.dims = calculateViewDimensions({\n      width: this.width,\n      height: this.height,\n      margins: this.margin,\n      showXAxis: this.xAxis,\n      showYAxis: this.yAxis,\n      xAxisHeight: this.xAxisHeight,\n      yAxisWidth: this.yAxisWidth,\n      showXLabel: this.showXAxisLabel,\n      showYLabel: this.showYAxisLabel,\n      showLegend: this.legend,\n      legendType: this.schemeType,\n      legendPosition: this.legendPosition\n    });\n    this.formatDates();\n    this.groupDomain = this.getGroupDomain();\n    this.innerDomain = this.getInnerDomain();\n    this.valueDomain = this.getValueDomain();\n    this.xScale = this.getXScale();\n    this.yScale = this.getYScale();\n    this.setColors();\n    this.legendOptions = this.getLegendOptions();\n    this.transform = \"translate(\" + this.dims.xOffset + \" , \" + this.margin[0] + \")\";\n  };\n  BarHorizontalNormalizedComponent.prototype.getGroupDomain = function () {\n    var domain = [];\n    for (var _i = 0, _a = this.results; _i < _a.length; _i++) {\n      var group = _a[_i];\n      if (!domain.includes(group.label)) {\n        domain.push(group.label);\n      }\n    }\n    return domain;\n  };\n  BarHorizontalNormalizedComponent.prototype.getInnerDomain = function () {\n    var domain = [];\n    for (var _i = 0, _a = this.results; _i < _a.length; _i++) {\n      var group = _a[_i];\n      for (var _b = 0, _c = group.series; _b < _c.length; _b++) {\n        var d = _c[_b];\n        if (!domain.includes(d.label)) {\n          domain.push(d.label);\n        }\n      }\n    }\n    return domain;\n  };\n  BarHorizontalNormalizedComponent.prototype.getValueDomain = function () {\n    return [0, 100];\n  };\n  BarHorizontalNormalizedComponent.prototype.getYScale = function () {\n    var spacing = this.groupDomain.length / (this.dims.height / this.barPadding + 1);\n    return scaleBand().rangeRound([0, this.dims.height]).paddingInner(spacing).domain(this.groupDomain);\n  };\n  BarHorizontalNormalizedComponent.prototype.getXScale = function () {\n    var scale = scaleLinear().range([0, this.dims.width]).domain(this.valueDomain);\n    return this.roundDomains ? scale.nice() : scale;\n  };\n  BarHorizontalNormalizedComponent.prototype.groupTransform = function (group) {\n    return \"translate(0, \" + this.yScale(group.name) + \")\";\n  };\n  BarHorizontalNormalizedComponent.prototype.onClick = function (data, group) {\n    if (group) {\n      data.series = group.name;\n    }\n    this.select.emit(data);\n  };\n  BarHorizontalNormalizedComponent.prototype.trackBy = function (index, item) {\n    return item.name;\n  };\n  BarHorizontalNormalizedComponent.prototype.setColors = function () {\n    var domain;\n    if (this.schemeType === 'ordinal') {\n      domain = this.innerDomain;\n    } else {\n      domain = this.valueDomain;\n    }\n    this.colors = new ColorHelper(this.scheme, this.schemeType, domain, this.customColors);\n  };\n  BarHorizontalNormalizedComponent.prototype.getLegendOptions = function () {\n    var opts = {\n      scaleType: this.schemeType,\n      colors: undefined,\n      domain: [],\n      title: undefined,\n      position: this.legendPosition\n    };\n    if (opts.scaleType === 'ordinal') {\n      opts.domain = this.innerDomain;\n      opts.colors = this.colors;\n      opts.title = this.legendTitle;\n    } else {\n      opts.domain = this.valueDomain;\n      opts.colors = this.colors.scale;\n    }\n    return opts;\n  };\n  BarHorizontalNormalizedComponent.prototype.updateYAxisWidth = function (_a) {\n    var width = _a.width;\n    this.yAxisWidth = width;\n    this.update();\n  };\n  BarHorizontalNormalizedComponent.prototype.updateXAxisHeight = function (_a) {\n    var height = _a.height;\n    this.xAxisHeight = height;\n    this.update();\n  };\n  BarHorizontalNormalizedComponent.prototype.onActivate = function (event$$1, group, fromLegend) {\n    if (fromLegend === void 0) {\n      fromLegend = false;\n    }\n    var item = Object.assign({}, event$$1);\n    if (group) {\n      item.series = group.name;\n    }\n    var items = this.results.map(function (g) {\n      return g.series;\n    }).flat().filter(function (i) {\n      if (fromLegend) {\n        return i.label === item.name;\n      } else {\n        return i.name === item.name && i.series === item.series;\n      }\n    });\n    this.activeEntries = items.slice();\n    this.activate.emit({\n      value: item,\n      entries: this.activeEntries\n    });\n  };\n  BarHorizontalNormalizedComponent.prototype.onDeactivate = function (event$$1, group, fromLegend) {\n    if (fromLegend === void 0) {\n      fromLegend = false;\n    }\n    var item = Object.assign({}, event$$1);\n    if (group) {\n      item.series = group.name;\n    }\n    this.activeEntries = this.activeEntries.filter(function (i) {\n      if (fromLegend) {\n        return i.label !== item.name;\n      } else {\n        return !(i.name === item.name && i.series === item.series);\n      }\n    });\n    this.deactivate.emit({\n      value: item,\n      entries: this.activeEntries\n    });\n  };\n  var _a, _b, _c;\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarHorizontalNormalizedComponent.prototype, \"legend\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], BarHorizontalNormalizedComponent.prototype, \"legendTitle\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], BarHorizontalNormalizedComponent.prototype, \"legendPosition\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarHorizontalNormalizedComponent.prototype, \"xAxis\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarHorizontalNormalizedComponent.prototype, \"yAxis\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarHorizontalNormalizedComponent.prototype, \"showXAxisLabel\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarHorizontalNormalizedComponent.prototype, \"showYAxisLabel\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarHorizontalNormalizedComponent.prototype, \"xAxisLabel\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarHorizontalNormalizedComponent.prototype, \"yAxisLabel\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarHorizontalNormalizedComponent.prototype, \"tooltipDisabled\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarHorizontalNormalizedComponent.prototype, \"gradient\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarHorizontalNormalizedComponent.prototype, \"showGridLines\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Array)], BarHorizontalNormalizedComponent.prototype, \"activeEntries\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], BarHorizontalNormalizedComponent.prototype, \"schemeType\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarHorizontalNormalizedComponent.prototype, \"trimXAxisTicks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarHorizontalNormalizedComponent.prototype, \"trimYAxisTicks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarHorizontalNormalizedComponent.prototype, \"rotateXAxisTicks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], BarHorizontalNormalizedComponent.prototype, \"maxXAxisTickLength\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], BarHorizontalNormalizedComponent.prototype, \"maxYAxisTickLength\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarHorizontalNormalizedComponent.prototype, \"xAxisTickFormatting\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarHorizontalNormalizedComponent.prototype, \"yAxisTickFormatting\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Array)], BarHorizontalNormalizedComponent.prototype, \"xAxisTicks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Array)], BarHorizontalNormalizedComponent.prototype, \"yAxisTicks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarHorizontalNormalizedComponent.prototype, \"barPadding\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarHorizontalNormalizedComponent.prototype, \"roundDomains\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarHorizontalNormalizedComponent.prototype, \"noBarWhenZero\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", typeof (_a = typeof EventEmitter !== \"undefined\" && EventEmitter) === \"function\" ? _a : Object)], BarHorizontalNormalizedComponent.prototype, \"activate\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", typeof (_b = typeof EventEmitter !== \"undefined\" && EventEmitter) === \"function\" ? _b : Object)], BarHorizontalNormalizedComponent.prototype, \"deactivate\", void 0);\n  __decorate([ContentChild('tooltipTemplate', {\n    static: false\n  }), __metadata(\"design:type\", typeof (_c = typeof TemplateRef !== \"undefined\" && TemplateRef) === \"function\" ? _c : Object)], BarHorizontalNormalizedComponent.prototype, \"tooltipTemplate\", void 0);\n  BarHorizontalNormalizedComponent.ɵfac = /*@__PURE__*/function () {\n    var ɵBarHorizontalNormalizedComponent_BaseFactory;\n    return function BarHorizontalNormalizedComponent_Factory(t) {\n      return (ɵBarHorizontalNormalizedComponent_BaseFactory || (ɵBarHorizontalNormalizedComponent_BaseFactory = ɵngcc0.ɵɵgetInheritedFactory(BarHorizontalNormalizedComponent)))(t || BarHorizontalNormalizedComponent);\n    };\n  }();\n  BarHorizontalNormalizedComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: BarHorizontalNormalizedComponent,\n    selectors: [[\"ngx-charts-bar-horizontal-normalized\"]],\n    contentQueries: function BarHorizontalNormalizedComponent_ContentQueries(rf, ctx, dirIndex) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵcontentQuery(dirIndex, _c21, 5);\n      }\n      if (rf & 2) {\n        var _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.tooltipTemplate = _t.first);\n      }\n    },\n    inputs: {\n      activeEntries: \"activeEntries\",\n      legend: \"legend\",\n      legendTitle: \"legendTitle\",\n      legendPosition: \"legendPosition\",\n      xAxis: \"xAxis\",\n      yAxis: \"yAxis\",\n      showXAxisLabel: \"showXAxisLabel\",\n      showYAxisLabel: \"showYAxisLabel\",\n      xAxisLabel: \"xAxisLabel\",\n      yAxisLabel: \"yAxisLabel\",\n      tooltipDisabled: \"tooltipDisabled\",\n      gradient: \"gradient\",\n      showGridLines: \"showGridLines\",\n      schemeType: \"schemeType\",\n      trimXAxisTicks: \"trimXAxisTicks\",\n      trimYAxisTicks: \"trimYAxisTicks\",\n      rotateXAxisTicks: \"rotateXAxisTicks\",\n      maxXAxisTickLength: \"maxXAxisTickLength\",\n      maxYAxisTickLength: \"maxYAxisTickLength\",\n      xAxisTickFormatting: \"xAxisTickFormatting\",\n      yAxisTickFormatting: \"yAxisTickFormatting\",\n      xAxisTicks: \"xAxisTicks\",\n      yAxisTicks: \"yAxisTicks\",\n      barPadding: \"barPadding\",\n      roundDomains: \"roundDomains\",\n      noBarWhenZero: \"noBarWhenZero\"\n    },\n    outputs: {\n      activate: \"activate\",\n      deactivate: \"deactivate\"\n    },\n    features: [ɵngcc0.ɵɵInheritDefinitionFeature],\n    decls: 5,\n    vars: 13,\n    consts: [[3, \"view\", \"showLegend\", \"legendOptions\", \"activeEntries\", \"animations\", \"legendLabelActivate\", \"legendLabelDeactivate\", \"legendLabelClick\"], [1, \"bar-chart\", \"chart\"], [\"ngx-charts-x-axis\", \"\", 3, \"xScale\", \"dims\", \"showGridLines\", \"showLabel\", \"labelText\", \"trimTicks\", \"rotateTicks\", \"maxTickLength\", \"tickFormatting\", \"ticks\", \"dimensionsChanged\", 4, \"ngIf\"], [\"ngx-charts-y-axis\", \"\", 3, \"yScale\", \"dims\", \"showLabel\", \"labelText\", \"trimTicks\", \"maxTickLength\", \"tickFormatting\", \"ticks\", \"dimensionsChanged\", 4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [\"ngx-charts-x-axis\", \"\", 3, \"xScale\", \"dims\", \"showGridLines\", \"showLabel\", \"labelText\", \"trimTicks\", \"rotateTicks\", \"maxTickLength\", \"tickFormatting\", \"ticks\", \"dimensionsChanged\"], [\"ngx-charts-y-axis\", \"\", 3, \"yScale\", \"dims\", \"showLabel\", \"labelText\", \"trimTicks\", \"maxTickLength\", \"tickFormatting\", \"ticks\", \"dimensionsChanged\"], [\"ngx-charts-series-horizontal\", \"\", \"type\", \"normalized\", 3, \"xScale\", \"yScale\", \"activeEntries\", \"colors\", \"series\", \"dims\", \"gradient\", \"tooltipDisabled\", \"tooltipTemplate\", \"seriesName\", \"animations\", \"noBarWhenZero\", \"select\", \"activate\", \"deactivate\"]],\n    template: function BarHorizontalNormalizedComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"ngx-charts-chart\", 0);\n        ɵngcc0.ɵɵlistener(\"legendLabelActivate\", function BarHorizontalNormalizedComponent_Template_ngx_charts_chart_legendLabelActivate_0_listener($event) {\n          return ctx.onActivate($event, undefined, true);\n        })(\"legendLabelDeactivate\", function BarHorizontalNormalizedComponent_Template_ngx_charts_chart_legendLabelDeactivate_0_listener($event) {\n          return ctx.onDeactivate($event, undefined, true);\n        })(\"legendLabelClick\", function BarHorizontalNormalizedComponent_Template_ngx_charts_chart_legendLabelClick_0_listener($event) {\n          return ctx.onClick($event);\n        });\n        ɵngcc0.ɵɵnamespaceSVG();\n        ɵngcc0.ɵɵelementStart(1, \"g\", 1);\n        ɵngcc0.ɵɵtemplate(2, BarHorizontalNormalizedComponent__svg_g_2_Template, 1, 10, \"g\", 2);\n        ɵngcc0.ɵɵtemplate(3, BarHorizontalNormalizedComponent__svg_g_3_Template, 1, 8, \"g\", 3);\n        ɵngcc0.ɵɵtemplate(4, BarHorizontalNormalizedComponent__svg_g_4_Template, 2, 14, \"g\", 4);\n        ɵngcc0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"view\", ɵngcc0.ɵɵpureFunction2(10, _c23, ctx.width, ctx.height))(\"showLegend\", ctx.legend)(\"legendOptions\", ctx.legendOptions)(\"activeEntries\", ctx.activeEntries)(\"animations\", ctx.animations);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵattribute(\"transform\", ctx.transform);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.xAxis);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.yAxis);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngForOf\", ctx.results)(\"ngForTrackBy\", ctx.trackBy);\n      }\n    },\n    dependencies: function () {\n      return [ɵngcc1.NgForOf, ɵngcc1.NgIf, XAxisComponent, YAxisComponent, ChartComponent, SeriesHorizontal];\n    },\n    styles: [_c24],\n    encapsulation: 2,\n    data: {\n      animation: [trigger('animationState', [transition(':leave', [style({\n        opacity: 1,\n        transform: '*'\n      }), animate(500, style({\n        opacity: 0,\n        transform: 'scale(0)'\n      }))])])]\n    },\n    changeDetection: 0\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  return BarHorizontalNormalizedComponent;\n}(BaseChartComponent);\nvar BarHorizontalStackedComponent = /** @class */function (_super) {\n  __extends(BarHorizontalStackedComponent, _super);\n  function BarHorizontalStackedComponent() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.legend = false;\n    _this.legendTitle = 'Legend';\n    _this.legendPosition = 'right';\n    _this.tooltipDisabled = false;\n    _this.showGridLines = true;\n    _this.activeEntries = [];\n    _this.trimXAxisTicks = true;\n    _this.trimYAxisTicks = true;\n    _this.rotateXAxisTicks = true;\n    _this.maxXAxisTickLength = 16;\n    _this.maxYAxisTickLength = 16;\n    _this.barPadding = 8;\n    _this.roundDomains = false;\n    _this.showDataLabel = false;\n    _this.noBarWhenZero = true;\n    _this.activate = new EventEmitter();\n    _this.deactivate = new EventEmitter();\n    _this.margin = [10, 20, 10, 20];\n    _this.xAxisHeight = 0;\n    _this.yAxisWidth = 0;\n    _this.dataLabelMaxWidth = {\n      negative: 0,\n      positive: 0\n    };\n    return _this;\n  }\n  BarHorizontalStackedComponent.prototype.update = function () {\n    _super.prototype.update.call(this);\n    if (!this.showDataLabel) {\n      this.dataLabelMaxWidth = {\n        negative: 0,\n        positive: 0\n      };\n    }\n    this.margin = [10, 20 + this.dataLabelMaxWidth.positive, 10, 20 + this.dataLabelMaxWidth.negative];\n    this.dims = calculateViewDimensions({\n      width: this.width,\n      height: this.height,\n      margins: this.margin,\n      showXAxis: this.xAxis,\n      showYAxis: this.yAxis,\n      xAxisHeight: this.xAxisHeight,\n      yAxisWidth: this.yAxisWidth,\n      showXLabel: this.showXAxisLabel,\n      showYLabel: this.showYAxisLabel,\n      showLegend: this.legend,\n      legendType: this.schemeType,\n      legendPosition: this.legendPosition\n    });\n    this.formatDates();\n    this.groupDomain = this.getGroupDomain();\n    this.innerDomain = this.getInnerDomain();\n    this.valueDomain = this.getValueDomain();\n    this.xScale = this.getXScale();\n    this.yScale = this.getYScale();\n    this.setColors();\n    this.legendOptions = this.getLegendOptions();\n    this.transform = \"translate(\" + this.dims.xOffset + \" , \" + this.margin[0] + \")\";\n  };\n  BarHorizontalStackedComponent.prototype.getGroupDomain = function () {\n    var domain = [];\n    for (var _i = 0, _a = this.results; _i < _a.length; _i++) {\n      var group = _a[_i];\n      if (!domain.includes(group.label)) {\n        domain.push(group.label);\n      }\n    }\n    return domain;\n  };\n  BarHorizontalStackedComponent.prototype.getInnerDomain = function () {\n    var domain = [];\n    for (var _i = 0, _a = this.results; _i < _a.length; _i++) {\n      var group = _a[_i];\n      for (var _b = 0, _c = group.series; _b < _c.length; _b++) {\n        var d = _c[_b];\n        if (!domain.includes(d.label)) {\n          domain.push(d.label);\n        }\n      }\n    }\n    return domain;\n  };\n  BarHorizontalStackedComponent.prototype.getValueDomain = function () {\n    var domain = [];\n    var smallest = 0;\n    var biggest = 0;\n    for (var _i = 0, _a = this.results; _i < _a.length; _i++) {\n      var group = _a[_i];\n      var smallestSum = 0;\n      var biggestSum = 0;\n      for (var _b = 0, _c = group.series; _b < _c.length; _b++) {\n        var d = _c[_b];\n        if (d.value < 0) {\n          smallestSum += d.value;\n        } else {\n          biggestSum += d.value;\n        }\n        smallest = d.value < smallest ? d.value : smallest;\n        biggest = d.value > biggest ? d.value : biggest;\n      }\n      domain.push(smallestSum);\n      domain.push(biggestSum);\n    }\n    domain.push(smallest);\n    domain.push(biggest);\n    var min$$1 = Math.min.apply(Math, [0].concat(domain));\n    var max$$1 = this.xScaleMax ? Math.max.apply(Math, [this.xScaleMax].concat(domain)) : Math.max.apply(Math, domain);\n    return [min$$1, max$$1];\n  };\n  BarHorizontalStackedComponent.prototype.getYScale = function () {\n    var spacing = this.groupDomain.length / (this.dims.height / this.barPadding + 1);\n    return scaleBand().rangeRound([0, this.dims.height]).paddingInner(spacing).domain(this.groupDomain);\n  };\n  BarHorizontalStackedComponent.prototype.getXScale = function () {\n    var scale = scaleLinear().range([0, this.dims.width]).domain(this.valueDomain);\n    return this.roundDomains ? scale.nice() : scale;\n  };\n  BarHorizontalStackedComponent.prototype.groupTransform = function (group) {\n    return \"translate(0, \" + this.yScale(group.name) + \")\";\n  };\n  BarHorizontalStackedComponent.prototype.onClick = function (data, group) {\n    if (group) {\n      data.series = group.name;\n    }\n    this.select.emit(data);\n  };\n  BarHorizontalStackedComponent.prototype.trackBy = function (index, item) {\n    return item.name;\n  };\n  BarHorizontalStackedComponent.prototype.setColors = function () {\n    var domain;\n    if (this.schemeType === 'ordinal') {\n      domain = this.innerDomain;\n    } else {\n      domain = this.valueDomain;\n    }\n    this.colors = new ColorHelper(this.scheme, this.schemeType, domain, this.customColors);\n  };\n  BarHorizontalStackedComponent.prototype.getLegendOptions = function () {\n    var opts = {\n      scaleType: this.schemeType,\n      colors: undefined,\n      domain: [],\n      title: undefined,\n      position: this.legendPosition\n    };\n    if (opts.scaleType === 'ordinal') {\n      opts.domain = this.innerDomain;\n      opts.colors = this.colors;\n      opts.title = this.legendTitle;\n    } else {\n      opts.domain = this.valueDomain;\n      opts.colors = this.colors.scale;\n    }\n    return opts;\n  };\n  BarHorizontalStackedComponent.prototype.updateYAxisWidth = function (_a) {\n    var width = _a.width;\n    this.yAxisWidth = width;\n    this.update();\n  };\n  BarHorizontalStackedComponent.prototype.updateXAxisHeight = function (_a) {\n    var height = _a.height;\n    this.xAxisHeight = height;\n    this.update();\n  };\n  BarHorizontalStackedComponent.prototype.onDataLabelMaxWidthChanged = function (event$$1, groupIndex) {\n    var _this = this;\n    if (event$$1.size.negative) {\n      this.dataLabelMaxWidth.negative = Math.max(this.dataLabelMaxWidth.negative, event$$1.size.width);\n    } else {\n      this.dataLabelMaxWidth.positive = Math.max(this.dataLabelMaxWidth.positive, event$$1.size.width);\n    }\n    if (groupIndex === this.results.length - 1) {\n      setTimeout(function () {\n        return _this.update();\n      });\n    }\n  };\n  BarHorizontalStackedComponent.prototype.onActivate = function (event$$1, group, fromLegend) {\n    if (fromLegend === void 0) {\n      fromLegend = false;\n    }\n    var item = Object.assign({}, event$$1);\n    if (group) {\n      item.series = group.name;\n    }\n    var items = this.results.map(function (g) {\n      return g.series;\n    }).flat().filter(function (i) {\n      if (fromLegend) {\n        return i.label === item.name;\n      } else {\n        return i.name === item.name && i.series === item.series;\n      }\n    });\n    this.activeEntries = items.slice();\n    this.activate.emit({\n      value: item,\n      entries: this.activeEntries\n    });\n  };\n  BarHorizontalStackedComponent.prototype.onDeactivate = function (event$$1, group, fromLegend) {\n    if (fromLegend === void 0) {\n      fromLegend = false;\n    }\n    var item = Object.assign({}, event$$1);\n    if (group) {\n      item.series = group.name;\n    }\n    this.activeEntries = this.activeEntries.filter(function (i) {\n      if (fromLegend) {\n        return i.label !== item.name;\n      } else {\n        return !(i.name === item.name && i.series === item.series);\n      }\n    });\n    this.deactivate.emit({\n      value: item,\n      entries: this.activeEntries\n    });\n  };\n  var _a, _b, _c;\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarHorizontalStackedComponent.prototype, \"legend\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], BarHorizontalStackedComponent.prototype, \"legendTitle\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], BarHorizontalStackedComponent.prototype, \"legendPosition\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarHorizontalStackedComponent.prototype, \"xAxis\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarHorizontalStackedComponent.prototype, \"yAxis\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarHorizontalStackedComponent.prototype, \"showXAxisLabel\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarHorizontalStackedComponent.prototype, \"showYAxisLabel\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarHorizontalStackedComponent.prototype, \"xAxisLabel\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarHorizontalStackedComponent.prototype, \"yAxisLabel\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarHorizontalStackedComponent.prototype, \"tooltipDisabled\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarHorizontalStackedComponent.prototype, \"gradient\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarHorizontalStackedComponent.prototype, \"showGridLines\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Array)], BarHorizontalStackedComponent.prototype, \"activeEntries\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], BarHorizontalStackedComponent.prototype, \"schemeType\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarHorizontalStackedComponent.prototype, \"trimXAxisTicks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarHorizontalStackedComponent.prototype, \"trimYAxisTicks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarHorizontalStackedComponent.prototype, \"rotateXAxisTicks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], BarHorizontalStackedComponent.prototype, \"maxXAxisTickLength\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], BarHorizontalStackedComponent.prototype, \"maxYAxisTickLength\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarHorizontalStackedComponent.prototype, \"xAxisTickFormatting\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarHorizontalStackedComponent.prototype, \"yAxisTickFormatting\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Array)], BarHorizontalStackedComponent.prototype, \"xAxisTicks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Array)], BarHorizontalStackedComponent.prototype, \"yAxisTicks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarHorizontalStackedComponent.prototype, \"barPadding\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarHorizontalStackedComponent.prototype, \"roundDomains\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], BarHorizontalStackedComponent.prototype, \"xScaleMax\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarHorizontalStackedComponent.prototype, \"showDataLabel\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarHorizontalStackedComponent.prototype, \"dataLabelFormatting\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarHorizontalStackedComponent.prototype, \"noBarWhenZero\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", typeof (_a = typeof EventEmitter !== \"undefined\" && EventEmitter) === \"function\" ? _a : Object)], BarHorizontalStackedComponent.prototype, \"activate\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", typeof (_b = typeof EventEmitter !== \"undefined\" && EventEmitter) === \"function\" ? _b : Object)], BarHorizontalStackedComponent.prototype, \"deactivate\", void 0);\n  __decorate([ContentChild('tooltipTemplate', {\n    static: false\n  }), __metadata(\"design:type\", typeof (_c = typeof TemplateRef !== \"undefined\" && TemplateRef) === \"function\" ? _c : Object)], BarHorizontalStackedComponent.prototype, \"tooltipTemplate\", void 0);\n  BarHorizontalStackedComponent.ɵfac = /*@__PURE__*/function () {\n    var ɵBarHorizontalStackedComponent_BaseFactory;\n    return function BarHorizontalStackedComponent_Factory(t) {\n      return (ɵBarHorizontalStackedComponent_BaseFactory || (ɵBarHorizontalStackedComponent_BaseFactory = ɵngcc0.ɵɵgetInheritedFactory(BarHorizontalStackedComponent)))(t || BarHorizontalStackedComponent);\n    };\n  }();\n  BarHorizontalStackedComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: BarHorizontalStackedComponent,\n    selectors: [[\"ngx-charts-bar-horizontal-stacked\"]],\n    contentQueries: function BarHorizontalStackedComponent_ContentQueries(rf, ctx, dirIndex) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵcontentQuery(dirIndex, _c21, 5);\n      }\n      if (rf & 2) {\n        var _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.tooltipTemplate = _t.first);\n      }\n    },\n    inputs: {\n      activeEntries: \"activeEntries\",\n      legend: \"legend\",\n      legendTitle: \"legendTitle\",\n      legendPosition: \"legendPosition\",\n      xAxis: \"xAxis\",\n      yAxis: \"yAxis\",\n      showXAxisLabel: \"showXAxisLabel\",\n      showYAxisLabel: \"showYAxisLabel\",\n      xAxisLabel: \"xAxisLabel\",\n      yAxisLabel: \"yAxisLabel\",\n      tooltipDisabled: \"tooltipDisabled\",\n      gradient: \"gradient\",\n      showGridLines: \"showGridLines\",\n      schemeType: \"schemeType\",\n      trimXAxisTicks: \"trimXAxisTicks\",\n      trimYAxisTicks: \"trimYAxisTicks\",\n      rotateXAxisTicks: \"rotateXAxisTicks\",\n      maxXAxisTickLength: \"maxXAxisTickLength\",\n      maxYAxisTickLength: \"maxYAxisTickLength\",\n      xAxisTickFormatting: \"xAxisTickFormatting\",\n      yAxisTickFormatting: \"yAxisTickFormatting\",\n      xAxisTicks: \"xAxisTicks\",\n      yAxisTicks: \"yAxisTicks\",\n      barPadding: \"barPadding\",\n      roundDomains: \"roundDomains\",\n      xScaleMax: \"xScaleMax\",\n      showDataLabel: \"showDataLabel\",\n      dataLabelFormatting: \"dataLabelFormatting\",\n      noBarWhenZero: \"noBarWhenZero\"\n    },\n    outputs: {\n      activate: \"activate\",\n      deactivate: \"deactivate\"\n    },\n    features: [ɵngcc0.ɵɵInheritDefinitionFeature],\n    decls: 5,\n    vars: 13,\n    consts: [[3, \"view\", \"showLegend\", \"legendOptions\", \"activeEntries\", \"animations\", \"legendLabelActivate\", \"legendLabelDeactivate\", \"legendLabelClick\"], [1, \"bar-chart\", \"chart\"], [\"ngx-charts-x-axis\", \"\", 3, \"xScale\", \"dims\", \"showGridLines\", \"showLabel\", \"labelText\", \"trimTicks\", \"rotateTicks\", \"maxTickLength\", \"tickFormatting\", \"ticks\", \"dimensionsChanged\", 4, \"ngIf\"], [\"ngx-charts-y-axis\", \"\", 3, \"yScale\", \"dims\", \"showLabel\", \"labelText\", \"trimTicks\", \"maxTickLength\", \"tickFormatting\", \"ticks\", \"yAxisOffset\", \"dimensionsChanged\", 4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [\"ngx-charts-x-axis\", \"\", 3, \"xScale\", \"dims\", \"showGridLines\", \"showLabel\", \"labelText\", \"trimTicks\", \"rotateTicks\", \"maxTickLength\", \"tickFormatting\", \"ticks\", \"dimensionsChanged\"], [\"ngx-charts-y-axis\", \"\", 3, \"yScale\", \"dims\", \"showLabel\", \"labelText\", \"trimTicks\", \"maxTickLength\", \"tickFormatting\", \"ticks\", \"yAxisOffset\", \"dimensionsChanged\"], [\"ngx-charts-series-horizontal\", \"\", \"type\", \"stacked\", 3, \"xScale\", \"yScale\", \"colors\", \"series\", \"activeEntries\", \"dims\", \"gradient\", \"tooltipDisabled\", \"tooltipTemplate\", \"seriesName\", \"animations\", \"showDataLabel\", \"dataLabelFormatting\", \"noBarWhenZero\", \"select\", \"activate\", \"deactivate\", \"dataLabelWidthChanged\"]],\n    template: function BarHorizontalStackedComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"ngx-charts-chart\", 0);\n        ɵngcc0.ɵɵlistener(\"legendLabelActivate\", function BarHorizontalStackedComponent_Template_ngx_charts_chart_legendLabelActivate_0_listener($event) {\n          return ctx.onActivate($event, undefined, true);\n        })(\"legendLabelDeactivate\", function BarHorizontalStackedComponent_Template_ngx_charts_chart_legendLabelDeactivate_0_listener($event) {\n          return ctx.onDeactivate($event, undefined, true);\n        })(\"legendLabelClick\", function BarHorizontalStackedComponent_Template_ngx_charts_chart_legendLabelClick_0_listener($event) {\n          return ctx.onClick($event);\n        });\n        ɵngcc0.ɵɵnamespaceSVG();\n        ɵngcc0.ɵɵelementStart(1, \"g\", 1);\n        ɵngcc0.ɵɵtemplate(2, BarHorizontalStackedComponent__svg_g_2_Template, 1, 10, \"g\", 2);\n        ɵngcc0.ɵɵtemplate(3, BarHorizontalStackedComponent__svg_g_3_Template, 1, 9, \"g\", 3);\n        ɵngcc0.ɵɵtemplate(4, BarHorizontalStackedComponent__svg_g_4_Template, 2, 16, \"g\", 4);\n        ɵngcc0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"view\", ɵngcc0.ɵɵpureFunction2(10, _c23, ctx.width, ctx.height))(\"showLegend\", ctx.legend)(\"legendOptions\", ctx.legendOptions)(\"activeEntries\", ctx.activeEntries)(\"animations\", ctx.animations);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵattribute(\"transform\", ctx.transform);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.xAxis);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.yAxis);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngForOf\", ctx.results)(\"ngForTrackBy\", ctx.trackBy);\n      }\n    },\n    dependencies: function () {\n      return [ɵngcc1.NgForOf, ɵngcc1.NgIf, XAxisComponent, YAxisComponent, ChartComponent, SeriesHorizontal];\n    },\n    styles: [_c24],\n    encapsulation: 2,\n    data: {\n      animation: [trigger('animationState', [transition(':leave', [style({\n        opacity: 1,\n        transform: '*'\n      }), animate(500, style({\n        opacity: 0,\n        transform: 'scale(0)'\n      }))])])]\n    },\n    changeDetection: 0\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  return BarHorizontalStackedComponent;\n}(BaseChartComponent);\nvar BarVerticalComponent = /** @class */function (_super) {\n  __extends(BarVerticalComponent, _super);\n  function BarVerticalComponent() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.legend = false;\n    _this.legendTitle = 'Legend';\n    _this.legendPosition = 'right';\n    _this.tooltipDisabled = false;\n    _this.showGridLines = true;\n    _this.activeEntries = [];\n    _this.trimXAxisTicks = true;\n    _this.trimYAxisTicks = true;\n    _this.rotateXAxisTicks = true;\n    _this.maxXAxisTickLength = 16;\n    _this.maxYAxisTickLength = 16;\n    _this.barPadding = 8;\n    _this.roundDomains = false;\n    _this.roundEdges = true;\n    _this.showDataLabel = false;\n    _this.noBarWhenZero = true;\n    _this.activate = new EventEmitter();\n    _this.deactivate = new EventEmitter();\n    _this.margin = [10, 20, 10, 20];\n    _this.xAxisHeight = 0;\n    _this.yAxisWidth = 0;\n    _this.dataLabelMaxHeight = {\n      negative: 0,\n      positive: 0\n    };\n    return _this;\n  }\n  BarVerticalComponent.prototype.update = function () {\n    _super.prototype.update.call(this);\n    if (!this.showDataLabel) {\n      this.dataLabelMaxHeight = {\n        negative: 0,\n        positive: 0\n      };\n    }\n    this.margin = [10 + this.dataLabelMaxHeight.positive, 20, 10 + this.dataLabelMaxHeight.negative, 20];\n    this.dims = calculateViewDimensions({\n      width: this.width,\n      height: this.height,\n      margins: this.margin,\n      showXAxis: this.xAxis,\n      showYAxis: this.yAxis,\n      xAxisHeight: this.xAxisHeight,\n      yAxisWidth: this.yAxisWidth,\n      showXLabel: this.showXAxisLabel,\n      showYLabel: this.showYAxisLabel,\n      showLegend: this.legend,\n      legendType: this.schemeType,\n      legendPosition: this.legendPosition\n    });\n    this.formatDates();\n    if (this.showDataLabel) {\n      this.dims.height -= this.dataLabelMaxHeight.negative;\n    }\n    this.xScale = this.getXScale();\n    this.yScale = this.getYScale();\n    this.setColors();\n    this.legendOptions = this.getLegendOptions();\n    this.transform = \"translate(\" + this.dims.xOffset + \" , \" + (this.margin[0] + this.dataLabelMaxHeight.negative) + \")\";\n  };\n  BarVerticalComponent.prototype.getXScale = function () {\n    this.xDomain = this.getXDomain();\n    var spacing = this.xDomain.length / (this.dims.width / this.barPadding + 1);\n    return scaleBand().range([0, this.dims.width]).paddingInner(spacing).domain(this.xDomain);\n  };\n  BarVerticalComponent.prototype.getYScale = function () {\n    this.yDomain = this.getYDomain();\n    var scale = scaleLinear().range([this.dims.height, 0]).domain(this.yDomain);\n    return this.roundDomains ? scale.nice() : scale;\n  };\n  BarVerticalComponent.prototype.getXDomain = function () {\n    return this.results.map(function (d) {\n      return d.label;\n    });\n  };\n  BarVerticalComponent.prototype.getYDomain = function () {\n    var values = this.results.map(function (d) {\n      return d.value;\n    });\n    var min$$1 = this.yScaleMin ? Math.min.apply(Math, [this.yScaleMin].concat(values)) : Math.min.apply(Math, [0].concat(values));\n    if (this.yAxisTicks && !this.yAxisTicks.some(isNaN)) {\n      min$$1 = Math.min.apply(Math, [min$$1].concat(this.yAxisTicks));\n    }\n    var max$$1 = this.yScaleMax ? Math.max.apply(Math, [this.yScaleMax].concat(values)) : Math.max.apply(Math, [0].concat(values));\n    if (this.yAxisTicks && !this.yAxisTicks.some(isNaN)) {\n      max$$1 = Math.max.apply(Math, [max$$1].concat(this.yAxisTicks));\n    }\n    return [min$$1, max$$1];\n  };\n  BarVerticalComponent.prototype.onClick = function (data) {\n    this.select.emit(data);\n  };\n  BarVerticalComponent.prototype.setColors = function () {\n    var domain;\n    if (this.schemeType === 'ordinal') {\n      domain = this.xDomain;\n    } else {\n      domain = this.yDomain;\n    }\n    this.colors = new ColorHelper(this.scheme, this.schemeType, domain, this.customColors);\n  };\n  BarVerticalComponent.prototype.getLegendOptions = function () {\n    var opts = {\n      scaleType: this.schemeType,\n      colors: undefined,\n      domain: [],\n      title: undefined,\n      position: this.legendPosition\n    };\n    if (opts.scaleType === 'ordinal') {\n      opts.domain = this.xDomain;\n      opts.colors = this.colors;\n      opts.title = this.legendTitle;\n    } else {\n      opts.domain = this.yDomain;\n      opts.colors = this.colors.scale;\n    }\n    return opts;\n  };\n  BarVerticalComponent.prototype.updateYAxisWidth = function (_a) {\n    var width = _a.width;\n    this.yAxisWidth = width;\n    this.update();\n  };\n  BarVerticalComponent.prototype.updateXAxisHeight = function (_a) {\n    var height = _a.height;\n    this.xAxisHeight = height;\n    this.update();\n  };\n  BarVerticalComponent.prototype.onDataLabelMaxHeightChanged = function (event$$1) {\n    var _this = this;\n    if (event$$1.size.negative) {\n      this.dataLabelMaxHeight.negative = Math.max(this.dataLabelMaxHeight.negative, event$$1.size.height);\n    } else {\n      this.dataLabelMaxHeight.positive = Math.max(this.dataLabelMaxHeight.positive, event$$1.size.height);\n    }\n    if (event$$1.index === this.results.length - 1) {\n      setTimeout(function () {\n        return _this.update();\n      });\n    }\n  };\n  BarVerticalComponent.prototype.onActivate = function (item, fromLegend) {\n    if (fromLegend === void 0) {\n      fromLegend = false;\n    }\n    item = this.results.find(function (d) {\n      if (fromLegend) {\n        return d.label === item.name;\n      } else {\n        return d.name === item.name;\n      }\n    });\n    var idx = this.activeEntries.findIndex(function (d) {\n      return d.name === item.name && d.value === item.value && d.series === item.series;\n    });\n    if (idx > -1) {\n      return;\n    }\n    this.activeEntries = [item].concat(this.activeEntries);\n    this.activate.emit({\n      value: item,\n      entries: this.activeEntries\n    });\n  };\n  BarVerticalComponent.prototype.onDeactivate = function (item, fromLegend) {\n    if (fromLegend === void 0) {\n      fromLegend = false;\n    }\n    item = this.results.find(function (d) {\n      if (fromLegend) {\n        return d.label === item.name;\n      } else {\n        return d.name === item.name;\n      }\n    });\n    var idx = this.activeEntries.findIndex(function (d) {\n      return d.name === item.name && d.value === item.value && d.series === item.series;\n    });\n    this.activeEntries.splice(idx, 1);\n    this.activeEntries = this.activeEntries.slice();\n    this.deactivate.emit({\n      value: item,\n      entries: this.activeEntries\n    });\n  };\n  var _a, _b, _c;\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarVerticalComponent.prototype, \"legend\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], BarVerticalComponent.prototype, \"legendTitle\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], BarVerticalComponent.prototype, \"legendPosition\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarVerticalComponent.prototype, \"xAxis\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarVerticalComponent.prototype, \"yAxis\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarVerticalComponent.prototype, \"showXAxisLabel\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarVerticalComponent.prototype, \"showYAxisLabel\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarVerticalComponent.prototype, \"xAxisLabel\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarVerticalComponent.prototype, \"yAxisLabel\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarVerticalComponent.prototype, \"tooltipDisabled\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarVerticalComponent.prototype, \"gradient\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarVerticalComponent.prototype, \"showGridLines\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Array)], BarVerticalComponent.prototype, \"activeEntries\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], BarVerticalComponent.prototype, \"schemeType\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarVerticalComponent.prototype, \"trimXAxisTicks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarVerticalComponent.prototype, \"trimYAxisTicks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarVerticalComponent.prototype, \"rotateXAxisTicks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], BarVerticalComponent.prototype, \"maxXAxisTickLength\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], BarVerticalComponent.prototype, \"maxYAxisTickLength\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarVerticalComponent.prototype, \"xAxisTickFormatting\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarVerticalComponent.prototype, \"yAxisTickFormatting\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Array)], BarVerticalComponent.prototype, \"xAxisTicks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Array)], BarVerticalComponent.prototype, \"yAxisTicks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarVerticalComponent.prototype, \"barPadding\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarVerticalComponent.prototype, \"roundDomains\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarVerticalComponent.prototype, \"roundEdges\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], BarVerticalComponent.prototype, \"yScaleMax\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], BarVerticalComponent.prototype, \"yScaleMin\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarVerticalComponent.prototype, \"showDataLabel\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarVerticalComponent.prototype, \"dataLabelFormatting\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarVerticalComponent.prototype, \"noBarWhenZero\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", typeof (_a = typeof EventEmitter !== \"undefined\" && EventEmitter) === \"function\" ? _a : Object)], BarVerticalComponent.prototype, \"activate\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", typeof (_b = typeof EventEmitter !== \"undefined\" && EventEmitter) === \"function\" ? _b : Object)], BarVerticalComponent.prototype, \"deactivate\", void 0);\n  __decorate([ContentChild('tooltipTemplate', {\n    static: false\n  }), __metadata(\"design:type\", typeof (_c = typeof TemplateRef !== \"undefined\" && TemplateRef) === \"function\" ? _c : Object)], BarVerticalComponent.prototype, \"tooltipTemplate\", void 0);\n  BarVerticalComponent.ɵfac = /*@__PURE__*/function () {\n    var ɵBarVerticalComponent_BaseFactory;\n    return function BarVerticalComponent_Factory(t) {\n      return (ɵBarVerticalComponent_BaseFactory || (ɵBarVerticalComponent_BaseFactory = ɵngcc0.ɵɵgetInheritedFactory(BarVerticalComponent)))(t || BarVerticalComponent);\n    };\n  }();\n  BarVerticalComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: BarVerticalComponent,\n    selectors: [[\"ngx-charts-bar-vertical\"]],\n    contentQueries: function BarVerticalComponent_ContentQueries(rf, ctx, dirIndex) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵcontentQuery(dirIndex, _c21, 5);\n      }\n      if (rf & 2) {\n        var _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.tooltipTemplate = _t.first);\n      }\n    },\n    inputs: {\n      activeEntries: \"activeEntries\",\n      legend: \"legend\",\n      legendTitle: \"legendTitle\",\n      legendPosition: \"legendPosition\",\n      xAxis: \"xAxis\",\n      yAxis: \"yAxis\",\n      showXAxisLabel: \"showXAxisLabel\",\n      showYAxisLabel: \"showYAxisLabel\",\n      xAxisLabel: \"xAxisLabel\",\n      yAxisLabel: \"yAxisLabel\",\n      tooltipDisabled: \"tooltipDisabled\",\n      gradient: \"gradient\",\n      showGridLines: \"showGridLines\",\n      schemeType: \"schemeType\",\n      trimXAxisTicks: \"trimXAxisTicks\",\n      trimYAxisTicks: \"trimYAxisTicks\",\n      rotateXAxisTicks: \"rotateXAxisTicks\",\n      maxXAxisTickLength: \"maxXAxisTickLength\",\n      maxYAxisTickLength: \"maxYAxisTickLength\",\n      xAxisTickFormatting: \"xAxisTickFormatting\",\n      yAxisTickFormatting: \"yAxisTickFormatting\",\n      xAxisTicks: \"xAxisTicks\",\n      yAxisTicks: \"yAxisTicks\",\n      barPadding: \"barPadding\",\n      roundDomains: \"roundDomains\",\n      roundEdges: \"roundEdges\",\n      yScaleMax: \"yScaleMax\",\n      yScaleMin: \"yScaleMin\",\n      showDataLabel: \"showDataLabel\",\n      dataLabelFormatting: \"dataLabelFormatting\",\n      noBarWhenZero: \"noBarWhenZero\"\n    },\n    outputs: {\n      activate: \"activate\",\n      deactivate: \"deactivate\"\n    },\n    features: [ɵngcc0.ɵɵInheritDefinitionFeature],\n    decls: 5,\n    vars: 25,\n    consts: [[3, \"view\", \"showLegend\", \"legendOptions\", \"activeEntries\", \"animations\", \"legendLabelClick\", \"legendLabelActivate\", \"legendLabelDeactivate\"], [1, \"bar-chart\", \"chart\"], [\"ngx-charts-x-axis\", \"\", 3, \"xScale\", \"dims\", \"showLabel\", \"labelText\", \"trimTicks\", \"rotateTicks\", \"maxTickLength\", \"tickFormatting\", \"ticks\", \"xAxisOffset\", \"dimensionsChanged\", 4, \"ngIf\"], [\"ngx-charts-y-axis\", \"\", 3, \"yScale\", \"dims\", \"showGridLines\", \"showLabel\", \"labelText\", \"trimTicks\", \"maxTickLength\", \"tickFormatting\", \"ticks\", \"dimensionsChanged\", 4, \"ngIf\"], [\"ngx-charts-series-vertical\", \"\", 3, \"xScale\", \"yScale\", \"colors\", \"series\", \"dims\", \"gradient\", \"tooltipDisabled\", \"tooltipTemplate\", \"showDataLabel\", \"dataLabelFormatting\", \"activeEntries\", \"roundEdges\", \"animations\", \"noBarWhenZero\", \"activate\", \"deactivate\", \"select\", \"dataLabelHeightChanged\"], [\"ngx-charts-x-axis\", \"\", 3, \"xScale\", \"dims\", \"showLabel\", \"labelText\", \"trimTicks\", \"rotateTicks\", \"maxTickLength\", \"tickFormatting\", \"ticks\", \"xAxisOffset\", \"dimensionsChanged\"], [\"ngx-charts-y-axis\", \"\", 3, \"yScale\", \"dims\", \"showGridLines\", \"showLabel\", \"labelText\", \"trimTicks\", \"maxTickLength\", \"tickFormatting\", \"ticks\", \"dimensionsChanged\"]],\n    template: function BarVerticalComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"ngx-charts-chart\", 0);\n        ɵngcc0.ɵɵlistener(\"legendLabelClick\", function BarVerticalComponent_Template_ngx_charts_chart_legendLabelClick_0_listener($event) {\n          return ctx.onClick($event);\n        })(\"legendLabelActivate\", function BarVerticalComponent_Template_ngx_charts_chart_legendLabelActivate_0_listener($event) {\n          return ctx.onActivate($event, true);\n        })(\"legendLabelDeactivate\", function BarVerticalComponent_Template_ngx_charts_chart_legendLabelDeactivate_0_listener($event) {\n          return ctx.onDeactivate($event, true);\n        });\n        ɵngcc0.ɵɵnamespaceSVG();\n        ɵngcc0.ɵɵelementStart(1, \"g\", 1);\n        ɵngcc0.ɵɵtemplate(2, BarVerticalComponent__svg_g_2_Template, 1, 10, \"g\", 2);\n        ɵngcc0.ɵɵtemplate(3, BarVerticalComponent__svg_g_3_Template, 1, 9, \"g\", 3);\n        ɵngcc0.ɵɵelementStart(4, \"g\", 4);\n        ɵngcc0.ɵɵlistener(\"activate\", function BarVerticalComponent_Template__svg_g_activate_4_listener($event) {\n          return ctx.onActivate($event);\n        })(\"deactivate\", function BarVerticalComponent_Template__svg_g_deactivate_4_listener($event) {\n          return ctx.onDeactivate($event);\n        })(\"select\", function BarVerticalComponent_Template__svg_g_select_4_listener($event) {\n          return ctx.onClick($event);\n        })(\"dataLabelHeightChanged\", function BarVerticalComponent_Template__svg_g_dataLabelHeightChanged_4_listener($event) {\n          return ctx.onDataLabelMaxHeightChanged($event);\n        });\n        ɵngcc0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"view\", ɵngcc0.ɵɵpureFunction2(22, _c23, ctx.width, ctx.height))(\"showLegend\", ctx.legend)(\"legendOptions\", ctx.legendOptions)(\"activeEntries\", ctx.activeEntries)(\"animations\", ctx.animations);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵattribute(\"transform\", ctx.transform);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.xAxis);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.yAxis);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"xScale\", ctx.xScale)(\"yScale\", ctx.yScale)(\"colors\", ctx.colors)(\"series\", ctx.results)(\"dims\", ctx.dims)(\"gradient\", ctx.gradient)(\"tooltipDisabled\", ctx.tooltipDisabled)(\"tooltipTemplate\", ctx.tooltipTemplate)(\"showDataLabel\", ctx.showDataLabel)(\"dataLabelFormatting\", ctx.dataLabelFormatting)(\"activeEntries\", ctx.activeEntries)(\"roundEdges\", ctx.roundEdges)(\"animations\", ctx.animations)(\"noBarWhenZero\", ctx.noBarWhenZero);\n      }\n    },\n    dependencies: function () {\n      return [ɵngcc1.NgIf, XAxisComponent, YAxisComponent, ChartComponent, SeriesVerticalComponent];\n    },\n    styles: [_c24],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  return BarVerticalComponent;\n}(BaseChartComponent);\nvar BarVertical2DComponent = /** @class */function (_super) {\n  __extends(BarVertical2DComponent, _super);\n  function BarVertical2DComponent() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.legend = false;\n    _this.legendTitle = 'Legend';\n    _this.legendPosition = 'right';\n    _this.tooltipDisabled = false;\n    _this.scaleType = 'ordinal';\n    _this.showGridLines = true;\n    _this.activeEntries = [];\n    _this.trimXAxisTicks = true;\n    _this.trimYAxisTicks = true;\n    _this.rotateXAxisTicks = true;\n    _this.maxXAxisTickLength = 16;\n    _this.maxYAxisTickLength = 16;\n    _this.groupPadding = 16;\n    _this.barPadding = 8;\n    _this.roundDomains = false;\n    _this.roundEdges = true;\n    _this.showDataLabel = false;\n    _this.noBarWhenZero = true;\n    _this.activate = new EventEmitter();\n    _this.deactivate = new EventEmitter();\n    _this.margin = [10, 20, 10, 20];\n    _this.xAxisHeight = 0;\n    _this.yAxisWidth = 0;\n    _this.dataLabelMaxHeight = {\n      negative: 0,\n      positive: 0\n    };\n    return _this;\n  }\n  BarVertical2DComponent.prototype.update = function () {\n    _super.prototype.update.call(this);\n    if (!this.showDataLabel) {\n      this.dataLabelMaxHeight = {\n        negative: 0,\n        positive: 0\n      };\n    }\n    this.margin = [10 + this.dataLabelMaxHeight.positive, 20, 10 + this.dataLabelMaxHeight.negative, 20];\n    this.dims = calculateViewDimensions({\n      width: this.width,\n      height: this.height,\n      margins: this.margin,\n      showXAxis: this.xAxis,\n      showYAxis: this.yAxis,\n      xAxisHeight: this.xAxisHeight,\n      yAxisWidth: this.yAxisWidth,\n      showXLabel: this.showXAxisLabel,\n      showYLabel: this.showYAxisLabel,\n      showLegend: this.legend,\n      legendType: this.schemeType,\n      legendPosition: this.legendPosition\n    });\n    if (this.showDataLabel) {\n      this.dims.height -= this.dataLabelMaxHeight.negative;\n    }\n    this.formatDates();\n    this.groupDomain = this.getGroupDomain();\n    this.innerDomain = this.getInnerDomain();\n    this.valuesDomain = this.getValueDomain();\n    this.groupScale = this.getGroupScale();\n    this.innerScale = this.getInnerScale();\n    this.valueScale = this.getValueScale();\n    this.setColors();\n    this.legendOptions = this.getLegendOptions();\n    this.transform = \"translate(\" + this.dims.xOffset + \" , \" + (this.margin[0] + this.dataLabelMaxHeight.negative) + \")\";\n  };\n  BarVertical2DComponent.prototype.onDataLabelMaxHeightChanged = function (event$$1, groupIndex) {\n    var _this = this;\n    if (event$$1.size.negative) {\n      this.dataLabelMaxHeight.negative = Math.max(this.dataLabelMaxHeight.negative, event$$1.size.height);\n    } else {\n      this.dataLabelMaxHeight.positive = Math.max(this.dataLabelMaxHeight.positive, event$$1.size.height);\n    }\n    if (groupIndex === this.results.length - 1) {\n      setTimeout(function () {\n        return _this.update();\n      });\n    }\n  };\n  BarVertical2DComponent.prototype.getGroupScale = function () {\n    var spacing = this.groupDomain.length / (this.dims.height / this.groupPadding + 1);\n    return scaleBand().rangeRound([0, this.dims.width]).paddingInner(spacing).paddingOuter(spacing / 2).domain(this.groupDomain);\n  };\n  BarVertical2DComponent.prototype.getInnerScale = function () {\n    var width = this.groupScale.bandwidth();\n    var spacing = this.innerDomain.length / (width / this.barPadding + 1);\n    return scaleBand().rangeRound([0, width]).paddingInner(spacing).domain(this.innerDomain);\n  };\n  BarVertical2DComponent.prototype.getValueScale = function () {\n    var scale = scaleLinear().range([this.dims.height, 0]).domain(this.valuesDomain);\n    return this.roundDomains ? scale.nice() : scale;\n  };\n  BarVertical2DComponent.prototype.getGroupDomain = function () {\n    var domain = [];\n    for (var _i = 0, _a = this.results; _i < _a.length; _i++) {\n      var group = _a[_i];\n      if (!domain.includes(group.label)) {\n        domain.push(group.label);\n      }\n    }\n    return domain;\n  };\n  BarVertical2DComponent.prototype.getInnerDomain = function () {\n    var domain = [];\n    for (var _i = 0, _a = this.results; _i < _a.length; _i++) {\n      var group = _a[_i];\n      for (var _b = 0, _c = group.series; _b < _c.length; _b++) {\n        var d = _c[_b];\n        if (!domain.includes(d.label)) {\n          domain.push(d.label);\n        }\n      }\n    }\n    return domain;\n  };\n  BarVertical2DComponent.prototype.getValueDomain = function () {\n    var domain = [];\n    for (var _i = 0, _a = this.results; _i < _a.length; _i++) {\n      var group = _a[_i];\n      for (var _b = 0, _c = group.series; _b < _c.length; _b++) {\n        var d = _c[_b];\n        if (!domain.includes(d.value)) {\n          domain.push(d.value);\n        }\n      }\n    }\n    var min$$1 = Math.min.apply(Math, [0].concat(domain));\n    var max$$1 = this.yScaleMax ? Math.max.apply(Math, [this.yScaleMax].concat(domain)) : Math.max.apply(Math, [0].concat(domain));\n    return [min$$1, max$$1];\n  };\n  BarVertical2DComponent.prototype.groupTransform = function (group) {\n    return \"translate(\" + this.groupScale(group.label) + \", 0)\";\n  };\n  BarVertical2DComponent.prototype.onClick = function (data, group) {\n    if (group) {\n      data.series = group.name;\n    }\n    this.select.emit(data);\n  };\n  BarVertical2DComponent.prototype.trackBy = function (index, item) {\n    return item.name;\n  };\n  BarVertical2DComponent.prototype.setColors = function () {\n    var domain;\n    if (this.schemeType === 'ordinal') {\n      domain = this.innerDomain;\n    } else {\n      domain = this.valuesDomain;\n    }\n    this.colors = new ColorHelper(this.scheme, this.schemeType, domain, this.customColors);\n  };\n  BarVertical2DComponent.prototype.getLegendOptions = function () {\n    var opts = {\n      scaleType: this.schemeType,\n      colors: undefined,\n      domain: [],\n      title: undefined,\n      position: this.legendPosition\n    };\n    if (opts.scaleType === 'ordinal') {\n      opts.domain = this.innerDomain;\n      opts.colors = this.colors;\n      opts.title = this.legendTitle;\n    } else {\n      opts.domain = this.valuesDomain;\n      opts.colors = this.colors.scale;\n    }\n    return opts;\n  };\n  BarVertical2DComponent.prototype.updateYAxisWidth = function (_a) {\n    var width = _a.width;\n    this.yAxisWidth = width;\n    this.update();\n  };\n  BarVertical2DComponent.prototype.updateXAxisHeight = function (_a) {\n    var height = _a.height;\n    this.xAxisHeight = height;\n    this.update();\n  };\n  BarVertical2DComponent.prototype.onActivate = function (event$$1, group, fromLegend) {\n    if (fromLegend === void 0) {\n      fromLegend = false;\n    }\n    var item = Object.assign({}, event$$1);\n    if (group) {\n      item.series = group.name;\n    }\n    var items = this.results.map(function (g) {\n      return g.series;\n    }).flat().filter(function (i) {\n      if (fromLegend) {\n        return i.label === item.name;\n      } else {\n        return i.name === item.name && i.series === item.series;\n      }\n    });\n    this.activeEntries = items.slice();\n    this.activate.emit({\n      value: item,\n      entries: this.activeEntries\n    });\n  };\n  BarVertical2DComponent.prototype.onDeactivate = function (event$$1, group, fromLegend) {\n    if (fromLegend === void 0) {\n      fromLegend = false;\n    }\n    var item = Object.assign({}, event$$1);\n    if (group) {\n      item.series = group.name;\n    }\n    this.activeEntries = this.activeEntries.filter(function (i) {\n      if (fromLegend) {\n        return i.label !== item.name;\n      } else {\n        return !(i.name === item.name && i.series === item.series);\n      }\n    });\n    this.deactivate.emit({\n      value: item,\n      entries: this.activeEntries\n    });\n  };\n  var _a, _b, _c;\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarVertical2DComponent.prototype, \"legend\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], BarVertical2DComponent.prototype, \"legendTitle\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], BarVertical2DComponent.prototype, \"legendPosition\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarVertical2DComponent.prototype, \"xAxis\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarVertical2DComponent.prototype, \"yAxis\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarVertical2DComponent.prototype, \"showXAxisLabel\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarVertical2DComponent.prototype, \"showYAxisLabel\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarVertical2DComponent.prototype, \"xAxisLabel\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarVertical2DComponent.prototype, \"yAxisLabel\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarVertical2DComponent.prototype, \"tooltipDisabled\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarVertical2DComponent.prototype, \"scaleType\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarVertical2DComponent.prototype, \"gradient\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarVertical2DComponent.prototype, \"showGridLines\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Array)], BarVertical2DComponent.prototype, \"activeEntries\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], BarVertical2DComponent.prototype, \"schemeType\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarVertical2DComponent.prototype, \"trimXAxisTicks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarVertical2DComponent.prototype, \"trimYAxisTicks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarVertical2DComponent.prototype, \"rotateXAxisTicks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], BarVertical2DComponent.prototype, \"maxXAxisTickLength\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], BarVertical2DComponent.prototype, \"maxYAxisTickLength\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarVertical2DComponent.prototype, \"xAxisTickFormatting\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarVertical2DComponent.prototype, \"yAxisTickFormatting\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Array)], BarVertical2DComponent.prototype, \"xAxisTicks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Array)], BarVertical2DComponent.prototype, \"yAxisTicks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarVertical2DComponent.prototype, \"groupPadding\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarVertical2DComponent.prototype, \"barPadding\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarVertical2DComponent.prototype, \"roundDomains\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarVertical2DComponent.prototype, \"roundEdges\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], BarVertical2DComponent.prototype, \"yScaleMax\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarVertical2DComponent.prototype, \"showDataLabel\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarVertical2DComponent.prototype, \"dataLabelFormatting\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarVertical2DComponent.prototype, \"noBarWhenZero\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", typeof (_a = typeof EventEmitter !== \"undefined\" && EventEmitter) === \"function\" ? _a : Object)], BarVertical2DComponent.prototype, \"activate\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", typeof (_b = typeof EventEmitter !== \"undefined\" && EventEmitter) === \"function\" ? _b : Object)], BarVertical2DComponent.prototype, \"deactivate\", void 0);\n  __decorate([ContentChild('tooltipTemplate', {\n    static: false\n  }), __metadata(\"design:type\", typeof (_c = typeof TemplateRef !== \"undefined\" && TemplateRef) === \"function\" ? _c : Object)], BarVertical2DComponent.prototype, \"tooltipTemplate\", void 0);\n  BarVertical2DComponent.ɵfac = /*@__PURE__*/function () {\n    var ɵBarVertical2DComponent_BaseFactory;\n    return function BarVertical2DComponent_Factory(t) {\n      return (ɵBarVertical2DComponent_BaseFactory || (ɵBarVertical2DComponent_BaseFactory = ɵngcc0.ɵɵgetInheritedFactory(BarVertical2DComponent)))(t || BarVertical2DComponent);\n    };\n  }();\n  BarVertical2DComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: BarVertical2DComponent,\n    selectors: [[\"ngx-charts-bar-vertical-2d\"]],\n    contentQueries: function BarVertical2DComponent_ContentQueries(rf, ctx, dirIndex) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵcontentQuery(dirIndex, _c21, 5);\n      }\n      if (rf & 2) {\n        var _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.tooltipTemplate = _t.first);\n      }\n    },\n    inputs: {\n      activeEntries: \"activeEntries\",\n      legend: \"legend\",\n      legendTitle: \"legendTitle\",\n      legendPosition: \"legendPosition\",\n      xAxis: \"xAxis\",\n      yAxis: \"yAxis\",\n      showXAxisLabel: \"showXAxisLabel\",\n      showYAxisLabel: \"showYAxisLabel\",\n      xAxisLabel: \"xAxisLabel\",\n      yAxisLabel: \"yAxisLabel\",\n      tooltipDisabled: \"tooltipDisabled\",\n      scaleType: \"scaleType\",\n      gradient: \"gradient\",\n      showGridLines: \"showGridLines\",\n      schemeType: \"schemeType\",\n      trimXAxisTicks: \"trimXAxisTicks\",\n      trimYAxisTicks: \"trimYAxisTicks\",\n      rotateXAxisTicks: \"rotateXAxisTicks\",\n      maxXAxisTickLength: \"maxXAxisTickLength\",\n      maxYAxisTickLength: \"maxYAxisTickLength\",\n      xAxisTickFormatting: \"xAxisTickFormatting\",\n      yAxisTickFormatting: \"yAxisTickFormatting\",\n      xAxisTicks: \"xAxisTicks\",\n      yAxisTicks: \"yAxisTicks\",\n      groupPadding: \"groupPadding\",\n      barPadding: \"barPadding\",\n      roundDomains: \"roundDomains\",\n      roundEdges: \"roundEdges\",\n      yScaleMax: \"yScaleMax\",\n      showDataLabel: \"showDataLabel\",\n      dataLabelFormatting: \"dataLabelFormatting\",\n      noBarWhenZero: \"noBarWhenZero\"\n    },\n    outputs: {\n      activate: \"activate\",\n      deactivate: \"deactivate\"\n    },\n    features: [ɵngcc0.ɵɵInheritDefinitionFeature],\n    decls: 6,\n    vars: 17,\n    consts: [[3, \"view\", \"showLegend\", \"legendOptions\", \"activeEntries\", \"animations\", \"legendLabelActivate\", \"legendLabelDeactivate\", \"legendLabelClick\"], [1, \"bar-chart\", \"chart\"], [\"ngx-charts-grid-panel-series\", \"\", \"orient\", \"vertical\", 3, \"xScale\", \"yScale\", \"data\", \"dims\"], [\"ngx-charts-x-axis\", \"\", 3, \"xScale\", \"dims\", \"showLabel\", \"labelText\", \"trimTicks\", \"rotateTicks\", \"maxTickLength\", \"tickFormatting\", \"ticks\", \"xAxisOffset\", \"dimensionsChanged\", 4, \"ngIf\"], [\"ngx-charts-y-axis\", \"\", 3, \"yScale\", \"dims\", \"showGridLines\", \"showLabel\", \"labelText\", \"trimTicks\", \"maxTickLength\", \"tickFormatting\", \"ticks\", \"dimensionsChanged\", 4, \"ngIf\"], [\"ngx-charts-series-vertical\", \"\", 3, \"activeEntries\", \"xScale\", \"yScale\", \"colors\", \"series\", \"dims\", \"gradient\", \"tooltipDisabled\", \"tooltipTemplate\", \"showDataLabel\", \"dataLabelFormatting\", \"seriesName\", \"roundEdges\", \"animations\", \"noBarWhenZero\", \"select\", \"activate\", \"deactivate\", \"dataLabelHeightChanged\", 4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [\"ngx-charts-x-axis\", \"\", 3, \"xScale\", \"dims\", \"showLabel\", \"labelText\", \"trimTicks\", \"rotateTicks\", \"maxTickLength\", \"tickFormatting\", \"ticks\", \"xAxisOffset\", \"dimensionsChanged\"], [\"ngx-charts-y-axis\", \"\", 3, \"yScale\", \"dims\", \"showGridLines\", \"showLabel\", \"labelText\", \"trimTicks\", \"maxTickLength\", \"tickFormatting\", \"ticks\", \"dimensionsChanged\"], [\"ngx-charts-series-vertical\", \"\", 3, \"activeEntries\", \"xScale\", \"yScale\", \"colors\", \"series\", \"dims\", \"gradient\", \"tooltipDisabled\", \"tooltipTemplate\", \"showDataLabel\", \"dataLabelFormatting\", \"seriesName\", \"roundEdges\", \"animations\", \"noBarWhenZero\", \"select\", \"activate\", \"deactivate\", \"dataLabelHeightChanged\"]],\n    template: function BarVertical2DComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"ngx-charts-chart\", 0);\n        ɵngcc0.ɵɵlistener(\"legendLabelActivate\", function BarVertical2DComponent_Template_ngx_charts_chart_legendLabelActivate_0_listener($event) {\n          return ctx.onActivate($event, undefined, true);\n        })(\"legendLabelDeactivate\", function BarVertical2DComponent_Template_ngx_charts_chart_legendLabelDeactivate_0_listener($event) {\n          return ctx.onDeactivate($event, undefined, true);\n        })(\"legendLabelClick\", function BarVertical2DComponent_Template_ngx_charts_chart_legendLabelClick_0_listener($event) {\n          return ctx.onClick($event);\n        });\n        ɵngcc0.ɵɵnamespaceSVG();\n        ɵngcc0.ɵɵelementStart(1, \"g\", 1);\n        ɵngcc0.ɵɵelement(2, \"g\", 2);\n        ɵngcc0.ɵɵtemplate(3, BarVertical2DComponent__svg_g_3_Template, 1, 10, \"g\", 3);\n        ɵngcc0.ɵɵtemplate(4, BarVertical2DComponent__svg_g_4_Template, 1, 9, \"g\", 4);\n        ɵngcc0.ɵɵtemplate(5, BarVertical2DComponent__svg_g_5_Template, 1, 17, \"g\", 5);\n        ɵngcc0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"view\", ɵngcc0.ɵɵpureFunction2(14, _c23, ctx.width, ctx.height))(\"showLegend\", ctx.legend)(\"legendOptions\", ctx.legendOptions)(\"activeEntries\", ctx.activeEntries)(\"animations\", ctx.animations);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵattribute(\"transform\", ctx.transform);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"xScale\", ctx.groupScale)(\"yScale\", ctx.valueScale)(\"data\", ctx.results)(\"dims\", ctx.dims);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.xAxis);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.yAxis);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngForOf\", ctx.results)(\"ngForTrackBy\", ctx.trackBy);\n      }\n    },\n    dependencies: function () {\n      return [ɵngcc1.NgForOf, ɵngcc1.NgIf, XAxisComponent, YAxisComponent, ChartComponent, GridPanelSeriesComponent, SeriesVerticalComponent];\n    },\n    styles: [_c24],\n    encapsulation: 2,\n    data: {\n      animation: [trigger('animationState', [transition(':leave', [style({\n        opacity: 1,\n        transform: '*'\n      }), animate(500, style({\n        opacity: 0,\n        transform: 'scale(0)'\n      }))])])]\n    },\n    changeDetection: 0\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  return BarVertical2DComponent;\n}(BaseChartComponent);\nvar BarVerticalNormalizedComponent = /** @class */function (_super) {\n  __extends(BarVerticalNormalizedComponent, _super);\n  function BarVerticalNormalizedComponent() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.legend = false;\n    _this.legendTitle = 'Legend';\n    _this.legendPosition = 'right';\n    _this.tooltipDisabled = false;\n    _this.showGridLines = true;\n    _this.activeEntries = [];\n    _this.trimXAxisTicks = true;\n    _this.trimYAxisTicks = true;\n    _this.rotateXAxisTicks = true;\n    _this.maxXAxisTickLength = 16;\n    _this.maxYAxisTickLength = 16;\n    _this.barPadding = 8;\n    _this.roundDomains = false;\n    _this.noBarWhenZero = true;\n    _this.activate = new EventEmitter();\n    _this.deactivate = new EventEmitter();\n    _this.margin = [10, 20, 10, 20];\n    _this.xAxisHeight = 0;\n    _this.yAxisWidth = 0;\n    return _this;\n  }\n  BarVerticalNormalizedComponent.prototype.update = function () {\n    _super.prototype.update.call(this);\n    this.dims = calculateViewDimensions({\n      width: this.width,\n      height: this.height,\n      margins: this.margin,\n      showXAxis: this.xAxis,\n      showYAxis: this.yAxis,\n      xAxisHeight: this.xAxisHeight,\n      yAxisWidth: this.yAxisWidth,\n      showXLabel: this.showXAxisLabel,\n      showYLabel: this.showYAxisLabel,\n      showLegend: this.legend,\n      legendType: this.schemeType,\n      legendPosition: this.legendPosition\n    });\n    this.formatDates();\n    this.groupDomain = this.getGroupDomain();\n    this.innerDomain = this.getInnerDomain();\n    this.valueDomain = this.getValueDomain();\n    this.xScale = this.getXScale();\n    this.yScale = this.getYScale();\n    this.setColors();\n    this.legendOptions = this.getLegendOptions();\n    this.transform = \"translate(\" + this.dims.xOffset + \" , \" + this.margin[0] + \")\";\n  };\n  BarVerticalNormalizedComponent.prototype.getGroupDomain = function () {\n    var domain = [];\n    for (var _i = 0, _a = this.results; _i < _a.length; _i++) {\n      var group = _a[_i];\n      if (!domain.includes(group.label)) {\n        domain.push(group.label);\n      }\n    }\n    return domain;\n  };\n  BarVerticalNormalizedComponent.prototype.getInnerDomain = function () {\n    var domain = [];\n    for (var _i = 0, _a = this.results; _i < _a.length; _i++) {\n      var group = _a[_i];\n      for (var _b = 0, _c = group.series; _b < _c.length; _b++) {\n        var d = _c[_b];\n        if (!domain.includes(d.label)) {\n          domain.push(d.label);\n        }\n      }\n    }\n    return domain;\n  };\n  BarVerticalNormalizedComponent.prototype.getValueDomain = function () {\n    return [0, 100];\n  };\n  BarVerticalNormalizedComponent.prototype.getXScale = function () {\n    var spacing = this.groupDomain.length / (this.dims.width / this.barPadding + 1);\n    return scaleBand().rangeRound([0, this.dims.width]).paddingInner(spacing).domain(this.groupDomain);\n  };\n  BarVerticalNormalizedComponent.prototype.getYScale = function () {\n    var scale = scaleLinear().range([this.dims.height, 0]).domain(this.valueDomain);\n    return this.roundDomains ? scale.nice() : scale;\n  };\n  BarVerticalNormalizedComponent.prototype.groupTransform = function (group) {\n    return \"translate(\" + this.xScale(group.name) + \", 0)\";\n  };\n  BarVerticalNormalizedComponent.prototype.onClick = function (data, group) {\n    if (group) {\n      data.series = group.name;\n    }\n    this.select.emit(data);\n  };\n  BarVerticalNormalizedComponent.prototype.trackBy = function (index, item) {\n    return item.name;\n  };\n  BarVerticalNormalizedComponent.prototype.setColors = function () {\n    var domain;\n    if (this.schemeType === 'ordinal') {\n      domain = this.innerDomain;\n    } else {\n      domain = this.valueDomain;\n    }\n    this.colors = new ColorHelper(this.scheme, this.schemeType, domain, this.customColors);\n  };\n  BarVerticalNormalizedComponent.prototype.getLegendOptions = function () {\n    var opts = {\n      scaleType: this.schemeType,\n      colors: undefined,\n      domain: [],\n      title: undefined,\n      position: this.legendPosition\n    };\n    if (opts.scaleType === 'ordinal') {\n      opts.domain = this.innerDomain;\n      opts.colors = this.colors;\n      opts.title = this.legendTitle;\n    } else {\n      opts.domain = this.valueDomain;\n      opts.colors = this.colors.scale;\n    }\n    return opts;\n  };\n  BarVerticalNormalizedComponent.prototype.updateYAxisWidth = function (_a) {\n    var width = _a.width;\n    this.yAxisWidth = width;\n    this.update();\n  };\n  BarVerticalNormalizedComponent.prototype.updateXAxisHeight = function (_a) {\n    var height = _a.height;\n    this.xAxisHeight = height;\n    this.update();\n  };\n  BarVerticalNormalizedComponent.prototype.onActivate = function (event$$1, group, fromLegend) {\n    if (fromLegend === void 0) {\n      fromLegend = false;\n    }\n    var item = Object.assign({}, event$$1);\n    if (group) {\n      item.series = group.name;\n    }\n    var items = this.results.map(function (g) {\n      return g.series;\n    }).flat().filter(function (i) {\n      if (fromLegend) {\n        return i.label === item.name;\n      } else {\n        return i.name === item.name && i.series === item.series;\n      }\n    });\n    this.activeEntries = items.slice();\n    this.activate.emit({\n      value: item,\n      entries: this.activeEntries\n    });\n  };\n  BarVerticalNormalizedComponent.prototype.onDeactivate = function (event$$1, group, fromLegend) {\n    if (fromLegend === void 0) {\n      fromLegend = false;\n    }\n    var item = Object.assign({}, event$$1);\n    if (group) {\n      item.series = group.name;\n    }\n    this.activeEntries = this.activeEntries.filter(function (i) {\n      if (fromLegend) {\n        return i.label !== item.name;\n      } else {\n        return !(i.name === item.name && i.series === item.series);\n      }\n    });\n    this.deactivate.emit({\n      value: item,\n      entries: this.activeEntries\n    });\n  };\n  var _a, _b, _c;\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarVerticalNormalizedComponent.prototype, \"legend\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], BarVerticalNormalizedComponent.prototype, \"legendTitle\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], BarVerticalNormalizedComponent.prototype, \"legendPosition\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarVerticalNormalizedComponent.prototype, \"xAxis\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarVerticalNormalizedComponent.prototype, \"yAxis\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarVerticalNormalizedComponent.prototype, \"showXAxisLabel\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarVerticalNormalizedComponent.prototype, \"showYAxisLabel\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarVerticalNormalizedComponent.prototype, \"xAxisLabel\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarVerticalNormalizedComponent.prototype, \"yAxisLabel\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarVerticalNormalizedComponent.prototype, \"tooltipDisabled\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarVerticalNormalizedComponent.prototype, \"gradient\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarVerticalNormalizedComponent.prototype, \"showGridLines\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Array)], BarVerticalNormalizedComponent.prototype, \"activeEntries\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], BarVerticalNormalizedComponent.prototype, \"schemeType\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarVerticalNormalizedComponent.prototype, \"trimXAxisTicks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarVerticalNormalizedComponent.prototype, \"trimYAxisTicks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarVerticalNormalizedComponent.prototype, \"rotateXAxisTicks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], BarVerticalNormalizedComponent.prototype, \"maxXAxisTickLength\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], BarVerticalNormalizedComponent.prototype, \"maxYAxisTickLength\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarVerticalNormalizedComponent.prototype, \"xAxisTickFormatting\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarVerticalNormalizedComponent.prototype, \"yAxisTickFormatting\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Array)], BarVerticalNormalizedComponent.prototype, \"xAxisTicks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Array)], BarVerticalNormalizedComponent.prototype, \"yAxisTicks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarVerticalNormalizedComponent.prototype, \"barPadding\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarVerticalNormalizedComponent.prototype, \"roundDomains\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarVerticalNormalizedComponent.prototype, \"noBarWhenZero\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", typeof (_a = typeof EventEmitter !== \"undefined\" && EventEmitter) === \"function\" ? _a : Object)], BarVerticalNormalizedComponent.prototype, \"activate\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", typeof (_b = typeof EventEmitter !== \"undefined\" && EventEmitter) === \"function\" ? _b : Object)], BarVerticalNormalizedComponent.prototype, \"deactivate\", void 0);\n  __decorate([ContentChild('tooltipTemplate', {\n    static: false\n  }), __metadata(\"design:type\", typeof (_c = typeof TemplateRef !== \"undefined\" && TemplateRef) === \"function\" ? _c : Object)], BarVerticalNormalizedComponent.prototype, \"tooltipTemplate\", void 0);\n  BarVerticalNormalizedComponent.ɵfac = /*@__PURE__*/function () {\n    var ɵBarVerticalNormalizedComponent_BaseFactory;\n    return function BarVerticalNormalizedComponent_Factory(t) {\n      return (ɵBarVerticalNormalizedComponent_BaseFactory || (ɵBarVerticalNormalizedComponent_BaseFactory = ɵngcc0.ɵɵgetInheritedFactory(BarVerticalNormalizedComponent)))(t || BarVerticalNormalizedComponent);\n    };\n  }();\n  BarVerticalNormalizedComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: BarVerticalNormalizedComponent,\n    selectors: [[\"ngx-charts-bar-vertical-normalized\"]],\n    contentQueries: function BarVerticalNormalizedComponent_ContentQueries(rf, ctx, dirIndex) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵcontentQuery(dirIndex, _c21, 5);\n      }\n      if (rf & 2) {\n        var _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.tooltipTemplate = _t.first);\n      }\n    },\n    inputs: {\n      activeEntries: \"activeEntries\",\n      legend: \"legend\",\n      legendTitle: \"legendTitle\",\n      legendPosition: \"legendPosition\",\n      xAxis: \"xAxis\",\n      yAxis: \"yAxis\",\n      showXAxisLabel: \"showXAxisLabel\",\n      showYAxisLabel: \"showYAxisLabel\",\n      xAxisLabel: \"xAxisLabel\",\n      yAxisLabel: \"yAxisLabel\",\n      tooltipDisabled: \"tooltipDisabled\",\n      gradient: \"gradient\",\n      showGridLines: \"showGridLines\",\n      schemeType: \"schemeType\",\n      trimXAxisTicks: \"trimXAxisTicks\",\n      trimYAxisTicks: \"trimYAxisTicks\",\n      rotateXAxisTicks: \"rotateXAxisTicks\",\n      maxXAxisTickLength: \"maxXAxisTickLength\",\n      maxYAxisTickLength: \"maxYAxisTickLength\",\n      xAxisTickFormatting: \"xAxisTickFormatting\",\n      yAxisTickFormatting: \"yAxisTickFormatting\",\n      xAxisTicks: \"xAxisTicks\",\n      yAxisTicks: \"yAxisTicks\",\n      barPadding: \"barPadding\",\n      roundDomains: \"roundDomains\",\n      noBarWhenZero: \"noBarWhenZero\"\n    },\n    outputs: {\n      activate: \"activate\",\n      deactivate: \"deactivate\"\n    },\n    features: [ɵngcc0.ɵɵInheritDefinitionFeature],\n    decls: 5,\n    vars: 13,\n    consts: [[3, \"view\", \"showLegend\", \"legendOptions\", \"activeEntries\", \"animations\", \"legendLabelActivate\", \"legendLabelDeactivate\", \"legendLabelClick\"], [1, \"bar-chart\", \"chart\"], [\"ngx-charts-x-axis\", \"\", 3, \"xScale\", \"dims\", \"showLabel\", \"labelText\", \"trimTicks\", \"rotateTicks\", \"maxTickLength\", \"tickFormatting\", \"ticks\", \"dimensionsChanged\", 4, \"ngIf\"], [\"ngx-charts-y-axis\", \"\", 3, \"yScale\", \"dims\", \"showGridLines\", \"showLabel\", \"labelText\", \"trimTicks\", \"maxTickLength\", \"tickFormatting\", \"ticks\", \"dimensionsChanged\", 4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [\"ngx-charts-x-axis\", \"\", 3, \"xScale\", \"dims\", \"showLabel\", \"labelText\", \"trimTicks\", \"rotateTicks\", \"maxTickLength\", \"tickFormatting\", \"ticks\", \"dimensionsChanged\"], [\"ngx-charts-y-axis\", \"\", 3, \"yScale\", \"dims\", \"showGridLines\", \"showLabel\", \"labelText\", \"trimTicks\", \"maxTickLength\", \"tickFormatting\", \"ticks\", \"dimensionsChanged\"], [\"ngx-charts-series-vertical\", \"\", \"type\", \"normalized\", 3, \"xScale\", \"yScale\", \"activeEntries\", \"colors\", \"series\", \"dims\", \"gradient\", \"tooltipDisabled\", \"tooltipTemplate\", \"seriesName\", \"animations\", \"noBarWhenZero\", \"select\", \"activate\", \"deactivate\"]],\n    template: function BarVerticalNormalizedComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"ngx-charts-chart\", 0);\n        ɵngcc0.ɵɵlistener(\"legendLabelActivate\", function BarVerticalNormalizedComponent_Template_ngx_charts_chart_legendLabelActivate_0_listener($event) {\n          return ctx.onActivate($event, undefined, true);\n        })(\"legendLabelDeactivate\", function BarVerticalNormalizedComponent_Template_ngx_charts_chart_legendLabelDeactivate_0_listener($event) {\n          return ctx.onDeactivate($event, undefined, true);\n        })(\"legendLabelClick\", function BarVerticalNormalizedComponent_Template_ngx_charts_chart_legendLabelClick_0_listener($event) {\n          return ctx.onClick($event);\n        });\n        ɵngcc0.ɵɵnamespaceSVG();\n        ɵngcc0.ɵɵelementStart(1, \"g\", 1);\n        ɵngcc0.ɵɵtemplate(2, BarVerticalNormalizedComponent__svg_g_2_Template, 1, 9, \"g\", 2);\n        ɵngcc0.ɵɵtemplate(3, BarVerticalNormalizedComponent__svg_g_3_Template, 1, 9, \"g\", 3);\n        ɵngcc0.ɵɵtemplate(4, BarVerticalNormalizedComponent__svg_g_4_Template, 2, 14, \"g\", 4);\n        ɵngcc0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"view\", ɵngcc0.ɵɵpureFunction2(10, _c23, ctx.width, ctx.height))(\"showLegend\", ctx.legend)(\"legendOptions\", ctx.legendOptions)(\"activeEntries\", ctx.activeEntries)(\"animations\", ctx.animations);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵattribute(\"transform\", ctx.transform);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.xAxis);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.yAxis);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngForOf\", ctx.results)(\"ngForTrackBy\", ctx.trackBy);\n      }\n    },\n    dependencies: function () {\n      return [ɵngcc1.NgForOf, ɵngcc1.NgIf, XAxisComponent, YAxisComponent, ChartComponent, SeriesVerticalComponent];\n    },\n    styles: [_c24],\n    encapsulation: 2,\n    data: {\n      animation: [trigger('animationState', [transition(':leave', [style({\n        opacity: 1,\n        transform: '*'\n      }), animate(500, style({\n        opacity: 0,\n        transform: 'scale(0)'\n      }))])])]\n    },\n    changeDetection: 0\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  return BarVerticalNormalizedComponent;\n}(BaseChartComponent);\nvar BarVerticalStackedComponent = /** @class */function (_super) {\n  __extends(BarVerticalStackedComponent, _super);\n  function BarVerticalStackedComponent() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.legend = false;\n    _this.legendTitle = 'Legend';\n    _this.legendPosition = 'right';\n    _this.tooltipDisabled = false;\n    _this.showGridLines = true;\n    _this.activeEntries = [];\n    _this.trimXAxisTicks = true;\n    _this.trimYAxisTicks = true;\n    _this.rotateXAxisTicks = true;\n    _this.maxXAxisTickLength = 16;\n    _this.maxYAxisTickLength = 16;\n    _this.barPadding = 8;\n    _this.roundDomains = false;\n    _this.showDataLabel = false;\n    _this.noBarWhenZero = true;\n    _this.activate = new EventEmitter();\n    _this.deactivate = new EventEmitter();\n    _this.margin = [10, 20, 10, 20];\n    _this.xAxisHeight = 0;\n    _this.yAxisWidth = 0;\n    _this.dataLabelMaxHeight = {\n      negative: 0,\n      positive: 0\n    };\n    return _this;\n  }\n  BarVerticalStackedComponent.prototype.update = function () {\n    _super.prototype.update.call(this);\n    if (!this.showDataLabel) {\n      this.dataLabelMaxHeight = {\n        negative: 0,\n        positive: 0\n      };\n    }\n    this.margin = [10 + this.dataLabelMaxHeight.positive, 20, 10 + this.dataLabelMaxHeight.negative, 20];\n    this.dims = calculateViewDimensions({\n      width: this.width,\n      height: this.height,\n      margins: this.margin,\n      showXAxis: this.xAxis,\n      showYAxis: this.yAxis,\n      xAxisHeight: this.xAxisHeight,\n      yAxisWidth: this.yAxisWidth,\n      showXLabel: this.showXAxisLabel,\n      showYLabel: this.showYAxisLabel,\n      showLegend: this.legend,\n      legendType: this.schemeType,\n      legendPosition: this.legendPosition\n    });\n    if (this.showDataLabel) {\n      this.dims.height -= this.dataLabelMaxHeight.negative;\n    }\n    this.formatDates();\n    this.groupDomain = this.getGroupDomain();\n    this.innerDomain = this.getInnerDomain();\n    this.valueDomain = this.getValueDomain();\n    this.xScale = this.getXScale();\n    this.yScale = this.getYScale();\n    this.setColors();\n    this.legendOptions = this.getLegendOptions();\n    this.transform = \"translate(\" + this.dims.xOffset + \" , \" + (this.margin[0] + this.dataLabelMaxHeight.negative) + \")\";\n  };\n  BarVerticalStackedComponent.prototype.getGroupDomain = function () {\n    var domain = [];\n    for (var _i = 0, _a = this.results; _i < _a.length; _i++) {\n      var group = _a[_i];\n      if (!domain.includes(group.label)) {\n        domain.push(group.label);\n      }\n    }\n    return domain;\n  };\n  BarVerticalStackedComponent.prototype.getInnerDomain = function () {\n    var domain = [];\n    for (var _i = 0, _a = this.results; _i < _a.length; _i++) {\n      var group = _a[_i];\n      for (var _b = 0, _c = group.series; _b < _c.length; _b++) {\n        var d = _c[_b];\n        if (!domain.includes(d.label)) {\n          domain.push(d.label);\n        }\n      }\n    }\n    return domain;\n  };\n  BarVerticalStackedComponent.prototype.getValueDomain = function () {\n    var domain = [];\n    var smallest = 0;\n    var biggest = 0;\n    for (var _i = 0, _a = this.results; _i < _a.length; _i++) {\n      var group = _a[_i];\n      var smallestSum = 0;\n      var biggestSum = 0;\n      for (var _b = 0, _c = group.series; _b < _c.length; _b++) {\n        var d = _c[_b];\n        if (d.value < 0) {\n          smallestSum += d.value;\n        } else {\n          biggestSum += d.value;\n        }\n        smallest = d.value < smallest ? d.value : smallest;\n        biggest = d.value > biggest ? d.value : biggest;\n      }\n      domain.push(smallestSum);\n      domain.push(biggestSum);\n    }\n    domain.push(smallest);\n    domain.push(biggest);\n    var min$$1 = Math.min.apply(Math, [0].concat(domain));\n    var max$$1 = this.yScaleMax ? Math.max.apply(Math, [this.yScaleMax].concat(domain)) : Math.max.apply(Math, domain);\n    return [min$$1, max$$1];\n  };\n  BarVerticalStackedComponent.prototype.getXScale = function () {\n    var spacing = this.groupDomain.length / (this.dims.width / this.barPadding + 1);\n    return scaleBand().rangeRound([0, this.dims.width]).paddingInner(spacing).domain(this.groupDomain);\n  };\n  BarVerticalStackedComponent.prototype.getYScale = function () {\n    var scale = scaleLinear().range([this.dims.height, 0]).domain(this.valueDomain);\n    return this.roundDomains ? scale.nice() : scale;\n  };\n  BarVerticalStackedComponent.prototype.onDataLabelMaxHeightChanged = function (event$$1, groupIndex) {\n    var _this = this;\n    if (event$$1.size.negative) {\n      this.dataLabelMaxHeight.negative = Math.max(this.dataLabelMaxHeight.negative, event$$1.size.height);\n    } else {\n      this.dataLabelMaxHeight.positive = Math.max(this.dataLabelMaxHeight.positive, event$$1.size.height);\n    }\n    if (groupIndex === this.results.length - 1) {\n      setTimeout(function () {\n        return _this.update();\n      });\n    }\n  };\n  BarVerticalStackedComponent.prototype.groupTransform = function (group) {\n    return \"translate(\" + (this.xScale(group.name) || 0) + \", 0)\";\n  };\n  BarVerticalStackedComponent.prototype.onClick = function (data, group) {\n    if (group) {\n      data.series = group.name;\n    }\n    this.select.emit(data);\n  };\n  BarVerticalStackedComponent.prototype.trackBy = function (index, item) {\n    return item.name;\n  };\n  BarVerticalStackedComponent.prototype.setColors = function () {\n    var domain;\n    if (this.schemeType === 'ordinal') {\n      domain = this.innerDomain;\n    } else {\n      domain = this.valueDomain;\n    }\n    this.colors = new ColorHelper(this.scheme, this.schemeType, domain, this.customColors);\n  };\n  BarVerticalStackedComponent.prototype.getLegendOptions = function () {\n    var opts = {\n      scaleType: this.schemeType,\n      colors: undefined,\n      domain: [],\n      title: undefined,\n      position: this.legendPosition\n    };\n    if (opts.scaleType === 'ordinal') {\n      opts.domain = this.innerDomain;\n      opts.colors = this.colors;\n      opts.title = this.legendTitle;\n    } else {\n      opts.domain = this.valueDomain;\n      opts.colors = this.colors.scale;\n    }\n    return opts;\n  };\n  BarVerticalStackedComponent.prototype.updateYAxisWidth = function (_a) {\n    var width = _a.width;\n    this.yAxisWidth = width;\n    this.update();\n  };\n  BarVerticalStackedComponent.prototype.updateXAxisHeight = function (_a) {\n    var height = _a.height;\n    this.xAxisHeight = height;\n    this.update();\n  };\n  BarVerticalStackedComponent.prototype.onActivate = function (event$$1, group, fromLegend) {\n    if (fromLegend === void 0) {\n      fromLegend = false;\n    }\n    var item = Object.assign({}, event$$1);\n    if (group) {\n      item.series = group.name;\n    }\n    var items = this.results.map(function (g) {\n      return g.series;\n    }).flat().filter(function (i) {\n      if (fromLegend) {\n        return i.label === item.name;\n      } else {\n        return i.name === item.name && i.series === item.series;\n      }\n    });\n    this.activeEntries = items.slice();\n    this.activate.emit({\n      value: item,\n      entries: this.activeEntries\n    });\n  };\n  BarVerticalStackedComponent.prototype.onDeactivate = function (event$$1, group, fromLegend) {\n    if (fromLegend === void 0) {\n      fromLegend = false;\n    }\n    var item = Object.assign({}, event$$1);\n    if (group) {\n      item.series = group.name;\n    }\n    this.activeEntries = this.activeEntries.filter(function (i) {\n      if (fromLegend) {\n        return i.label !== item.name;\n      } else {\n        return !(i.name === item.name && i.series === item.series);\n      }\n    });\n    this.deactivate.emit({\n      value: item,\n      entries: this.activeEntries\n    });\n  };\n  var _a, _b, _c;\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarVerticalStackedComponent.prototype, \"legend\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], BarVerticalStackedComponent.prototype, \"legendTitle\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], BarVerticalStackedComponent.prototype, \"legendPosition\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarVerticalStackedComponent.prototype, \"xAxis\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarVerticalStackedComponent.prototype, \"yAxis\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarVerticalStackedComponent.prototype, \"showXAxisLabel\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarVerticalStackedComponent.prototype, \"showYAxisLabel\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarVerticalStackedComponent.prototype, \"xAxisLabel\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarVerticalStackedComponent.prototype, \"yAxisLabel\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarVerticalStackedComponent.prototype, \"tooltipDisabled\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarVerticalStackedComponent.prototype, \"gradient\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarVerticalStackedComponent.prototype, \"showGridLines\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Array)], BarVerticalStackedComponent.prototype, \"activeEntries\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], BarVerticalStackedComponent.prototype, \"schemeType\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarVerticalStackedComponent.prototype, \"trimXAxisTicks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarVerticalStackedComponent.prototype, \"trimYAxisTicks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarVerticalStackedComponent.prototype, \"rotateXAxisTicks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], BarVerticalStackedComponent.prototype, \"maxXAxisTickLength\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], BarVerticalStackedComponent.prototype, \"maxYAxisTickLength\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarVerticalStackedComponent.prototype, \"xAxisTickFormatting\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarVerticalStackedComponent.prototype, \"yAxisTickFormatting\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Array)], BarVerticalStackedComponent.prototype, \"xAxisTicks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Array)], BarVerticalStackedComponent.prototype, \"yAxisTicks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarVerticalStackedComponent.prototype, \"barPadding\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarVerticalStackedComponent.prototype, \"roundDomains\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], BarVerticalStackedComponent.prototype, \"yScaleMax\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarVerticalStackedComponent.prototype, \"showDataLabel\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarVerticalStackedComponent.prototype, \"dataLabelFormatting\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BarVerticalStackedComponent.prototype, \"noBarWhenZero\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", typeof (_a = typeof EventEmitter !== \"undefined\" && EventEmitter) === \"function\" ? _a : Object)], BarVerticalStackedComponent.prototype, \"activate\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", typeof (_b = typeof EventEmitter !== \"undefined\" && EventEmitter) === \"function\" ? _b : Object)], BarVerticalStackedComponent.prototype, \"deactivate\", void 0);\n  __decorate([ContentChild('tooltipTemplate', {\n    static: false\n  }), __metadata(\"design:type\", typeof (_c = typeof TemplateRef !== \"undefined\" && TemplateRef) === \"function\" ? _c : Object)], BarVerticalStackedComponent.prototype, \"tooltipTemplate\", void 0);\n  BarVerticalStackedComponent.ɵfac = /*@__PURE__*/function () {\n    var ɵBarVerticalStackedComponent_BaseFactory;\n    return function BarVerticalStackedComponent_Factory(t) {\n      return (ɵBarVerticalStackedComponent_BaseFactory || (ɵBarVerticalStackedComponent_BaseFactory = ɵngcc0.ɵɵgetInheritedFactory(BarVerticalStackedComponent)))(t || BarVerticalStackedComponent);\n    };\n  }();\n  BarVerticalStackedComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: BarVerticalStackedComponent,\n    selectors: [[\"ngx-charts-bar-vertical-stacked\"]],\n    contentQueries: function BarVerticalStackedComponent_ContentQueries(rf, ctx, dirIndex) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵcontentQuery(dirIndex, _c21, 5);\n      }\n      if (rf & 2) {\n        var _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.tooltipTemplate = _t.first);\n      }\n    },\n    inputs: {\n      activeEntries: \"activeEntries\",\n      legend: \"legend\",\n      legendTitle: \"legendTitle\",\n      legendPosition: \"legendPosition\",\n      xAxis: \"xAxis\",\n      yAxis: \"yAxis\",\n      showXAxisLabel: \"showXAxisLabel\",\n      showYAxisLabel: \"showYAxisLabel\",\n      xAxisLabel: \"xAxisLabel\",\n      yAxisLabel: \"yAxisLabel\",\n      tooltipDisabled: \"tooltipDisabled\",\n      gradient: \"gradient\",\n      showGridLines: \"showGridLines\",\n      schemeType: \"schemeType\",\n      trimXAxisTicks: \"trimXAxisTicks\",\n      trimYAxisTicks: \"trimYAxisTicks\",\n      rotateXAxisTicks: \"rotateXAxisTicks\",\n      maxXAxisTickLength: \"maxXAxisTickLength\",\n      maxYAxisTickLength: \"maxYAxisTickLength\",\n      xAxisTickFormatting: \"xAxisTickFormatting\",\n      yAxisTickFormatting: \"yAxisTickFormatting\",\n      xAxisTicks: \"xAxisTicks\",\n      yAxisTicks: \"yAxisTicks\",\n      barPadding: \"barPadding\",\n      roundDomains: \"roundDomains\",\n      yScaleMax: \"yScaleMax\",\n      showDataLabel: \"showDataLabel\",\n      dataLabelFormatting: \"dataLabelFormatting\",\n      noBarWhenZero: \"noBarWhenZero\"\n    },\n    outputs: {\n      activate: \"activate\",\n      deactivate: \"deactivate\"\n    },\n    features: [ɵngcc0.ɵɵInheritDefinitionFeature],\n    decls: 5,\n    vars: 13,\n    consts: [[3, \"view\", \"showLegend\", \"legendOptions\", \"activeEntries\", \"animations\", \"legendLabelActivate\", \"legendLabelDeactivate\", \"legendLabelClick\"], [1, \"bar-chart\", \"chart\"], [\"ngx-charts-x-axis\", \"\", 3, \"xScale\", \"dims\", \"showLabel\", \"labelText\", \"trimTicks\", \"rotateTicks\", \"maxTickLength\", \"tickFormatting\", \"ticks\", \"xAxisOffset\", \"dimensionsChanged\", 4, \"ngIf\"], [\"ngx-charts-y-axis\", \"\", 3, \"yScale\", \"dims\", \"showGridLines\", \"showLabel\", \"labelText\", \"trimTicks\", \"maxTickLength\", \"tickFormatting\", \"ticks\", \"dimensionsChanged\", 4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [\"ngx-charts-x-axis\", \"\", 3, \"xScale\", \"dims\", \"showLabel\", \"labelText\", \"trimTicks\", \"rotateTicks\", \"maxTickLength\", \"tickFormatting\", \"ticks\", \"xAxisOffset\", \"dimensionsChanged\"], [\"ngx-charts-y-axis\", \"\", 3, \"yScale\", \"dims\", \"showGridLines\", \"showLabel\", \"labelText\", \"trimTicks\", \"maxTickLength\", \"tickFormatting\", \"ticks\", \"dimensionsChanged\"], [\"ngx-charts-series-vertical\", \"\", \"type\", \"stacked\", 3, \"xScale\", \"yScale\", \"activeEntries\", \"colors\", \"series\", \"dims\", \"gradient\", \"tooltipDisabled\", \"tooltipTemplate\", \"showDataLabel\", \"dataLabelFormatting\", \"seriesName\", \"animations\", \"noBarWhenZero\", \"select\", \"activate\", \"deactivate\", \"dataLabelHeightChanged\"]],\n    template: function BarVerticalStackedComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"ngx-charts-chart\", 0);\n        ɵngcc0.ɵɵlistener(\"legendLabelActivate\", function BarVerticalStackedComponent_Template_ngx_charts_chart_legendLabelActivate_0_listener($event) {\n          return ctx.onActivate($event, undefined, true);\n        })(\"legendLabelDeactivate\", function BarVerticalStackedComponent_Template_ngx_charts_chart_legendLabelDeactivate_0_listener($event) {\n          return ctx.onDeactivate($event, undefined, true);\n        })(\"legendLabelClick\", function BarVerticalStackedComponent_Template_ngx_charts_chart_legendLabelClick_0_listener($event) {\n          return ctx.onClick($event);\n        });\n        ɵngcc0.ɵɵnamespaceSVG();\n        ɵngcc0.ɵɵelementStart(1, \"g\", 1);\n        ɵngcc0.ɵɵtemplate(2, BarVerticalStackedComponent__svg_g_2_Template, 1, 10, \"g\", 2);\n        ɵngcc0.ɵɵtemplate(3, BarVerticalStackedComponent__svg_g_3_Template, 1, 9, \"g\", 3);\n        ɵngcc0.ɵɵtemplate(4, BarVerticalStackedComponent__svg_g_4_Template, 2, 16, \"g\", 4);\n        ɵngcc0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"view\", ɵngcc0.ɵɵpureFunction2(10, _c23, ctx.width, ctx.height))(\"showLegend\", ctx.legend)(\"legendOptions\", ctx.legendOptions)(\"activeEntries\", ctx.activeEntries)(\"animations\", ctx.animations);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵattribute(\"transform\", ctx.transform);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.xAxis);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.yAxis);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngForOf\", ctx.results)(\"ngForTrackBy\", ctx.trackBy);\n      }\n    },\n    dependencies: function () {\n      return [ɵngcc1.NgForOf, ɵngcc1.NgIf, XAxisComponent, YAxisComponent, ChartComponent, SeriesVerticalComponent];\n    },\n    styles: [_c24],\n    encapsulation: 2,\n    data: {\n      animation: [trigger('animationState', [transition(':leave', [style({\n        opacity: 1,\n        transform: '*'\n      }), animate(500, style({\n        opacity: 0,\n        transform: 'scale(0)'\n      }))])])]\n    },\n    changeDetection: 0\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  return BarVerticalStackedComponent;\n}(BaseChartComponent);\nvar D0Types = /*#__PURE__*/(() => {\n  (function (D0Types) {\n    D0Types[\"positive\"] = \"positive\";\n    D0Types[\"negative\"] = \"negative\";\n  })(D0Types || (D0Types = {}));\n  return D0Types;\n})();\nvar SeriesVerticalComponent = /** @class */function () {\n  function SeriesVerticalComponent() {\n    this.type = 'standard';\n    this.tooltipDisabled = false;\n    this.animations = true;\n    this.showDataLabel = false;\n    this.noBarWhenZero = true;\n    this.select = new EventEmitter();\n    this.activate = new EventEmitter();\n    this.deactivate = new EventEmitter();\n    this.dataLabelHeightChanged = new EventEmitter();\n    this.barsForDataLabels = [];\n  }\n  SeriesVerticalComponent.prototype.ngOnChanges = function (changes) {\n    this.update();\n  };\n  SeriesVerticalComponent.prototype.update = function () {\n    var _this = this;\n    var _a;\n    this.updateTooltipSettings();\n    var width;\n    if (this.series.length) {\n      width = this.xScale.bandwidth();\n    }\n    width = Math.round(width);\n    var yScaleMin = Math.max(this.yScale.domain()[0], 0);\n    var d0 = (_a = {}, _a[D0Types.positive] = 0, _a[D0Types.negative] = 0, _a);\n    var d0Type = D0Types.positive;\n    var total;\n    if (this.type === 'normalized') {\n      total = this.series.map(function (d) {\n        return d.value;\n      }).reduce(function (sum, d) {\n        return sum + d;\n      }, 0);\n    }\n    this.bars = this.series.map(function (d, index) {\n      var value = d.value;\n      var label = _this.getLabel(d);\n      var formattedLabel = formatLabel(label);\n      var roundEdges = _this.roundEdges;\n      d0Type = value > 0 ? D0Types.positive : D0Types.negative;\n      var bar = {\n        value: value,\n        label: label,\n        roundEdges: roundEdges,\n        data: d,\n        width: width,\n        formattedLabel: formattedLabel,\n        height: 0,\n        x: 0,\n        y: 0\n      };\n      if (_this.type === 'standard') {\n        bar.height = Math.abs(_this.yScale(value) - _this.yScale(yScaleMin));\n        bar.x = _this.xScale(label);\n        if (value < 0) {\n          bar.y = _this.yScale(0);\n        } else {\n          bar.y = _this.yScale(value);\n        }\n      } else if (_this.type === 'stacked') {\n        var offset0 = d0[d0Type];\n        var offset1 = offset0 + value;\n        d0[d0Type] += value;\n        bar.height = _this.yScale(offset0) - _this.yScale(offset1);\n        bar.x = 0;\n        bar.y = _this.yScale(offset1);\n        bar.offset0 = offset0;\n        bar.offset1 = offset1;\n      } else if (_this.type === 'normalized') {\n        var offset0 = d0[d0Type];\n        var offset1 = offset0 + value;\n        d0[d0Type] += value;\n        if (total > 0) {\n          offset0 = offset0 * 100 / total;\n          offset1 = offset1 * 100 / total;\n        } else {\n          offset0 = 0;\n          offset1 = 0;\n        }\n        bar.height = _this.yScale(offset0) - _this.yScale(offset1);\n        bar.x = 0;\n        bar.y = _this.yScale(offset1);\n        bar.offset0 = offset0;\n        bar.offset1 = offset1;\n        value = (offset1 - offset0).toFixed(2) + '%';\n      }\n      if (_this.colors.scaleType === 'ordinal') {\n        bar.color = _this.colors.getColor(label);\n      } else {\n        if (_this.type === 'standard') {\n          bar.color = _this.colors.getColor(value);\n          bar.gradientStops = _this.colors.getLinearGradientStops(value);\n        } else {\n          bar.color = _this.colors.getColor(bar.offset1);\n          bar.gradientStops = _this.colors.getLinearGradientStops(bar.offset1, bar.offset0);\n        }\n      }\n      var tooltipLabel = formattedLabel;\n      bar.ariaLabel = formattedLabel + ' ' + value.toLocaleString();\n      if (_this.seriesName) {\n        tooltipLabel = _this.seriesName + \" \\u2022 \" + formattedLabel;\n        bar.data.series = _this.seriesName;\n        bar.ariaLabel = _this.seriesName + ' ' + bar.ariaLabel;\n      }\n      bar.tooltipText = _this.tooltipDisabled ? undefined : \"\\n        <span class=\\\"tooltip-label\\\">\" + escapeLabel(tooltipLabel) + \"</span>\\n        <span class=\\\"tooltip-val\\\">\" + value.toLocaleString() + \"</span>\\n      \";\n      return bar;\n    });\n    this.updateDataLabels();\n  };\n  SeriesVerticalComponent.prototype.updateDataLabels = function () {\n    var _this = this;\n    if (this.type === 'stacked') {\n      this.barsForDataLabels = [];\n      var section = {};\n      section.series = this.seriesName;\n      var totalPositive = this.series.map(function (d) {\n        return d.value;\n      }).reduce(function (sum, d) {\n        return d > 0 ? sum + d : sum;\n      }, 0);\n      var totalNegative = this.series.map(function (d) {\n        return d.value;\n      }).reduce(function (sum, d) {\n        return d < 0 ? sum + d : sum;\n      }, 0);\n      section.total = totalPositive + totalNegative;\n      section.x = 0;\n      section.y = 0;\n      if (section.total > 0) {\n        section.height = this.yScale(totalPositive);\n      } else {\n        section.height = this.yScale(totalNegative);\n      }\n      section.width = this.xScale.bandwidth();\n      this.barsForDataLabels.push(section);\n    } else {\n      this.barsForDataLabels = this.series.map(function (d) {\n        var section = {};\n        section.series = _this.seriesName ? _this.seriesName : d.label;\n        section.total = d.value;\n        section.x = _this.xScale(d.label);\n        section.y = _this.yScale(0);\n        section.height = _this.yScale(section.total) - _this.yScale(0);\n        section.width = _this.xScale.bandwidth();\n        return section;\n      });\n    }\n  };\n  SeriesVerticalComponent.prototype.updateTooltipSettings = function () {\n    this.tooltipPlacement = this.tooltipDisabled ? undefined : 'top';\n    this.tooltipType = this.tooltipDisabled ? undefined : 'tooltip';\n  };\n  SeriesVerticalComponent.prototype.isActive = function (entry) {\n    if (!this.activeEntries) return false;\n    var item = this.activeEntries.find(function (d) {\n      return entry.name === d.name && entry.series === d.series;\n    });\n    return item !== undefined;\n  };\n  SeriesVerticalComponent.prototype.onClick = function (data) {\n    this.select.emit(data);\n  };\n  SeriesVerticalComponent.prototype.getLabel = function (dataItem) {\n    if (dataItem.label) {\n      return dataItem.label;\n    }\n    return dataItem.name;\n  };\n  SeriesVerticalComponent.prototype.trackBy = function (index, bar) {\n    return bar.label;\n  };\n  SeriesVerticalComponent.prototype.trackDataLabelBy = function (index, barLabel) {\n    return index + '#' + barLabel.series + '#' + barLabel.total;\n  };\n  var _a;\n  __decorate([Input(), __metadata(\"design:type\", Object)], SeriesVerticalComponent.prototype, \"dims\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], SeriesVerticalComponent.prototype, \"type\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], SeriesVerticalComponent.prototype, \"series\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], SeriesVerticalComponent.prototype, \"xScale\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], SeriesVerticalComponent.prototype, \"yScale\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], SeriesVerticalComponent.prototype, \"colors\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], SeriesVerticalComponent.prototype, \"gradient\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Array)], SeriesVerticalComponent.prototype, \"activeEntries\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], SeriesVerticalComponent.prototype, \"seriesName\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], SeriesVerticalComponent.prototype, \"tooltipDisabled\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", typeof (_a = typeof TemplateRef !== \"undefined\" && TemplateRef) === \"function\" ? _a : Object)], SeriesVerticalComponent.prototype, \"tooltipTemplate\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], SeriesVerticalComponent.prototype, \"roundEdges\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], SeriesVerticalComponent.prototype, \"animations\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], SeriesVerticalComponent.prototype, \"showDataLabel\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], SeriesVerticalComponent.prototype, \"dataLabelFormatting\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], SeriesVerticalComponent.prototype, \"noBarWhenZero\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", Object)], SeriesVerticalComponent.prototype, \"select\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", Object)], SeriesVerticalComponent.prototype, \"activate\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", Object)], SeriesVerticalComponent.prototype, \"deactivate\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", Object)], SeriesVerticalComponent.prototype, \"dataLabelHeightChanged\", void 0);\n  SeriesVerticalComponent.ɵfac = function SeriesVerticalComponent_Factory(t) {\n    return new (t || SeriesVerticalComponent)();\n  };\n  SeriesVerticalComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: SeriesVerticalComponent,\n    selectors: [[\"g\", \"ngx-charts-series-vertical\", \"\"]],\n    inputs: {\n      type: \"type\",\n      tooltipDisabled: \"tooltipDisabled\",\n      animations: \"animations\",\n      showDataLabel: \"showDataLabel\",\n      noBarWhenZero: \"noBarWhenZero\",\n      dims: \"dims\",\n      series: \"series\",\n      xScale: \"xScale\",\n      yScale: \"yScale\",\n      colors: \"colors\",\n      gradient: \"gradient\",\n      activeEntries: \"activeEntries\",\n      seriesName: \"seriesName\",\n      tooltipTemplate: \"tooltipTemplate\",\n      roundEdges: \"roundEdges\",\n      dataLabelFormatting: \"dataLabelFormatting\"\n    },\n    outputs: {\n      select: \"select\",\n      activate: \"activate\",\n      deactivate: \"deactivate\",\n      dataLabelHeightChanged: \"dataLabelHeightChanged\"\n    },\n    features: [ɵngcc0.ɵɵNgOnChangesFeature],\n    attrs: _c27,\n    decls: 2,\n    vars: 3,\n    consts: [[\"ngx-charts-bar\", \"\", \"ngx-tooltip\", \"\", 3, \"width\", \"height\", \"x\", \"y\", \"fill\", \"stops\", \"data\", \"orientation\", \"roundEdges\", \"gradient\", \"ariaLabel\", \"isActive\", \"tooltipDisabled\", \"tooltipPlacement\", \"tooltipType\", \"tooltipTitle\", \"tooltipTemplate\", \"tooltipContext\", \"noBarWhenZero\", \"animations\", \"select\", \"activate\", \"deactivate\", 4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [4, \"ngIf\"], [\"ngx-charts-bar\", \"\", \"ngx-tooltip\", \"\", 3, \"width\", \"height\", \"x\", \"y\", \"fill\", \"stops\", \"data\", \"orientation\", \"roundEdges\", \"gradient\", \"ariaLabel\", \"isActive\", \"tooltipDisabled\", \"tooltipPlacement\", \"tooltipType\", \"tooltipTitle\", \"tooltipTemplate\", \"tooltipContext\", \"noBarWhenZero\", \"animations\", \"select\", \"activate\", \"deactivate\"], [\"ngx-charts-bar-label\", \"\", 3, \"barX\", \"barY\", \"barWidth\", \"barHeight\", \"value\", \"valueFormatting\", \"orientation\", \"dimensionsChanged\", 4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [\"ngx-charts-bar-label\", \"\", 3, \"barX\", \"barY\", \"barWidth\", \"barHeight\", \"value\", \"valueFormatting\", \"orientation\", \"dimensionsChanged\"]],\n    template: function SeriesVerticalComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵtemplate(0, SeriesVerticalComponent__svg_g_0_Template, 1, 22, \"g\", 0);\n        ɵngcc0.ɵɵtemplate(1, SeriesVerticalComponent__svg_g_1_Template, 2, 2, \"g\", 1);\n      }\n      if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"ngForOf\", ctx.bars)(\"ngForTrackBy\", ctx.trackBy);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.showDataLabel);\n      }\n    },\n    dependencies: function () {\n      return [ɵngcc1.NgForOf, ɵngcc1.NgIf, TooltipDirective, BarComponent, BarLabelComponent];\n    },\n    encapsulation: 2,\n    data: {\n      animation: [trigger('animationState', [transition(':leave', [style({\n        opacity: 1\n      }), animate(500, style({\n        opacity: 0\n      }))])])]\n    },\n    changeDetection: 0\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  return SeriesVerticalComponent;\n}();\nvar SeriesHorizontal = /** @class */function () {\n  function SeriesHorizontal() {\n    this.barsForDataLabels = [];\n    this.type = 'standard';\n    this.tooltipDisabled = false;\n    this.animations = true;\n    this.showDataLabel = false;\n    this.noBarWhenZero = true;\n    this.select = new EventEmitter();\n    this.activate = new EventEmitter();\n    this.deactivate = new EventEmitter();\n    this.dataLabelWidthChanged = new EventEmitter();\n  }\n  SeriesHorizontal.prototype.ngOnChanges = function (changes) {\n    this.update();\n  };\n  SeriesHorizontal.prototype.update = function () {\n    var _this = this;\n    var _a;\n    this.updateTooltipSettings();\n    var d0 = (_a = {}, _a[D0Types.positive] = 0, _a[D0Types.negative] = 0, _a);\n    var d0Type;\n    d0Type = D0Types.positive;\n    var total;\n    if (this.type === 'normalized') {\n      total = this.series.map(function (d) {\n        return d.value;\n      }).reduce(function (sum, d) {\n        return sum + d;\n      }, 0);\n    }\n    var xScaleMin = Math.max(this.xScale.domain()[0], 0);\n    this.bars = this.series.map(function (d, index) {\n      var value = d.value;\n      var label = _this.getLabel(d);\n      var formattedLabel = formatLabel(label);\n      var roundEdges = _this.roundEdges;\n      d0Type = value > 0 ? D0Types.positive : D0Types.negative;\n      var bar = {\n        value: value,\n        label: label,\n        roundEdges: roundEdges,\n        data: d,\n        formattedLabel: formattedLabel\n      };\n      bar.height = _this.yScale.bandwidth();\n      if (_this.type === 'standard') {\n        bar.width = Math.abs(_this.xScale(value) - _this.xScale(xScaleMin));\n        if (value < 0) {\n          bar.x = _this.xScale(value);\n        } else {\n          bar.x = _this.xScale(xScaleMin);\n        }\n        bar.y = _this.yScale(label);\n      } else if (_this.type === 'stacked') {\n        var offset0 = d0[d0Type];\n        var offset1 = offset0 + value;\n        d0[d0Type] += value;\n        bar.width = _this.xScale(offset1) - _this.xScale(offset0);\n        bar.x = _this.xScale(offset0);\n        bar.y = 0;\n        bar.offset0 = offset0;\n        bar.offset1 = offset1;\n      } else if (_this.type === 'normalized') {\n        var offset0 = d0[d0Type];\n        var offset1 = offset0 + value;\n        d0[d0Type] += value;\n        if (total > 0) {\n          offset0 = offset0 * 100 / total;\n          offset1 = offset1 * 100 / total;\n        } else {\n          offset0 = 0;\n          offset1 = 0;\n        }\n        bar.width = _this.xScale(offset1) - _this.xScale(offset0);\n        bar.x = _this.xScale(offset0);\n        bar.y = 0;\n        bar.offset0 = offset0;\n        bar.offset1 = offset1;\n        value = (offset1 - offset0).toFixed(2) + '%';\n      }\n      if (_this.colors.scaleType === 'ordinal') {\n        bar.color = _this.colors.getColor(label);\n      } else {\n        if (_this.type === 'standard') {\n          bar.color = _this.colors.getColor(value);\n          bar.gradientStops = _this.colors.getLinearGradientStops(value);\n        } else {\n          bar.color = _this.colors.getColor(bar.offset1);\n          bar.gradientStops = _this.colors.getLinearGradientStops(bar.offset1, bar.offset0);\n        }\n      }\n      var tooltipLabel = formattedLabel;\n      bar.ariaLabel = formattedLabel + ' ' + value.toLocaleString();\n      if (_this.seriesName) {\n        tooltipLabel = _this.seriesName + \" \\u2022 \" + formattedLabel;\n        bar.data.series = _this.seriesName;\n        bar.ariaLabel = _this.seriesName + ' ' + bar.ariaLabel;\n      }\n      bar.tooltipText = _this.tooltipDisabled ? undefined : \"\\n        <span class=\\\"tooltip-label\\\">\" + escapeLabel(tooltipLabel) + \"</span>\\n        <span class=\\\"tooltip-val\\\">\" + value.toLocaleString() + \"</span>\\n      \";\n      return bar;\n    });\n    this.updateDataLabels();\n  };\n  SeriesHorizontal.prototype.updateDataLabels = function () {\n    var _this = this;\n    if (this.type === 'stacked') {\n      this.barsForDataLabels = [];\n      var section = {};\n      section.series = this.seriesName;\n      var totalPositive = this.series.map(function (d) {\n        return d.value;\n      }).reduce(function (sum, d) {\n        return d > 0 ? sum + d : sum;\n      }, 0);\n      var totalNegative = this.series.map(function (d) {\n        return d.value;\n      }).reduce(function (sum, d) {\n        return d < 0 ? sum + d : sum;\n      }, 0);\n      section.total = totalPositive + totalNegative;\n      section.x = 0;\n      section.y = 0;\n      // if total is positive then we show it on the right, otherwise on the left\n      if (section.total > 0) {\n        section.width = this.xScale(totalPositive);\n      } else {\n        section.width = this.xScale(totalNegative);\n      }\n      section.height = this.yScale.bandwidth();\n      this.barsForDataLabels.push(section);\n    } else {\n      this.barsForDataLabels = this.series.map(function (d) {\n        var section = {};\n        section.series = _this.seriesName ? _this.seriesName : d.label;\n        section.total = d.value;\n        section.x = _this.xScale(0);\n        section.y = _this.yScale(d.label);\n        section.width = _this.xScale(section.total) - _this.xScale(0);\n        section.height = _this.yScale.bandwidth();\n        return section;\n      });\n    }\n  };\n  SeriesHorizontal.prototype.updateTooltipSettings = function () {\n    this.tooltipPlacement = this.tooltipDisabled ? undefined : 'top';\n    this.tooltipType = this.tooltipDisabled ? undefined : 'tooltip';\n  };\n  SeriesHorizontal.prototype.isActive = function (entry) {\n    if (!this.activeEntries) return false;\n    var item = this.activeEntries.find(function (d) {\n      return entry.name === d.name && entry.series === d.series;\n    });\n    return item !== undefined;\n  };\n  SeriesHorizontal.prototype.getLabel = function (dataItem) {\n    if (dataItem.label) {\n      return dataItem.label;\n    }\n    return dataItem.name;\n  };\n  SeriesHorizontal.prototype.trackBy = function (index, bar) {\n    return bar.label;\n  };\n  SeriesHorizontal.prototype.trackDataLabelBy = function (index, barLabel) {\n    return index + '#' + barLabel.series + '#' + barLabel.total;\n  };\n  SeriesHorizontal.prototype.click = function (data) {\n    this.select.emit(data);\n  };\n  var _a;\n  __decorate([Input(), __metadata(\"design:type\", Object)], SeriesHorizontal.prototype, \"dims\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], SeriesHorizontal.prototype, \"type\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], SeriesHorizontal.prototype, \"series\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], SeriesHorizontal.prototype, \"xScale\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], SeriesHorizontal.prototype, \"yScale\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], SeriesHorizontal.prototype, \"colors\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], SeriesHorizontal.prototype, \"tooltipDisabled\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], SeriesHorizontal.prototype, \"gradient\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Array)], SeriesHorizontal.prototype, \"activeEntries\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], SeriesHorizontal.prototype, \"seriesName\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", typeof (_a = typeof TemplateRef !== \"undefined\" && TemplateRef) === \"function\" ? _a : Object)], SeriesHorizontal.prototype, \"tooltipTemplate\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], SeriesHorizontal.prototype, \"roundEdges\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], SeriesHorizontal.prototype, \"animations\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], SeriesHorizontal.prototype, \"showDataLabel\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], SeriesHorizontal.prototype, \"dataLabelFormatting\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], SeriesHorizontal.prototype, \"noBarWhenZero\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", Object)], SeriesHorizontal.prototype, \"select\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", Object)], SeriesHorizontal.prototype, \"activate\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", Object)], SeriesHorizontal.prototype, \"deactivate\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", Object)], SeriesHorizontal.prototype, \"dataLabelWidthChanged\", void 0);\n  SeriesHorizontal.ɵfac = function SeriesHorizontal_Factory(t) {\n    return new (t || SeriesHorizontal)();\n  };\n  SeriesHorizontal.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: SeriesHorizontal,\n    selectors: [[\"g\", \"ngx-charts-series-horizontal\", \"\"]],\n    inputs: {\n      type: \"type\",\n      tooltipDisabled: \"tooltipDisabled\",\n      animations: \"animations\",\n      showDataLabel: \"showDataLabel\",\n      noBarWhenZero: \"noBarWhenZero\",\n      dims: \"dims\",\n      series: \"series\",\n      xScale: \"xScale\",\n      yScale: \"yScale\",\n      colors: \"colors\",\n      gradient: \"gradient\",\n      activeEntries: \"activeEntries\",\n      seriesName: \"seriesName\",\n      tooltipTemplate: \"tooltipTemplate\",\n      roundEdges: \"roundEdges\",\n      dataLabelFormatting: \"dataLabelFormatting\"\n    },\n    outputs: {\n      select: \"select\",\n      activate: \"activate\",\n      deactivate: \"deactivate\",\n      dataLabelWidthChanged: \"dataLabelWidthChanged\"\n    },\n    features: [ɵngcc0.ɵɵNgOnChangesFeature],\n    attrs: _c28,\n    decls: 2,\n    vars: 3,\n    consts: [[\"ngx-charts-bar\", \"\", \"ngx-tooltip\", \"\", 3, \"width\", \"height\", \"x\", \"y\", \"fill\", \"stops\", \"data\", \"orientation\", \"roundEdges\", \"gradient\", \"isActive\", \"ariaLabel\", \"animations\", \"tooltipDisabled\", \"tooltipPlacement\", \"tooltipType\", \"tooltipTitle\", \"tooltipTemplate\", \"tooltipContext\", \"noBarWhenZero\", \"select\", \"activate\", \"deactivate\", 4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [4, \"ngIf\"], [\"ngx-charts-bar\", \"\", \"ngx-tooltip\", \"\", 3, \"width\", \"height\", \"x\", \"y\", \"fill\", \"stops\", \"data\", \"orientation\", \"roundEdges\", \"gradient\", \"isActive\", \"ariaLabel\", \"animations\", \"tooltipDisabled\", \"tooltipPlacement\", \"tooltipType\", \"tooltipTitle\", \"tooltipTemplate\", \"tooltipContext\", \"noBarWhenZero\", \"select\", \"activate\", \"deactivate\"], [\"ngx-charts-bar-label\", \"\", 3, \"barX\", \"barY\", \"barWidth\", \"barHeight\", \"value\", \"valueFormatting\", \"orientation\", \"dimensionsChanged\", 4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [\"ngx-charts-bar-label\", \"\", 3, \"barX\", \"barY\", \"barWidth\", \"barHeight\", \"value\", \"valueFormatting\", \"orientation\", \"dimensionsChanged\"]],\n    template: function SeriesHorizontal_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵtemplate(0, SeriesHorizontal__svg_g_0_Template, 1, 21, \"g\", 0);\n        ɵngcc0.ɵɵtemplate(1, SeriesHorizontal__svg_g_1_Template, 2, 2, \"g\", 1);\n      }\n      if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"ngForOf\", ctx.bars)(\"ngForTrackBy\", ctx.trackBy);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.showDataLabel);\n      }\n    },\n    dependencies: function () {\n      return [ɵngcc1.NgForOf, ɵngcc1.NgIf, TooltipDirective, BarComponent, BarLabelComponent];\n    },\n    encapsulation: 2,\n    data: {\n      animation: [trigger('animationState', [transition(':leave', [style({\n        opacity: 1\n      }), animate(500, style({\n        opacity: 0\n      }))])])]\n    },\n    changeDetection: 0\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  return SeriesHorizontal;\n}();\nvar BarLabelComponent = /** @class */function () {\n  function BarLabelComponent(element) {\n    this.dimensionsChanged = new EventEmitter();\n    this.horizontalPadding = 2;\n    this.verticalPadding = 5;\n    this.element = element.nativeElement;\n  }\n  BarLabelComponent.prototype.ngOnChanges = function (changes) {\n    this.update();\n  };\n  BarLabelComponent.prototype.getSize = function () {\n    var h = this.element.getBoundingClientRect().height;\n    var w = this.element.getBoundingClientRect().width;\n    return {\n      height: h,\n      width: w,\n      negative: this.value < 0\n    };\n  };\n  BarLabelComponent.prototype.ngAfterViewInit = function () {\n    this.dimensionsChanged.emit(this.getSize());\n  };\n  BarLabelComponent.prototype.update = function () {\n    if (this.valueFormatting) {\n      this.formatedValue = this.valueFormatting(this.value);\n    } else {\n      this.formatedValue = formatLabel(this.value);\n    }\n    if (this.orientation === 'horizontal') {\n      this.x = this.barX + this.barWidth;\n      if (this.value < 0) {\n        this.x = this.x - this.horizontalPadding;\n        this.textAnchor = 'end';\n      } else {\n        this.x = this.x + this.horizontalPadding;\n        this.textAnchor = 'start';\n      }\n      this.y = this.barY + this.barHeight / 2;\n    } else {\n      this.x = this.barX + this.barWidth / 2;\n      this.y = this.barY + this.barHeight;\n      if (this.value < 0) {\n        this.y = this.y + this.verticalPadding;\n        this.textAnchor = 'end';\n      } else {\n        this.y = this.y - this.verticalPadding;\n        this.textAnchor = 'start';\n      }\n      this.transform = \"rotate(-45, \" + this.x + \" , \" + this.y + \")\";\n    }\n  };\n  var _a, _b;\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarLabelComponent.prototype, \"value\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarLabelComponent.prototype, \"valueFormatting\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarLabelComponent.prototype, \"barX\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarLabelComponent.prototype, \"barY\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarLabelComponent.prototype, \"barWidth\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarLabelComponent.prototype, \"barHeight\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BarLabelComponent.prototype, \"orientation\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", typeof (_a = typeof EventEmitter !== \"undefined\" && EventEmitter) === \"function\" ? _a : Object)], BarLabelComponent.prototype, \"dimensionsChanged\", void 0);\n  BarLabelComponent = __decorate([__metadata(\"design:paramtypes\", [typeof (_b = typeof ElementRef !== \"undefined\" && ElementRef) === \"function\" ? _b : Object])], BarLabelComponent);\n  BarLabelComponent.ɵfac = function BarLabelComponent_Factory(t) {\n    return new (t || BarLabelComponent)(ɵngcc0.ɵɵdirectiveInject(typeof (_b = typeof ElementRef !== \"undefined\" && ElementRef) === \"function\" ? _b : Object));\n  };\n  BarLabelComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: BarLabelComponent,\n    selectors: [[\"g\", \"ngx-charts-bar-label\", \"\"]],\n    inputs: {\n      value: \"value\",\n      valueFormatting: \"valueFormatting\",\n      barX: \"barX\",\n      barY: \"barY\",\n      barWidth: \"barWidth\",\n      barHeight: \"barHeight\",\n      orientation: \"orientation\"\n    },\n    outputs: {\n      dimensionsChanged: \"dimensionsChanged\"\n    },\n    features: [ɵngcc0.ɵɵNgOnChangesFeature],\n    attrs: _c29,\n    decls: 2,\n    vars: 5,\n    consts: [[\"alignment-baseline\", \"middle\", 1, \"textDataLabel\"]],\n    template: function BarLabelComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵnamespaceSVG();\n        ɵngcc0.ɵɵelementStart(0, \"text\", 0);\n        ɵngcc0.ɵɵtext(1);\n        ɵngcc0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        ɵngcc0.ɵɵattribute(\"text-anchor\", ctx.textAnchor)(\"transform\", ctx.transform)(\"x\", ctx.x)(\"y\", ctx.y);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵtextInterpolate1(\" \", ctx.formatedValue, \" \");\n      }\n    },\n    styles: [\".textDataLabel[_ngcontent-%COMP%]{font-size:11px}\"],\n    changeDetection: 0\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  return BarLabelComponent;\n}();\nvar BarChartModule = /** @class */function () {\n  function BarChartModule() {}\n  BarChartModule.ɵfac = function BarChartModule_Factory(t) {\n    return new (t || BarChartModule)();\n  };\n  BarChartModule.ɵmod = /*@__PURE__*/ɵngcc0.ɵɵdefineNgModule({\n    type: BarChartModule\n  });\n  BarChartModule.ɵinj = /*@__PURE__*/ɵngcc0.ɵɵdefineInjector({\n    imports: [ChartCommonModule]\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  (function () {\n    (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(BarChartModule, {\n      declarations: [BarComponent, BarHorizontalComponent, BarHorizontal2DComponent, BarHorizontalNormalizedComponent, BarHorizontalStackedComponent, BarVerticalComponent, BarVertical2DComponent, BarVerticalNormalizedComponent, BarVerticalStackedComponent, BarLabelComponent, SeriesHorizontal, SeriesVerticalComponent],\n      imports: [ChartCommonModule],\n      exports: [BarComponent, BarHorizontalComponent, BarHorizontal2DComponent, BarHorizontalNormalizedComponent, BarHorizontalStackedComponent, BarVerticalComponent, BarVertical2DComponent, BarVerticalNormalizedComponent, BarVerticalStackedComponent, BarLabelComponent, SeriesHorizontal, SeriesVerticalComponent]\n    });\n  })();\n  return BarChartModule;\n}();\nfunction getDomain(values, scaleType, autoScale, minVal, maxVal) {\n  var domain = [];\n  if (scaleType === 'linear') {\n    values = values.map(function (v) {\n      return Number(v);\n    });\n    if (!autoScale) {\n      values.push(0);\n    }\n  }\n  if (scaleType === 'time' || scaleType === 'linear') {\n    var min$$1 = minVal ? minVal : Math.min.apply(Math, values);\n    var max$$1 = maxVal ? maxVal : Math.max.apply(Math, values);\n    domain = [min$$1, max$$1];\n  } else {\n    domain = values;\n  }\n  return domain;\n}\nfunction getScale(domain, range$$1, scaleType, roundDomains) {\n  var scale;\n  if (scaleType === 'time') {\n    scale = scaleTime().range(range$$1).domain(domain);\n  } else if (scaleType === 'linear') {\n    scale = scaleLinear().range(range$$1).domain(domain);\n    if (roundDomains) {\n      scale = scale.nice();\n    }\n  } else if (scaleType === 'ordinal') {\n    scale = scalePoint().range([range$$1[0], range$$1[1]]).domain(domain);\n  }\n  return scale;\n}\nvar BubbleChartComponent = /** @class */function (_super) {\n  __extends(BubbleChartComponent, _super);\n  function BubbleChartComponent() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.showGridLines = true;\n    _this.legend = false;\n    _this.legendTitle = 'Legend';\n    _this.legendPosition = 'right';\n    _this.xAxis = true;\n    _this.yAxis = true;\n    _this.trimXAxisTicks = true;\n    _this.trimYAxisTicks = true;\n    _this.rotateXAxisTicks = true;\n    _this.maxXAxisTickLength = 16;\n    _this.maxYAxisTickLength = 16;\n    _this.roundDomains = false;\n    _this.maxRadius = 10;\n    _this.minRadius = 3;\n    _this.schemeType = 'ordinal';\n    _this.tooltipDisabled = false;\n    _this.activate = new EventEmitter();\n    _this.deactivate = new EventEmitter();\n    _this.scaleType = 'linear';\n    _this.margin = [10, 20, 10, 20];\n    _this.bubblePadding = [0, 0, 0, 0];\n    _this.xAxisHeight = 0;\n    _this.yAxisWidth = 0;\n    _this.activeEntries = [];\n    return _this;\n  }\n  BubbleChartComponent.prototype.update = function () {\n    _super.prototype.update.call(this);\n    this.dims = calculateViewDimensions({\n      width: this.width,\n      height: this.height,\n      margins: this.margin,\n      showXAxis: this.xAxis,\n      showYAxis: this.yAxis,\n      xAxisHeight: this.xAxisHeight,\n      yAxisWidth: this.yAxisWidth,\n      showXLabel: this.showXAxisLabel,\n      showYLabel: this.showYAxisLabel,\n      showLegend: this.legend,\n      legendType: this.schemeType,\n      legendPosition: this.legendPosition\n    });\n    this.seriesDomain = this.results.map(function (d) {\n      return d.name;\n    });\n    this.rDomain = this.getRDomain();\n    this.xDomain = this.getXDomain();\n    this.yDomain = this.getYDomain();\n    this.transform = \"translate(\" + this.dims.xOffset + \",\" + this.margin[0] + \")\";\n    var colorDomain = this.schemeType === 'ordinal' ? this.seriesDomain : this.rDomain;\n    this.colors = new ColorHelper(this.scheme, this.schemeType, colorDomain, this.customColors);\n    this.data = this.results;\n    this.minRadius = Math.max(this.minRadius, 1);\n    this.maxRadius = Math.max(this.maxRadius, 1);\n    this.rScale = this.getRScale(this.rDomain, [this.minRadius, this.maxRadius]);\n    this.bubblePadding = [0, 0, 0, 0];\n    this.setScales();\n    this.bubblePadding = this.getBubblePadding();\n    this.setScales();\n    this.legendOptions = this.getLegendOptions();\n    this.clipPathId = 'clip' + id().toString();\n    this.clipPath = \"url(#\" + this.clipPathId + \")\";\n  };\n  BubbleChartComponent.prototype.hideCircles = function () {\n    this.deactivateAll();\n  };\n  BubbleChartComponent.prototype.onClick = function (data, series) {\n    if (series) {\n      data.series = series.name;\n    }\n    this.select.emit(data);\n  };\n  BubbleChartComponent.prototype.getBubblePadding = function () {\n    var yMin = 0;\n    var xMin = 0;\n    var yMax = this.dims.height;\n    var xMax = this.dims.width;\n    for (var _i = 0, _a = this.data; _i < _a.length; _i++) {\n      var s = _a[_i];\n      for (var _b = 0, _c = s.series; _b < _c.length; _b++) {\n        var d = _c[_b];\n        var r = this.rScale(d.r);\n        var cx = this.xScaleType === 'linear' ? this.xScale(Number(d.x)) : this.xScale(d.x);\n        var cy = this.yScaleType === 'linear' ? this.yScale(Number(d.y)) : this.yScale(d.y);\n        xMin = Math.max(r - cx, xMin);\n        yMin = Math.max(r - cy, yMin);\n        yMax = Math.max(cy + r, yMax);\n        xMax = Math.max(cx + r, xMax);\n      }\n    }\n    xMax = Math.max(xMax - this.dims.width, 0);\n    yMax = Math.max(yMax - this.dims.height, 0);\n    return [yMin, xMax, yMax, xMin];\n  };\n  BubbleChartComponent.prototype.setScales = function () {\n    var width = this.dims.width;\n    if (this.xScaleMin === undefined && this.xScaleMax === undefined) {\n      width = width - this.bubblePadding[1];\n    }\n    var height = this.dims.height;\n    if (this.yScaleMin === undefined && this.yScaleMax === undefined) {\n      height = height - this.bubblePadding[2];\n    }\n    this.xScale = this.getXScale(this.xDomain, width);\n    this.yScale = this.getYScale(this.yDomain, height);\n  };\n  BubbleChartComponent.prototype.getYScale = function (domain, height) {\n    return getScale(domain, [height, this.bubblePadding[0]], this.yScaleType, this.roundDomains);\n  };\n  BubbleChartComponent.prototype.getXScale = function (domain, width) {\n    return getScale(domain, [this.bubblePadding[3], width], this.xScaleType, this.roundDomains);\n  };\n  BubbleChartComponent.prototype.getRScale = function (domain, range$$1) {\n    var scale = scaleLinear().range(range$$1).domain(domain);\n    return this.roundDomains ? scale.nice() : scale;\n  };\n  BubbleChartComponent.prototype.getLegendOptions = function () {\n    var opts = {\n      scaleType: this.schemeType,\n      colors: undefined,\n      domain: [],\n      position: this.legendPosition,\n      title: undefined\n    };\n    if (opts.scaleType === 'ordinal') {\n      opts.domain = this.seriesDomain;\n      opts.colors = this.colors;\n      opts.title = this.legendTitle;\n    } else {\n      opts.domain = this.rDomain;\n      opts.colors = this.colors.scale;\n    }\n    return opts;\n  };\n  BubbleChartComponent.prototype.getXDomain = function () {\n    var values = [];\n    for (var _i = 0, _a = this.results; _i < _a.length; _i++) {\n      var results = _a[_i];\n      for (var _b = 0, _c = results.series; _b < _c.length; _b++) {\n        var d = _c[_b];\n        if (!values.includes(d.x)) {\n          values.push(d.x);\n        }\n      }\n    }\n    this.xScaleType = getScaleType(values);\n    return getDomain(values, this.xScaleType, this.autoScale, this.xScaleMin, this.xScaleMax);\n  };\n  BubbleChartComponent.prototype.getYDomain = function () {\n    var values = [];\n    for (var _i = 0, _a = this.results; _i < _a.length; _i++) {\n      var results = _a[_i];\n      for (var _b = 0, _c = results.series; _b < _c.length; _b++) {\n        var d = _c[_b];\n        if (!values.includes(d.y)) {\n          values.push(d.y);\n        }\n      }\n    }\n    this.yScaleType = getScaleType(values);\n    return getDomain(values, this.yScaleType, this.autoScale, this.yScaleMin, this.yScaleMax);\n  };\n  BubbleChartComponent.prototype.getRDomain = function () {\n    var min$$1 = Infinity;\n    var max$$1 = -Infinity;\n    for (var _i = 0, _a = this.results; _i < _a.length; _i++) {\n      var results = _a[_i];\n      for (var _b = 0, _c = results.series; _b < _c.length; _b++) {\n        var d = _c[_b];\n        var value = Number(d.r) || 1;\n        min$$1 = Math.min(min$$1, value);\n        max$$1 = Math.max(max$$1, value);\n      }\n    }\n    return [min$$1, max$$1];\n  };\n  BubbleChartComponent.prototype.updateYAxisWidth = function (_a) {\n    var width = _a.width;\n    this.yAxisWidth = width;\n    this.update();\n  };\n  BubbleChartComponent.prototype.updateXAxisHeight = function (_a) {\n    var height = _a.height;\n    this.xAxisHeight = height;\n    this.update();\n  };\n  BubbleChartComponent.prototype.onActivate = function (item) {\n    var idx = this.activeEntries.findIndex(function (d) {\n      return d.name === item.name;\n    });\n    if (idx > -1) {\n      return;\n    }\n    this.activeEntries = [item].concat(this.activeEntries);\n    this.activate.emit({\n      value: item,\n      entries: this.activeEntries\n    });\n  };\n  BubbleChartComponent.prototype.onDeactivate = function (item) {\n    var idx = this.activeEntries.findIndex(function (d) {\n      return d.name === item.name;\n    });\n    this.activeEntries.splice(idx, 1);\n    this.activeEntries = this.activeEntries.slice();\n    this.deactivate.emit({\n      value: item,\n      entries: this.activeEntries\n    });\n  };\n  BubbleChartComponent.prototype.deactivateAll = function () {\n    this.activeEntries = this.activeEntries.slice();\n    for (var _i = 0, _a = this.activeEntries; _i < _a.length; _i++) {\n      var entry = _a[_i];\n      this.deactivate.emit({\n        value: entry,\n        entries: []\n      });\n    }\n    this.activeEntries = [];\n  };\n  BubbleChartComponent.prototype.trackBy = function (index, item) {\n    return item.name;\n  };\n  var _a, _b, _c;\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BubbleChartComponent.prototype, \"showGridLines\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BubbleChartComponent.prototype, \"legend\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], BubbleChartComponent.prototype, \"legendTitle\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], BubbleChartComponent.prototype, \"legendPosition\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BubbleChartComponent.prototype, \"xAxis\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BubbleChartComponent.prototype, \"yAxis\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BubbleChartComponent.prototype, \"showXAxisLabel\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BubbleChartComponent.prototype, \"showYAxisLabel\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], BubbleChartComponent.prototype, \"xAxisLabel\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], BubbleChartComponent.prototype, \"yAxisLabel\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BubbleChartComponent.prototype, \"trimXAxisTicks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BubbleChartComponent.prototype, \"trimYAxisTicks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BubbleChartComponent.prototype, \"rotateXAxisTicks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], BubbleChartComponent.prototype, \"maxXAxisTickLength\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], BubbleChartComponent.prototype, \"maxYAxisTickLength\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BubbleChartComponent.prototype, \"xAxisTickFormatting\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BubbleChartComponent.prototype, \"yAxisTickFormatting\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Array)], BubbleChartComponent.prototype, \"xAxisTicks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Array)], BubbleChartComponent.prototype, \"yAxisTicks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BubbleChartComponent.prototype, \"roundDomains\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BubbleChartComponent.prototype, \"maxRadius\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BubbleChartComponent.prototype, \"minRadius\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BubbleChartComponent.prototype, \"autoScale\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BubbleChartComponent.prototype, \"schemeType\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BubbleChartComponent.prototype, \"tooltipDisabled\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BubbleChartComponent.prototype, \"xScaleMin\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BubbleChartComponent.prototype, \"xScaleMax\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BubbleChartComponent.prototype, \"yScaleMin\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BubbleChartComponent.prototype, \"yScaleMax\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", typeof (_a = typeof EventEmitter !== \"undefined\" && EventEmitter) === \"function\" ? _a : Object)], BubbleChartComponent.prototype, \"activate\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", typeof (_b = typeof EventEmitter !== \"undefined\" && EventEmitter) === \"function\" ? _b : Object)], BubbleChartComponent.prototype, \"deactivate\", void 0);\n  __decorate([ContentChild('tooltipTemplate', {\n    static: false\n  }), __metadata(\"design:type\", typeof (_c = typeof TemplateRef !== \"undefined\" && TemplateRef) === \"function\" ? _c : Object)], BubbleChartComponent.prototype, \"tooltipTemplate\", void 0);\n  __decorate([HostListener('mouseleave'), __metadata(\"design:type\", Function), __metadata(\"design:paramtypes\", []), __metadata(\"design:returntype\", void 0)], BubbleChartComponent.prototype, \"hideCircles\", null);\n  BubbleChartComponent.ɵfac = /*@__PURE__*/function () {\n    var ɵBubbleChartComponent_BaseFactory;\n    return function BubbleChartComponent_Factory(t) {\n      return (ɵBubbleChartComponent_BaseFactory || (ɵBubbleChartComponent_BaseFactory = ɵngcc0.ɵɵgetInheritedFactory(BubbleChartComponent)))(t || BubbleChartComponent);\n    };\n  }();\n  BubbleChartComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: BubbleChartComponent,\n    selectors: [[\"ngx-charts-bubble-chart\"]],\n    contentQueries: function BubbleChartComponent_ContentQueries(rf, ctx, dirIndex) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵcontentQuery(dirIndex, _c21, 5);\n      }\n      if (rf & 2) {\n        var _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.tooltipTemplate = _t.first);\n      }\n    },\n    hostBindings: function BubbleChartComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵlistener(\"mouseleave\", function BubbleChartComponent_mouseleave_HostBindingHandler() {\n          return ctx.hideCircles();\n        });\n      }\n    },\n    inputs: {\n      minRadius: \"minRadius\",\n      maxRadius: \"maxRadius\",\n      showGridLines: \"showGridLines\",\n      legend: \"legend\",\n      legendTitle: \"legendTitle\",\n      legendPosition: \"legendPosition\",\n      xAxis: \"xAxis\",\n      yAxis: \"yAxis\",\n      showXAxisLabel: \"showXAxisLabel\",\n      showYAxisLabel: \"showYAxisLabel\",\n      xAxisLabel: \"xAxisLabel\",\n      yAxisLabel: \"yAxisLabel\",\n      trimXAxisTicks: \"trimXAxisTicks\",\n      trimYAxisTicks: \"trimYAxisTicks\",\n      rotateXAxisTicks: \"rotateXAxisTicks\",\n      maxXAxisTickLength: \"maxXAxisTickLength\",\n      maxYAxisTickLength: \"maxYAxisTickLength\",\n      xAxisTickFormatting: \"xAxisTickFormatting\",\n      yAxisTickFormatting: \"yAxisTickFormatting\",\n      xAxisTicks: \"xAxisTicks\",\n      yAxisTicks: \"yAxisTicks\",\n      roundDomains: \"roundDomains\",\n      autoScale: \"autoScale\",\n      schemeType: \"schemeType\",\n      tooltipDisabled: \"tooltipDisabled\",\n      xScaleMin: \"xScaleMin\",\n      xScaleMax: \"xScaleMax\",\n      yScaleMin: \"yScaleMin\",\n      yScaleMax: \"yScaleMax\"\n    },\n    outputs: {\n      activate: \"activate\",\n      deactivate: \"deactivate\"\n    },\n    features: [ɵngcc0.ɵɵInheritDefinitionFeature],\n    decls: 10,\n    vars: 20,\n    consts: [[3, \"view\", \"showLegend\", \"activeEntries\", \"legendOptions\", \"animations\", \"legendLabelClick\", \"legendLabelActivate\", \"legendLabelDeactivate\"], [1, \"bubble-chart\", \"chart\"], [\"ngx-charts-x-axis\", \"\", 3, \"showGridLines\", \"dims\", \"xScale\", \"showLabel\", \"labelText\", \"trimTicks\", \"rotateTicks\", \"maxTickLength\", \"tickFormatting\", \"ticks\", \"dimensionsChanged\", 4, \"ngIf\"], [\"ngx-charts-y-axis\", \"\", 3, \"showGridLines\", \"yScale\", \"dims\", \"showLabel\", \"labelText\", \"trimTicks\", \"maxTickLength\", \"tickFormatting\", \"ticks\", \"dimensionsChanged\", 4, \"ngIf\"], [\"x\", \"0\", \"y\", \"0\", 1, \"bubble-chart-area\", 2, \"fill\", \"rgb(255, 0, 0)\", \"opacity\", \"0\", \"cursor\", \"'auto'\", 3, \"mouseenter\"], [4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [\"ngx-charts-x-axis\", \"\", 3, \"showGridLines\", \"dims\", \"xScale\", \"showLabel\", \"labelText\", \"trimTicks\", \"rotateTicks\", \"maxTickLength\", \"tickFormatting\", \"ticks\", \"dimensionsChanged\"], [\"ngx-charts-y-axis\", \"\", 3, \"showGridLines\", \"yScale\", \"dims\", \"showLabel\", \"labelText\", \"trimTicks\", \"maxTickLength\", \"tickFormatting\", \"ticks\", \"dimensionsChanged\"], [\"ngx-charts-bubble-series\", \"\", 3, \"xScale\", \"yScale\", \"rScale\", \"xScaleType\", \"yScaleType\", \"xAxisLabel\", \"yAxisLabel\", \"colors\", \"data\", \"activeEntries\", \"tooltipDisabled\", \"tooltipTemplate\", \"select\", \"activate\", \"deactivate\"]],\n    template: function BubbleChartComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"ngx-charts-chart\", 0);\n        ɵngcc0.ɵɵlistener(\"legendLabelClick\", function BubbleChartComponent_Template_ngx_charts_chart_legendLabelClick_0_listener($event) {\n          return ctx.onClick($event);\n        })(\"legendLabelActivate\", function BubbleChartComponent_Template_ngx_charts_chart_legendLabelActivate_0_listener($event) {\n          return ctx.onActivate($event);\n        })(\"legendLabelDeactivate\", function BubbleChartComponent_Template_ngx_charts_chart_legendLabelDeactivate_0_listener($event) {\n          return ctx.onDeactivate($event);\n        });\n        ɵngcc0.ɵɵnamespaceSVG();\n        ɵngcc0.ɵɵelementStart(1, \"defs\")(2, \"clipPath\");\n        ɵngcc0.ɵɵelement(3, \"rect\");\n        ɵngcc0.ɵɵelementEnd()();\n        ɵngcc0.ɵɵelementStart(4, \"g\", 1);\n        ɵngcc0.ɵɵtemplate(5, BubbleChartComponent__svg_g_5_Template, 1, 10, \"g\", 2);\n        ɵngcc0.ɵɵtemplate(6, BubbleChartComponent__svg_g_6_Template, 1, 9, \"g\", 3);\n        ɵngcc0.ɵɵelementStart(7, \"rect\", 4);\n        ɵngcc0.ɵɵlistener(\"mouseenter\", function BubbleChartComponent_Template__svg_rect_mouseenter_7_listener() {\n          return ctx.deactivateAll();\n        });\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(8, \"g\");\n        ɵngcc0.ɵɵtemplate(9, BubbleChartComponent__svg_g_9_Template, 2, 13, \"g\", 5);\n        ɵngcc0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"view\", ɵngcc0.ɵɵpureFunction2(17, _c23, ctx.width, ctx.height))(\"showLegend\", ctx.legend)(\"activeEntries\", ctx.activeEntries)(\"legendOptions\", ctx.legendOptions)(\"animations\", ctx.animations);\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵattribute(\"id\", ctx.clipPathId);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵattribute(\"width\", ctx.dims.width + 10)(\"height\", ctx.dims.height + 10)(\"transform\", \"translate(-5, -5)\");\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵattribute(\"transform\", ctx.transform);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.xAxis);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.yAxis);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵattribute(\"width\", ctx.dims.width)(\"height\", ctx.dims.height);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵattribute(\"clip-path\", ctx.clipPath);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngForOf\", ctx.data)(\"ngForTrackBy\", ctx.trackBy);\n      }\n    },\n    dependencies: function () {\n      return [ɵngcc1.NgForOf, ɵngcc1.NgIf, XAxisComponent, YAxisComponent, ChartComponent, BubbleSeriesComponent];\n    },\n    styles: [_c24],\n    encapsulation: 2,\n    data: {\n      animation: [trigger('animationState', [transition(':leave', [style({\n        opacity: 1\n      }), animate(500, style({\n        opacity: 0\n      }))])])]\n    },\n    changeDetection: 0\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  return BubbleChartComponent;\n}(BaseChartComponent);\nvar BubbleSeriesComponent = /** @class */function () {\n  function BubbleSeriesComponent() {\n    this.tooltipDisabled = false;\n    this.select = new EventEmitter();\n    this.activate = new EventEmitter();\n    this.deactivate = new EventEmitter();\n  }\n  BubbleSeriesComponent.prototype.ngOnChanges = function (changes) {\n    this.update();\n  };\n  BubbleSeriesComponent.prototype.update = function () {\n    this.circles = this.getCircles();\n  };\n  BubbleSeriesComponent.prototype.getCircles = function () {\n    var _this = this;\n    var seriesName = this.data.name;\n    return this.data.series.map(function (d, i) {\n      if (typeof d.y !== 'undefined' && typeof d.x !== 'undefined') {\n        var y = d.y;\n        var x = d.x;\n        var r = d.r;\n        var radius = _this.rScale(r || 1);\n        var tooltipLabel = formatLabel(d.name);\n        var cx = _this.xScaleType === 'linear' ? _this.xScale(Number(x)) : _this.xScale(x);\n        var cy = _this.yScaleType === 'linear' ? _this.yScale(Number(y)) : _this.yScale(y);\n        var color = _this.colors.scaleType === 'linear' ? _this.colors.getColor(r) : _this.colors.getColor(seriesName);\n        var isActive = !_this.activeEntries.length ? true : _this.isActive({\n          name: seriesName\n        });\n        var opacity = isActive ? 1 : 0.3;\n        var data = Object.assign({}, d, {\n          series: seriesName,\n          name: d.name,\n          value: d.y,\n          x: d.x,\n          radius: d.r\n        });\n        return {\n          data: data,\n          x: x,\n          y: y,\n          r: r,\n          classNames: [\"circle-data-\" + i],\n          value: y,\n          label: x,\n          cx: cx,\n          cy: cy,\n          radius: radius,\n          tooltipLabel: tooltipLabel,\n          color: color,\n          opacity: opacity,\n          seriesName: seriesName,\n          isActive: isActive,\n          transform: \"translate(\" + cx + \",\" + cy + \")\"\n        };\n      }\n    }).filter(function (circle) {\n      return circle !== undefined;\n    });\n  };\n  BubbleSeriesComponent.prototype.getTooltipText = function (circle) {\n    var hasRadius = typeof circle.r !== 'undefined';\n    var hasTooltipLabel = circle.tooltipLabel && circle.tooltipLabel.length;\n    var hasSeriesName = circle.seriesName && circle.seriesName.length;\n    var radiusValue = hasRadius ? formatLabel(circle.r) : '';\n    var xAxisLabel = this.xAxisLabel && this.xAxisLabel !== '' ? this.xAxisLabel + \":\" : '';\n    var yAxisLabel = this.yAxisLabel && this.yAxisLabel !== '' ? this.yAxisLabel + \":\" : '';\n    var x = formatLabel(circle.x);\n    var y = formatLabel(circle.y);\n    var name = hasSeriesName && hasTooltipLabel ? circle.seriesName + \" \\u2022 \" + circle.tooltipLabel : circle.seriesName + circle.tooltipLabel;\n    var tooltipTitle = hasSeriesName || hasTooltipLabel ? \"<span class=\\\"tooltip-label\\\">\" + escapeLabel(name) + \"</span>\" : '';\n    return \"\\n      \" + tooltipTitle + \"\\n      <span class=\\\"tooltip-label\\\">\\n        <label>\" + escapeLabel(xAxisLabel) + \"</label> \" + escapeLabel(x) + \"<br />\\n        <label>\" + escapeLabel(yAxisLabel) + \"</label> \" + escapeLabel(y) + \"\\n      </span>\\n      <span class=\\\"tooltip-val\\\">\\n        \" + escapeLabel(radiusValue) + \"\\n      </span>\\n    \";\n  };\n  BubbleSeriesComponent.prototype.onClick = function (data) {\n    this.select.emit(data);\n  };\n  BubbleSeriesComponent.prototype.isActive = function (entry) {\n    if (!this.activeEntries) return false;\n    var item = this.activeEntries.find(function (d) {\n      return entry.name === d.name;\n    });\n    return item !== undefined;\n  };\n  BubbleSeriesComponent.prototype.isVisible = function (circle) {\n    if (this.activeEntries.length > 0) {\n      return this.isActive({\n        name: circle.seriesName\n      });\n    }\n    return circle.opacity !== 0;\n  };\n  BubbleSeriesComponent.prototype.activateCircle = function (circle) {\n    circle.barVisible = true;\n    this.activate.emit({\n      name: this.data.name\n    });\n  };\n  BubbleSeriesComponent.prototype.deactivateCircle = function (circle) {\n    circle.barVisible = false;\n    this.deactivate.emit({\n      name: this.data.name\n    });\n  };\n  BubbleSeriesComponent.prototype.trackBy = function (index, circle) {\n    return circle.data.series + \" \" + circle.data.name;\n  };\n  var _a;\n  __decorate([Input(), __metadata(\"design:type\", Object)], BubbleSeriesComponent.prototype, \"data\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BubbleSeriesComponent.prototype, \"xScale\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BubbleSeriesComponent.prototype, \"yScale\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BubbleSeriesComponent.prototype, \"rScale\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BubbleSeriesComponent.prototype, \"xScaleType\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BubbleSeriesComponent.prototype, \"yScaleType\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BubbleSeriesComponent.prototype, \"colors\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], BubbleSeriesComponent.prototype, \"visibleValue\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Array)], BubbleSeriesComponent.prototype, \"activeEntries\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], BubbleSeriesComponent.prototype, \"xAxisLabel\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], BubbleSeriesComponent.prototype, \"yAxisLabel\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], BubbleSeriesComponent.prototype, \"tooltipDisabled\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", typeof (_a = typeof TemplateRef !== \"undefined\" && TemplateRef) === \"function\" ? _a : Object)], BubbleSeriesComponent.prototype, \"tooltipTemplate\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", Object)], BubbleSeriesComponent.prototype, \"select\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", Object)], BubbleSeriesComponent.prototype, \"activate\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", Object)], BubbleSeriesComponent.prototype, \"deactivate\", void 0);\n  BubbleSeriesComponent.ɵfac = function BubbleSeriesComponent_Factory(t) {\n    return new (t || BubbleSeriesComponent)();\n  };\n  BubbleSeriesComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: BubbleSeriesComponent,\n    selectors: [[\"g\", \"ngx-charts-bubble-series\", \"\"]],\n    inputs: {\n      tooltipDisabled: \"tooltipDisabled\",\n      data: \"data\",\n      xScale: \"xScale\",\n      yScale: \"yScale\",\n      rScale: \"rScale\",\n      xScaleType: \"xScaleType\",\n      yScaleType: \"yScaleType\",\n      colors: \"colors\",\n      visibleValue: \"visibleValue\",\n      activeEntries: \"activeEntries\",\n      xAxisLabel: \"xAxisLabel\",\n      yAxisLabel: \"yAxisLabel\",\n      tooltipTemplate: \"tooltipTemplate\"\n    },\n    outputs: {\n      select: \"select\",\n      activate: \"activate\",\n      deactivate: \"deactivate\"\n    },\n    features: [ɵngcc0.ɵɵNgOnChangesFeature],\n    attrs: _c30,\n    decls: 1,\n    vars: 2,\n    consts: [[4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [\"ngx-charts-circle\", \"\", \"ngx-tooltip\", \"\", 1, \"circle\", 3, \"cx\", \"cy\", \"r\", \"fill\", \"pointerEvents\", \"data\", \"classNames\", \"tooltipDisabled\", \"tooltipPlacement\", \"tooltipType\", \"tooltipTitle\", \"tooltipTemplate\", \"tooltipContext\", \"select\", \"activate\", \"deactivate\"]],\n    template: function BubbleSeriesComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵtemplate(0, BubbleSeriesComponent__svg_g_0_Template, 3, 19, \"g\", 0);\n      }\n      if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"ngForOf\", ctx.circles)(\"ngForTrackBy\", ctx.trackBy);\n      }\n    },\n    dependencies: [ɵngcc1.NgForOf, TooltipDirective, CircleComponent],\n    encapsulation: 2,\n    data: {\n      animation: [trigger('animationState', [transition(':enter', [style({\n        opacity: 0,\n        transform: 'scale(0)'\n      }), animate(250, style({\n        opacity: 1,\n        transform: 'scale(1)'\n      }))])])]\n    },\n    changeDetection: 0\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  return BubbleSeriesComponent;\n}();\nvar BubbleChartModule = /** @class */function () {\n  function BubbleChartModule() {}\n  BubbleChartModule.ɵfac = function BubbleChartModule_Factory(t) {\n    return new (t || BubbleChartModule)();\n  };\n  BubbleChartModule.ɵmod = /*@__PURE__*/ɵngcc0.ɵɵdefineNgModule({\n    type: BubbleChartModule\n  });\n  BubbleChartModule.ɵinj = /*@__PURE__*/ɵngcc0.ɵɵdefineInjector({\n    imports: [ChartCommonModule]\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  (function () {\n    (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(BubbleChartModule, {\n      declarations: [BubbleChartComponent, BubbleSeriesComponent],\n      imports: [ChartCommonModule],\n      exports: [BubbleChartComponent, BubbleSeriesComponent]\n    });\n  })();\n  return BubbleChartModule;\n}();\nvar ForceDirectedGraphComponent = /** @class */function (_super) {\n  __extends(ForceDirectedGraphComponent, _super);\n  function ForceDirectedGraphComponent() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.force = forceSimulation().force('charge', forceManyBody()).force('collide', forceCollide(5)).force('x', forceX()).force('y', forceY());\n    _this.forceLink = forceLink().id(function (node) {\n      return node.value;\n    });\n    _this.legendTitle = 'Legend';\n    _this.legendPosition = 'right';\n    _this.nodes = [];\n    _this.links = [];\n    _this.activeEntries = [];\n    _this.tooltipDisabled = false;\n    _this.activate = new EventEmitter();\n    _this.deactivate = new EventEmitter();\n    _this.margin = [0, 0, 0, 0];\n    _this.results = [];\n    _this.groupResultsBy = function (node) {\n      return node.value;\n    };\n    return _this;\n  }\n  ForceDirectedGraphComponent.prototype.update = function () {\n    _super.prototype.update.call(this);\n    this.dims = calculateViewDimensions({\n      width: this.width,\n      height: this.height,\n      margins: this.margin,\n      showLegend: this.legend,\n      legendPosition: this.legendPosition\n    });\n    this.seriesDomain = this.getSeriesDomain();\n    this.setColors();\n    this.legendOptions = this.getLegendOptions();\n    this.transform = \"\\n      translate(\" + (this.dims.xOffset + this.dims.width / 2) + \", \" + (this.margin[0] + this.dims.height / 2) + \")\\n    \";\n    if (this.force) {\n      this.force.nodes(this.nodes).force('link', this.forceLink.links(this.links)).alpha(0.5).restart();\n    }\n  };\n  ForceDirectedGraphComponent.prototype.onClick = function (data) {\n    this.select.emit(data);\n  };\n  ForceDirectedGraphComponent.prototype.onActivate = function (event$$1) {\n    if (this.activeEntries.indexOf(event$$1) > -1) return;\n    this.activeEntries = [event$$1].concat(this.activeEntries);\n    this.activate.emit({\n      value: event$$1,\n      entries: this.activeEntries\n    });\n  };\n  ForceDirectedGraphComponent.prototype.onDeactivate = function (event$$1) {\n    var idx = this.activeEntries.indexOf(event$$1);\n    this.activeEntries.splice(idx, 1);\n    this.activeEntries = this.activeEntries.slice();\n    this.deactivate.emit({\n      value: event$$1,\n      entries: this.activeEntries\n    });\n  };\n  ForceDirectedGraphComponent.prototype.getSeriesDomain = function () {\n    var _this = this;\n    return this.nodes.map(function (d) {\n      return _this.groupResultsBy(d);\n    }).reduce(function (nodes, node) {\n      return nodes.includes(node) ? nodes : nodes.concat([node]);\n    }, []).sort();\n  };\n  ForceDirectedGraphComponent.prototype.trackLinkBy = function (index, link) {\n    return link.index;\n  };\n  ForceDirectedGraphComponent.prototype.trackNodeBy = function (index, node) {\n    return node.value;\n  };\n  ForceDirectedGraphComponent.prototype.setColors = function () {\n    this.colors = new ColorHelper(this.scheme, 'ordinal', this.seriesDomain, this.customColors);\n  };\n  ForceDirectedGraphComponent.prototype.getLegendOptions = function () {\n    return {\n      scaleType: 'ordinal',\n      domain: this.seriesDomain,\n      colors: this.colors,\n      title: this.legendTitle,\n      position: this.legendPosition\n    };\n  };\n  ForceDirectedGraphComponent.prototype.onDragStart = function (node, $event) {\n    this.force.alphaTarget(0.3).restart();\n    this.draggingNode = node;\n    this.draggingStart = {\n      x: $event.x - node.x,\n      y: $event.y - node.y\n    };\n    this.draggingNode.fx = $event.x - this.draggingStart.x;\n    this.draggingNode.fy = $event.y - this.draggingStart.y;\n  };\n  ForceDirectedGraphComponent.prototype.onDrag = function ($event) {\n    if (!this.draggingNode) return;\n    this.draggingNode.fx = $event.x - this.draggingStart.x;\n    this.draggingNode.fy = $event.y - this.draggingStart.y;\n  };\n  ForceDirectedGraphComponent.prototype.onDragEnd = function ($event) {\n    if (!this.draggingNode) return;\n    this.force.alphaTarget(0);\n    this.draggingNode.fx = undefined;\n    this.draggingNode.fy = undefined;\n    this.draggingNode = undefined;\n  };\n  ForceDirectedGraphComponent.prototype.escape = function (label) {\n    return escapeLabel(label);\n  };\n  var _a, _b, _c, _d, _e, _f, _g, _h, _j;\n  __decorate([Input(), __metadata(\"design:type\", Object)], ForceDirectedGraphComponent.prototype, \"force\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], ForceDirectedGraphComponent.prototype, \"forceLink\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], ForceDirectedGraphComponent.prototype, \"legend\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], ForceDirectedGraphComponent.prototype, \"legendTitle\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], ForceDirectedGraphComponent.prototype, \"legendPosition\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Array)], ForceDirectedGraphComponent.prototype, \"nodes\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", typeof (_a = typeof Array !== \"undefined\" && Array) === \"function\" ? _a : Object)], ForceDirectedGraphComponent.prototype, \"links\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Array)], ForceDirectedGraphComponent.prototype, \"activeEntries\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], ForceDirectedGraphComponent.prototype, \"tooltipDisabled\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", typeof (_b = typeof EventEmitter !== \"undefined\" && EventEmitter) === \"function\" ? _b : Object)], ForceDirectedGraphComponent.prototype, \"activate\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", typeof (_c = typeof EventEmitter !== \"undefined\" && EventEmitter) === \"function\" ? _c : Object)], ForceDirectedGraphComponent.prototype, \"deactivate\", void 0);\n  __decorate([ContentChild('linkTemplate', {\n    static: false\n  }), __metadata(\"design:type\", typeof (_d = typeof TemplateRef !== \"undefined\" && TemplateRef) === \"function\" ? _d : Object)], ForceDirectedGraphComponent.prototype, \"linkTemplate\", void 0);\n  __decorate([ContentChild('nodeTemplate', {\n    static: false\n  }), __metadata(\"design:type\", typeof (_e = typeof TemplateRef !== \"undefined\" && TemplateRef) === \"function\" ? _e : Object)], ForceDirectedGraphComponent.prototype, \"nodeTemplate\", void 0);\n  __decorate([ContentChild('tooltipTemplate', {\n    static: false\n  }), __metadata(\"design:type\", typeof (_f = typeof TemplateRef !== \"undefined\" && TemplateRef) === \"function\" ? _f : Object)], ForceDirectedGraphComponent.prototype, \"tooltipTemplate\", void 0);\n  __decorate([ViewChild(ChartComponent, {\n    read: ElementRef,\n    static: false\n  }), __metadata(\"design:type\", typeof (_g = typeof ElementRef !== \"undefined\" && ElementRef) === \"function\" ? _g : Object)], ForceDirectedGraphComponent.prototype, \"chart\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Function)], ForceDirectedGraphComponent.prototype, \"groupResultsBy\", void 0);\n  __decorate([HostListener('document:mousemove', ['$event']), __metadata(\"design:type\", Function), __metadata(\"design:paramtypes\", [typeof (_h = typeof MouseEvent !== \"undefined\" && MouseEvent) === \"function\" ? _h : Object]), __metadata(\"design:returntype\", void 0)], ForceDirectedGraphComponent.prototype, \"onDrag\", null);\n  __decorate([HostListener('document:mouseup', ['$event']), __metadata(\"design:type\", Function), __metadata(\"design:paramtypes\", [typeof (_j = typeof MouseEvent !== \"undefined\" && MouseEvent) === \"function\" ? _j : Object]), __metadata(\"design:returntype\", void 0)], ForceDirectedGraphComponent.prototype, \"onDragEnd\", null);\n  ForceDirectedGraphComponent.ɵfac = /*@__PURE__*/function () {\n    var ɵForceDirectedGraphComponent_BaseFactory;\n    return function ForceDirectedGraphComponent_Factory(t) {\n      return (ɵForceDirectedGraphComponent_BaseFactory || (ɵForceDirectedGraphComponent_BaseFactory = ɵngcc0.ɵɵgetInheritedFactory(ForceDirectedGraphComponent)))(t || ForceDirectedGraphComponent);\n    };\n  }();\n  ForceDirectedGraphComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: ForceDirectedGraphComponent,\n    selectors: [[\"ngx-charts-force-directed-graph\"]],\n    contentQueries: function ForceDirectedGraphComponent_ContentQueries(rf, ctx, dirIndex) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵcontentQuery(dirIndex, _c31, 5);\n        ɵngcc0.ɵɵcontentQuery(dirIndex, _c32, 5);\n        ɵngcc0.ɵɵcontentQuery(dirIndex, _c21, 5);\n      }\n      if (rf & 2) {\n        var _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.linkTemplate = _t.first);\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.nodeTemplate = _t.first);\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.tooltipTemplate = _t.first);\n      }\n    },\n    viewQuery: function ForceDirectedGraphComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵviewQuery(ChartComponent, 5, ElementRef);\n      }\n      if (rf & 2) {\n        var _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.chart = _t.first);\n      }\n    },\n    hostBindings: function ForceDirectedGraphComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵlistener(\"mousemove\", function ForceDirectedGraphComponent_mousemove_HostBindingHandler($event) {\n          return ctx.onDrag($event);\n        }, false, ɵngcc0.ɵɵresolveDocument)(\"mouseup\", function ForceDirectedGraphComponent_mouseup_HostBindingHandler($event) {\n          return ctx.onDragEnd($event);\n        }, false, ɵngcc0.ɵɵresolveDocument);\n      }\n    },\n    inputs: {\n      activeEntries: \"activeEntries\",\n      force: \"force\",\n      forceLink: \"forceLink\",\n      legend: \"legend\",\n      legendTitle: \"legendTitle\",\n      legendPosition: \"legendPosition\",\n      nodes: \"nodes\",\n      links: \"links\",\n      tooltipDisabled: \"tooltipDisabled\",\n      groupResultsBy: \"groupResultsBy\"\n    },\n    outputs: {\n      activate: \"activate\",\n      deactivate: \"deactivate\"\n    },\n    features: [ɵngcc0.ɵɵInheritDefinitionFeature],\n    decls: 6,\n    vars: 12,\n    consts: [[3, \"view\", \"showLegend\", \"legendOptions\", \"animations\", \"legendLabelClick\", \"legendLabelActivate\", \"legendLabelDeactivate\"], [1, \"force-directed-graph\", \"chart\"], [1, \"links\"], [4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [1, \"nodes\"], [\"ngx-tooltip\", \"\", 3, \"tooltipDisabled\", \"tooltipPlacement\", \"tooltipType\", \"tooltipTitle\", \"tooltipTemplate\", \"tooltipContext\", \"mousedown\", \"click\", 4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [4, \"ngIf\"], [\"strokeWidth\", \"1\", \"class\", \"edge\", 4, \"ngIf\"], [3, \"ngTemplateOutlet\", \"ngTemplateOutletContext\"], [\"strokeWidth\", \"1\", 1, \"edge\"], [\"ngx-tooltip\", \"\", 3, \"tooltipDisabled\", \"tooltipPlacement\", \"tooltipType\", \"tooltipTitle\", \"tooltipTemplate\", \"tooltipContext\", \"mousedown\", \"click\"], [\"r\", \"5\", 4, \"ngIf\"], [\"r\", \"5\"]],\n    template: function ForceDirectedGraphComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"ngx-charts-chart\", 0);\n        ɵngcc0.ɵɵlistener(\"legendLabelClick\", function ForceDirectedGraphComponent_Template_ngx_charts_chart_legendLabelClick_0_listener($event) {\n          return ctx.onClick($event);\n        })(\"legendLabelActivate\", function ForceDirectedGraphComponent_Template_ngx_charts_chart_legendLabelActivate_0_listener($event) {\n          return ctx.onActivate($event);\n        })(\"legendLabelDeactivate\", function ForceDirectedGraphComponent_Template_ngx_charts_chart_legendLabelDeactivate_0_listener($event) {\n          return ctx.onDeactivate($event);\n        });\n        ɵngcc0.ɵɵnamespaceSVG();\n        ɵngcc0.ɵɵelementStart(1, \"g\", 1)(2, \"g\", 2);\n        ɵngcc0.ɵɵtemplate(3, ForceDirectedGraphComponent__svg_g_3_Template, 3, 2, \"g\", 3);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(4, \"g\", 4);\n        ɵngcc0.ɵɵtemplate(5, ForceDirectedGraphComponent__svg_g_5_Template, 3, 11, \"g\", 5);\n        ɵngcc0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"view\", ɵngcc0.ɵɵpureFunction2(9, _c23, ctx.width, ctx.height))(\"showLegend\", ctx.legend)(\"legendOptions\", ctx.legendOptions)(\"animations\", ctx.animations);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵattribute(\"transform\", ctx.transform);\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵproperty(\"ngForOf\", ctx.links)(\"ngForTrackBy\", ctx.trackLinkBy);\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵproperty(\"ngForOf\", ctx.nodes)(\"ngForTrackBy\", ctx.trackNodeBy);\n      }\n    },\n    dependencies: [ɵngcc1.NgForOf, ɵngcc1.NgIf, TooltipDirective, ChartComponent],\n    styles: [_c24, \".force-directed-graph .edge{stroke:#333}\"],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  return ForceDirectedGraphComponent;\n}(BaseChartComponent);\nvar ForceDirectedGraphModule = /** @class */function () {\n  function ForceDirectedGraphModule() {}\n  ForceDirectedGraphModule.ɵfac = function ForceDirectedGraphModule_Factory(t) {\n    return new (t || ForceDirectedGraphModule)();\n  };\n  ForceDirectedGraphModule.ɵmod = /*@__PURE__*/ɵngcc0.ɵɵdefineNgModule({\n    type: ForceDirectedGraphModule\n  });\n  ForceDirectedGraphModule.ɵinj = /*@__PURE__*/ɵngcc0.ɵɵdefineInjector({\n    imports: [ChartCommonModule]\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  (function () {\n    (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(ForceDirectedGraphModule, {\n      declarations: [ForceDirectedGraphComponent],\n      imports: [ChartCommonModule],\n      exports: [ForceDirectedGraphComponent]\n    });\n  })();\n  return ForceDirectedGraphModule;\n}();\nvar HeatMapCellComponent = /** @class */function () {\n  function HeatMapCellComponent(element) {\n    this.gradient = false;\n    this.animations = true;\n    this.select = new EventEmitter();\n    this.activate = new EventEmitter();\n    this.deactivate = new EventEmitter();\n    this.element = element.nativeElement;\n  }\n  HeatMapCellComponent.prototype.ngOnChanges = function (changes) {\n    this.transform = \"translate(\" + this.x + \" , \" + this.y + \")\";\n    this.startOpacity = 0.3;\n    this.gradientId = 'grad' + id().toString();\n    this.gradientUrl = \"url(#\" + this.gradientId + \")\";\n    this.gradientStops = this.getGradientStops();\n    if (this.animations) {\n      this.loadAnimation();\n    }\n  };\n  HeatMapCellComponent.prototype.getGradientStops = function () {\n    return [{\n      offset: 0,\n      color: this.fill,\n      opacity: this.startOpacity\n    }, {\n      offset: 100,\n      color: this.fill,\n      opacity: 1\n    }];\n  };\n  HeatMapCellComponent.prototype.loadAnimation = function () {\n    var node = select(this.element).select('.cell');\n    node.attr('opacity', 0);\n    this.animateToCurrentForm();\n  };\n  HeatMapCellComponent.prototype.animateToCurrentForm = function () {\n    var node = select(this.element).select('.cell');\n    node.transition().duration(750).attr('opacity', 1);\n  };\n  HeatMapCellComponent.prototype.onClick = function () {\n    this.select.emit(this.data);\n  };\n  HeatMapCellComponent.prototype.onMouseEnter = function () {\n    this.activate.emit(this.data);\n  };\n  HeatMapCellComponent.prototype.onMouseLeave = function () {\n    this.deactivate.emit(this.data);\n  };\n  var _a;\n  __decorate([Input(), __metadata(\"design:type\", Object)], HeatMapCellComponent.prototype, \"fill\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], HeatMapCellComponent.prototype, \"x\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], HeatMapCellComponent.prototype, \"y\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], HeatMapCellComponent.prototype, \"width\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], HeatMapCellComponent.prototype, \"height\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], HeatMapCellComponent.prototype, \"data\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], HeatMapCellComponent.prototype, \"label\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], HeatMapCellComponent.prototype, \"gradient\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], HeatMapCellComponent.prototype, \"animations\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", Object)], HeatMapCellComponent.prototype, \"select\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", Object)], HeatMapCellComponent.prototype, \"activate\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", Object)], HeatMapCellComponent.prototype, \"deactivate\", void 0);\n  __decorate([HostListener('mouseenter'), __metadata(\"design:type\", Function), __metadata(\"design:paramtypes\", []), __metadata(\"design:returntype\", void 0)], HeatMapCellComponent.prototype, \"onMouseEnter\", null);\n  __decorate([HostListener('mouseleave'), __metadata(\"design:type\", Function), __metadata(\"design:paramtypes\", []), __metadata(\"design:returntype\", void 0)], HeatMapCellComponent.prototype, \"onMouseLeave\", null);\n  HeatMapCellComponent = __decorate([__metadata(\"design:paramtypes\", [typeof (_a = typeof ElementRef !== \"undefined\" && ElementRef) === \"function\" ? _a : Object])], HeatMapCellComponent);\n  HeatMapCellComponent.ɵfac = function HeatMapCellComponent_Factory(t) {\n    return new (t || HeatMapCellComponent)(ɵngcc0.ɵɵdirectiveInject(typeof (_a = typeof ElementRef !== \"undefined\" && ElementRef) === \"function\" ? _a : Object));\n  };\n  HeatMapCellComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: HeatMapCellComponent,\n    selectors: [[\"g\", \"ngx-charts-heat-map-cell\", \"\"]],\n    hostBindings: function HeatMapCellComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵlistener(\"mouseenter\", function HeatMapCellComponent_mouseenter_HostBindingHandler() {\n          return ctx.onMouseEnter();\n        })(\"mouseleave\", function HeatMapCellComponent_mouseleave_HostBindingHandler() {\n          return ctx.onMouseLeave();\n        });\n      }\n    },\n    inputs: {\n      gradient: \"gradient\",\n      animations: \"animations\",\n      fill: \"fill\",\n      x: \"x\",\n      y: \"y\",\n      width: \"width\",\n      height: \"height\",\n      data: \"data\",\n      label: \"label\"\n    },\n    outputs: {\n      select: \"select\",\n      activate: \"activate\",\n      deactivate: \"deactivate\"\n    },\n    features: [ɵngcc0.ɵɵNgOnChangesFeature],\n    attrs: _c34,\n    decls: 3,\n    vars: 5,\n    consts: [[1, \"cell\"], [4, \"ngIf\"], [\"rx\", \"3\", 1, \"cell\", 2, \"cursor\", \"pointer\", 3, \"click\"], [\"ngx-charts-svg-linear-gradient\", \"\", \"orientation\", \"vertical\", 3, \"name\", \"stops\"]],\n    template: function HeatMapCellComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵnamespaceSVG();\n        ɵngcc0.ɵɵelementStart(0, \"g\", 0);\n        ɵngcc0.ɵɵtemplate(1, HeatMapCellComponent__svg_defs_1_Template, 2, 2, \"defs\", 1);\n        ɵngcc0.ɵɵelementStart(2, \"rect\", 2);\n        ɵngcc0.ɵɵlistener(\"click\", function HeatMapCellComponent_Template__svg_rect_click_2_listener() {\n          return ctx.onClick();\n        });\n        ɵngcc0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        ɵngcc0.ɵɵattribute(\"transform\", ctx.transform);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.gradient);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵattribute(\"fill\", ctx.gradient ? ctx.gradientUrl : ctx.fill)(\"width\", ctx.width)(\"height\", ctx.height);\n      }\n    },\n    dependencies: [ɵngcc1.NgIf, SvgLinearGradientComponent],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  return HeatMapCellComponent;\n}();\nvar HeatCellSeriesComponent = /** @class */function () {\n  function HeatCellSeriesComponent() {\n    this.tooltipDisabled = false;\n    this.animations = true;\n    this.select = new EventEmitter();\n    this.activate = new EventEmitter();\n    this.deactivate = new EventEmitter();\n  }\n  HeatCellSeriesComponent.prototype.ngOnInit = function () {\n    if (!this.tooltipText) {\n      this.tooltipText = this.getTooltipText;\n    }\n  };\n  HeatCellSeriesComponent.prototype.ngOnChanges = function (changes) {\n    this.update();\n  };\n  HeatCellSeriesComponent.prototype.update = function () {\n    this.cells = this.getCells();\n  };\n  HeatCellSeriesComponent.prototype.getCells = function () {\n    var _this = this;\n    var cells = [];\n    this.data.map(function (row) {\n      row.series.map(function (cell) {\n        var value = cell.value;\n        cell.series = row.name;\n        cells.push({\n          row: row,\n          cell: cell,\n          x: _this.xScale(row.name),\n          y: _this.yScale(cell.name),\n          width: _this.xScale.bandwidth(),\n          height: _this.yScale.bandwidth(),\n          fill: _this.colors.getColor(value),\n          data: value,\n          label: formatLabel(cell.name),\n          series: row.name\n        });\n      });\n    });\n    return cells;\n  };\n  HeatCellSeriesComponent.prototype.getTooltipText = function (_a) {\n    var label = _a.label,\n      data = _a.data,\n      series = _a.series;\n    return \"\\n      <span class=\\\"tooltip-label\\\">\" + escapeLabel(series) + \" \\u2022 \" + escapeLabel(label) + \"</span>\\n      <span class=\\\"tooltip-val\\\">\" + data.toLocaleString() + \"</span>\\n    \";\n  };\n  HeatCellSeriesComponent.prototype.trackBy = function (index, item) {\n    return item.tooltipText;\n  };\n  HeatCellSeriesComponent.prototype.onClick = function (data) {\n    this.select.emit(data);\n  };\n  var _a, _b, _c;\n  __decorate([Input(), __metadata(\"design:type\", Object)], HeatCellSeriesComponent.prototype, \"data\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], HeatCellSeriesComponent.prototype, \"colors\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], HeatCellSeriesComponent.prototype, \"xScale\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], HeatCellSeriesComponent.prototype, \"yScale\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], HeatCellSeriesComponent.prototype, \"gradient\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], HeatCellSeriesComponent.prototype, \"tooltipDisabled\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], HeatCellSeriesComponent.prototype, \"tooltipText\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", typeof (_a = typeof TemplateRef !== \"undefined\" && TemplateRef) === \"function\" ? _a : Object)], HeatCellSeriesComponent.prototype, \"tooltipTemplate\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], HeatCellSeriesComponent.prototype, \"animations\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", Object)], HeatCellSeriesComponent.prototype, \"select\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", typeof (_b = typeof EventEmitter !== \"undefined\" && EventEmitter) === \"function\" ? _b : Object)], HeatCellSeriesComponent.prototype, \"activate\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", typeof (_c = typeof EventEmitter !== \"undefined\" && EventEmitter) === \"function\" ? _c : Object)], HeatCellSeriesComponent.prototype, \"deactivate\", void 0);\n  HeatCellSeriesComponent.ɵfac = function HeatCellSeriesComponent_Factory(t) {\n    return new (t || HeatCellSeriesComponent)();\n  };\n  HeatCellSeriesComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: HeatCellSeriesComponent,\n    selectors: [[\"g\", \"ngx-charts-heat-map-cell-series\", \"\"]],\n    inputs: {\n      tooltipDisabled: \"tooltipDisabled\",\n      animations: \"animations\",\n      tooltipText: \"tooltipText\",\n      data: \"data\",\n      colors: \"colors\",\n      xScale: \"xScale\",\n      yScale: \"yScale\",\n      gradient: \"gradient\",\n      tooltipTemplate: \"tooltipTemplate\"\n    },\n    outputs: {\n      select: \"select\",\n      activate: \"activate\",\n      deactivate: \"deactivate\"\n    },\n    features: [ɵngcc0.ɵɵNgOnChangesFeature],\n    attrs: _c35,\n    decls: 1,\n    vars: 2,\n    consts: [[\"ngx-charts-heat-map-cell\", \"\", \"ngx-tooltip\", \"\", 3, \"x\", \"y\", \"width\", \"height\", \"fill\", \"data\", \"gradient\", \"animations\", \"tooltipDisabled\", \"tooltipPlacement\", \"tooltipType\", \"tooltipTitle\", \"tooltipTemplate\", \"tooltipContext\", \"select\", \"activate\", \"deactivate\", 4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [\"ngx-charts-heat-map-cell\", \"\", \"ngx-tooltip\", \"\", 3, \"x\", \"y\", \"width\", \"height\", \"fill\", \"data\", \"gradient\", \"animations\", \"tooltipDisabled\", \"tooltipPlacement\", \"tooltipType\", \"tooltipTitle\", \"tooltipTemplate\", \"tooltipContext\", \"select\", \"activate\", \"deactivate\"]],\n    template: function HeatCellSeriesComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵtemplate(0, HeatCellSeriesComponent__svg_g_0_Template, 1, 18, \"g\", 0);\n      }\n      if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"ngForOf\", ctx.cells)(\"ngForTrackBy\", ctx.trackBy);\n      }\n    },\n    dependencies: [ɵngcc1.NgForOf, TooltipDirective, HeatMapCellComponent],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  return HeatCellSeriesComponent;\n}();\nvar HeatMapComponent = /** @class */function (_super) {\n  __extends(HeatMapComponent, _super);\n  function HeatMapComponent() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.legendTitle = 'Legend';\n    _this.legendPosition = 'right';\n    _this.innerPadding = 8;\n    _this.trimXAxisTicks = true;\n    _this.trimYAxisTicks = true;\n    _this.rotateXAxisTicks = true;\n    _this.maxXAxisTickLength = 16;\n    _this.maxYAxisTickLength = 16;\n    _this.tooltipDisabled = false;\n    _this.activeEntries = [];\n    _this.activate = new EventEmitter();\n    _this.deactivate = new EventEmitter();\n    _this.margin = [10, 20, 10, 20];\n    _this.xAxisHeight = 0;\n    _this.yAxisWidth = 0;\n    _this.scaleType = 'linear';\n    return _this;\n  }\n  HeatMapComponent.prototype.update = function () {\n    _super.prototype.update.call(this);\n    this.formatDates();\n    this.xDomain = this.getXDomain();\n    this.yDomain = this.getYDomain();\n    this.valueDomain = this.getValueDomain();\n    this.scaleType = getScaleType(this.valueDomain, false);\n    this.dims = calculateViewDimensions({\n      width: this.width,\n      height: this.height,\n      margins: this.margin,\n      showXAxis: this.xAxis,\n      showYAxis: this.yAxis,\n      xAxisHeight: this.xAxisHeight,\n      yAxisWidth: this.yAxisWidth,\n      showXLabel: this.showXAxisLabel,\n      showYLabel: this.showYAxisLabel,\n      showLegend: this.legend,\n      legendType: this.scaleType,\n      legendPosition: this.legendPosition\n    });\n    if (this.scaleType === 'linear') {\n      var min$$1 = this.min;\n      var max$$1 = this.max;\n      if (!this.min) {\n        min$$1 = Math.min.apply(Math, [0].concat(this.valueDomain));\n      }\n      if (!this.max) {\n        max$$1 = Math.max.apply(Math, this.valueDomain);\n      }\n      this.valueDomain = [min$$1, max$$1];\n    }\n    this.xScale = this.getXScale();\n    this.yScale = this.getYScale();\n    this.setColors();\n    this.legendOptions = this.getLegendOptions();\n    this.transform = \"translate(\" + this.dims.xOffset + \" , \" + this.margin[0] + \")\";\n    this.rects = this.getRects();\n  };\n  HeatMapComponent.prototype.getXDomain = function () {\n    var domain = [];\n    for (var _i = 0, _a = this.results; _i < _a.length; _i++) {\n      var group = _a[_i];\n      if (!domain.includes(group.name)) {\n        domain.push(group.name);\n      }\n    }\n    return domain;\n  };\n  HeatMapComponent.prototype.getYDomain = function () {\n    var domain = [];\n    for (var _i = 0, _a = this.results; _i < _a.length; _i++) {\n      var group = _a[_i];\n      for (var _b = 0, _c = group.series; _b < _c.length; _b++) {\n        var d = _c[_b];\n        if (!domain.includes(d.name)) {\n          domain.push(d.name);\n        }\n      }\n    }\n    return domain;\n  };\n  HeatMapComponent.prototype.getValueDomain = function () {\n    var domain = [];\n    for (var _i = 0, _a = this.results; _i < _a.length; _i++) {\n      var group = _a[_i];\n      for (var _b = 0, _c = group.series; _b < _c.length; _b++) {\n        var d = _c[_b];\n        if (!domain.includes(d.value)) {\n          domain.push(d.value);\n        }\n      }\n    }\n    return domain;\n  };\n  HeatMapComponent.prototype.getDimension = function (value, index, N, L) {\n    if (index === void 0) {\n      index = 0;\n    }\n    if (typeof value === 'string') {\n      value = value.replace('[', '').replace(']', '').replace('px', '').replace('\\'', '');\n      if (value.includes(',')) {\n        value = value.split(',');\n      }\n    }\n    if (Array.isArray(value) && typeof index === 'number') {\n      return this.getDimension(value[index], null, N, L);\n    }\n    if (typeof value === 'string' && value.includes('%')) {\n      return +value.replace('%', '') / 100;\n    }\n    return N / (L / +value + 1);\n  };\n  HeatMapComponent.prototype.getXScale = function () {\n    var f = this.getDimension(this.innerPadding, 0, this.xDomain.length, this.dims.width);\n    return scaleBand().rangeRound([0, this.dims.width]).domain(this.xDomain).paddingInner(f);\n  };\n  HeatMapComponent.prototype.getYScale = function () {\n    var f = this.getDimension(this.innerPadding, 1, this.yDomain.length, this.dims.height);\n    return scaleBand().rangeRound([this.dims.height, 0]).domain(this.yDomain).paddingInner(f);\n  };\n  HeatMapComponent.prototype.getRects = function () {\n    var _this = this;\n    var rects = [];\n    this.xDomain.map(function (xVal) {\n      _this.yDomain.map(function (yVal) {\n        rects.push({\n          x: _this.xScale(xVal),\n          y: _this.yScale(yVal),\n          rx: 3,\n          width: _this.xScale.bandwidth(),\n          height: _this.yScale.bandwidth(),\n          fill: 'rgba(200,200,200,0.03)'\n        });\n      });\n    });\n    return rects;\n  };\n  HeatMapComponent.prototype.onClick = function (data) {\n    this.select.emit(data);\n  };\n  HeatMapComponent.prototype.setColors = function () {\n    this.colors = new ColorHelper(this.scheme, this.scaleType, this.valueDomain);\n  };\n  HeatMapComponent.prototype.getLegendOptions = function () {\n    return {\n      scaleType: this.scaleType,\n      domain: this.valueDomain,\n      colors: this.scaleType === 'ordinal' ? this.colors : this.colors.scale,\n      title: this.scaleType === 'ordinal' ? this.legendTitle : undefined,\n      position: this.legendPosition\n    };\n  };\n  HeatMapComponent.prototype.updateYAxisWidth = function (_a) {\n    var width = _a.width;\n    this.yAxisWidth = width;\n    this.update();\n  };\n  HeatMapComponent.prototype.updateXAxisHeight = function (_a) {\n    var height = _a.height;\n    this.xAxisHeight = height;\n    this.update();\n  };\n  HeatMapComponent.prototype.onActivate = function (event$$1, group, fromLegend) {\n    if (fromLegend === void 0) {\n      fromLegend = false;\n    }\n    var item = Object.assign({}, event$$1);\n    if (group) {\n      item.series = group.name;\n    }\n    var items = this.results.map(function (g) {\n      return g.series;\n    }).flat().filter(function (i) {\n      if (fromLegend) {\n        return i.label === item.name;\n      } else {\n        return i.name === item.name && i.series === item.series;\n      }\n    });\n    this.activeEntries = items.slice();\n    this.activate.emit({\n      value: item,\n      entries: this.activeEntries\n    });\n  };\n  HeatMapComponent.prototype.onDeactivate = function (event$$1, group, fromLegend) {\n    if (fromLegend === void 0) {\n      fromLegend = false;\n    }\n    var item = Object.assign({}, event$$1);\n    if (group) {\n      item.series = group.name;\n    }\n    this.activeEntries = this.activeEntries.filter(function (i) {\n      if (fromLegend) {\n        return i.label !== item.name;\n      } else {\n        return !(i.name === item.name && i.series === item.series);\n      }\n    });\n    this.deactivate.emit({\n      value: item,\n      entries: this.activeEntries\n    });\n  };\n  var _a, _b, _c;\n  __decorate([Input(), __metadata(\"design:type\", Object)], HeatMapComponent.prototype, \"legend\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], HeatMapComponent.prototype, \"legendTitle\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], HeatMapComponent.prototype, \"legendPosition\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], HeatMapComponent.prototype, \"xAxis\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], HeatMapComponent.prototype, \"yAxis\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], HeatMapComponent.prototype, \"showXAxisLabel\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], HeatMapComponent.prototype, \"showYAxisLabel\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], HeatMapComponent.prototype, \"xAxisLabel\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], HeatMapComponent.prototype, \"yAxisLabel\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], HeatMapComponent.prototype, \"gradient\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], HeatMapComponent.prototype, \"innerPadding\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], HeatMapComponent.prototype, \"trimXAxisTicks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], HeatMapComponent.prototype, \"trimYAxisTicks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], HeatMapComponent.prototype, \"rotateXAxisTicks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], HeatMapComponent.prototype, \"maxXAxisTickLength\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], HeatMapComponent.prototype, \"maxYAxisTickLength\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], HeatMapComponent.prototype, \"xAxisTickFormatting\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], HeatMapComponent.prototype, \"yAxisTickFormatting\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Array)], HeatMapComponent.prototype, \"xAxisTicks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Array)], HeatMapComponent.prototype, \"yAxisTicks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], HeatMapComponent.prototype, \"tooltipDisabled\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], HeatMapComponent.prototype, \"tooltipText\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], HeatMapComponent.prototype, \"min\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], HeatMapComponent.prototype, \"max\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Array)], HeatMapComponent.prototype, \"activeEntries\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", typeof (_a = typeof EventEmitter !== \"undefined\" && EventEmitter) === \"function\" ? _a : Object)], HeatMapComponent.prototype, \"activate\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", typeof (_b = typeof EventEmitter !== \"undefined\" && EventEmitter) === \"function\" ? _b : Object)], HeatMapComponent.prototype, \"deactivate\", void 0);\n  __decorate([ContentChild('tooltipTemplate', {\n    static: false\n  }), __metadata(\"design:type\", typeof (_c = typeof TemplateRef !== \"undefined\" && TemplateRef) === \"function\" ? _c : Object)], HeatMapComponent.prototype, \"tooltipTemplate\", void 0);\n  HeatMapComponent.ɵfac = /*@__PURE__*/function () {\n    var ɵHeatMapComponent_BaseFactory;\n    return function HeatMapComponent_Factory(t) {\n      return (ɵHeatMapComponent_BaseFactory || (ɵHeatMapComponent_BaseFactory = ɵngcc0.ɵɵgetInheritedFactory(HeatMapComponent)))(t || HeatMapComponent);\n    };\n  }();\n  HeatMapComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: HeatMapComponent,\n    selectors: [[\"ngx-charts-heat-map\"]],\n    contentQueries: function HeatMapComponent_ContentQueries(rf, ctx, dirIndex) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵcontentQuery(dirIndex, _c21, 5);\n      }\n      if (rf & 2) {\n        var _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.tooltipTemplate = _t.first);\n      }\n    },\n    inputs: {\n      activeEntries: \"activeEntries\",\n      legend: \"legend\",\n      legendTitle: \"legendTitle\",\n      legendPosition: \"legendPosition\",\n      xAxis: \"xAxis\",\n      yAxis: \"yAxis\",\n      showXAxisLabel: \"showXAxisLabel\",\n      showYAxisLabel: \"showYAxisLabel\",\n      xAxisLabel: \"xAxisLabel\",\n      yAxisLabel: \"yAxisLabel\",\n      gradient: \"gradient\",\n      innerPadding: \"innerPadding\",\n      trimXAxisTicks: \"trimXAxisTicks\",\n      trimYAxisTicks: \"trimYAxisTicks\",\n      rotateXAxisTicks: \"rotateXAxisTicks\",\n      maxXAxisTickLength: \"maxXAxisTickLength\",\n      maxYAxisTickLength: \"maxYAxisTickLength\",\n      xAxisTickFormatting: \"xAxisTickFormatting\",\n      yAxisTickFormatting: \"yAxisTickFormatting\",\n      xAxisTicks: \"xAxisTicks\",\n      yAxisTicks: \"yAxisTicks\",\n      tooltipDisabled: \"tooltipDisabled\",\n      tooltipText: \"tooltipText\",\n      min: \"min\",\n      max: \"max\"\n    },\n    outputs: {\n      activate: \"activate\",\n      deactivate: \"deactivate\"\n    },\n    features: [ɵngcc0.ɵɵInheritDefinitionFeature],\n    decls: 6,\n    vars: 20,\n    consts: [[3, \"view\", \"showLegend\", \"animations\", \"legendOptions\", \"legendLabelClick\"], [1, \"heat-map\", \"chart\"], [\"ngx-charts-x-axis\", \"\", 3, \"xScale\", \"dims\", \"showLabel\", \"labelText\", \"trimTicks\", \"rotateTicks\", \"maxTickLength\", \"tickFormatting\", \"ticks\", \"dimensionsChanged\", 4, \"ngIf\"], [\"ngx-charts-y-axis\", \"\", 3, \"yScale\", \"dims\", \"showLabel\", \"labelText\", \"trimTicks\", \"maxTickLength\", \"tickFormatting\", \"ticks\", \"dimensionsChanged\", 4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\"], [\"ngx-charts-heat-map-cell-series\", \"\", 3, \"xScale\", \"yScale\", \"colors\", \"data\", \"gradient\", \"animations\", \"tooltipDisabled\", \"tooltipTemplate\", \"tooltipText\", \"select\", \"activate\", \"deactivate\"], [\"ngx-charts-x-axis\", \"\", 3, \"xScale\", \"dims\", \"showLabel\", \"labelText\", \"trimTicks\", \"rotateTicks\", \"maxTickLength\", \"tickFormatting\", \"ticks\", \"dimensionsChanged\"], [\"ngx-charts-y-axis\", \"\", 3, \"yScale\", \"dims\", \"showLabel\", \"labelText\", \"trimTicks\", \"maxTickLength\", \"tickFormatting\", \"ticks\", \"dimensionsChanged\"]],\n    template: function HeatMapComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"ngx-charts-chart\", 0);\n        ɵngcc0.ɵɵlistener(\"legendLabelClick\", function HeatMapComponent_Template_ngx_charts_chart_legendLabelClick_0_listener($event) {\n          return ctx.onClick($event);\n        });\n        ɵngcc0.ɵɵnamespaceSVG();\n        ɵngcc0.ɵɵelementStart(1, \"g\", 1);\n        ɵngcc0.ɵɵtemplate(2, HeatMapComponent__svg_g_2_Template, 1, 9, \"g\", 2);\n        ɵngcc0.ɵɵtemplate(3, HeatMapComponent__svg_g_3_Template, 1, 8, \"g\", 3);\n        ɵngcc0.ɵɵtemplate(4, HeatMapComponent__svg_rect_4_Template, 1, 6, \"rect\", 4);\n        ɵngcc0.ɵɵelementStart(5, \"g\", 5);\n        ɵngcc0.ɵɵlistener(\"select\", function HeatMapComponent_Template__svg_g_select_5_listener($event) {\n          return ctx.onClick($event);\n        })(\"activate\", function HeatMapComponent_Template__svg_g_activate_5_listener($event) {\n          return ctx.onActivate($event, undefined);\n        })(\"deactivate\", function HeatMapComponent_Template__svg_g_deactivate_5_listener($event) {\n          return ctx.onDeactivate($event, undefined);\n        });\n        ɵngcc0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"view\", ɵngcc0.ɵɵpureFunction2(17, _c23, ctx.width, ctx.height))(\"showLegend\", ctx.legend)(\"animations\", ctx.animations)(\"legendOptions\", ctx.legendOptions);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵattribute(\"transform\", ctx.transform);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.xAxis);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.yAxis);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngForOf\", ctx.rects);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"xScale\", ctx.xScale)(\"yScale\", ctx.yScale)(\"colors\", ctx.colors)(\"data\", ctx.results)(\"gradient\", ctx.gradient)(\"animations\", ctx.animations)(\"tooltipDisabled\", ctx.tooltipDisabled)(\"tooltipTemplate\", ctx.tooltipTemplate)(\"tooltipText\", ctx.tooltipText);\n      }\n    },\n    dependencies: [ɵngcc1.NgForOf, ɵngcc1.NgIf, XAxisComponent, YAxisComponent, ChartComponent, HeatCellSeriesComponent],\n    styles: [_c24],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  return HeatMapComponent;\n}(BaseChartComponent);\nvar HeatMapModule = /** @class */function () {\n  function HeatMapModule() {}\n  HeatMapModule.ɵfac = function HeatMapModule_Factory(t) {\n    return new (t || HeatMapModule)();\n  };\n  HeatMapModule.ɵmod = /*@__PURE__*/ɵngcc0.ɵɵdefineNgModule({\n    type: HeatMapModule\n  });\n  HeatMapModule.ɵinj = /*@__PURE__*/ɵngcc0.ɵɵdefineInjector({\n    imports: [ChartCommonModule]\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  (function () {\n    (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(HeatMapModule, {\n      declarations: [HeatMapCellComponent, HeatCellSeriesComponent, HeatMapComponent],\n      imports: [ChartCommonModule],\n      exports: [HeatMapCellComponent, HeatCellSeriesComponent, HeatMapComponent]\n    });\n  })();\n  return HeatMapModule;\n}();\nvar LineComponent = /** @class */function () {\n  function LineComponent(element) {\n    this.element = element;\n    this.fill = 'none';\n    this.animations = true;\n    this.select = new EventEmitter();\n    this.initialized = false;\n  }\n  LineComponent.prototype.ngOnChanges = function (changes) {\n    if (!this.initialized) {\n      this.initialized = true;\n      this.initialPath = this.path;\n    } else {\n      this.updatePathEl();\n    }\n  };\n  LineComponent.prototype.updatePathEl = function () {\n    var node = select(this.element.nativeElement).select('.line');\n    if (this.animations) {\n      node.transition().duration(750).attr('d', this.path);\n    } else {\n      node.attr('d', this.path);\n    }\n  };\n  var _a;\n  __decorate([Input(), __metadata(\"design:type\", Object)], LineComponent.prototype, \"path\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], LineComponent.prototype, \"stroke\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], LineComponent.prototype, \"data\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], LineComponent.prototype, \"fill\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], LineComponent.prototype, \"animations\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", Object)], LineComponent.prototype, \"select\", void 0);\n  LineComponent = __decorate([__metadata(\"design:paramtypes\", [typeof (_a = typeof ElementRef !== \"undefined\" && ElementRef) === \"function\" ? _a : Object])], LineComponent);\n  LineComponent.ɵfac = function LineComponent_Factory(t) {\n    return new (t || LineComponent)(ɵngcc0.ɵɵdirectiveInject(typeof (_a = typeof ElementRef !== \"undefined\" && ElementRef) === \"function\" ? _a : Object));\n  };\n  LineComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: LineComponent,\n    selectors: [[\"g\", \"ngx-charts-line\", \"\"]],\n    inputs: {\n      fill: \"fill\",\n      animations: \"animations\",\n      path: \"path\",\n      stroke: \"stroke\",\n      data: \"data\"\n    },\n    outputs: {\n      select: \"select\"\n    },\n    features: [ɵngcc0.ɵɵNgOnChangesFeature],\n    attrs: _c37,\n    decls: 1,\n    vars: 4,\n    consts: [[\"stroke-width\", \"1.5px\", 1, \"line\"]],\n    template: function LineComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵnamespaceSVG();\n        ɵngcc0.ɵɵelement(0, \"path\", 0);\n      }\n      if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"@animationState\", \"active\");\n        ɵngcc0.ɵɵattribute(\"d\", ctx.initialPath)(\"fill\", ctx.fill)(\"stroke\", ctx.stroke);\n      }\n    },\n    encapsulation: 2,\n    data: {\n      animation: [trigger('animationState', [transition(':enter', [style({\n        strokeDasharray: 2000,\n        strokeDashoffset: 2000\n      }), animate(1000, style({\n        strokeDashoffset: 0\n      }))])])]\n    },\n    changeDetection: 0\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  return LineComponent;\n}();\nvar LineChartComponent = /** @class */function (_super) {\n  __extends(LineChartComponent, _super);\n  function LineChartComponent() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.legendTitle = 'Legend';\n    _this.legendPosition = 'right';\n    _this.showGridLines = true;\n    _this.curve = curveLinear;\n    _this.activeEntries = [];\n    _this.trimXAxisTicks = true;\n    _this.trimYAxisTicks = true;\n    _this.rotateXAxisTicks = true;\n    _this.maxXAxisTickLength = 16;\n    _this.maxYAxisTickLength = 16;\n    _this.roundDomains = false;\n    _this.tooltipDisabled = false;\n    _this.showRefLines = false;\n    _this.showRefLabels = true;\n    _this.activate = new EventEmitter();\n    _this.deactivate = new EventEmitter();\n    _this.margin = [10, 20, 10, 20];\n    _this.xAxisHeight = 0;\n    _this.yAxisWidth = 0;\n    _this.timelineHeight = 50;\n    _this.timelinePadding = 10;\n    return _this;\n  }\n  LineChartComponent.prototype.update = function () {\n    _super.prototype.update.call(this);\n    this.dims = calculateViewDimensions({\n      width: this.width,\n      height: this.height,\n      margins: this.margin,\n      showXAxis: this.xAxis,\n      showYAxis: this.yAxis,\n      xAxisHeight: this.xAxisHeight,\n      yAxisWidth: this.yAxisWidth,\n      showXLabel: this.showXAxisLabel,\n      showYLabel: this.showYAxisLabel,\n      showLegend: this.legend,\n      legendType: this.schemeType,\n      legendPosition: this.legendPosition\n    });\n    if (this.timeline) {\n      this.dims.height -= this.timelineHeight + this.margin[2] + this.timelinePadding;\n    }\n    this.xDomain = this.getXDomain();\n    if (this.filteredDomain) {\n      this.xDomain = this.filteredDomain;\n    }\n    this.yDomain = this.getYDomain();\n    this.seriesDomain = this.getSeriesDomain();\n    this.xScale = this.getXScale(this.xDomain, this.dims.width);\n    this.yScale = this.getYScale(this.yDomain, this.dims.height);\n    this.updateTimeline();\n    this.setColors();\n    this.legendOptions = this.getLegendOptions();\n    this.transform = \"translate(\" + this.dims.xOffset + \" , \" + this.margin[0] + \")\";\n    this.clipPathId = 'clip' + id().toString();\n    this.clipPath = \"url(#\" + this.clipPathId + \")\";\n  };\n  LineChartComponent.prototype.updateTimeline = function () {\n    if (this.timeline) {\n      this.timelineWidth = this.dims.width;\n      this.timelineXDomain = this.getXDomain();\n      this.timelineXScale = this.getXScale(this.timelineXDomain, this.timelineWidth);\n      this.timelineYScale = this.getYScale(this.yDomain, this.timelineHeight);\n      this.timelineTransform = \"translate(\" + this.dims.xOffset + \", \" + -this.margin[2] + \")\";\n    }\n  };\n  LineChartComponent.prototype.getXDomain = function () {\n    var values = getUniqueXDomainValues(this.results);\n    this.scaleType = getScaleType(values);\n    var domain = [];\n    if (this.scaleType === 'linear') {\n      values = values.map(function (v) {\n        return Number(v);\n      });\n    }\n    var min$$1;\n    var max$$1;\n    if (this.scaleType === 'time' || this.scaleType === 'linear') {\n      min$$1 = this.xScaleMin ? this.xScaleMin : Math.min.apply(Math, values);\n      max$$1 = this.xScaleMax ? this.xScaleMax : Math.max.apply(Math, values);\n    }\n    if (this.scaleType === 'time') {\n      domain = [new Date(min$$1), new Date(max$$1)];\n      this.xSet = values.slice().sort(function (a, b) {\n        var aDate = a.getTime();\n        var bDate = b.getTime();\n        if (aDate > bDate) return 1;\n        if (bDate > aDate) return -1;\n        return 0;\n      });\n    } else if (this.scaleType === 'linear') {\n      domain = [min$$1, max$$1];\n      this.xSet = values.slice().sort(function (a, b) {\n        return a - b;\n      });\n    } else {\n      domain = values;\n      this.xSet = values;\n    }\n    return domain;\n  };\n  LineChartComponent.prototype.getYDomain = function () {\n    var domain = [];\n    for (var _i = 0, _a = this.results; _i < _a.length; _i++) {\n      var results = _a[_i];\n      for (var _b = 0, _c = results.series; _b < _c.length; _b++) {\n        var d = _c[_b];\n        if (domain.indexOf(d.value) < 0) {\n          domain.push(d.value);\n        }\n        if (d.min !== undefined) {\n          this.hasRange = true;\n          if (domain.indexOf(d.min) < 0) {\n            domain.push(d.min);\n          }\n        }\n        if (d.max !== undefined) {\n          this.hasRange = true;\n          if (domain.indexOf(d.max) < 0) {\n            domain.push(d.max);\n          }\n        }\n      }\n    }\n    var values = domain.slice();\n    if (!this.autoScale) {\n      values.push(0);\n    }\n    var min$$1 = this.yScaleMin ? this.yScaleMin : Math.min.apply(Math, values);\n    var max$$1 = this.yScaleMax ? this.yScaleMax : Math.max.apply(Math, values);\n    return [min$$1, max$$1];\n  };\n  LineChartComponent.prototype.getSeriesDomain = function () {\n    return this.results.map(function (d) {\n      return d.name;\n    });\n  };\n  LineChartComponent.prototype.getXScale = function (domain, width) {\n    var scale;\n    if (this.scaleType === 'time') {\n      scale = scaleTime().range([0, width]).domain(domain);\n    } else if (this.scaleType === 'linear') {\n      scale = scaleLinear().range([0, width]).domain(domain);\n      if (this.roundDomains) {\n        scale = scale.nice();\n      }\n    } else if (this.scaleType === 'ordinal') {\n      scale = scalePoint().range([0, width]).padding(0.1).domain(domain);\n    }\n    return scale;\n  };\n  LineChartComponent.prototype.getYScale = function (domain, height) {\n    var scale = scaleLinear().range([height, 0]).domain(domain);\n    return this.roundDomains ? scale.nice() : scale;\n  };\n  LineChartComponent.prototype.updateDomain = function (domain) {\n    this.filteredDomain = domain;\n    this.xDomain = this.filteredDomain;\n    this.xScale = this.getXScale(this.xDomain, this.dims.width);\n  };\n  LineChartComponent.prototype.updateHoveredVertical = function (item) {\n    this.hoveredVertical = item.value;\n    this.deactivateAll();\n  };\n  LineChartComponent.prototype.hideCircles = function () {\n    this.hoveredVertical = null;\n    this.deactivateAll();\n  };\n  LineChartComponent.prototype.onClick = function (data) {\n    this.select.emit(data);\n  };\n  LineChartComponent.prototype.trackBy = function (index, item) {\n    return item.name;\n  };\n  LineChartComponent.prototype.setColors = function () {\n    var domain;\n    if (this.schemeType === 'ordinal') {\n      domain = this.seriesDomain;\n    } else {\n      domain = this.yDomain;\n    }\n    this.colors = new ColorHelper(this.scheme, this.schemeType, domain, this.customColors);\n  };\n  LineChartComponent.prototype.getLegendOptions = function () {\n    var opts = {\n      scaleType: this.schemeType,\n      colors: undefined,\n      domain: [],\n      title: undefined,\n      position: this.legendPosition\n    };\n    if (opts.scaleType === 'ordinal') {\n      opts.domain = this.seriesDomain;\n      opts.colors = this.colors;\n      opts.title = this.legendTitle;\n    } else {\n      opts.domain = this.yDomain;\n      opts.colors = this.colors.scale;\n    }\n    return opts;\n  };\n  LineChartComponent.prototype.updateYAxisWidth = function (_a) {\n    var width = _a.width;\n    this.yAxisWidth = width;\n    this.update();\n  };\n  LineChartComponent.prototype.updateXAxisHeight = function (_a) {\n    var height = _a.height;\n    this.xAxisHeight = height;\n    this.update();\n  };\n  LineChartComponent.prototype.onActivate = function (item) {\n    this.deactivateAll();\n    var idx = this.activeEntries.findIndex(function (d) {\n      return d.name === item.name && d.value === item.value;\n    });\n    if (idx > -1) {\n      return;\n    }\n    this.activeEntries = [item];\n    this.activate.emit({\n      value: item,\n      entries: this.activeEntries\n    });\n  };\n  LineChartComponent.prototype.onDeactivate = function (item) {\n    var idx = this.activeEntries.findIndex(function (d) {\n      return d.name === item.name && d.value === item.value;\n    });\n    this.activeEntries.splice(idx, 1);\n    this.activeEntries = this.activeEntries.slice();\n    this.deactivate.emit({\n      value: item,\n      entries: this.activeEntries\n    });\n  };\n  LineChartComponent.prototype.deactivateAll = function () {\n    this.activeEntries = this.activeEntries.slice();\n    for (var _i = 0, _a = this.activeEntries; _i < _a.length; _i++) {\n      var entry = _a[_i];\n      this.deactivate.emit({\n        value: entry,\n        entries: []\n      });\n    }\n    this.activeEntries = [];\n  };\n  var _a, _b, _c, _d;\n  __decorate([Input(), __metadata(\"design:type\", Object)], LineChartComponent.prototype, \"legend\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], LineChartComponent.prototype, \"legendTitle\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], LineChartComponent.prototype, \"legendPosition\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], LineChartComponent.prototype, \"xAxis\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], LineChartComponent.prototype, \"yAxis\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], LineChartComponent.prototype, \"showXAxisLabel\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], LineChartComponent.prototype, \"showYAxisLabel\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], LineChartComponent.prototype, \"xAxisLabel\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], LineChartComponent.prototype, \"yAxisLabel\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], LineChartComponent.prototype, \"autoScale\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], LineChartComponent.prototype, \"timeline\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], LineChartComponent.prototype, \"gradient\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], LineChartComponent.prototype, \"showGridLines\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], LineChartComponent.prototype, \"curve\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Array)], LineChartComponent.prototype, \"activeEntries\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], LineChartComponent.prototype, \"schemeType\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], LineChartComponent.prototype, \"rangeFillOpacity\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], LineChartComponent.prototype, \"trimXAxisTicks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], LineChartComponent.prototype, \"trimYAxisTicks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], LineChartComponent.prototype, \"rotateXAxisTicks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], LineChartComponent.prototype, \"maxXAxisTickLength\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], LineChartComponent.prototype, \"maxYAxisTickLength\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], LineChartComponent.prototype, \"xAxisTickFormatting\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], LineChartComponent.prototype, \"yAxisTickFormatting\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Array)], LineChartComponent.prototype, \"xAxisTicks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Array)], LineChartComponent.prototype, \"yAxisTicks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], LineChartComponent.prototype, \"roundDomains\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], LineChartComponent.prototype, \"tooltipDisabled\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], LineChartComponent.prototype, \"showRefLines\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], LineChartComponent.prototype, \"referenceLines\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], LineChartComponent.prototype, \"showRefLabels\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], LineChartComponent.prototype, \"xScaleMin\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], LineChartComponent.prototype, \"xScaleMax\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], LineChartComponent.prototype, \"yScaleMin\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], LineChartComponent.prototype, \"yScaleMax\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", typeof (_a = typeof EventEmitter !== \"undefined\" && EventEmitter) === \"function\" ? _a : Object)], LineChartComponent.prototype, \"activate\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", typeof (_b = typeof EventEmitter !== \"undefined\" && EventEmitter) === \"function\" ? _b : Object)], LineChartComponent.prototype, \"deactivate\", void 0);\n  __decorate([ContentChild('tooltipTemplate', {\n    static: false\n  }), __metadata(\"design:type\", typeof (_c = typeof TemplateRef !== \"undefined\" && TemplateRef) === \"function\" ? _c : Object)], LineChartComponent.prototype, \"tooltipTemplate\", void 0);\n  __decorate([ContentChild('seriesTooltipTemplate', {\n    static: false\n  }), __metadata(\"design:type\", typeof (_d = typeof TemplateRef !== \"undefined\" && TemplateRef) === \"function\" ? _d : Object)], LineChartComponent.prototype, \"seriesTooltipTemplate\", void 0);\n  __decorate([HostListener('mouseleave'), __metadata(\"design:type\", Function), __metadata(\"design:paramtypes\", []), __metadata(\"design:returntype\", void 0)], LineChartComponent.prototype, \"hideCircles\", null);\n  LineChartComponent.ɵfac = /*@__PURE__*/function () {\n    var ɵLineChartComponent_BaseFactory;\n    return function LineChartComponent_Factory(t) {\n      return (ɵLineChartComponent_BaseFactory || (ɵLineChartComponent_BaseFactory = ɵngcc0.ɵɵgetInheritedFactory(LineChartComponent)))(t || LineChartComponent);\n    };\n  }();\n  LineChartComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: LineChartComponent,\n    selectors: [[\"ngx-charts-line-chart\"]],\n    contentQueries: function LineChartComponent_ContentQueries(rf, ctx, dirIndex) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵcontentQuery(dirIndex, _c21, 5);\n        ɵngcc0.ɵɵcontentQuery(dirIndex, _c22, 5);\n      }\n      if (rf & 2) {\n        var _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.tooltipTemplate = _t.first);\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.seriesTooltipTemplate = _t.first);\n      }\n    },\n    hostBindings: function LineChartComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵlistener(\"mouseleave\", function LineChartComponent_mouseleave_HostBindingHandler() {\n          return ctx.hideCircles();\n        });\n      }\n    },\n    inputs: {\n      activeEntries: \"activeEntries\",\n      legend: \"legend\",\n      legendTitle: \"legendTitle\",\n      legendPosition: \"legendPosition\",\n      xAxis: \"xAxis\",\n      yAxis: \"yAxis\",\n      showXAxisLabel: \"showXAxisLabel\",\n      showYAxisLabel: \"showYAxisLabel\",\n      xAxisLabel: \"xAxisLabel\",\n      yAxisLabel: \"yAxisLabel\",\n      autoScale: \"autoScale\",\n      timeline: \"timeline\",\n      gradient: \"gradient\",\n      showGridLines: \"showGridLines\",\n      curve: \"curve\",\n      schemeType: \"schemeType\",\n      rangeFillOpacity: \"rangeFillOpacity\",\n      trimXAxisTicks: \"trimXAxisTicks\",\n      trimYAxisTicks: \"trimYAxisTicks\",\n      rotateXAxisTicks: \"rotateXAxisTicks\",\n      maxXAxisTickLength: \"maxXAxisTickLength\",\n      maxYAxisTickLength: \"maxYAxisTickLength\",\n      xAxisTickFormatting: \"xAxisTickFormatting\",\n      yAxisTickFormatting: \"yAxisTickFormatting\",\n      xAxisTicks: \"xAxisTicks\",\n      yAxisTicks: \"yAxisTicks\",\n      roundDomains: \"roundDomains\",\n      tooltipDisabled: \"tooltipDisabled\",\n      showRefLines: \"showRefLines\",\n      referenceLines: \"referenceLines\",\n      showRefLabels: \"showRefLabels\",\n      xScaleMin: \"xScaleMin\",\n      xScaleMax: \"xScaleMax\",\n      yScaleMin: \"yScaleMin\",\n      yScaleMax: \"yScaleMax\"\n    },\n    outputs: {\n      activate: \"activate\",\n      deactivate: \"deactivate\"\n    },\n    features: [ɵngcc0.ɵɵInheritDefinitionFeature],\n    decls: 11,\n    vars: 20,\n    consts: [[3, \"view\", \"showLegend\", \"legendOptions\", \"activeEntries\", \"animations\", \"legendLabelClick\", \"legendLabelActivate\", \"legendLabelDeactivate\"], [1, \"line-chart\", \"chart\"], [\"ngx-charts-x-axis\", \"\", 3, \"xScale\", \"dims\", \"showGridLines\", \"showLabel\", \"labelText\", \"trimTicks\", \"rotateTicks\", \"maxTickLength\", \"tickFormatting\", \"ticks\", \"dimensionsChanged\", 4, \"ngIf\"], [\"ngx-charts-y-axis\", \"\", 3, \"yScale\", \"dims\", \"showGridLines\", \"showLabel\", \"labelText\", \"trimTicks\", \"maxTickLength\", \"tickFormatting\", \"ticks\", \"referenceLines\", \"showRefLines\", \"showRefLabels\", \"dimensionsChanged\", 4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [3, \"mouseleave\", 4, \"ngIf\"], [\"ngx-charts-timeline\", \"\", 3, \"results\", \"view\", \"height\", \"scheme\", \"customColors\", \"scaleType\", \"legend\", \"onDomainChange\", 4, \"ngIf\"], [\"ngx-charts-x-axis\", \"\", 3, \"xScale\", \"dims\", \"showGridLines\", \"showLabel\", \"labelText\", \"trimTicks\", \"rotateTicks\", \"maxTickLength\", \"tickFormatting\", \"ticks\", \"dimensionsChanged\"], [\"ngx-charts-y-axis\", \"\", 3, \"yScale\", \"dims\", \"showGridLines\", \"showLabel\", \"labelText\", \"trimTicks\", \"maxTickLength\", \"tickFormatting\", \"ticks\", \"referenceLines\", \"showRefLines\", \"showRefLabels\", \"dimensionsChanged\"], [\"ngx-charts-line-series\", \"\", 3, \"xScale\", \"yScale\", \"colors\", \"data\", \"activeEntries\", \"scaleType\", \"curve\", \"rangeFillOpacity\", \"hasRange\", \"animations\"], [3, \"mouseleave\"], [\"ngx-charts-tooltip-area\", \"\", 3, \"dims\", \"xSet\", \"xScale\", \"yScale\", \"results\", \"colors\", \"tooltipDisabled\", \"tooltipTemplate\", \"hover\"], [4, \"ngFor\", \"ngForOf\"], [\"ngx-charts-circle-series\", \"\", 3, \"xScale\", \"yScale\", \"colors\", \"data\", \"scaleType\", \"visibleValue\", \"activeEntries\", \"tooltipDisabled\", \"tooltipTemplate\", \"select\", \"activate\", \"deactivate\"], [\"ngx-charts-timeline\", \"\", 3, \"results\", \"view\", \"height\", \"scheme\", \"customColors\", \"scaleType\", \"legend\", \"onDomainChange\"], [\"ngx-charts-line-series\", \"\", 3, \"xScale\", \"yScale\", \"colors\", \"data\", \"scaleType\", \"curve\", \"hasRange\", \"animations\"]],\n    template: function LineChartComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"ngx-charts-chart\", 0);\n        ɵngcc0.ɵɵlistener(\"legendLabelClick\", function LineChartComponent_Template_ngx_charts_chart_legendLabelClick_0_listener($event) {\n          return ctx.onClick($event);\n        })(\"legendLabelActivate\", function LineChartComponent_Template_ngx_charts_chart_legendLabelActivate_0_listener($event) {\n          return ctx.onActivate($event);\n        })(\"legendLabelDeactivate\", function LineChartComponent_Template_ngx_charts_chart_legendLabelDeactivate_0_listener($event) {\n          return ctx.onDeactivate($event);\n        });\n        ɵngcc0.ɵɵnamespaceSVG();\n        ɵngcc0.ɵɵelementStart(1, \"defs\")(2, \"clipPath\");\n        ɵngcc0.ɵɵelement(3, \"rect\");\n        ɵngcc0.ɵɵelementEnd()();\n        ɵngcc0.ɵɵelementStart(4, \"g\", 1);\n        ɵngcc0.ɵɵtemplate(5, LineChartComponent__svg_g_5_Template, 1, 10, \"g\", 2);\n        ɵngcc0.ɵɵtemplate(6, LineChartComponent__svg_g_6_Template, 1, 12, \"g\", 3);\n        ɵngcc0.ɵɵelementStart(7, \"g\");\n        ɵngcc0.ɵɵtemplate(8, LineChartComponent__svg_g_8_Template, 2, 11, \"g\", 4);\n        ɵngcc0.ɵɵtemplate(9, LineChartComponent__svg_g_9_Template, 3, 9, \"g\", 5);\n        ɵngcc0.ɵɵelementEnd()();\n        ɵngcc0.ɵɵtemplate(10, LineChartComponent__svg_g_10_Template, 2, 13, \"g\", 6);\n        ɵngcc0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"view\", ɵngcc0.ɵɵpureFunction2(17, _c23, ctx.width, ctx.height))(\"showLegend\", ctx.legend)(\"legendOptions\", ctx.legendOptions)(\"activeEntries\", ctx.activeEntries)(\"animations\", ctx.animations);\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵattribute(\"id\", ctx.clipPathId);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵattribute(\"width\", ctx.dims.width + 10)(\"height\", ctx.dims.height + 10)(\"transform\", \"translate(-5, -5)\");\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵattribute(\"transform\", ctx.transform);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.xAxis);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.yAxis);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵattribute(\"clip-path\", ctx.clipPath);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngForOf\", ctx.results)(\"ngForTrackBy\", ctx.trackBy);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", !ctx.tooltipDisabled);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.timeline && ctx.scaleType != \"ordinal\");\n      }\n    },\n    dependencies: function () {\n      return [ɵngcc1.NgForOf, ɵngcc1.NgIf, XAxisComponent, YAxisComponent, TooltipArea, ChartComponent, CircleSeriesComponent, Timeline, LineSeriesComponent];\n    },\n    styles: [_c24],\n    encapsulation: 2,\n    data: {\n      animation: [trigger('animationState', [transition(':leave', [style({\n        opacity: 1\n      }), animate(500, style({\n        opacity: 0\n      }))])])]\n    },\n    changeDetection: 0\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  return LineChartComponent;\n}(BaseChartComponent);\nvar LineSeriesComponent = /** @class */function () {\n  function LineSeriesComponent() {\n    this.animations = true;\n  }\n  LineSeriesComponent.prototype.ngOnChanges = function (changes) {\n    this.update();\n  };\n  LineSeriesComponent.prototype.update = function () {\n    this.updateGradients();\n    var data = this.sortData(this.data.series);\n    var lineGen = this.getLineGenerator();\n    this.path = lineGen(data) || '';\n    var areaGen = this.getAreaGenerator();\n    this.areaPath = areaGen(data) || '';\n    if (this.hasRange) {\n      var range$$1 = this.getRangeGenerator();\n      this.outerPath = range$$1(data) || '';\n    }\n    if (this.hasGradient) {\n      this.stroke = this.gradientUrl;\n      var values = this.data.series.map(function (d) {\n        return d.value;\n      });\n      var max$$1 = Math.max.apply(Math, values);\n      var min$$1 = Math.min.apply(Math, values);\n      if (max$$1 === min$$1) {\n        this.stroke = this.colors.getColor(max$$1);\n      }\n    } else {\n      this.stroke = this.colors.getColor(this.data.name);\n    }\n  };\n  LineSeriesComponent.prototype.getLineGenerator = function () {\n    var _this = this;\n    return line().x(function (d) {\n      var label = d.name;\n      var value;\n      if (_this.scaleType === 'time') {\n        value = _this.xScale(label);\n      } else if (_this.scaleType === 'linear') {\n        value = _this.xScale(Number(label));\n      } else {\n        value = _this.xScale(label);\n      }\n      return value;\n    }).y(function (d) {\n      return _this.yScale(d.value);\n    }).curve(this.curve);\n  };\n  LineSeriesComponent.prototype.getRangeGenerator = function () {\n    var _this = this;\n    return area().x(function (d) {\n      var label = d.name;\n      var value;\n      if (_this.scaleType === 'time') {\n        value = _this.xScale(label);\n      } else if (_this.scaleType === 'linear') {\n        value = _this.xScale(Number(label));\n      } else {\n        value = _this.xScale(label);\n      }\n      return value;\n    }).y0(function (d) {\n      return _this.yScale(typeof d.min === 'number' ? d.min : d.value);\n    }).y1(function (d) {\n      return _this.yScale(typeof d.max === 'number' ? d.max : d.value);\n    }).curve(this.curve);\n  };\n  LineSeriesComponent.prototype.getAreaGenerator = function () {\n    var _this = this;\n    var xProperty = function (d) {\n      var label = d.name;\n      return _this.xScale(label);\n    };\n    return area().x(xProperty).y0(function () {\n      return _this.yScale.range()[0];\n    }).y1(function (d) {\n      return _this.yScale(d.value);\n    }).curve(this.curve);\n  };\n  LineSeriesComponent.prototype.sortData = function (data) {\n    if (this.scaleType === 'linear') {\n      data = sortLinear(data, 'name');\n    } else if (this.scaleType === 'time') {\n      data = sortByTime(data, 'name');\n    } else {\n      data = sortByDomain(data, 'name', 'asc', this.xScale.domain());\n    }\n    return data;\n  };\n  LineSeriesComponent.prototype.updateGradients = function () {\n    if (this.colors.scaleType === 'linear') {\n      this.hasGradient = true;\n      this.gradientId = 'grad' + id().toString();\n      this.gradientUrl = \"url(#\" + this.gradientId + \")\";\n      var values = this.data.series.map(function (d) {\n        return d.value;\n      });\n      var max$$1 = Math.max.apply(Math, values);\n      var min$$1 = Math.min.apply(Math, values);\n      this.gradientStops = this.colors.getLinearGradientStops(max$$1, min$$1);\n      this.areaGradientStops = this.colors.getLinearGradientStops(max$$1);\n    } else {\n      this.hasGradient = false;\n      this.gradientStops = undefined;\n      this.areaGradientStops = undefined;\n    }\n  };\n  LineSeriesComponent.prototype.isActive = function (entry) {\n    if (!this.activeEntries) return false;\n    var item = this.activeEntries.find(function (d) {\n      return entry.name === d.name;\n    });\n    return item !== undefined;\n  };\n  LineSeriesComponent.prototype.isInactive = function (entry) {\n    if (!this.activeEntries || this.activeEntries.length === 0) return false;\n    var item = this.activeEntries.find(function (d) {\n      return entry.name === d.name;\n    });\n    return item === undefined;\n  };\n  __decorate([Input(), __metadata(\"design:type\", Object)], LineSeriesComponent.prototype, \"data\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], LineSeriesComponent.prototype, \"xScale\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], LineSeriesComponent.prototype, \"yScale\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], LineSeriesComponent.prototype, \"colors\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], LineSeriesComponent.prototype, \"scaleType\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], LineSeriesComponent.prototype, \"curve\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Array)], LineSeriesComponent.prototype, \"activeEntries\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], LineSeriesComponent.prototype, \"rangeFillOpacity\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], LineSeriesComponent.prototype, \"hasRange\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], LineSeriesComponent.prototype, \"animations\", void 0);\n  LineSeriesComponent.ɵfac = function LineSeriesComponent_Factory(t) {\n    return new (t || LineSeriesComponent)();\n  };\n  LineSeriesComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: LineSeriesComponent,\n    selectors: [[\"g\", \"ngx-charts-line-series\", \"\"]],\n    inputs: {\n      animations: \"animations\",\n      data: \"data\",\n      xScale: \"xScale\",\n      yScale: \"yScale\",\n      colors: \"colors\",\n      scaleType: \"scaleType\",\n      curve: \"curve\",\n      activeEntries: \"activeEntries\",\n      rangeFillOpacity: \"rangeFillOpacity\",\n      hasRange: \"hasRange\"\n    },\n    features: [ɵngcc0.ɵɵNgOnChangesFeature],\n    attrs: _c38,\n    decls: 6,\n    vars: 22,\n    consts: [[\"ngx-charts-svg-linear-gradient\", \"\", \"orientation\", \"vertical\", 3, \"name\", \"stops\", 4, \"ngIf\"], [\"ngx-charts-area\", \"\", 1, \"line-highlight\", 3, \"data\", \"path\", \"fill\", \"opacity\", \"startOpacity\", \"gradient\", \"stops\", \"animations\"], [\"ngx-charts-line\", \"\", 1, \"line-series\", 3, \"data\", \"path\", \"stroke\", \"animations\"], [\"ngx-charts-area\", \"\", \"class\", \"line-series-range\", 3, \"data\", \"path\", \"fill\", \"active\", \"inactive\", \"opacity\", \"animations\", 4, \"ngIf\"], [\"ngx-charts-svg-linear-gradient\", \"\", \"orientation\", \"vertical\", 3, \"name\", \"stops\"], [\"ngx-charts-area\", \"\", 1, \"line-series-range\", 3, \"data\", \"path\", \"fill\", \"opacity\", \"animations\"]],\n    template: function LineSeriesComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵnamespaceSVG();\n        ɵngcc0.ɵɵelementStart(0, \"g\")(1, \"defs\");\n        ɵngcc0.ɵɵtemplate(2, LineSeriesComponent__svg_g_2_Template, 1, 2, \"g\", 0);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelement(3, \"g\", 1)(4, \"g\", 2);\n        ɵngcc0.ɵɵtemplate(5, LineSeriesComponent__svg_g_5_Template, 1, 9, \"g\", 3);\n        ɵngcc0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.hasGradient);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵclassProp(\"active\", ctx.isActive(ctx.data))(\"inactive\", ctx.isInactive(ctx.data));\n        ɵngcc0.ɵɵproperty(\"data\", ctx.data)(\"path\", ctx.areaPath)(\"fill\", ctx.hasGradient ? ctx.gradientUrl : ctx.colors.getColor(ctx.data.name))(\"opacity\", 0.25)(\"startOpacity\", 0)(\"gradient\", true)(\"stops\", ctx.areaGradientStops)(\"animations\", ctx.animations);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵclassProp(\"active\", ctx.isActive(ctx.data))(\"inactive\", ctx.isInactive(ctx.data));\n        ɵngcc0.ɵɵproperty(\"data\", ctx.data)(\"path\", ctx.path)(\"stroke\", ctx.stroke)(\"animations\", ctx.animations);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.hasRange);\n      }\n    },\n    dependencies: [ɵngcc1.NgIf, AreaComponent, SvgLinearGradientComponent, LineComponent],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  return LineSeriesComponent;\n}();\nvar LineChartModule = /** @class */function () {\n  function LineChartModule() {}\n  LineChartModule.ɵfac = function LineChartModule_Factory(t) {\n    return new (t || LineChartModule)();\n  };\n  LineChartModule.ɵmod = /*@__PURE__*/ɵngcc0.ɵɵdefineNgModule({\n    type: LineChartModule\n  });\n  LineChartModule.ɵinj = /*@__PURE__*/ɵngcc0.ɵɵdefineInjector({\n    imports: [ChartCommonModule]\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  (function () {\n    (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(LineChartModule, {\n      declarations: [LineComponent, LineChartComponent, LineSeriesComponent],\n      imports: [ChartCommonModule],\n      exports: [LineComponent, LineChartComponent, LineSeriesComponent]\n    });\n  })();\n  return LineChartModule;\n}();\nvar twoPI = 2 * Math.PI;\nvar PolarChartComponent = /** @class */function (_super) {\n  __extends(PolarChartComponent, _super);\n  function PolarChartComponent() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.legendTitle = 'Legend';\n    _this.legendPosition = 'right';\n    _this.showGridLines = true;\n    _this.curve = curveCardinalClosed;\n    _this.activeEntries = [];\n    _this.rangeFillOpacity = 0.15;\n    _this.trimYAxisTicks = true;\n    _this.maxYAxisTickLength = 16;\n    _this.roundDomains = false;\n    _this.tooltipDisabled = false;\n    _this.showSeriesOnHover = true;\n    _this.gradient = false;\n    _this.yAxisMinScale = 0;\n    _this.labelTrim = true;\n    _this.labelTrimSize = 10;\n    _this.activate = new EventEmitter();\n    _this.deactivate = new EventEmitter();\n    _this.margin = [10, 20, 10, 20];\n    _this.xAxisHeight = 0;\n    _this.yAxisWidth = 0;\n    return _this;\n  }\n  PolarChartComponent.prototype.update = function () {\n    _super.prototype.update.call(this);\n    this.setDims();\n    this.setScales();\n    this.setColors();\n    this.legendOptions = this.getLegendOptions();\n    this.setTicks();\n  };\n  PolarChartComponent.prototype.setDims = function () {\n    this.dims = calculateViewDimensions({\n      width: this.width,\n      height: this.height,\n      margins: this.margin,\n      showXAxis: this.xAxis,\n      showYAxis: this.yAxis,\n      xAxisHeight: this.xAxisHeight,\n      yAxisWidth: this.yAxisWidth,\n      showXLabel: this.showXAxisLabel,\n      showYLabel: this.showYAxisLabel,\n      showLegend: this.legend,\n      legendType: this.schemeType,\n      legendPosition: this.legendPosition\n    });\n    var halfWidth = Math.floor(this.dims.width / 2);\n    var halfHeight = Math.floor(this.dims.height / 2);\n    var outerRadius = this.outerRadius = Math.min(halfHeight / 1.5, halfWidth / 1.5);\n    var yOffset = Math.max(0, halfHeight - outerRadius);\n    this.yAxisDims = __assign({}, this.dims, {\n      width: halfWidth\n    });\n    this.transform = \"translate(\" + this.dims.xOffset + \", \" + this.margin[0] + \")\";\n    this.transformYAxis = \"translate(0, \" + yOffset + \")\";\n    this.labelOffset = this.dims.height + 40;\n    this.transformPlot = \"translate(\" + halfWidth + \", \" + halfHeight + \")\";\n  };\n  PolarChartComponent.prototype.setScales = function () {\n    var xValues = this.getXValues();\n    this.scaleType = getScaleType(xValues);\n    this.xDomain = this.filteredDomain || this.getXDomain(xValues);\n    this.yDomain = this.getYDomain();\n    this.seriesDomain = this.getSeriesDomain();\n    this.xScale = this.getXScale(this.xDomain, twoPI);\n    this.yScale = this.getYScale(this.yDomain, this.outerRadius);\n    this.yAxisScale = this.getYScale(this.yDomain.reverse(), this.outerRadius);\n  };\n  PolarChartComponent.prototype.setTicks = function () {\n    var _this = this;\n    var tickFormat;\n    if (this.xAxisTickFormatting) {\n      tickFormat = this.xAxisTickFormatting;\n    } else if (this.xScale.tickFormat) {\n      tickFormat = this.xScale.tickFormat.apply(this.xScale, [5]);\n    } else {\n      tickFormat = function (d) {\n        if (isDate(d)) {\n          return d.toLocaleDateString();\n        }\n        return d.toLocaleString();\n      };\n    }\n    var outerRadius = this.outerRadius;\n    var s = 1.1;\n    this.thetaTicks = this.xDomain.map(function (d) {\n      var startAngle = _this.xScale(d);\n      var dd = s * outerRadius * (startAngle > Math.PI ? -1 : 1);\n      var label = tickFormat(d);\n      var startPos = [outerRadius * Math.sin(startAngle), -outerRadius * Math.cos(startAngle)];\n      var pos = [dd, s * startPos[1]];\n      return {\n        innerRadius: 0,\n        outerRadius: outerRadius,\n        startAngle: startAngle,\n        endAngle: startAngle,\n        value: outerRadius,\n        label: label,\n        startPos: startPos,\n        pos: pos\n      };\n    });\n    var minDistance = 10;\n    for (var i = 0; i < this.thetaTicks.length - 1; i++) {\n      var a = this.thetaTicks[i];\n      for (var j = i + 1; j < this.thetaTicks.length; j++) {\n        var b = this.thetaTicks[j];\n        if (b.pos[0] * a.pos[0] > 0) {\n          var o = minDistance - Math.abs(b.pos[1] - a.pos[1]);\n          if (o > 0) {\n            b.pos[1] += Math.sign(b.pos[0]) * o;\n          }\n        }\n      }\n    }\n    this.radiusTicks = this.yAxisScale.ticks(Math.floor(this.dims.height / 50)).map(function (d) {\n      return _this.yScale(d);\n    });\n  };\n  PolarChartComponent.prototype.getXValues = function () {\n    var values = [];\n    for (var _i = 0, _a = this.results; _i < _a.length; _i++) {\n      var results = _a[_i];\n      for (var _b = 0, _c = results.series; _b < _c.length; _b++) {\n        var d = _c[_b];\n        if (!values.includes(d.name)) {\n          values.push(d.name);\n        }\n      }\n    }\n    return values;\n  };\n  PolarChartComponent.prototype.getXDomain = function (values) {\n    if (values === void 0) {\n      values = this.getXValues();\n    }\n    if (this.scaleType === 'time') {\n      var min$$1 = Math.min.apply(Math, values);\n      var max$$1 = Math.max.apply(Math, values);\n      return [min$$1, max$$1];\n    } else if (this.scaleType === 'linear') {\n      values = values.map(function (v) {\n        return Number(v);\n      });\n      var min$$1 = Math.min.apply(Math, values);\n      var max$$1 = Math.max.apply(Math, values);\n      return [min$$1, max$$1];\n    }\n    return values;\n  };\n  PolarChartComponent.prototype.getYValues = function () {\n    var domain = [];\n    for (var _i = 0, _a = this.results; _i < _a.length; _i++) {\n      var results = _a[_i];\n      for (var _b = 0, _c = results.series; _b < _c.length; _b++) {\n        var d = _c[_b];\n        if (domain.indexOf(d.value) < 0) {\n          domain.push(d.value);\n        }\n        if (d.min !== undefined) {\n          if (domain.indexOf(d.min) < 0) {\n            domain.push(d.min);\n          }\n        }\n        if (d.max !== undefined) {\n          if (domain.indexOf(d.max) < 0) {\n            domain.push(d.max);\n          }\n        }\n      }\n    }\n    return domain;\n  };\n  PolarChartComponent.prototype.getYDomain = function (domain) {\n    if (domain === void 0) {\n      domain = this.getYValues();\n    }\n    var min$$1 = Math.min.apply(Math, domain);\n    var max$$1 = Math.max.apply(Math, [this.yAxisMinScale].concat(domain));\n    min$$1 = Math.max(0, min$$1);\n    if (!this.autoScale) {\n      min$$1 = Math.min(0, min$$1);\n    }\n    return [min$$1, max$$1];\n  };\n  PolarChartComponent.prototype.getSeriesDomain = function () {\n    return this.results.map(function (d) {\n      return d.name;\n    });\n  };\n  PolarChartComponent.prototype.getXScale = function (domain, width) {\n    switch (this.scaleType) {\n      case 'time':\n        return scaleTime().range([0, width]).domain(domain);\n      case 'linear':\n        var scale = scaleLinear().range([0, width]).domain(domain);\n        return this.roundDomains ? scale.nice() : scale;\n      default:\n        return scalePoint().range([0, width - twoPI / domain.length]).padding(0).domain(domain);\n    }\n  };\n  PolarChartComponent.prototype.getYScale = function (domain, height) {\n    var scale = scaleLinear().range([0, height]).domain(domain);\n    return this.roundDomains ? scale.nice() : scale;\n  };\n  PolarChartComponent.prototype.onClick = function (data, series) {\n    if (series) {\n      data.series = series.name;\n    }\n    this.select.emit(data);\n  };\n  PolarChartComponent.prototype.setColors = function () {\n    var domain = this.schemeType === 'ordinal' ? this.seriesDomain : this.yDomain.reverse();\n    this.colors = new ColorHelper(this.scheme, this.schemeType, domain, this.customColors);\n  };\n  PolarChartComponent.prototype.getLegendOptions = function () {\n    if (this.schemeType === 'ordinal') {\n      return {\n        scaleType: this.schemeType,\n        colors: this.colors,\n        domain: this.seriesDomain,\n        title: this.legendTitle,\n        position: this.legendPosition\n      };\n    }\n    return {\n      scaleType: this.schemeType,\n      colors: this.colors.scale,\n      domain: this.yDomain,\n      title: undefined,\n      position: this.legendPosition\n    };\n  };\n  PolarChartComponent.prototype.updateYAxisWidth = function (_a) {\n    var width = _a.width;\n    this.yAxisWidth = width;\n    this.update();\n  };\n  PolarChartComponent.prototype.updateXAxisHeight = function (_a) {\n    var height = _a.height;\n    this.xAxisHeight = height;\n    this.update();\n  };\n  PolarChartComponent.prototype.onActivate = function (item) {\n    var idx = this.activeEntries.findIndex(function (d) {\n      return d.name === item.name && d.value === item.value;\n    });\n    if (idx > -1) {\n      return;\n    }\n    this.activeEntries = this.showSeriesOnHover ? [item].concat(this.activeEntries) : this.activeEntries;\n    this.activate.emit({\n      value: item,\n      entries: this.activeEntries\n    });\n  };\n  PolarChartComponent.prototype.onDeactivate = function (item) {\n    var idx = this.activeEntries.findIndex(function (d) {\n      return d.name === item.name && d.value === item.value;\n    });\n    this.activeEntries.splice(idx, 1);\n    this.activeEntries = this.activeEntries.slice();\n    this.deactivate.emit({\n      value: item,\n      entries: this.activeEntries\n    });\n  };\n  PolarChartComponent.prototype.deactivateAll = function () {\n    this.activeEntries = this.activeEntries.slice();\n    for (var _i = 0, _a = this.activeEntries; _i < _a.length; _i++) {\n      var entry = _a[_i];\n      this.deactivate.emit({\n        value: entry,\n        entries: []\n      });\n    }\n    this.activeEntries = [];\n  };\n  PolarChartComponent.prototype.trackBy = function (index, item) {\n    return item.name;\n  };\n  var _a, _b, _c;\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], PolarChartComponent.prototype, \"legend\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], PolarChartComponent.prototype, \"legendTitle\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], PolarChartComponent.prototype, \"legendPosition\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], PolarChartComponent.prototype, \"xAxis\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], PolarChartComponent.prototype, \"yAxis\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], PolarChartComponent.prototype, \"showXAxisLabel\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], PolarChartComponent.prototype, \"showYAxisLabel\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], PolarChartComponent.prototype, \"xAxisLabel\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], PolarChartComponent.prototype, \"yAxisLabel\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], PolarChartComponent.prototype, \"autoScale\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], PolarChartComponent.prototype, \"showGridLines\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], PolarChartComponent.prototype, \"curve\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Array)], PolarChartComponent.prototype, \"activeEntries\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], PolarChartComponent.prototype, \"schemeType\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], PolarChartComponent.prototype, \"rangeFillOpacity\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], PolarChartComponent.prototype, \"trimYAxisTicks\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], PolarChartComponent.prototype, \"maxYAxisTickLength\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Function)], PolarChartComponent.prototype, \"xAxisTickFormatting\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Function)], PolarChartComponent.prototype, \"yAxisTickFormatting\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], PolarChartComponent.prototype, \"roundDomains\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], PolarChartComponent.prototype, \"tooltipDisabled\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], PolarChartComponent.prototype, \"showSeriesOnHover\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], PolarChartComponent.prototype, \"gradient\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], PolarChartComponent.prototype, \"yAxisMinScale\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], PolarChartComponent.prototype, \"labelTrim\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], PolarChartComponent.prototype, \"labelTrimSize\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", typeof (_a = typeof EventEmitter !== \"undefined\" && EventEmitter) === \"function\" ? _a : Object)], PolarChartComponent.prototype, \"activate\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", typeof (_b = typeof EventEmitter !== \"undefined\" && EventEmitter) === \"function\" ? _b : Object)], PolarChartComponent.prototype, \"deactivate\", void 0);\n  __decorate([ContentChild('tooltipTemplate', {\n    static: false\n  }), __metadata(\"design:type\", typeof (_c = typeof TemplateRef !== \"undefined\" && TemplateRef) === \"function\" ? _c : Object)], PolarChartComponent.prototype, \"tooltipTemplate\", void 0);\n  PolarChartComponent.ɵfac = /*@__PURE__*/function () {\n    var ɵPolarChartComponent_BaseFactory;\n    return function PolarChartComponent_Factory(t) {\n      return (ɵPolarChartComponent_BaseFactory || (ɵPolarChartComponent_BaseFactory = ɵngcc0.ɵɵgetInheritedFactory(PolarChartComponent)))(t || PolarChartComponent);\n    };\n  }();\n  PolarChartComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: PolarChartComponent,\n    selectors: [[\"ngx-charts-polar-chart\"]],\n    contentQueries: function PolarChartComponent_ContentQueries(rf, ctx, dirIndex) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵcontentQuery(dirIndex, _c21, 5);\n      }\n      if (rf & 2) {\n        var _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.tooltipTemplate = _t.first);\n      }\n    },\n    inputs: {\n      activeEntries: \"activeEntries\",\n      legend: \"legend\",\n      legendTitle: \"legendTitle\",\n      legendPosition: \"legendPosition\",\n      xAxis: \"xAxis\",\n      yAxis: \"yAxis\",\n      showXAxisLabel: \"showXAxisLabel\",\n      showYAxisLabel: \"showYAxisLabel\",\n      xAxisLabel: \"xAxisLabel\",\n      yAxisLabel: \"yAxisLabel\",\n      autoScale: \"autoScale\",\n      showGridLines: \"showGridLines\",\n      curve: \"curve\",\n      schemeType: \"schemeType\",\n      rangeFillOpacity: \"rangeFillOpacity\",\n      trimYAxisTicks: \"trimYAxisTicks\",\n      maxYAxisTickLength: \"maxYAxisTickLength\",\n      xAxisTickFormatting: \"xAxisTickFormatting\",\n      yAxisTickFormatting: \"yAxisTickFormatting\",\n      roundDomains: \"roundDomains\",\n      tooltipDisabled: \"tooltipDisabled\",\n      showSeriesOnHover: \"showSeriesOnHover\",\n      gradient: \"gradient\",\n      yAxisMinScale: \"yAxisMinScale\",\n      labelTrim: \"labelTrim\",\n      labelTrimSize: \"labelTrimSize\"\n    },\n    outputs: {\n      activate: \"activate\",\n      deactivate: \"deactivate\"\n    },\n    features: [ɵngcc0.ɵɵInheritDefinitionFeature],\n    decls: 10,\n    vars: 18,\n    consts: [[3, \"view\", \"showLegend\", \"legendOptions\", \"activeEntries\", \"animations\", \"legendLabelClick\", \"legendLabelActivate\", \"legendLabelDeactivate\"], [1, \"polar-chart\", \"chart\"], [\"cx\", \"0\", \"cy\", \"0\", 1, \"polar-chart-background\"], [4, \"ngIf\"], [\"ngx-charts-y-axis\", \"\", 3, \"yScale\", \"dims\", \"showGridLines\", \"showLabel\", \"labelText\", \"trimTicks\", \"maxTickLength\", \"tickFormatting\", \"dimensionsChanged\", 4, \"ngIf\"], [\"ngx-charts-axis-label\", \"\", 3, \"label\", \"offset\", \"orient\", \"height\", \"width\", 4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [\"class\", \"gridline-path radial-gridline-path\", \"cx\", \"0\", \"cy\", \"0\", 4, \"ngFor\", \"ngForOf\"], [\"cx\", \"0\", \"cy\", \"0\", 1, \"gridline-path\", \"radial-gridline-path\"], [\"ngx-charts-pie-label\", \"\", 3, \"data\", \"radius\", \"label\", \"max\", \"value\", \"explodeSlices\", \"animations\", \"labelTrim\", \"labelTrimSize\", 4, \"ngFor\", \"ngForOf\"], [\"ngx-charts-pie-label\", \"\", 3, \"data\", \"radius\", \"label\", \"max\", \"value\", \"explodeSlices\", \"animations\", \"labelTrim\", \"labelTrimSize\"], [\"ngx-charts-y-axis\", \"\", 3, \"yScale\", \"dims\", \"showGridLines\", \"showLabel\", \"labelText\", \"trimTicks\", \"maxTickLength\", \"tickFormatting\", \"dimensionsChanged\"], [\"ngx-charts-axis-label\", \"\", 3, \"label\", \"offset\", \"orient\", \"height\", \"width\"], [\"ngx-charts-polar-series\", \"\", 3, \"gradient\", \"xScale\", \"yScale\", \"colors\", \"data\", \"activeEntries\", \"scaleType\", \"curve\", \"rangeFillOpacity\", \"animations\", \"tooltipDisabled\", \"tooltipTemplate\", \"select\", \"activate\", \"deactivate\"]],\n    template: function PolarChartComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"ngx-charts-chart\", 0);\n        ɵngcc0.ɵɵlistener(\"legendLabelClick\", function PolarChartComponent_Template_ngx_charts_chart_legendLabelClick_0_listener($event) {\n          return ctx.onClick($event);\n        })(\"legendLabelActivate\", function PolarChartComponent_Template_ngx_charts_chart_legendLabelActivate_0_listener($event) {\n          return ctx.onActivate($event);\n        })(\"legendLabelDeactivate\", function PolarChartComponent_Template_ngx_charts_chart_legendLabelDeactivate_0_listener($event) {\n          return ctx.onDeactivate($event);\n        });\n        ɵngcc0.ɵɵnamespaceSVG();\n        ɵngcc0.ɵɵelementStart(1, \"g\", 1)(2, \"g\");\n        ɵngcc0.ɵɵelement(3, \"circle\", 2);\n        ɵngcc0.ɵɵtemplate(4, PolarChartComponent__svg_g_4_Template, 2, 1, \"g\", 3);\n        ɵngcc0.ɵɵtemplate(5, PolarChartComponent__svg_g_5_Template, 2, 1, \"g\", 3);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵtemplate(6, PolarChartComponent__svg_g_6_Template, 1, 9, \"g\", 4);\n        ɵngcc0.ɵɵtemplate(7, PolarChartComponent__svg_g_7_Template, 1, 5, \"g\", 5);\n        ɵngcc0.ɵɵelementStart(8, \"g\");\n        ɵngcc0.ɵɵtemplate(9, PolarChartComponent__svg_g_9_Template, 2, 13, \"g\", 6);\n        ɵngcc0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"view\", ɵngcc0.ɵɵpureFunction2(15, _c23, ctx.width, ctx.height))(\"showLegend\", ctx.legend)(\"legendOptions\", ctx.legendOptions)(\"activeEntries\", ctx.activeEntries)(\"animations\", ctx.animations);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵattribute(\"transform\", ctx.transform);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵattribute(\"transform\", ctx.transformPlot);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵattribute(\"r\", ctx.outerRadius);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.showGridLines);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.xAxis);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.yAxis);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.xAxis && ctx.showXAxisLabel);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵattribute(\"transform\", ctx.transformPlot);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngForOf\", ctx.results)(\"ngForTrackBy\", ctx.trackBy);\n      }\n    },\n    dependencies: function () {\n      return [ɵngcc1.NgForOf, ɵngcc1.NgIf, AxisLabelComponent, YAxisComponent, ChartComponent, PieLabelComponent, PolarSeriesComponent];\n    },\n    styles: [_c24, _c42, \".polar-chart .polar-chart-background{fill:none}.polar-chart .radial-gridline-path{stroke-dasharray:10 10;fill:none}.polar-chart .pie-label-line{stroke:#2f3646}.polar-charts-series .polar-series-area{pointer-events:none}.polar-series-path{pointer-events:none}\"],\n    encapsulation: 2,\n    data: {\n      animation: [trigger('animationState', [transition(':leave', [style({\n        opacity: 1\n      }), animate(500, style({\n        opacity: 0\n      }))])])]\n    },\n    changeDetection: 0\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  return PolarChartComponent;\n}(BaseChartComponent);\nvar PolarSeriesComponent = /** @class */function () {\n  function PolarSeriesComponent() {\n    this.tooltipDisabled = false;\n    this.gradient = false;\n    this.animations = true;\n    this.select = new EventEmitter();\n    this.activate = new EventEmitter();\n    this.deactivate = new EventEmitter();\n    this.circleRadius = 3;\n  }\n  PolarSeriesComponent.prototype.ngOnChanges = function (changes) {\n    this.update();\n  };\n  PolarSeriesComponent.prototype.update = function () {\n    var _this = this;\n    this.updateGradients();\n    var line$$1 = this.getLineGenerator();\n    var data = this.sortData(this.data.series);\n    var seriesName = this.data.name;\n    var linearScaleType = this.colors.scaleType === 'linear';\n    var min$$1 = this.yScale.domain()[0];\n    this.seriesColor = this.colors.getColor(linearScaleType ? min$$1 : seriesName);\n    this.path = line$$1(data) || '';\n    this.circles = data.map(function (d) {\n      var a = _this.getAngle(d);\n      var r = _this.getRadius(d);\n      var value = d.value;\n      var color = _this.colors.getColor(linearScaleType ? Math.abs(value) : seriesName);\n      var cData = Object.assign({}, d, {\n        series: seriesName,\n        value: value,\n        name: d.name\n      });\n      return {\n        data: cData,\n        cx: r * Math.sin(a),\n        cy: -r * Math.cos(a),\n        value: value,\n        color: color,\n        label: d.name\n      };\n    });\n    this.active = this.isActive(this.data);\n    this.inactive = this.isInactive(this.data);\n    this.tooltipText = this.tooltipText || function (c) {\n      return _this.defaultTooltipText(c);\n    };\n  };\n  PolarSeriesComponent.prototype.getAngle = function (d) {\n    var label = d.name;\n    if (this.scaleType === 'time') {\n      return this.xScale(label);\n    } else if (this.scaleType === 'linear') {\n      return this.xScale(Number(label));\n    }\n    return this.xScale(label);\n  };\n  PolarSeriesComponent.prototype.getRadius = function (d) {\n    return this.yScale(d.value);\n  };\n  PolarSeriesComponent.prototype.getLineGenerator = function () {\n    var _this = this;\n    return lineRadial().angle(function (d) {\n      return _this.getAngle(d);\n    }).radius(function (d) {\n      return _this.getRadius(d);\n    }).curve(this.curve);\n  };\n  PolarSeriesComponent.prototype.sortData = function (data) {\n    if (this.scaleType === 'linear') {\n      return sortLinear(data, 'name');\n    } else if (this.scaleType === 'time') {\n      return sortByTime(data, 'name');\n    }\n    return sortByDomain(data, 'name', 'asc', this.xScale.domain());\n  };\n  PolarSeriesComponent.prototype.isActive = function (entry) {\n    if (!this.activeEntries) return false;\n    var item = this.activeEntries.find(function (d) {\n      return entry.name === d.name;\n    });\n    return item !== undefined;\n  };\n  PolarSeriesComponent.prototype.isInactive = function (entry) {\n    if (!this.activeEntries || this.activeEntries.length === 0) return false;\n    var item = this.activeEntries.find(function (d) {\n      return entry.name === d.name;\n    });\n    return item === undefined;\n  };\n  PolarSeriesComponent.prototype.defaultTooltipText = function (_a) {\n    var label = _a.label,\n      value = _a.value;\n    return \"\\n      <span class=\\\"tooltip-label\\\">\" + escapeLabel(this.data.name) + \" \\u2022 \" + escapeLabel(label) + \"</span>\\n      <span class=\\\"tooltip-val\\\">\" + value.toLocaleString() + \"</span>\\n    \";\n  };\n  PolarSeriesComponent.prototype.updateGradients = function () {\n    this.hasGradient = this.gradient || this.colors.scaleType === 'linear';\n    if (!this.hasGradient) {\n      return;\n    }\n    this.gradientId = 'grad' + id().toString();\n    this.gradientUrl = \"url(#\" + this.gradientId + \")\";\n    if (this.colors.scaleType === 'linear') {\n      var values = this.data.series.map(function (d) {\n        return d.value;\n      });\n      var max$$1 = Math.max.apply(Math, values);\n      var min$$1 = Math.min.apply(Math, values);\n      this.gradientStops = this.colors.getLinearGradientStops(max$$1, min$$1);\n    } else {\n      this.gradientStops = undefined;\n    }\n  };\n  var _a;\n  __decorate([Input(), __metadata(\"design:type\", Object)], PolarSeriesComponent.prototype, \"name\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], PolarSeriesComponent.prototype, \"data\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], PolarSeriesComponent.prototype, \"xScale\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], PolarSeriesComponent.prototype, \"yScale\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], PolarSeriesComponent.prototype, \"colors\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], PolarSeriesComponent.prototype, \"scaleType\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], PolarSeriesComponent.prototype, \"curve\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Array)], PolarSeriesComponent.prototype, \"activeEntries\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], PolarSeriesComponent.prototype, \"rangeFillOpacity\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], PolarSeriesComponent.prototype, \"tooltipDisabled\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Function)], PolarSeriesComponent.prototype, \"tooltipText\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], PolarSeriesComponent.prototype, \"gradient\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", typeof (_a = typeof TemplateRef !== \"undefined\" && TemplateRef) === \"function\" ? _a : Object)], PolarSeriesComponent.prototype, \"tooltipTemplate\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], PolarSeriesComponent.prototype, \"animations\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", Object)], PolarSeriesComponent.prototype, \"select\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", Object)], PolarSeriesComponent.prototype, \"activate\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", Object)], PolarSeriesComponent.prototype, \"deactivate\", void 0);\n  PolarSeriesComponent.ɵfac = function PolarSeriesComponent_Factory(t) {\n    return new (t || PolarSeriesComponent)();\n  };\n  PolarSeriesComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: PolarSeriesComponent,\n    selectors: [[\"g\", \"ngx-charts-polar-series\", \"\"]],\n    inputs: {\n      tooltipDisabled: \"tooltipDisabled\",\n      gradient: \"gradient\",\n      animations: \"animations\",\n      tooltipText: \"tooltipText\",\n      name: \"name\",\n      data: \"data\",\n      xScale: \"xScale\",\n      yScale: \"yScale\",\n      colors: \"colors\",\n      scaleType: \"scaleType\",\n      curve: \"curve\",\n      activeEntries: \"activeEntries\",\n      rangeFillOpacity: \"rangeFillOpacity\",\n      tooltipTemplate: \"tooltipTemplate\"\n    },\n    outputs: {\n      select: \"select\",\n      activate: \"activate\",\n      deactivate: \"deactivate\"\n    },\n    features: [ɵngcc0.ɵɵNgOnChangesFeature],\n    attrs: _c39,\n    decls: 5,\n    vars: 11,\n    consts: [[1, \"polar-charts-series\"], [\"ngx-charts-svg-radial-gradient\", \"\", \"orientation\", \"vertical\", 3, \"color\", \"name\", \"startOpacity\", \"endOpacity\", \"stops\", 4, \"ngIf\"], [\"ngx-charts-line\", \"\", 1, \"polar-series-path\", 3, \"path\", \"stroke\", \"fill\", \"animations\"], [\"ngx-charts-circle\", \"\", \"class\", \"circle\", \"ngx-tooltip\", \"\", \"tooltipType\", \"tooltip\", 3, \"cx\", \"cy\", \"r\", \"fill\", \"opacity\", \"tooltipDisabled\", \"tooltipPlacement\", \"tooltipTitle\", \"tooltipTemplate\", \"tooltipContext\", \"select\", \"activate\", \"deactivate\", 4, \"ngFor\", \"ngForOf\"], [\"ngx-charts-svg-radial-gradient\", \"\", \"orientation\", \"vertical\", 3, \"color\", \"name\", \"startOpacity\", \"endOpacity\", \"stops\"], [\"ngx-charts-circle\", \"\", \"ngx-tooltip\", \"\", \"tooltipType\", \"tooltip\", 1, \"circle\", 3, \"cx\", \"cy\", \"r\", \"fill\", \"tooltipDisabled\", \"tooltipPlacement\", \"tooltipTitle\", \"tooltipTemplate\", \"tooltipContext\", \"select\", \"activate\", \"deactivate\"]],\n    template: function PolarSeriesComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵnamespaceSVG();\n        ɵngcc0.ɵɵelementStart(0, \"g\", 0)(1, \"defs\");\n        ɵngcc0.ɵɵtemplate(2, PolarSeriesComponent__svg_g_2_Template, 1, 5, \"g\", 1);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelement(3, \"g\", 2);\n        ɵngcc0.ɵɵtemplate(4, PolarSeriesComponent__svg_g_4_Template, 1, 11, \"g\", 3);\n        ɵngcc0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.hasGradient);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵclassProp(\"active\", ctx.active)(\"inactive\", ctx.inactive);\n        ɵngcc0.ɵɵproperty(\"path\", ctx.path)(\"stroke\", ctx.hasGradient ? ctx.gradientUrl : ctx.seriesColor)(\"fill\", ctx.hasGradient ? ctx.gradientUrl : ctx.seriesColor)(\"animations\", ctx.animations);\n        ɵngcc0.ɵɵattribute(\"fill-opacity\", ctx.rangeFillOpacity);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngForOf\", ctx.circles);\n      }\n    },\n    dependencies: [ɵngcc1.NgForOf, ɵngcc1.NgIf, TooltipDirective, CircleComponent, SvgRadialGradientComponent, LineComponent],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  return PolarSeriesComponent;\n}();\nvar AdvancedPieChartComponent = /** @class */function (_super) {\n  __extends(AdvancedPieChartComponent, _super);\n  function AdvancedPieChartComponent() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.activeEntries = [];\n    _this.tooltipDisabled = false;\n    _this.label = 'Total';\n    _this.activate = new EventEmitter();\n    _this.deactivate = new EventEmitter();\n    _this.margin = [20, 20, 20, 20];\n    return _this;\n  }\n  AdvancedPieChartComponent.prototype.update = function () {\n    _super.prototype.update.call(this);\n    this.dims = calculateViewDimensions({\n      width: this.width * 4 / 12.0,\n      height: this.height,\n      margins: this.margin\n    });\n    this.formatDates();\n    this.domain = this.getDomain();\n    this.setColors();\n    var xOffset = this.dims.width / 2;\n    var yOffset = this.margin[0] + this.dims.height / 2;\n    this.legendWidth = this.width - this.dims.width - this.margin[1];\n    this.outerRadius = Math.min(this.dims.width, this.dims.height) / 2.5;\n    this.innerRadius = this.outerRadius * 0.75;\n    this.transform = \"translate(\" + xOffset + \" , \" + yOffset + \")\";\n  };\n  AdvancedPieChartComponent.prototype.getDomain = function () {\n    return this.results.map(function (d) {\n      return d.label;\n    });\n  };\n  AdvancedPieChartComponent.prototype.onClick = function (data) {\n    this.select.emit(data);\n  };\n  AdvancedPieChartComponent.prototype.setColors = function () {\n    this.colors = new ColorHelper(this.scheme, 'ordinal', this.domain, this.customColors);\n  };\n  AdvancedPieChartComponent.prototype.onActivate = function (item, fromLegend) {\n    if (fromLegend === void 0) {\n      fromLegend = false;\n    }\n    item = this.results.find(function (d) {\n      if (fromLegend) {\n        return d.label === item.name;\n      } else {\n        return d.name === item.name;\n      }\n    });\n    var idx = this.activeEntries.findIndex(function (d) {\n      return d.name === item.name && d.value === item.value && d.series === item.series;\n    });\n    if (idx > -1) {\n      return;\n    }\n    this.activeEntries = [item].concat(this.activeEntries);\n    this.activate.emit({\n      value: item,\n      entries: this.activeEntries\n    });\n  };\n  AdvancedPieChartComponent.prototype.onDeactivate = function (item, fromLegend) {\n    if (fromLegend === void 0) {\n      fromLegend = false;\n    }\n    item = this.results.find(function (d) {\n      if (fromLegend) {\n        return d.label === item.name;\n      } else {\n        return d.name === item.name;\n      }\n    });\n    var idx = this.activeEntries.findIndex(function (d) {\n      return d.name === item.name && d.value === item.value && d.series === item.series;\n    });\n    this.activeEntries.splice(idx, 1);\n    this.activeEntries = this.activeEntries.slice();\n    this.deactivate.emit({\n      value: item,\n      entries: this.activeEntries\n    });\n  };\n  var _a, _b, _c;\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], AdvancedPieChartComponent.prototype, \"gradient\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Array)], AdvancedPieChartComponent.prototype, \"activeEntries\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], AdvancedPieChartComponent.prototype, \"tooltipDisabled\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], AdvancedPieChartComponent.prototype, \"tooltipText\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], AdvancedPieChartComponent.prototype, \"label\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", typeof (_a = typeof EventEmitter !== \"undefined\" && EventEmitter) === \"function\" ? _a : Object)], AdvancedPieChartComponent.prototype, \"activate\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", typeof (_b = typeof EventEmitter !== \"undefined\" && EventEmitter) === \"function\" ? _b : Object)], AdvancedPieChartComponent.prototype, \"deactivate\", void 0);\n  __decorate([ContentChild('tooltipTemplate', {\n    static: false\n  }), __metadata(\"design:type\", typeof (_c = typeof TemplateRef !== \"undefined\" && TemplateRef) === \"function\" ? _c : Object)], AdvancedPieChartComponent.prototype, \"tooltipTemplate\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Function)], AdvancedPieChartComponent.prototype, \"valueFormatting\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Function)], AdvancedPieChartComponent.prototype, \"nameFormatting\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Function)], AdvancedPieChartComponent.prototype, \"percentageFormatting\", void 0);\n  AdvancedPieChartComponent.ɵfac = /*@__PURE__*/function () {\n    var ɵAdvancedPieChartComponent_BaseFactory;\n    return function AdvancedPieChartComponent_Factory(t) {\n      return (ɵAdvancedPieChartComponent_BaseFactory || (ɵAdvancedPieChartComponent_BaseFactory = ɵngcc0.ɵɵgetInheritedFactory(AdvancedPieChartComponent)))(t || AdvancedPieChartComponent);\n    };\n  }();\n  AdvancedPieChartComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: AdvancedPieChartComponent,\n    selectors: [[\"ngx-charts-advanced-pie-chart\"]],\n    contentQueries: function AdvancedPieChartComponent_ContentQueries(rf, ctx, dirIndex) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵcontentQuery(dirIndex, _c21, 5);\n      }\n      if (rf & 2) {\n        var _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.tooltipTemplate = _t.first);\n      }\n    },\n    inputs: {\n      activeEntries: \"activeEntries\",\n      gradient: \"gradient\",\n      tooltipDisabled: \"tooltipDisabled\",\n      tooltipText: \"tooltipText\",\n      label: \"label\",\n      valueFormatting: \"valueFormatting\",\n      nameFormatting: \"nameFormatting\",\n      percentageFormatting: \"percentageFormatting\"\n    },\n    outputs: {\n      activate: \"activate\",\n      deactivate: \"deactivate\"\n    },\n    features: [ɵngcc0.ɵɵInheritDefinitionFeature],\n    decls: 7,\n    vars: 37,\n    consts: [[1, \"advanced-pie\", \"chart\"], [3, \"view\", \"showLegend\", \"animations\"], [1, \"pie\", \"chart\"], [\"ngx-charts-pie-series\", \"\", 3, \"colors\", \"series\", \"innerRadius\", \"activeEntries\", \"outerRadius\", \"gradient\", \"tooltipDisabled\", \"tooltipTemplate\", \"tooltipText\", \"animations\", \"select\", \"activate\", \"deactivate\"], [1, \"advanced-pie-legend-wrapper\"], [3, \"data\", \"colors\", \"width\", \"label\", \"animations\", \"valueFormatting\", \"labelFormatting\", \"percentageFormatting\", \"select\", \"activate\", \"deactivate\"]],\n    template: function AdvancedPieChartComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"div\")(1, \"div\", 0)(2, \"ngx-charts-chart\", 1);\n        ɵngcc0.ɵɵnamespaceSVG();\n        ɵngcc0.ɵɵelementStart(3, \"g\", 2)(4, \"g\", 3);\n        ɵngcc0.ɵɵlistener(\"select\", function AdvancedPieChartComponent_Template__svg_g_select_4_listener($event) {\n          return ctx.onClick($event);\n        })(\"activate\", function AdvancedPieChartComponent_Template__svg_g_activate_4_listener($event) {\n          return ctx.onActivate($event);\n        })(\"deactivate\", function AdvancedPieChartComponent_Template__svg_g_deactivate_4_listener($event) {\n          return ctx.onDeactivate($event);\n        });\n        ɵngcc0.ɵɵelementEnd()()()();\n        ɵngcc0.ɵɵnamespaceHTML();\n        ɵngcc0.ɵɵelementStart(5, \"div\", 4)(6, \"ngx-charts-advanced-legend\", 5);\n        ɵngcc0.ɵɵlistener(\"select\", function AdvancedPieChartComponent_Template_ngx_charts_advanced_legend_select_6_listener($event) {\n          return ctx.onClick($event);\n        })(\"activate\", function AdvancedPieChartComponent_Template_ngx_charts_advanced_legend_activate_6_listener($event) {\n          return ctx.onActivate($event, true);\n        })(\"deactivate\", function AdvancedPieChartComponent_Template_ngx_charts_advanced_legend_deactivate_6_listener($event) {\n          return ctx.onDeactivate($event, true);\n        });\n        ɵngcc0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        ɵngcc0.ɵɵstyleProp(\"width\", ctx.width, \"px\")(\"height\", ctx.height, \"px\");\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵstyleProp(\"width\", ctx.dims.width, \"px\")(\"height\", ctx.dims.height, \"px\");\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"view\", ɵngcc0.ɵɵpureFunction2(34, _c23, ctx.width, ctx.height))(\"showLegend\", false)(\"animations\", ctx.animations);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵattribute(\"transform\", ctx.transform);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"colors\", ctx.colors)(\"series\", ctx.results)(\"innerRadius\", ctx.innerRadius)(\"activeEntries\", ctx.activeEntries)(\"outerRadius\", ctx.outerRadius)(\"gradient\", ctx.gradient)(\"tooltipDisabled\", ctx.tooltipDisabled)(\"tooltipTemplate\", ctx.tooltipTemplate)(\"tooltipText\", ctx.tooltipText)(\"animations\", ctx.animations);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵstyleProp(\"width\", ctx.width - ctx.dims.width, \"px\")(\"height\", ctx.height, \"px\");\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"data\", ctx.results)(\"colors\", ctx.colors)(\"width\", ctx.width - ctx.dims.width - ctx.margin[1])(\"label\", ctx.label)(\"animations\", ctx.animations)(\"valueFormatting\", ctx.valueFormatting)(\"labelFormatting\", ctx.nameFormatting)(\"percentageFormatting\", ctx.percentageFormatting);\n      }\n    },\n    dependencies: function () {\n      return [ChartComponent, AdvancedLegendComponent, PieSeriesComponent];\n    },\n    styles: [_c24, \".advanced-pie{display:inline-block;float:left}.advanced-pie-legend-wrapper{display:inline-block}\"],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  return AdvancedPieChartComponent;\n}(BaseChartComponent);\nvar PieLabelComponent = /** @class */function () {\n  function PieLabelComponent() {\n    this.animations = true;\n    this.labelTrim = true;\n    this.labelTrimSize = 10;\n    this.isIE = /(edge|msie|trident)/i.test(navigator.userAgent);\n    this.trimLabel = trimLabel;\n  }\n  PieLabelComponent.prototype.ngOnChanges = function (changes) {\n    this.update();\n  };\n  PieLabelComponent.prototype.update = function () {\n    var startRadius = this.radius;\n    if (this.explodeSlices) {\n      startRadius = this.radius * this.value / this.max;\n    }\n    var innerArc = arc().innerRadius(startRadius).outerRadius(startRadius);\n    // Calculate innerPos then scale outer position to match label position\n    var innerPos = innerArc.centroid(this.data);\n    var scale = this.data.pos[1] / innerPos[1];\n    if (this.data.pos[1] === 0 || innerPos[1] === 0) {\n      scale = 1;\n    }\n    var outerPos = [scale * innerPos[0], scale * innerPos[1]];\n    this.line = \"M\" + innerPos + \"L\" + outerPos + \"L\" + this.data.pos;\n  };\n  Object.defineProperty(PieLabelComponent.prototype, \"textX\", {\n    get: function () {\n      return this.data.pos[0];\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(PieLabelComponent.prototype, \"textY\", {\n    get: function () {\n      return this.data.pos[1];\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(PieLabelComponent.prototype, \"styleTransform\", {\n    get: function () {\n      return this.isIE ? null : \"translate3d(\" + this.textX + \"px,\" + this.textY + \"px, 0)\";\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(PieLabelComponent.prototype, \"attrTransform\", {\n    get: function () {\n      return !this.isIE ? null : \"translate(\" + this.textX + \",\" + this.textY + \")\";\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(PieLabelComponent.prototype, \"textTransition\", {\n    get: function () {\n      return this.isIE || !this.animations ? null : 'transform 0.75s';\n    },\n    enumerable: true,\n    configurable: true\n  });\n  PieLabelComponent.prototype.textAnchor = function () {\n    return this.midAngle(this.data) < Math.PI ? 'start' : 'end';\n  };\n  PieLabelComponent.prototype.midAngle = function (d) {\n    return d.startAngle + (d.endAngle - d.startAngle) / 2;\n  };\n  __decorate([Input(), __metadata(\"design:type\", Object)], PieLabelComponent.prototype, \"data\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], PieLabelComponent.prototype, \"radius\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], PieLabelComponent.prototype, \"label\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], PieLabelComponent.prototype, \"color\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], PieLabelComponent.prototype, \"max\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], PieLabelComponent.prototype, \"value\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], PieLabelComponent.prototype, \"explodeSlices\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], PieLabelComponent.prototype, \"animations\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], PieLabelComponent.prototype, \"labelTrim\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], PieLabelComponent.prototype, \"labelTrimSize\", void 0);\n  PieLabelComponent = __decorate([__metadata(\"design:paramtypes\", [])], PieLabelComponent);\n  PieLabelComponent.ɵfac = function PieLabelComponent_Factory(t) {\n    return new (t || PieLabelComponent)();\n  };\n  PieLabelComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: PieLabelComponent,\n    selectors: [[\"g\", \"ngx-charts-pie-label\", \"\"]],\n    inputs: {\n      animations: \"animations\",\n      labelTrim: \"labelTrim\",\n      labelTrimSize: \"labelTrimSize\",\n      data: \"data\",\n      radius: \"radius\",\n      label: \"label\",\n      color: \"color\",\n      max: \"max\",\n      value: \"value\",\n      explodeSlices: \"explodeSlices\"\n    },\n    features: [ɵngcc0.ɵɵNgOnChangesFeature],\n    attrs: _c40,\n    decls: 6,\n    vars: 17,\n    consts: [[\"dy\", \".35em\", 1, \"pie-label\"], [\"fill\", \"none\", 1, \"pie-label-line\", \"line\"]],\n    template: function PieLabelComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"title\");\n        ɵngcc0.ɵɵtext(1);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵnamespaceSVG();\n        ɵngcc0.ɵɵelementStart(2, \"g\")(3, \"text\", 0);\n        ɵngcc0.ɵɵtext(4);\n        ɵngcc0.ɵɵelementEnd()();\n        ɵngcc0.ɵɵelement(5, \"path\", 1);\n      }\n      if (rf & 2) {\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵtextInterpolate(ctx.label);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵstyleProp(\"transform\", ctx.styleTransform)(\"transition\", ctx.textTransition);\n        ɵngcc0.ɵɵattribute(\"transform\", ctx.attrTransform);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵstyleProp(\"text-anchor\", ctx.textAnchor())(\"shape-rendering\", \"crispEdges\");\n        ɵngcc0.ɵɵclassProp(\"animation\", ctx.animations);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵtextInterpolate1(\" \", ctx.labelTrim ? ctx.trimLabel(ctx.label, ctx.labelTrimSize) : ctx.label, \" \");\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵclassProp(\"animation\", ctx.animations);\n        ɵngcc0.ɵɵattribute(\"d\", ctx.line)(\"stroke\", ctx.color);\n      }\n    },\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  return PieLabelComponent;\n}();\nvar PieArcComponent = /** @class */function () {\n  function PieArcComponent(element) {\n    this.startAngle = 0;\n    this.endAngle = Math.PI * 2;\n    this.cornerRadius = 0;\n    this.explodeSlices = false;\n    this.gradient = false;\n    this.animate = true;\n    this.pointerEvents = true;\n    this.isActive = false;\n    this.select = new EventEmitter();\n    this.activate = new EventEmitter();\n    this.deactivate = new EventEmitter();\n    this.dblclick = new EventEmitter();\n    this.initialized = false;\n    this.element = element.nativeElement;\n  }\n  PieArcComponent.prototype.ngOnChanges = function (changes) {\n    this.update();\n  };\n  PieArcComponent.prototype.getGradient = function () {\n    return this.gradient ? this.gradientFill : this.fill;\n  };\n  PieArcComponent.prototype.getPointerEvents = function () {\n    return this.pointerEvents ? 'auto' : 'none';\n  };\n  PieArcComponent.prototype.update = function () {\n    var calc = this.calculateArc();\n    this.startOpacity = 0.5;\n    this.radialGradientId = 'linearGrad' + id().toString();\n    this.gradientFill = \"url(#\" + this.radialGradientId + \")\";\n    if (this.animate) {\n      if (this.initialized) {\n        this.updateAnimation();\n      } else {\n        this.loadAnimation();\n        this.initialized = true;\n      }\n    } else {\n      this.path = calc.startAngle(this.startAngle).endAngle(this.endAngle)();\n    }\n  };\n  PieArcComponent.prototype.calculateArc = function () {\n    var outerRadius = this.outerRadius;\n    if (this.explodeSlices && this.innerRadius === 0) {\n      outerRadius = this.outerRadius * this.value / this.max;\n    }\n    return arc().innerRadius(this.innerRadius).outerRadius(outerRadius).cornerRadius(this.cornerRadius);\n  };\n  PieArcComponent.prototype.loadAnimation = function () {\n    var node = select(this.element).selectAll('.arc').data([{\n      startAngle: this.startAngle,\n      endAngle: this.endAngle\n    }]);\n    var calc = this.calculateArc();\n    node.transition().attrTween('d', function (d) {\n      this._current = this._current || d;\n      var copyOfD = Object.assign({}, d);\n      copyOfD.endAngle = copyOfD.startAngle;\n      var interpolater = interpolate(copyOfD, copyOfD);\n      this._current = interpolater(0);\n      return function (t) {\n        return calc(interpolater(t));\n      };\n    }).transition().duration(750).attrTween('d', function (d) {\n      this._current = this._current || d;\n      var interpolater = interpolate(this._current, d);\n      this._current = interpolater(0);\n      return function (t) {\n        return calc(interpolater(t));\n      };\n    });\n  };\n  PieArcComponent.prototype.updateAnimation = function () {\n    var node = select(this.element).selectAll('.arc').data([{\n      startAngle: this.startAngle,\n      endAngle: this.endAngle\n    }]);\n    var calc = this.calculateArc();\n    node.transition().duration(750).attrTween('d', function (d) {\n      this._current = this._current || d;\n      var interpolater = interpolate(this._current, d);\n      this._current = interpolater(0);\n      return function (t) {\n        return calc(interpolater(t));\n      };\n    });\n  };\n  PieArcComponent.prototype.onClick = function () {\n    var _this = this;\n    clearTimeout(this._timeout);\n    this._timeout = setTimeout(function () {\n      return _this.select.emit(_this.data);\n    }, 200);\n  };\n  PieArcComponent.prototype.onDblClick = function (event$$1) {\n    event$$1.preventDefault();\n    event$$1.stopPropagation();\n    clearTimeout(this._timeout);\n    this.dblclick.emit({\n      data: this.data,\n      nativeEvent: event$$1\n    });\n  };\n  var _a;\n  __decorate([Input(), __metadata(\"design:type\", Object)], PieArcComponent.prototype, \"fill\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], PieArcComponent.prototype, \"startAngle\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], PieArcComponent.prototype, \"endAngle\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], PieArcComponent.prototype, \"innerRadius\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], PieArcComponent.prototype, \"outerRadius\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], PieArcComponent.prototype, \"cornerRadius\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], PieArcComponent.prototype, \"value\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], PieArcComponent.prototype, \"max\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], PieArcComponent.prototype, \"data\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], PieArcComponent.prototype, \"explodeSlices\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], PieArcComponent.prototype, \"gradient\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], PieArcComponent.prototype, \"animate\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], PieArcComponent.prototype, \"pointerEvents\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], PieArcComponent.prototype, \"isActive\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", Object)], PieArcComponent.prototype, \"select\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", Object)], PieArcComponent.prototype, \"activate\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", Object)], PieArcComponent.prototype, \"deactivate\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", Object)], PieArcComponent.prototype, \"dblclick\", void 0);\n  PieArcComponent = __decorate([__metadata(\"design:paramtypes\", [typeof (_a = typeof ElementRef !== \"undefined\" && ElementRef) === \"function\" ? _a : Object])], PieArcComponent);\n  PieArcComponent.ɵfac = function PieArcComponent_Factory(t) {\n    return new (t || PieArcComponent)(ɵngcc0.ɵɵdirectiveInject(typeof (_a = typeof ElementRef !== \"undefined\" && ElementRef) === \"function\" ? _a : Object));\n  };\n  PieArcComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: PieArcComponent,\n    selectors: [[\"g\", \"ngx-charts-pie-arc\", \"\"]],\n    inputs: {\n      startAngle: \"startAngle\",\n      endAngle: \"endAngle\",\n      cornerRadius: \"cornerRadius\",\n      explodeSlices: \"explodeSlices\",\n      gradient: \"gradient\",\n      animate: \"animate\",\n      pointerEvents: \"pointerEvents\",\n      isActive: \"isActive\",\n      fill: \"fill\",\n      innerRadius: \"innerRadius\",\n      outerRadius: \"outerRadius\",\n      value: \"value\",\n      max: \"max\",\n      data: \"data\"\n    },\n    outputs: {\n      select: \"select\",\n      activate: \"activate\",\n      deactivate: \"deactivate\",\n      dblclick: \"dblclick\"\n    },\n    features: [ɵngcc0.ɵɵNgOnChangesFeature],\n    attrs: _c41,\n    decls: 3,\n    vars: 7,\n    consts: [[1, \"arc-group\"], [4, \"ngIf\"], [1, \"arc\", 3, \"click\", \"dblclick\", \"mouseenter\", \"mouseleave\"], [\"ngx-charts-svg-radial-gradient\", \"\", \"orientation\", \"vertical\", 3, \"color\", \"name\", \"startOpacity\"]],\n    template: function PieArcComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵnamespaceSVG();\n        ɵngcc0.ɵɵelementStart(0, \"g\", 0);\n        ɵngcc0.ɵɵtemplate(1, PieArcComponent__svg_defs_1_Template, 2, 3, \"defs\", 1);\n        ɵngcc0.ɵɵelementStart(2, \"path\", 2);\n        ɵngcc0.ɵɵlistener(\"click\", function PieArcComponent_Template__svg_path_click_2_listener() {\n          return ctx.onClick();\n        })(\"dblclick\", function PieArcComponent_Template__svg_path_dblclick_2_listener($event) {\n          return ctx.onDblClick($event);\n        })(\"mouseenter\", function PieArcComponent_Template__svg_path_mouseenter_2_listener() {\n          return ctx.activate.emit(ctx.data);\n        })(\"mouseleave\", function PieArcComponent_Template__svg_path_mouseleave_2_listener() {\n          return ctx.deactivate.emit(ctx.data);\n        });\n        ɵngcc0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.gradient);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵstyleProp(\"pointer-events\", ctx.getPointerEvents());\n        ɵngcc0.ɵɵclassProp(\"active\", ctx.isActive);\n        ɵngcc0.ɵɵattribute(\"d\", ctx.path)(\"fill\", ctx.getGradient());\n      }\n    },\n    dependencies: [ɵngcc1.NgIf, SvgRadialGradientComponent],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  return PieArcComponent;\n}();\nvar PieChartComponent = /** @class */function (_super) {\n  __extends(PieChartComponent, _super);\n  function PieChartComponent() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.labels = false;\n    _this.legend = false;\n    _this.legendTitle = 'Legend';\n    _this.legendPosition = 'right';\n    _this.explodeSlices = false;\n    _this.doughnut = false;\n    _this.arcWidth = 0.25;\n    _this.activeEntries = [];\n    _this.tooltipDisabled = false;\n    _this.trimLabels = true;\n    _this.maxLabelLength = 10;\n    _this.dblclick = new EventEmitter();\n    _this.select = new EventEmitter();\n    _this.activate = new EventEmitter();\n    _this.deactivate = new EventEmitter();\n    return _this;\n  }\n  PieChartComponent.prototype.update = function () {\n    var _this = this;\n    _super.prototype.update.call(this);\n    if (this.labels && this.hasNoOptionalMarginsSet()) {\n      this.margins = [30, 80, 30, 80];\n    } else if (!this.labels && this.hasNoOptionalMarginsSet()) {\n      this.margins = [20, 20, 20, 20];\n    }\n    this.dims = calculateViewDimensions({\n      width: this.width,\n      height: this.height,\n      margins: this.margins,\n      showLegend: this.legend,\n      legendPosition: this.legendPosition\n    });\n    this.formatDates();\n    var xOffset = this.margins[3] + this.dims.width / 2;\n    var yOffset = this.margins[0] + this.dims.height / 2;\n    this.translation = \"translate(\" + xOffset + \", \" + yOffset + \")\";\n    this.outerRadius = Math.min(this.dims.width, this.dims.height);\n    if (this.labels) {\n      this.outerRadius /= 3;\n    } else {\n      this.outerRadius /= 2;\n    }\n    this.innerRadius = 0;\n    if (this.doughnut) {\n      this.innerRadius = this.outerRadius * (1 - this.arcWidth);\n    }\n    this.domain = this.getDomain();\n    this.data = this.results.sort(function (a, b) {\n      return _this.domain.indexOf(a.name) - _this.domain.indexOf(b.name);\n    });\n    this.setColors();\n    this.legendOptions = this.getLegendOptions();\n  };\n  PieChartComponent.prototype.getDomain = function () {\n    return this.results.map(function (d) {\n      return d.label;\n    });\n  };\n  PieChartComponent.prototype.onClick = function (data) {\n    this.select.emit(data);\n  };\n  PieChartComponent.prototype.setColors = function () {\n    this.colors = new ColorHelper(this.scheme, 'ordinal', this.domain, this.customColors);\n  };\n  PieChartComponent.prototype.getLegendOptions = function () {\n    return {\n      scaleType: 'ordinal',\n      domain: this.domain,\n      colors: this.colors,\n      title: this.legendTitle,\n      position: this.legendPosition\n    };\n  };\n  PieChartComponent.prototype.onActivate = function (item, fromLegend) {\n    if (fromLegend === void 0) {\n      fromLegend = false;\n    }\n    item = this.results.find(function (d) {\n      if (fromLegend) {\n        return d.label === item.name;\n      } else {\n        return d.name === item.name;\n      }\n    });\n    var idx = this.activeEntries.findIndex(function (d) {\n      return d.name === item.name && d.value === item.value && d.series === item.series;\n    });\n    if (idx > -1) {\n      return;\n    }\n    this.activeEntries = [item].concat(this.activeEntries);\n    this.activate.emit({\n      value: item,\n      entries: this.activeEntries\n    });\n  };\n  PieChartComponent.prototype.onDeactivate = function (item, fromLegend) {\n    if (fromLegend === void 0) {\n      fromLegend = false;\n    }\n    item = this.results.find(function (d) {\n      if (fromLegend) {\n        return d.label === item.name;\n      } else {\n        return d.name === item.name;\n      }\n    });\n    var idx = this.activeEntries.findIndex(function (d) {\n      return d.name === item.name && d.value === item.value && d.series === item.series;\n    });\n    this.activeEntries.splice(idx, 1);\n    this.activeEntries = this.activeEntries.slice();\n    this.deactivate.emit({\n      value: item,\n      entries: this.activeEntries\n    });\n  };\n  PieChartComponent.prototype.hasNoOptionalMarginsSet = function () {\n    return !this.margins || this.margins.length <= 0;\n  };\n  var _a, _b, _c;\n  __decorate([Input(), __metadata(\"design:type\", Object)], PieChartComponent.prototype, \"labels\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], PieChartComponent.prototype, \"legend\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], PieChartComponent.prototype, \"legendTitle\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], PieChartComponent.prototype, \"legendPosition\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], PieChartComponent.prototype, \"explodeSlices\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], PieChartComponent.prototype, \"doughnut\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], PieChartComponent.prototype, \"arcWidth\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], PieChartComponent.prototype, \"gradient\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Array)], PieChartComponent.prototype, \"activeEntries\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], PieChartComponent.prototype, \"tooltipDisabled\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], PieChartComponent.prototype, \"labelFormatting\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], PieChartComponent.prototype, \"trimLabels\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], PieChartComponent.prototype, \"maxLabelLength\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], PieChartComponent.prototype, \"tooltipText\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", Object)], PieChartComponent.prototype, \"dblclick\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Array)], PieChartComponent.prototype, \"margins\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", Object)], PieChartComponent.prototype, \"select\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", typeof (_a = typeof EventEmitter !== \"undefined\" && EventEmitter) === \"function\" ? _a : Object)], PieChartComponent.prototype, \"activate\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", typeof (_b = typeof EventEmitter !== \"undefined\" && EventEmitter) === \"function\" ? _b : Object)], PieChartComponent.prototype, \"deactivate\", void 0);\n  __decorate([ContentChild('tooltipTemplate', {\n    static: false\n  }), __metadata(\"design:type\", typeof (_c = typeof TemplateRef !== \"undefined\" && TemplateRef) === \"function\" ? _c : Object)], PieChartComponent.prototype, \"tooltipTemplate\", void 0);\n  PieChartComponent.ɵfac = /*@__PURE__*/function () {\n    var ɵPieChartComponent_BaseFactory;\n    return function PieChartComponent_Factory(t) {\n      return (ɵPieChartComponent_BaseFactory || (ɵPieChartComponent_BaseFactory = ɵngcc0.ɵɵgetInheritedFactory(PieChartComponent)))(t || PieChartComponent);\n    };\n  }();\n  PieChartComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: PieChartComponent,\n    selectors: [[\"ngx-charts-pie-chart\"]],\n    contentQueries: function PieChartComponent_ContentQueries(rf, ctx, dirIndex) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵcontentQuery(dirIndex, _c21, 5);\n      }\n      if (rf & 2) {\n        var _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.tooltipTemplate = _t.first);\n      }\n    },\n    inputs: {\n      margins: \"margins\",\n      activeEntries: \"activeEntries\",\n      labels: \"labels\",\n      legend: \"legend\",\n      legendTitle: \"legendTitle\",\n      legendPosition: \"legendPosition\",\n      explodeSlices: \"explodeSlices\",\n      doughnut: \"doughnut\",\n      arcWidth: \"arcWidth\",\n      gradient: \"gradient\",\n      tooltipDisabled: \"tooltipDisabled\",\n      labelFormatting: \"labelFormatting\",\n      trimLabels: \"trimLabels\",\n      maxLabelLength: \"maxLabelLength\",\n      tooltipText: \"tooltipText\"\n    },\n    outputs: {\n      dblclick: \"dblclick\",\n      select: \"select\",\n      activate: \"activate\",\n      deactivate: \"deactivate\"\n    },\n    features: [ɵngcc0.ɵɵInheritDefinitionFeature],\n    decls: 3,\n    vars: 24,\n    consts: [[3, \"view\", \"showLegend\", \"legendOptions\", \"activeEntries\", \"animations\", \"legendLabelActivate\", \"legendLabelDeactivate\", \"legendLabelClick\"], [1, \"pie-chart\", \"chart\"], [\"ngx-charts-pie-series\", \"\", 3, \"colors\", \"series\", \"showLabels\", \"labelFormatting\", \"trimLabels\", \"maxLabelLength\", \"activeEntries\", \"innerRadius\", \"outerRadius\", \"explodeSlices\", \"gradient\", \"animations\", \"tooltipDisabled\", \"tooltipTemplate\", \"tooltipText\", \"dblclick\", \"select\", \"activate\", \"deactivate\"]],\n    template: function PieChartComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"ngx-charts-chart\", 0);\n        ɵngcc0.ɵɵlistener(\"legendLabelActivate\", function PieChartComponent_Template_ngx_charts_chart_legendLabelActivate_0_listener($event) {\n          return ctx.onActivate($event, true);\n        })(\"legendLabelDeactivate\", function PieChartComponent_Template_ngx_charts_chart_legendLabelDeactivate_0_listener($event) {\n          return ctx.onDeactivate($event, true);\n        })(\"legendLabelClick\", function PieChartComponent_Template_ngx_charts_chart_legendLabelClick_0_listener($event) {\n          return ctx.onClick($event);\n        });\n        ɵngcc0.ɵɵnamespaceSVG();\n        ɵngcc0.ɵɵelementStart(1, \"g\", 1)(2, \"g\", 2);\n        ɵngcc0.ɵɵlistener(\"dblclick\", function PieChartComponent_Template__svg_g_dblclick_2_listener($event) {\n          return ctx.dblclick.emit($event);\n        })(\"select\", function PieChartComponent_Template__svg_g_select_2_listener($event) {\n          return ctx.onClick($event);\n        })(\"activate\", function PieChartComponent_Template__svg_g_activate_2_listener($event) {\n          return ctx.onActivate($event);\n        })(\"deactivate\", function PieChartComponent_Template__svg_g_deactivate_2_listener($event) {\n          return ctx.onDeactivate($event);\n        });\n        ɵngcc0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"view\", ɵngcc0.ɵɵpureFunction2(21, _c23, ctx.width, ctx.height))(\"showLegend\", ctx.legend)(\"legendOptions\", ctx.legendOptions)(\"activeEntries\", ctx.activeEntries)(\"animations\", ctx.animations);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵattribute(\"transform\", ctx.translation);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"colors\", ctx.colors)(\"series\", ctx.data)(\"showLabels\", ctx.labels)(\"labelFormatting\", ctx.labelFormatting)(\"trimLabels\", ctx.trimLabels)(\"maxLabelLength\", ctx.maxLabelLength)(\"activeEntries\", ctx.activeEntries)(\"innerRadius\", ctx.innerRadius)(\"outerRadius\", ctx.outerRadius)(\"explodeSlices\", ctx.explodeSlices)(\"gradient\", ctx.gradient)(\"animations\", ctx.animations)(\"tooltipDisabled\", ctx.tooltipDisabled)(\"tooltipTemplate\", ctx.tooltipTemplate)(\"tooltipText\", ctx.tooltipText);\n      }\n    },\n    dependencies: function () {\n      return [ChartComponent, PieSeriesComponent];\n    },\n    styles: [_c24, _c42],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  return PieChartComponent;\n}(BaseChartComponent);\nfunction gridSize(dims, len, minWidth) {\n  var rows = 1;\n  var cols = len;\n  var width = dims.width;\n  if (width > minWidth) {\n    while (width / cols < minWidth) {\n      rows += 1;\n      cols = Math.ceil(len / rows);\n    }\n  }\n  return [cols, rows];\n}\nfunction gridLayout(dims, data, minWidth, designatedTotal) {\n  var xScale = scaleBand();\n  var yScale = scaleBand();\n  var width = dims.width;\n  var height = dims.height;\n  var _a = gridSize(dims, data.length, minWidth),\n    columns = _a[0],\n    rows = _a[1];\n  var xDomain = [];\n  var yDomain = [];\n  for (var i = 0; i < rows; i++) {\n    yDomain.push(i);\n  }\n  for (var i = 0; i < columns; i++) {\n    xDomain.push(i);\n  }\n  xScale.domain(xDomain);\n  yScale.domain(yDomain);\n  xScale.rangeRound([0, width], 0.1);\n  yScale.rangeRound([0, height], 0.1);\n  var res = [];\n  var total = designatedTotal ? designatedTotal : getTotal(data);\n  var cardWidth = xScale.bandwidth();\n  var cardHeight = yScale.bandwidth();\n  for (var i = 0; i < data.length; i++) {\n    res[i] = {};\n    res[i].data = {\n      name: data[i] ? data[i].name : '',\n      value: data[i] ? data[i].value : undefined,\n      extra: data[i] ? data[i].extra : undefined,\n      label: data[i] ? data[i].label : ''\n    };\n    res[i].x = xScale(i % columns);\n    res[i].y = yScale(Math.floor(i / columns));\n    res[i].width = cardWidth;\n    res[i].height = cardHeight;\n    res[i].data.percent = total > 0 ? res[i].data.value / total : 0;\n    res[i].data.total = total;\n  }\n  return res;\n}\nfunction getTotal(results) {\n  return results.map(function (d) {\n    return d ? d.value : 0;\n  }).reduce(function (sum, val) {\n    return sum + val;\n  }, 0);\n}\nvar PieGridComponent = /** @class */function (_super) {\n  __extends(PieGridComponent, _super);\n  function PieGridComponent() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.tooltipDisabled = false;\n    _this.label = 'Total';\n    _this.minWidth = 150;\n    _this.activeEntries = [];\n    _this.activate = new EventEmitter();\n    _this.deactivate = new EventEmitter();\n    _this.margin = [20, 20, 20, 20];\n    return _this;\n  }\n  PieGridComponent.prototype.update = function () {\n    _super.prototype.update.call(this);\n    this.dims = calculateViewDimensions({\n      width: this.width,\n      height: this.height,\n      margins: this.margin\n    });\n    this.formatDates();\n    this.domain = this.getDomain();\n    this.data = gridLayout(this.dims, this.results, this.minWidth, this.designatedTotal);\n    this.transform = \"translate(\" + this.margin[3] + \" , \" + this.margin[0] + \")\";\n    this.series = this.getSeries();\n    this.setColors();\n    this.tooltipText = this.tooltipText || this.defaultTooltipText;\n  };\n  PieGridComponent.prototype.defaultTooltipText = function (_a) {\n    var data = _a.data;\n    var label = trimLabel(formatLabel(data.name));\n    var val = data.value.toLocaleString();\n    return \"\\n      <span class=\\\"tooltip-label\\\">\" + label + \"</span>\\n      <span class=\\\"tooltip-val\\\">\" + val + \"</span>\\n    \";\n  };\n  PieGridComponent.prototype.getDomain = function () {\n    return this.results.map(function (d) {\n      return d.label;\n    });\n  };\n  PieGridComponent.prototype.getSeries = function () {\n    var _this = this;\n    var total = this.designatedTotal ? this.designatedTotal : this.getTotal();\n    return this.data.map(function (d) {\n      var baselineLabelHeight = 20;\n      var padding = 10;\n      var name = d.data.name;\n      var label = formatLabel(name);\n      var value = d.data.value;\n      var radius = min([d.width - padding, d.height - baselineLabelHeight]) / 2 - 5;\n      var innerRadius = radius * 0.9;\n      var count = 0;\n      var colors = function () {\n        count += 1;\n        if (count === 1) {\n          return 'rgba(100,100,100,0.3)';\n        } else {\n          return _this.colorScale.getColor(label);\n        }\n      };\n      var xPos = d.x + (d.width - padding) / 2;\n      var yPos = d.y + (d.height - baselineLabelHeight) / 2;\n      return {\n        transform: \"translate(\" + xPos + \", \" + yPos + \")\",\n        colors: colors,\n        innerRadius: innerRadius,\n        outerRadius: radius,\n        name: name,\n        label: trimLabel(label),\n        total: value,\n        value: value,\n        percent: format('.1%')(d.data.percent),\n        data: [d, {\n          data: {\n            other: true,\n            value: total - value,\n            name: d.data.name\n          }\n        }]\n      };\n    });\n  };\n  PieGridComponent.prototype.getTotal = function () {\n    return this.results.map(function (d) {\n      return d.value;\n    }).reduce(function (sum, d) {\n      return sum + d;\n    }, 0);\n  };\n  PieGridComponent.prototype.onClick = function (data) {\n    this.select.emit(data);\n  };\n  PieGridComponent.prototype.setColors = function () {\n    this.colorScale = new ColorHelper(this.scheme, 'ordinal', this.domain, this.customColors);\n  };\n  PieGridComponent.prototype.onActivate = function (item, fromLegend) {\n    if (fromLegend === void 0) {\n      fromLegend = false;\n    }\n    item = this.results.find(function (d) {\n      if (fromLegend) {\n        return d.label === item.name;\n      } else {\n        return d.name === item.name;\n      }\n    });\n    var idx = this.activeEntries.findIndex(function (d) {\n      return d.name === item.name && d.value === item.value && d.series === item.series;\n    });\n    if (idx > -1) {\n      return;\n    }\n    this.activeEntries = [item].concat(this.activeEntries);\n    this.activate.emit({\n      value: item,\n      entries: this.activeEntries\n    });\n  };\n  PieGridComponent.prototype.onDeactivate = function (item, fromLegend) {\n    if (fromLegend === void 0) {\n      fromLegend = false;\n    }\n    item = this.results.find(function (d) {\n      if (fromLegend) {\n        return d.label === item.name;\n      } else {\n        return d.name === item.name;\n      }\n    });\n    var idx = this.activeEntries.findIndex(function (d) {\n      return d.name === item.name && d.value === item.value && d.series === item.series;\n    });\n    this.activeEntries.splice(idx, 1);\n    this.activeEntries = this.activeEntries.slice();\n    this.deactivate.emit({\n      value: item,\n      entries: this.activeEntries\n    });\n  };\n  var _a, _b, _c;\n  __decorate([Input(), __metadata(\"design:type\", Number)], PieGridComponent.prototype, \"designatedTotal\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], PieGridComponent.prototype, \"tooltipDisabled\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Function)], PieGridComponent.prototype, \"tooltipText\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], PieGridComponent.prototype, \"label\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], PieGridComponent.prototype, \"minWidth\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Array)], PieGridComponent.prototype, \"activeEntries\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", typeof (_a = typeof EventEmitter !== \"undefined\" && EventEmitter) === \"function\" ? _a : Object)], PieGridComponent.prototype, \"activate\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", typeof (_b = typeof EventEmitter !== \"undefined\" && EventEmitter) === \"function\" ? _b : Object)], PieGridComponent.prototype, \"deactivate\", void 0);\n  __decorate([ContentChild('tooltipTemplate', {\n    static: false\n  }), __metadata(\"design:type\", typeof (_c = typeof TemplateRef !== \"undefined\" && TemplateRef) === \"function\" ? _c : Object)], PieGridComponent.prototype, \"tooltipTemplate\", void 0);\n  PieGridComponent.ɵfac = /*@__PURE__*/function () {\n    var ɵPieGridComponent_BaseFactory;\n    return function PieGridComponent_Factory(t) {\n      return (ɵPieGridComponent_BaseFactory || (ɵPieGridComponent_BaseFactory = ɵngcc0.ɵɵgetInheritedFactory(PieGridComponent)))(t || PieGridComponent);\n    };\n  }();\n  PieGridComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: PieGridComponent,\n    selectors: [[\"ngx-charts-pie-grid\"]],\n    contentQueries: function PieGridComponent_ContentQueries(rf, ctx, dirIndex) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵcontentQuery(dirIndex, _c21, 5);\n      }\n      if (rf & 2) {\n        var _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.tooltipTemplate = _t.first);\n      }\n    },\n    inputs: {\n      tooltipText: \"tooltipText\",\n      activeEntries: \"activeEntries\",\n      designatedTotal: \"designatedTotal\",\n      tooltipDisabled: \"tooltipDisabled\",\n      label: \"label\",\n      minWidth: \"minWidth\"\n    },\n    outputs: {\n      activate: \"activate\",\n      deactivate: \"deactivate\"\n    },\n    features: [ɵngcc0.ɵɵInheritDefinitionFeature],\n    decls: 3,\n    vars: 8,\n    consts: [[3, \"view\", \"showLegend\", \"animations\"], [1, \"pie-grid\", \"chart\"], [\"class\", \"pie-grid-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"pie-grid-item\"], [\"ngx-charts-pie-grid-series\", \"\", \"ngx-tooltip\", \"\", 3, \"colors\", \"data\", \"innerRadius\", \"outerRadius\", \"animations\", \"tooltipDisabled\", \"tooltipPlacement\", \"tooltipType\", \"tooltipTitle\", \"tooltipTemplate\", \"tooltipContext\", \"select\", \"activate\", \"deactivate\"], [\"class\", \"label percent-label\", \"dy\", \"-0.5em\", \"x\", \"0\", \"y\", \"5\", \"ngx-charts-count-up\", \"\", \"text-anchor\", \"middle\", 3, \"countTo\", \"countSuffix\", 4, \"ngIf\"], [\"class\", \"label percent-label\", \"dy\", \"-0.5em\", \"x\", \"0\", \"y\", \"5\", \"text-anchor\", \"middle\", 4, \"ngIf\"], [\"dy\", \"0.5em\", \"x\", \"0\", \"y\", \"5\", \"text-anchor\", \"middle\", 1, \"label\"], [\"class\", \"label\", \"dy\", \"1.23em\", \"x\", \"0\", \"text-anchor\", \"middle\", \"ngx-charts-count-up\", \"\", 3, \"countTo\", \"countPrefix\", 4, \"ngIf\"], [\"class\", \"label\", \"dy\", \"1.23em\", \"x\", \"0\", \"text-anchor\", \"middle\", 4, \"ngIf\"], [\"dy\", \"-0.5em\", \"x\", \"0\", \"y\", \"5\", \"ngx-charts-count-up\", \"\", \"text-anchor\", \"middle\", 1, \"label\", \"percent-label\", 3, \"countTo\", \"countSuffix\"], [\"dy\", \"-0.5em\", \"x\", \"0\", \"y\", \"5\", \"text-anchor\", \"middle\", 1, \"label\", \"percent-label\"], [\"dy\", \"1.23em\", \"x\", \"0\", \"text-anchor\", \"middle\", \"ngx-charts-count-up\", \"\", 1, \"label\", 3, \"countTo\", \"countPrefix\"], [\"dy\", \"1.23em\", \"x\", \"0\", \"text-anchor\", \"middle\", 1, \"label\"]],\n    template: function PieGridComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"ngx-charts-chart\", 0);\n        ɵngcc0.ɵɵnamespaceSVG();\n        ɵngcc0.ɵɵelementStart(1, \"g\", 1);\n        ɵngcc0.ɵɵtemplate(2, PieGridComponent__svg_g_2_Template, 8, 19, \"g\", 2);\n        ɵngcc0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"view\", ɵngcc0.ɵɵpureFunction2(5, _c23, ctx.width, ctx.height))(\"showLegend\", false)(\"animations\", ctx.animations);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵattribute(\"transform\", ctx.transform);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngForOf\", ctx.series);\n      }\n    },\n    dependencies: function () {\n      return [ɵngcc1.NgForOf, ɵngcc1.NgIf, TooltipDirective, CountUpDirective, ChartComponent, PieGridSeriesComponent];\n    },\n    styles: [_c24, \".pie-grid .arc1{opacity:.4}.pie-grid .percent-label{font-size:16px;font-weight:400}\"],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  return PieGridComponent;\n}(BaseChartComponent);\nvar PieGridSeriesComponent = /** @class */function () {\n  function PieGridSeriesComponent(element) {\n    this.innerRadius = 70;\n    this.outerRadius = 80;\n    this.animations = true;\n    this.select = new EventEmitter();\n    this.activate = new EventEmitter();\n    this.deactivate = new EventEmitter();\n    this.element = element.nativeElement;\n  }\n  PieGridSeriesComponent.prototype.ngOnChanges = function (changes) {\n    this.update();\n  };\n  PieGridSeriesComponent.prototype.update = function () {\n    this.layout = pie().value(function (d) {\n      return d.data.value;\n    }).sort(null);\n    this.arcs = this.getArcs();\n  };\n  PieGridSeriesComponent.prototype.getArcs = function () {\n    var _this = this;\n    return this.layout(this.data).map(function (arc$$1, index) {\n      var label = arc$$1.data.data.name;\n      var other = arc$$1.data.data.other;\n      if (index === 0) {\n        arc$$1.startAngle = 0;\n      }\n      var color = _this.colors(label);\n      return {\n        data: arc$$1.data.data,\n        class: 'arc ' + 'arc' + index,\n        fill: color,\n        startAngle: other ? 0 : arc$$1.startAngle,\n        endAngle: arc$$1.endAngle,\n        animate: _this.animations && !other,\n        pointerEvents: !other\n      };\n    });\n  };\n  PieGridSeriesComponent.prototype.onClick = function (data) {\n    this.select.emit(this.data[0].data);\n  };\n  PieGridSeriesComponent.prototype.trackBy = function (index, item) {\n    return item.data.name;\n  };\n  PieGridSeriesComponent.prototype.label = function (arc$$1) {\n    return arc$$1.data.name;\n  };\n  PieGridSeriesComponent.prototype.color = function (arc$$1) {\n    return this.colors(this.label(arc$$1));\n  };\n  var _a;\n  __decorate([Input(), __metadata(\"design:type\", Object)], PieGridSeriesComponent.prototype, \"colors\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], PieGridSeriesComponent.prototype, \"data\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], PieGridSeriesComponent.prototype, \"innerRadius\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], PieGridSeriesComponent.prototype, \"outerRadius\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], PieGridSeriesComponent.prototype, \"animations\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", Object)], PieGridSeriesComponent.prototype, \"select\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", Object)], PieGridSeriesComponent.prototype, \"activate\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", Object)], PieGridSeriesComponent.prototype, \"deactivate\", void 0);\n  PieGridSeriesComponent = __decorate([__metadata(\"design:paramtypes\", [typeof (_a = typeof ElementRef !== \"undefined\" && ElementRef) === \"function\" ? _a : Object])], PieGridSeriesComponent);\n  PieGridSeriesComponent.ɵfac = function PieGridSeriesComponent_Factory(t) {\n    return new (t || PieGridSeriesComponent)(ɵngcc0.ɵɵdirectiveInject(typeof (_a = typeof ElementRef !== \"undefined\" && ElementRef) === \"function\" ? _a : Object));\n  };\n  PieGridSeriesComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: PieGridSeriesComponent,\n    selectors: [[\"g\", \"ngx-charts-pie-grid-series\", \"\"]],\n    inputs: {\n      innerRadius: \"innerRadius\",\n      outerRadius: \"outerRadius\",\n      animations: \"animations\",\n      colors: \"colors\",\n      data: \"data\"\n    },\n    outputs: {\n      select: \"select\",\n      activate: \"activate\",\n      deactivate: \"deactivate\"\n    },\n    features: [ɵngcc0.ɵɵNgOnChangesFeature],\n    attrs: _c44,\n    decls: 2,\n    vars: 2,\n    consts: [[1, \"pie-grid-arcs\"], [\"ngx-charts-pie-arc\", \"\", 3, \"startAngle\", \"endAngle\", \"innerRadius\", \"outerRadius\", \"fill\", \"value\", \"data\", \"gradient\", \"pointerEvents\", \"animate\", \"select\", \"activate\", \"deactivate\", 4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [\"ngx-charts-pie-arc\", \"\", 3, \"startAngle\", \"endAngle\", \"innerRadius\", \"outerRadius\", \"fill\", \"value\", \"data\", \"gradient\", \"pointerEvents\", \"animate\", \"select\", \"activate\", \"deactivate\"]],\n    template: function PieGridSeriesComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵnamespaceSVG();\n        ɵngcc0.ɵɵelementStart(0, \"g\", 0);\n        ɵngcc0.ɵɵtemplate(1, PieGridSeriesComponent__svg_g_1_Template, 1, 11, \"g\", 1);\n        ɵngcc0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngForOf\", ctx.arcs)(\"ngForTrackBy\", ctx.trackBy);\n      }\n    },\n    dependencies: [ɵngcc1.NgForOf, PieArcComponent],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  return PieGridSeriesComponent;\n}();\nvar PieSeriesComponent = /** @class */function () {\n  function PieSeriesComponent() {\n    this.series = [];\n    this.innerRadius = 60;\n    this.outerRadius = 80;\n    this.trimLabels = true;\n    this.maxLabelLength = 10;\n    this.tooltipDisabled = false;\n    this.animations = true;\n    this.select = new EventEmitter();\n    this.activate = new EventEmitter();\n    this.deactivate = new EventEmitter();\n    this.dblclick = new EventEmitter();\n  }\n  PieSeriesComponent.prototype.ngOnChanges = function (changes) {\n    this.update();\n  };\n  PieSeriesComponent.prototype.update = function () {\n    var pieGenerator = pie().value(function (d) {\n      return d.value;\n    }).sort(null);\n    var arcData = pieGenerator(this.series);\n    this.max = max(arcData, function (d) {\n      return d.value;\n    });\n    this.data = this.calculateLabelPositions(arcData);\n    this.tooltipText = this.tooltipText || this.defaultTooltipText;\n  };\n  PieSeriesComponent.prototype.midAngle = function (d) {\n    return d.startAngle + (d.endAngle - d.startAngle) / 2;\n  };\n  PieSeriesComponent.prototype.outerArc = function () {\n    var factor = 1.5;\n    return arc().innerRadius(this.outerRadius * factor).outerRadius(this.outerRadius * factor);\n  };\n  PieSeriesComponent.prototype.calculateLabelPositions = function (pieData) {\n    var _this = this;\n    var factor = 1.5;\n    var minDistance = 10;\n    var labelPositions = pieData;\n    labelPositions.forEach(function (d) {\n      d.pos = _this.outerArc().centroid(d);\n      d.pos[0] = factor * _this.outerRadius * (_this.midAngle(d) < Math.PI ? 1 : -1);\n    });\n    for (var i = 0; i < labelPositions.length - 1; i++) {\n      var a = labelPositions[i];\n      if (!this.labelVisible(a)) {\n        continue;\n      }\n      for (var j = i + 1; j < labelPositions.length; j++) {\n        var b = labelPositions[j];\n        if (!this.labelVisible(b)) {\n          continue;\n        }\n        // if they're on the same side\n        if (b.pos[0] * a.pos[0] > 0) {\n          // if they're overlapping\n          var o = minDistance - Math.abs(b.pos[1] - a.pos[1]);\n          if (o > 0) {\n            // push the second up or down\n            b.pos[1] += Math.sign(b.pos[0]) * o;\n          }\n        }\n      }\n    }\n    return labelPositions;\n  };\n  PieSeriesComponent.prototype.labelVisible = function (myArc) {\n    return this.showLabels && myArc.endAngle - myArc.startAngle > Math.PI / 30;\n  };\n  PieSeriesComponent.prototype.getTooltipTitle = function (a) {\n    return this.tooltipTemplate ? undefined : this.tooltipText(a);\n  };\n  PieSeriesComponent.prototype.labelText = function (myArc) {\n    if (this.labelFormatting) {\n      return this.labelFormatting(myArc.data.name);\n    }\n    return this.label(myArc);\n  };\n  PieSeriesComponent.prototype.label = function (myArc) {\n    return formatLabel(myArc.data.name);\n  };\n  PieSeriesComponent.prototype.defaultTooltipText = function (myArc) {\n    var label = this.label(myArc);\n    var val = formatLabel(myArc.data.value);\n    return \"\\n      <span class=\\\"tooltip-label\\\">\" + escapeLabel(label) + \"</span>\\n      <span class=\\\"tooltip-val\\\">\" + val + \"</span>\\n    \";\n  };\n  PieSeriesComponent.prototype.color = function (myArc) {\n    return this.colors.getColor(this.label(myArc));\n  };\n  PieSeriesComponent.prototype.trackBy = function (index, item) {\n    return item.data.name;\n  };\n  PieSeriesComponent.prototype.onClick = function (data) {\n    this.select.emit(data);\n  };\n  PieSeriesComponent.prototype.isActive = function (entry) {\n    if (!this.activeEntries) return false;\n    var item = this.activeEntries.find(function (d) {\n      return entry.name === d.name && entry.series === d.series;\n    });\n    return item !== undefined;\n  };\n  var _a;\n  __decorate([Input(), __metadata(\"design:type\", Object)], PieSeriesComponent.prototype, \"colors\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], PieSeriesComponent.prototype, \"series\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], PieSeriesComponent.prototype, \"dims\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], PieSeriesComponent.prototype, \"innerRadius\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], PieSeriesComponent.prototype, \"outerRadius\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], PieSeriesComponent.prototype, \"explodeSlices\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], PieSeriesComponent.prototype, \"showLabels\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], PieSeriesComponent.prototype, \"gradient\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Array)], PieSeriesComponent.prototype, \"activeEntries\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], PieSeriesComponent.prototype, \"labelFormatting\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], PieSeriesComponent.prototype, \"trimLabels\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], PieSeriesComponent.prototype, \"maxLabelLength\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Function)], PieSeriesComponent.prototype, \"tooltipText\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], PieSeriesComponent.prototype, \"tooltipDisabled\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", typeof (_a = typeof TemplateRef !== \"undefined\" && TemplateRef) === \"function\" ? _a : Object)], PieSeriesComponent.prototype, \"tooltipTemplate\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], PieSeriesComponent.prototype, \"animations\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", Object)], PieSeriesComponent.prototype, \"select\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", Object)], PieSeriesComponent.prototype, \"activate\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", Object)], PieSeriesComponent.prototype, \"deactivate\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", Object)], PieSeriesComponent.prototype, \"dblclick\", void 0);\n  PieSeriesComponent.ɵfac = function PieSeriesComponent_Factory(t) {\n    return new (t || PieSeriesComponent)();\n  };\n  PieSeriesComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: PieSeriesComponent,\n    selectors: [[\"g\", \"ngx-charts-pie-series\", \"\"]],\n    inputs: {\n      series: \"series\",\n      innerRadius: \"innerRadius\",\n      outerRadius: \"outerRadius\",\n      trimLabels: \"trimLabels\",\n      maxLabelLength: \"maxLabelLength\",\n      tooltipDisabled: \"tooltipDisabled\",\n      animations: \"animations\",\n      tooltipText: \"tooltipText\",\n      colors: \"colors\",\n      dims: \"dims\",\n      explodeSlices: \"explodeSlices\",\n      showLabels: \"showLabels\",\n      gradient: \"gradient\",\n      activeEntries: \"activeEntries\",\n      labelFormatting: \"labelFormatting\",\n      tooltipTemplate: \"tooltipTemplate\"\n    },\n    outputs: {\n      select: \"select\",\n      activate: \"activate\",\n      deactivate: \"deactivate\",\n      dblclick: \"dblclick\"\n    },\n    features: [ɵngcc0.ɵɵNgOnChangesFeature],\n    attrs: _c45,\n    decls: 1,\n    vars: 2,\n    consts: [[4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [\"ngx-charts-pie-label\", \"\", 3, \"data\", \"radius\", \"color\", \"label\", \"labelTrim\", \"labelTrimSize\", \"max\", \"value\", \"explodeSlices\", \"animations\", 4, \"ngIf\"], [\"ngx-charts-pie-arc\", \"\", \"ngx-tooltip\", \"\", 3, \"startAngle\", \"endAngle\", \"innerRadius\", \"outerRadius\", \"fill\", \"value\", \"gradient\", \"data\", \"max\", \"explodeSlices\", \"isActive\", \"animate\", \"tooltipDisabled\", \"tooltipPlacement\", \"tooltipType\", \"tooltipTitle\", \"tooltipTemplate\", \"tooltipContext\", \"select\", \"activate\", \"deactivate\", \"dblclick\"], [\"ngx-charts-pie-label\", \"\", 3, \"data\", \"radius\", \"color\", \"label\", \"labelTrim\", \"labelTrimSize\", \"max\", \"value\", \"explodeSlices\", \"animations\"]],\n    template: function PieSeriesComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵtemplate(0, PieSeriesComponent__svg_g_0_Template, 3, 19, \"g\", 0);\n      }\n      if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"ngForOf\", ctx.data)(\"ngForTrackBy\", ctx.trackBy);\n      }\n    },\n    dependencies: [ɵngcc1.NgForOf, ɵngcc1.NgIf, TooltipDirective, PieLabelComponent, PieArcComponent],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  return PieSeriesComponent;\n}();\nvar PieChartModule = /** @class */function () {\n  function PieChartModule() {}\n  PieChartModule.ɵfac = function PieChartModule_Factory(t) {\n    return new (t || PieChartModule)();\n  };\n  PieChartModule.ɵmod = /*@__PURE__*/ɵngcc0.ɵɵdefineNgModule({\n    type: PieChartModule\n  });\n  PieChartModule.ɵinj = /*@__PURE__*/ɵngcc0.ɵɵdefineInjector({\n    imports: [ChartCommonModule]\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  (function () {\n    (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(PieChartModule, {\n      declarations: [AdvancedPieChartComponent, PieLabelComponent, PieArcComponent, PieChartComponent, PieGridComponent, PieGridSeriesComponent, PieSeriesComponent],\n      imports: [ChartCommonModule],\n      exports: [AdvancedPieChartComponent, PieLabelComponent, PieArcComponent, PieChartComponent, PieGridComponent, PieGridSeriesComponent, PieSeriesComponent]\n    });\n  })();\n  return PieChartModule;\n}();\nvar PolarChartModule = /** @class */function () {\n  function PolarChartModule() {}\n  PolarChartModule.ɵfac = function PolarChartModule_Factory(t) {\n    return new (t || PolarChartModule)();\n  };\n  PolarChartModule.ɵmod = /*@__PURE__*/ɵngcc0.ɵɵdefineNgModule({\n    type: PolarChartModule\n  });\n  PolarChartModule.ɵinj = /*@__PURE__*/ɵngcc0.ɵɵdefineInjector({\n    imports: [ChartCommonModule, PieChartModule, LineChartModule]\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  (function () {\n    (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(PolarChartModule, {\n      declarations: [PolarChartComponent, PolarSeriesComponent],\n      imports: [ChartCommonModule, PieChartModule, LineChartModule],\n      exports: [PolarChartComponent, PolarSeriesComponent]\n    });\n  })();\n  return PolarChartModule;\n}();\nvar CardComponent = /** @class */function () {\n  function CardComponent(element, cd, zone) {\n    this.cd = cd;\n    this.zone = zone;\n    this.animations = true;\n    this.select = new EventEmitter();\n    this.value = '';\n    this.textFontSize = 12;\n    this.textTransform = '';\n    this.initialized = false;\n    this.bandHeight = 10;\n    this.textPadding = [10, 20, 5, 20];\n    this.labelFontSize = 15;\n    this.element = element.nativeElement;\n  }\n  CardComponent.prototype.ngOnChanges = function (changes) {\n    this.update();\n  };\n  CardComponent.prototype.ngOnDestroy = function () {\n    cancelAnimationFrame(this.animationReq);\n  };\n  CardComponent.prototype.update = function () {\n    var _this = this;\n    this.zone.run(function () {\n      var hasValue = _this.data && typeof _this.data.value !== 'undefined';\n      var valueFormatting = _this.valueFormatting || function (card) {\n        return card.value.toLocaleString();\n      };\n      var labelFormatting = _this.labelFormatting || function (card) {\n        return escapeLabel(trimLabel(card.label, 55));\n      };\n      _this.transform = \"translate(\" + _this.x + \" , \" + _this.y + \")\";\n      _this.textWidth = Math.max(0, _this.width) - _this.textPadding[1] - _this.textPadding[3];\n      _this.cardWidth = Math.max(0, _this.width);\n      _this.cardHeight = Math.max(0, _this.height);\n      _this.label = _this.label ? _this.label : _this.data.name;\n      var cardData = {\n        label: _this.label,\n        data: _this.data,\n        value: _this.data.value\n      };\n      _this.formattedLabel = labelFormatting(cardData);\n      _this.transformBand = \"translate(0 , \" + (_this.cardHeight - _this.bandHeight) + \")\";\n      var value = hasValue ? valueFormatting(cardData) : '';\n      _this.value = _this.paddedValue(value);\n      _this.setPadding();\n      _this.bandPath = roundedRect(0, 0, _this.cardWidth, _this.bandHeight, 3, [false, false, true, true]);\n      setTimeout(function () {\n        _this.scaleText();\n        _this.value = value;\n        if (hasValue && !_this.initialized) {\n          setTimeout(function () {\n            return _this.startCount();\n          }, 20);\n        }\n      }, 8);\n    });\n  };\n  CardComponent.prototype.paddedValue = function (value) {\n    if (this.medianSize && this.medianSize > value.length) {\n      value += '\\u2007'.repeat(this.medianSize - value.length);\n    }\n    return value;\n  };\n  CardComponent.prototype.startCount = function () {\n    var _this = this;\n    if (!this.initialized && this.animations) {\n      cancelAnimationFrame(this.animationReq);\n      var val_1 = this.data.value;\n      var decs = decimalChecker(val_1);\n      var valueFormatting_1 = this.valueFormatting || function (card) {\n        return card.value.toLocaleString();\n      };\n      var callback = function (_a) {\n        var value = _a.value,\n          finished = _a.finished;\n        _this.zone.run(function () {\n          value = finished ? val_1 : value;\n          _this.value = valueFormatting_1({\n            label: _this.label,\n            data: _this.data,\n            value: value\n          });\n          if (!finished) {\n            _this.value = _this.paddedValue(_this.value);\n          }\n          _this.cd.markForCheck();\n        });\n      };\n      this.animationReq = count(0, val_1, decs, 1, callback);\n      this.initialized = true;\n    }\n  };\n  CardComponent.prototype.scaleText = function () {\n    var _this = this;\n    this.zone.run(function () {\n      var _a = _this.textEl.nativeElement.getBoundingClientRect(),\n        width = _a.width,\n        height = _a.height;\n      if (width === 0 || height === 0) {\n        return;\n      }\n      var textPadding = _this.textPadding[1] = _this.textPadding[3] = _this.cardWidth / 8;\n      var availableWidth = _this.cardWidth - 2 * textPadding;\n      var availableHeight = _this.cardHeight / 3;\n      var resizeScale = Math.min(availableWidth / width, availableHeight / height);\n      _this.textFontSize = Math.floor(_this.textFontSize * resizeScale);\n      _this.labelFontSize = Math.min(_this.textFontSize, 15);\n      _this.setPadding();\n      _this.cd.markForCheck();\n    });\n  };\n  CardComponent.prototype.setPadding = function () {\n    this.textPadding[1] = this.textPadding[3] = this.cardWidth / 8;\n    var padding = this.cardHeight / 2;\n    this.textPadding[0] = padding - this.textFontSize - this.labelFontSize / 2;\n    this.textPadding[2] = padding - this.labelFontSize;\n  };\n  CardComponent.prototype.onClick = function () {\n    this.select.emit(this.data);\n  };\n  var _a, _b, _c, _d;\n  __decorate([Input(), __metadata(\"design:type\", Object)], CardComponent.prototype, \"color\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], CardComponent.prototype, \"bandColor\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], CardComponent.prototype, \"textColor\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], CardComponent.prototype, \"x\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], CardComponent.prototype, \"y\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], CardComponent.prototype, \"width\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], CardComponent.prototype, \"height\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], CardComponent.prototype, \"label\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], CardComponent.prototype, \"data\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], CardComponent.prototype, \"medianSize\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], CardComponent.prototype, \"valueFormatting\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], CardComponent.prototype, \"labelFormatting\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], CardComponent.prototype, \"animations\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", Object)], CardComponent.prototype, \"select\", void 0);\n  __decorate([ViewChild('textEl', {\n    static: false\n  }), __metadata(\"design:type\", typeof (_a = typeof ElementRef !== \"undefined\" && ElementRef) === \"function\" ? _a : Object)], CardComponent.prototype, \"textEl\", void 0);\n  CardComponent = __decorate([__metadata(\"design:paramtypes\", [typeof (_b = typeof ElementRef !== \"undefined\" && ElementRef) === \"function\" ? _b : Object, typeof (_c = typeof ChangeDetectorRef !== \"undefined\" && ChangeDetectorRef) === \"function\" ? _c : Object, typeof (_d = typeof NgZone !== \"undefined\" && NgZone) === \"function\" ? _d : Object])], CardComponent);\n  CardComponent.ɵfac = function CardComponent_Factory(t) {\n    return new (t || CardComponent)(ɵngcc0.ɵɵdirectiveInject(typeof (_b = typeof ElementRef !== \"undefined\" && ElementRef) === \"function\" ? _b : Object), ɵngcc0.ɵɵdirectiveInject(typeof (_c = typeof ChangeDetectorRef !== \"undefined\" && ChangeDetectorRef) === \"function\" ? _c : Object), ɵngcc0.ɵɵdirectiveInject(typeof (_d = typeof NgZone !== \"undefined\" && NgZone) === \"function\" ? _d : Object));\n  };\n  CardComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: CardComponent,\n    selectors: [[\"g\", \"ngx-charts-card\", \"\"]],\n    viewQuery: function CardComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵviewQuery(_c46, 5);\n      }\n      if (rf & 2) {\n        var _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.textEl = _t.first);\n      }\n    },\n    inputs: {\n      animations: \"animations\",\n      color: \"color\",\n      bandColor: \"bandColor\",\n      textColor: \"textColor\",\n      x: \"x\",\n      y: \"y\",\n      width: \"width\",\n      height: \"height\",\n      label: \"label\",\n      data: \"data\",\n      medianSize: \"medianSize\",\n      valueFormatting: \"valueFormatting\",\n      labelFormatting: \"labelFormatting\"\n    },\n    outputs: {\n      select: \"select\"\n    },\n    features: [ɵngcc0.ɵɵNgOnChangesFeature],\n    attrs: _c47,\n    decls: 10,\n    vars: 25,\n    consts: [[1, \"cell\", 3, \"click\"], [\"rx\", \"3\", \"ry\", \"3\", 1, \"card\"], [\"class\", \"card-band\", \"stroke\", \"none\", 4, \"ngIf\"], [\"x\", \"5\", \"alignment-baseline\", \"hanging\", 1, \"trimmed-label\"], [3, \"innerHTML\"], [\"text-anchor\", \"start\", \"alignment-baseline\", \"hanging\", 1, \"value-text\"], [\"textEl\", \"\"], [\"stroke\", \"none\", 1, \"card-band\"]],\n    template: function CardComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵnamespaceSVG();\n        ɵngcc0.ɵɵelementStart(0, \"g\", 0);\n        ɵngcc0.ɵɵlistener(\"click\", function CardComponent_Template__svg_g_click_0_listener() {\n          return ctx.onClick();\n        });\n        ɵngcc0.ɵɵelement(1, \"rect\", 1);\n        ɵngcc0.ɵɵtemplate(2, CardComponent__svg_path_2_Template, 1, 3, \"path\", 2);\n        ɵngcc0.ɵɵelementStart(3, \"title\");\n        ɵngcc0.ɵɵtext(4);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(5, \"foreignObject\", 3);\n        ɵngcc0.ɵɵnamespaceHTML();\n        ɵngcc0.ɵɵelement(6, \"p\", 4);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵnamespaceSVG();\n        ɵngcc0.ɵɵelementStart(7, \"text\", 5, 6);\n        ɵngcc0.ɵɵtext(9);\n        ɵngcc0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        ɵngcc0.ɵɵattribute(\"transform\", ctx.transform);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵstyleProp(\"fill\", ctx.color);\n        ɵngcc0.ɵɵattribute(\"width\", ctx.cardWidth)(\"height\", ctx.cardHeight);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.bandColor && ctx.bandColor !== ctx.color);\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵtextInterpolate(ctx.label);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵattribute(\"x\", ctx.textPadding[3])(\"y\", ctx.cardHeight - ctx.textPadding[2])(\"width\", ctx.textWidth)(\"height\", ctx.labelFontSize + ctx.textPadding[2]);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵstyleProp(\"color\", ctx.textColor)(\"font-size\", ctx.labelFontSize, \"px\")(\"line-height\", ctx.labelFontSize, \"px\");\n        ɵngcc0.ɵɵproperty(\"innerHTML\", ctx.formattedLabel, ɵngcc0.ɵɵsanitizeHtml);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵstyleProp(\"fill\", ctx.textColor)(\"font-size\", ctx.textFontSize, \"pt\");\n        ɵngcc0.ɵɵattribute(\"x\", ctx.textPadding[3])(\"y\", ctx.textPadding[0]);\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵtextInterpolate1(\" \", ctx.value, \" \");\n      }\n    },\n    dependencies: [ɵngcc1.NgIf],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  return CardComponent;\n}();\nvar CardSeriesComponent = /** @class */function () {\n  function CardSeriesComponent() {\n    this.innerPadding = 15;\n    this.emptyColor = 'rgba(0, 0, 0, 0)';\n    this.animations = true;\n    this.select = new EventEmitter();\n  }\n  CardSeriesComponent.prototype.ngOnChanges = function (changes) {\n    this.update();\n  };\n  CardSeriesComponent.prototype.update = function () {\n    if (this.data.length > 2) {\n      var valueFormatting_1 = this.valueFormatting || function (card) {\n        return card.value.toLocaleString();\n      };\n      var sortedLengths = this.data.map(function (d) {\n        var hasValue = d && d.data && typeof d.data.value !== 'undefined' && d.data.value !== null;\n        return hasValue ? valueFormatting_1({\n          data: d.data,\n          label: d ? d.data.name : '',\n          value: d && d.data ? d.data.value : ''\n        }).length : 0;\n      }).sort(function (a, b) {\n        return b - a;\n      });\n      var idx = Math.ceil(this.data.length / 2);\n      this.medianSize = sortedLengths[idx];\n    }\n    var cards = this.getCards();\n    this.cards = cards.filter(function (d) {\n      return d.data.value !== null;\n    });\n    this.emptySlots = cards.filter(function (d) {\n      return d.data.value === null;\n    });\n  };\n  CardSeriesComponent.prototype.getCards = function () {\n    var _this = this;\n    var yPadding = typeof this.innerPadding === 'number' ? this.innerPadding : this.innerPadding[0] + this.innerPadding[2];\n    var xPadding = typeof this.innerPadding === 'number' ? this.innerPadding : this.innerPadding[1] + this.innerPadding[3];\n    return this.data.map(function (d, index) {\n      var label = d.data.name;\n      if (label && label.constructor.name === 'Date') {\n        label = label.toLocaleDateString();\n      } else {\n        label = label ? label.toLocaleString() : label;\n      }\n      var value = d.data.value;\n      var valueColor = label ? _this.colors.getColor(label) : _this.emptyColor;\n      var color = _this.cardColor || valueColor || '#000';\n      return {\n        x: d.x,\n        y: d.y,\n        width: d.width - xPadding,\n        height: d.height - yPadding,\n        color: color,\n        bandColor: _this.bandColor || valueColor,\n        textColor: _this.textColor || invertColor(color),\n        label: label,\n        data: d.data,\n        tooltipText: label + \": \" + value\n      };\n    });\n  };\n  CardSeriesComponent.prototype.trackBy = function (index, card) {\n    return card.label;\n  };\n  CardSeriesComponent.prototype.onClick = function (data) {\n    this.select.emit(data);\n  };\n  __decorate([Input(), __metadata(\"design:type\", Array)], CardSeriesComponent.prototype, \"data\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Array)], CardSeriesComponent.prototype, \"slots\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], CardSeriesComponent.prototype, \"dims\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], CardSeriesComponent.prototype, \"colors\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], CardSeriesComponent.prototype, \"innerPadding\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], CardSeriesComponent.prototype, \"cardColor\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], CardSeriesComponent.prototype, \"bandColor\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], CardSeriesComponent.prototype, \"emptyColor\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], CardSeriesComponent.prototype, \"textColor\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], CardSeriesComponent.prototype, \"valueFormatting\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], CardSeriesComponent.prototype, \"labelFormatting\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], CardSeriesComponent.prototype, \"animations\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", Object)], CardSeriesComponent.prototype, \"select\", void 0);\n  CardSeriesComponent.ɵfac = function CardSeriesComponent_Factory(t) {\n    return new (t || CardSeriesComponent)();\n  };\n  CardSeriesComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: CardSeriesComponent,\n    selectors: [[\"g\", \"ngx-charts-card-series\", \"\"]],\n    inputs: {\n      innerPadding: \"innerPadding\",\n      emptyColor: \"emptyColor\",\n      animations: \"animations\",\n      data: \"data\",\n      slots: \"slots\",\n      dims: \"dims\",\n      colors: \"colors\",\n      cardColor: \"cardColor\",\n      bandColor: \"bandColor\",\n      textColor: \"textColor\",\n      valueFormatting: \"valueFormatting\",\n      labelFormatting: \"labelFormatting\"\n    },\n    outputs: {\n      select: \"select\"\n    },\n    features: [ɵngcc0.ɵɵNgOnChangesFeature],\n    attrs: _c48,\n    decls: 2,\n    vars: 4,\n    consts: [[\"class\", \"card-empty\", \"rx\", \"3\", \"ry\", \"3\", 3, \"fill\", 4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [\"ngx-charts-card\", \"\", 3, \"x\", \"y\", \"width\", \"height\", \"color\", \"bandColor\", \"textColor\", \"data\", \"label\", \"medianSize\", \"valueFormatting\", \"labelFormatting\", \"animations\", \"select\", 4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [\"rx\", \"3\", \"ry\", \"3\", 1, \"card-empty\"], [\"ngx-charts-card\", \"\", 3, \"x\", \"y\", \"width\", \"height\", \"color\", \"bandColor\", \"textColor\", \"data\", \"label\", \"medianSize\", \"valueFormatting\", \"labelFormatting\", \"animations\", \"select\"]],\n    template: function CardSeriesComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵtemplate(0, CardSeriesComponent__svg_rect_0_Template, 1, 6, \"rect\", 0);\n        ɵngcc0.ɵɵtemplate(1, CardSeriesComponent__svg_g_1_Template, 1, 13, \"g\", 1);\n      }\n      if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"ngForOf\", ctx.emptySlots)(\"ngForTrackBy\", ctx.trackBy);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngForOf\", ctx.cards)(\"ngForTrackBy\", ctx.trackBy);\n      }\n    },\n    dependencies: [ɵngcc1.NgForOf, CardComponent],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  return CardSeriesComponent;\n}();\nvar NumberCardComponent = /** @class */function (_super) {\n  __extends(NumberCardComponent, _super);\n  function NumberCardComponent() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.emptyColor = 'rgba(0, 0, 0, 0)';\n    _this.innerPadding = 15;\n    _this.margin = [10, 10, 10, 10];\n    return _this;\n  }\n  Object.defineProperty(NumberCardComponent.prototype, \"clickable\", {\n    get: function () {\n      return !!this.select.observers.length;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  NumberCardComponent.prototype.update = function () {\n    _super.prototype.update.call(this);\n    this.dims = calculateViewDimensions({\n      width: this.width,\n      height: this.height,\n      margins: this.margin\n    });\n    this.formatDates();\n    this.domain = this.getDomain();\n    this.setColors();\n    this.transform = \"translate(\" + this.dims.xOffset + \" , \" + this.margin[0] + \")\";\n    var size = gridSize(this.dims, this.results.length, 150);\n    var N = size[0] * size[1];\n    var data = this.results.slice();\n    while (data.length < N) {\n      data.push({\n        value: null\n      });\n    }\n    this.data = gridLayout(this.dims, data, 150, this.designatedTotal);\n  };\n  NumberCardComponent.prototype.getDomain = function () {\n    return this.results.map(function (d) {\n      return d.label;\n    });\n  };\n  NumberCardComponent.prototype.onClick = function (data) {\n    this.select.emit(data);\n  };\n  NumberCardComponent.prototype.setColors = function () {\n    this.colors = new ColorHelper(this.scheme, 'ordinal', this.domain, this.customColors);\n  };\n  __decorate([Input(), __metadata(\"design:type\", String)], NumberCardComponent.prototype, \"cardColor\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], NumberCardComponent.prototype, \"bandColor\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], NumberCardComponent.prototype, \"emptyColor\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], NumberCardComponent.prototype, \"innerPadding\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], NumberCardComponent.prototype, \"textColor\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], NumberCardComponent.prototype, \"valueFormatting\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], NumberCardComponent.prototype, \"labelFormatting\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], NumberCardComponent.prototype, \"designatedTotal\", void 0);\n  NumberCardComponent.ɵfac = /*@__PURE__*/function () {\n    var ɵNumberCardComponent_BaseFactory;\n    return function NumberCardComponent_Factory(t) {\n      return (ɵNumberCardComponent_BaseFactory || (ɵNumberCardComponent_BaseFactory = ɵngcc0.ɵɵgetInheritedFactory(NumberCardComponent)))(t || NumberCardComponent);\n    };\n  }();\n  NumberCardComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: NumberCardComponent,\n    selectors: [[\"ngx-charts-number-card\"]],\n    inputs: {\n      cardColor: \"cardColor\",\n      bandColor: \"bandColor\",\n      emptyColor: \"emptyColor\",\n      innerPadding: \"innerPadding\",\n      textColor: \"textColor\",\n      valueFormatting: \"valueFormatting\",\n      labelFormatting: \"labelFormatting\",\n      designatedTotal: \"designatedTotal\"\n    },\n    features: [ɵngcc0.ɵɵInheritDefinitionFeature],\n    decls: 3,\n    vars: 20,\n    consts: [[3, \"view\", \"showLegend\", \"animations\"], [1, \"number-card\", \"chart\"], [\"ngx-charts-card-series\", \"\", 3, \"colors\", \"cardColor\", \"bandColor\", \"textColor\", \"emptyColor\", \"data\", \"dims\", \"innerPadding\", \"valueFormatting\", \"labelFormatting\", \"animations\", \"select\"]],\n    template: function NumberCardComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"ngx-charts-chart\", 0);\n        ɵngcc0.ɵɵnamespaceSVG();\n        ɵngcc0.ɵɵelementStart(1, \"g\", 1)(2, \"g\", 2);\n        ɵngcc0.ɵɵlistener(\"select\", function NumberCardComponent_Template__svg_g_select_2_listener($event) {\n          return ctx.onClick($event);\n        });\n        ɵngcc0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"view\", ɵngcc0.ɵɵpureFunction2(17, _c23, ctx.width, ctx.height))(\"showLegend\", false)(\"animations\", ctx.animations);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵclassProp(\"clickable\", ctx.clickable);\n        ɵngcc0.ɵɵattribute(\"transform\", ctx.transform);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"colors\", ctx.colors)(\"cardColor\", ctx.cardColor)(\"bandColor\", ctx.bandColor)(\"textColor\", ctx.textColor)(\"emptyColor\", ctx.emptyColor)(\"data\", ctx.data)(\"dims\", ctx.dims)(\"innerPadding\", ctx.innerPadding)(\"valueFormatting\", ctx.valueFormatting)(\"labelFormatting\", ctx.labelFormatting)(\"animations\", ctx.animations);\n      }\n    },\n    dependencies: [ChartComponent, CardSeriesComponent],\n    styles: [_c24, \"ngx-charts-number-card .cell .trimmed-label{font-size:12px;pointer-events:none;overflow:hidden;text-align:left;line-height:1em}ngx-charts-number-card .cell .trimmed-label p{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:100%;padding:0;margin:0}ngx-charts-number-card .cell .value-text{pointer-events:none}ngx-charts-number-card .number-card.clickable .cell .card,ngx-charts-number-card .number-card.clickable .cell .card-band{cursor:pointer}\"],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  return NumberCardComponent;\n}(BaseChartComponent);\nvar NumberCardModule = /** @class */function () {\n  function NumberCardModule() {}\n  NumberCardModule.ɵfac = function NumberCardModule_Factory(t) {\n    return new (t || NumberCardModule)();\n  };\n  NumberCardModule.ɵmod = /*@__PURE__*/ɵngcc0.ɵɵdefineNgModule({\n    type: NumberCardModule\n  });\n  NumberCardModule.ɵinj = /*@__PURE__*/ɵngcc0.ɵɵdefineInjector({\n    imports: [ChartCommonModule]\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  (function () {\n    (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(NumberCardModule, {\n      declarations: [CardComponent, CardSeriesComponent, NumberCardComponent],\n      imports: [ChartCommonModule],\n      exports: [CardComponent, CardSeriesComponent, NumberCardComponent]\n    });\n  })();\n  return NumberCardModule;\n}();\nvar TreeMapCellComponent = /** @class */function () {\n  function TreeMapCellComponent(element) {\n    this.gradient = false;\n    this.animations = true;\n    this.select = new EventEmitter();\n    this.initialized = false;\n    this.element = element.nativeElement;\n  }\n  TreeMapCellComponent.prototype.ngOnChanges = function () {\n    this.update();\n    this.valueFormatting = this.valueFormatting || function (value) {\n      return value.toLocaleString();\n    };\n    var labelFormatting = this.labelFormatting || function (cell) {\n      return escapeLabel(trimLabel(cell.label, 55));\n    };\n    var cellData = {\n      data: this.data,\n      label: this.label,\n      value: this.value\n    };\n    this.formattedValue = this.valueFormatting(cellData.value);\n    this.formattedLabel = labelFormatting(cellData);\n    this.gradientId = 'grad' + id().toString();\n    this.gradientUrl = \"url(#\" + this.gradientId + \")\";\n    this.gradientStops = this.getGradientStops();\n  };\n  TreeMapCellComponent.prototype.update = function () {\n    if (this.initialized) {\n      this.animateToCurrentForm();\n    } else {\n      if (this.animations) {\n        this.loadAnimation();\n      }\n      this.initialized = true;\n    }\n  };\n  TreeMapCellComponent.prototype.loadAnimation = function () {\n    var node = select(this.element).select('.cell');\n    node.attr('opacity', 0).attr('x', this.x).attr('y', this.y);\n    this.animateToCurrentForm();\n  };\n  TreeMapCellComponent.prototype.getTextColor = function () {\n    return invertColor(this.fill);\n  };\n  TreeMapCellComponent.prototype.animateToCurrentForm = function () {\n    var node = select(this.element).select('.cell');\n    if (this.animations) {\n      node.transition().duration(750).attr('opacity', 1).attr('x', this.x).attr('y', this.y).attr('width', this.width).attr('height', this.height);\n    } else {\n      node.attr('opacity', 1).attr('x', this.x).attr('y', this.y).attr('width', this.width).attr('height', this.height);\n    }\n  };\n  TreeMapCellComponent.prototype.onClick = function () {\n    this.select.emit(this.data);\n  };\n  TreeMapCellComponent.prototype.getGradientStops = function () {\n    return [{\n      offset: 0,\n      color: this.fill,\n      opacity: 0.3\n    }, {\n      offset: 100,\n      color: this.fill,\n      opacity: 1\n    }];\n  };\n  var _a;\n  __decorate([Input(), __metadata(\"design:type\", Object)], TreeMapCellComponent.prototype, \"data\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], TreeMapCellComponent.prototype, \"fill\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], TreeMapCellComponent.prototype, \"x\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], TreeMapCellComponent.prototype, \"y\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], TreeMapCellComponent.prototype, \"width\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], TreeMapCellComponent.prototype, \"height\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], TreeMapCellComponent.prototype, \"label\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], TreeMapCellComponent.prototype, \"value\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], TreeMapCellComponent.prototype, \"valueType\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], TreeMapCellComponent.prototype, \"valueFormatting\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], TreeMapCellComponent.prototype, \"labelFormatting\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], TreeMapCellComponent.prototype, \"gradient\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], TreeMapCellComponent.prototype, \"animations\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", Object)], TreeMapCellComponent.prototype, \"select\", void 0);\n  TreeMapCellComponent = __decorate([__metadata(\"design:paramtypes\", [typeof (_a = typeof ElementRef !== \"undefined\" && ElementRef) === \"function\" ? _a : Object])], TreeMapCellComponent);\n  TreeMapCellComponent.ɵfac = function TreeMapCellComponent_Factory(t) {\n    return new (t || TreeMapCellComponent)(ɵngcc0.ɵɵdirectiveInject(typeof (_a = typeof ElementRef !== \"undefined\" && ElementRef) === \"function\" ? _a : Object));\n  };\n  TreeMapCellComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: TreeMapCellComponent,\n    selectors: [[\"g\", \"ngx-charts-tree-map-cell\", \"\"]],\n    inputs: {\n      gradient: \"gradient\",\n      animations: \"animations\",\n      valueFormatting: \"valueFormatting\",\n      data: \"data\",\n      fill: \"fill\",\n      x: \"x\",\n      y: \"y\",\n      width: \"width\",\n      height: \"height\",\n      label: \"label\",\n      value: \"value\",\n      valueType: \"valueType\",\n      labelFormatting: \"labelFormatting\"\n    },\n    outputs: {\n      select: \"select\"\n    },\n    features: [ɵngcc0.ɵɵNgOnChangesFeature],\n    attrs: _c49,\n    decls: 4,\n    vars: 9,\n    consts: [[4, \"ngIf\"], [1, \"cell\", 3, \"click\"], [\"class\", \"treemap-label\", 3, \"pointer-events\", 4, \"ngIf\"], [\"ngx-charts-svg-linear-gradient\", \"\", \"orientation\", \"vertical\", 3, \"name\", \"stops\"], [1, \"treemap-label\"], [1, \"treemap-label\", 3, \"innerHTML\"], [\"class\", \"treemap-val\", \"ngx-charts-count-up\", \"\", 3, \"countTo\", \"valueFormatting\", 4, \"ngIf\"], [\"class\", \"treemap-val\", 4, \"ngIf\"], [\"ngx-charts-count-up\", \"\", 1, \"treemap-val\", 3, \"countTo\", \"valueFormatting\"], [1, \"treemap-val\"]],\n    template: function TreeMapCellComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵnamespaceSVG();\n        ɵngcc0.ɵɵelementStart(0, \"g\");\n        ɵngcc0.ɵɵtemplate(1, TreeMapCellComponent__svg_defs_1_Template, 2, 2, \"defs\", 0);\n        ɵngcc0.ɵɵelementStart(2, \"rect\", 1);\n        ɵngcc0.ɵɵlistener(\"click\", function TreeMapCellComponent_Template__svg_rect_click_2_listener() {\n          return ctx.onClick();\n        });\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵtemplate(3, TreeMapCellComponent__svg_foreignObject_3_Template, 6, 15, \"foreignObject\", 2);\n        ɵngcc0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.gradient);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵstyleProp(\"cursor\", \"pointer\");\n        ɵngcc0.ɵɵattribute(\"fill\", ctx.gradient ? ctx.gradientUrl : ctx.fill)(\"width\", ctx.width)(\"height\", ctx.height)(\"x\", ctx.x)(\"y\", ctx.y);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.width >= 70 && ctx.height >= 35);\n      }\n    },\n    dependencies: [ɵngcc1.NgIf, CountUpDirective, SvgLinearGradientComponent],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  return TreeMapCellComponent;\n}();\nvar TreeMapCellSeriesComponent = /** @class */function () {\n  function TreeMapCellSeriesComponent() {\n    this.gradient = false;\n    this.tooltipDisabled = false;\n    this.animations = true;\n    this.select = new EventEmitter();\n  }\n  TreeMapCellSeriesComponent.prototype.ngOnChanges = function (changes) {\n    this.cells = this.getCells();\n  };\n  TreeMapCellSeriesComponent.prototype.getCells = function () {\n    var _this = this;\n    return this.data.children.filter(function (d) {\n      return d.depth === 1;\n    }).map(function (d, index) {\n      var label = d.id;\n      return {\n        data: d.data,\n        x: d.x0,\n        y: d.y0,\n        width: d.x1 - d.x0,\n        height: d.y1 - d.y0,\n        fill: _this.colors.getColor(label),\n        label: label,\n        value: d.value,\n        valueType: d.valueType\n      };\n    });\n  };\n  TreeMapCellSeriesComponent.prototype.getTooltipText = function (_a) {\n    var label = _a.label,\n      value = _a.value;\n    return \"\\n      <span class=\\\"tooltip-label\\\">\" + escapeLabel(label) + \"</span>\\n      <span class=\\\"tooltip-val\\\">\" + value.toLocaleString() + \"</span>\\n    \";\n  };\n  TreeMapCellSeriesComponent.prototype.onClick = function (data) {\n    this.select.emit(data);\n  };\n  TreeMapCellSeriesComponent.prototype.trackBy = function (index, item) {\n    return item.label;\n  };\n  var _a;\n  __decorate([Input(), __metadata(\"design:type\", Object)], TreeMapCellSeriesComponent.prototype, \"data\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], TreeMapCellSeriesComponent.prototype, \"dims\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], TreeMapCellSeriesComponent.prototype, \"colors\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], TreeMapCellSeriesComponent.prototype, \"valueFormatting\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], TreeMapCellSeriesComponent.prototype, \"labelFormatting\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], TreeMapCellSeriesComponent.prototype, \"gradient\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], TreeMapCellSeriesComponent.prototype, \"tooltipDisabled\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", typeof (_a = typeof TemplateRef !== \"undefined\" && TemplateRef) === \"function\" ? _a : Object)], TreeMapCellSeriesComponent.prototype, \"tooltipTemplate\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], TreeMapCellSeriesComponent.prototype, \"animations\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", Object)], TreeMapCellSeriesComponent.prototype, \"select\", void 0);\n  TreeMapCellSeriesComponent.ɵfac = function TreeMapCellSeriesComponent_Factory(t) {\n    return new (t || TreeMapCellSeriesComponent)();\n  };\n  TreeMapCellSeriesComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: TreeMapCellSeriesComponent,\n    selectors: [[\"g\", \"ngx-charts-tree-map-cell-series\", \"\"]],\n    inputs: {\n      gradient: \"gradient\",\n      tooltipDisabled: \"tooltipDisabled\",\n      animations: \"animations\",\n      data: \"data\",\n      dims: \"dims\",\n      colors: \"colors\",\n      valueFormatting: \"valueFormatting\",\n      labelFormatting: \"labelFormatting\",\n      tooltipTemplate: \"tooltipTemplate\"\n    },\n    outputs: {\n      select: \"select\"\n    },\n    features: [ɵngcc0.ɵɵNgOnChangesFeature],\n    attrs: _c50,\n    decls: 1,\n    vars: 2,\n    consts: [[\"ngx-charts-tree-map-cell\", \"\", \"ngx-tooltip\", \"\", 3, \"data\", \"x\", \"y\", \"width\", \"height\", \"fill\", \"label\", \"value\", \"valueType\", \"valueFormatting\", \"labelFormatting\", \"gradient\", \"animations\", \"tooltipDisabled\", \"tooltipPlacement\", \"tooltipType\", \"tooltipTitle\", \"tooltipTemplate\", \"tooltipContext\", \"select\", 4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [\"ngx-charts-tree-map-cell\", \"\", \"ngx-tooltip\", \"\", 3, \"data\", \"x\", \"y\", \"width\", \"height\", \"fill\", \"label\", \"value\", \"valueType\", \"valueFormatting\", \"labelFormatting\", \"gradient\", \"animations\", \"tooltipDisabled\", \"tooltipPlacement\", \"tooltipType\", \"tooltipTitle\", \"tooltipTemplate\", \"tooltipContext\", \"select\"]],\n    template: function TreeMapCellSeriesComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵtemplate(0, TreeMapCellSeriesComponent__svg_g_0_Template, 1, 19, \"g\", 0);\n      }\n      if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"ngForOf\", ctx.cells)(\"ngForTrackBy\", ctx.trackBy);\n      }\n    },\n    dependencies: [ɵngcc1.NgForOf, TooltipDirective, TreeMapCellComponent],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  return TreeMapCellSeriesComponent;\n}();\nvar TreeMapComponent = /** @class */function (_super) {\n  __extends(TreeMapComponent, _super);\n  function TreeMapComponent() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.tooltipDisabled = false;\n    _this.gradient = false;\n    _this.select = new EventEmitter();\n    _this.margin = [10, 10, 10, 10];\n    return _this;\n  }\n  TreeMapComponent.prototype.update = function () {\n    _super.prototype.update.call(this);\n    this.dims = calculateViewDimensions({\n      width: this.width,\n      height: this.height,\n      margins: this.margin\n    });\n    this.domain = this.getDomain();\n    this.treemap = treemap().size([this.dims.width, this.dims.height]);\n    var rootNode = {\n      name: 'root',\n      value: 0,\n      isRoot: true\n    };\n    var root = stratify().id(function (d) {\n      var label = d.name;\n      if (label.constructor.name === 'Date') {\n        label = label.toLocaleDateString();\n      } else {\n        label = label.toLocaleString();\n      }\n      return label;\n    }).parentId(function (d) {\n      return d.isRoot ? null : 'root';\n    })([rootNode].concat(this.results)).sum(function (d) {\n      return d.value;\n    });\n    this.data = this.treemap(root);\n    this.setColors();\n    this.transform = \"translate(\" + this.dims.xOffset + \" , \" + this.margin[0] + \")\";\n  };\n  TreeMapComponent.prototype.getDomain = function () {\n    return this.results.map(function (d) {\n      return d.name;\n    });\n  };\n  TreeMapComponent.prototype.onClick = function (data) {\n    this.select.emit(data);\n  };\n  TreeMapComponent.prototype.setColors = function () {\n    this.colors = new ColorHelper(this.scheme, 'ordinal', this.domain, this.customColors);\n  };\n  var _a;\n  __decorate([Input(), __metadata(\"design:type\", Object)], TreeMapComponent.prototype, \"results\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], TreeMapComponent.prototype, \"tooltipDisabled\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], TreeMapComponent.prototype, \"valueFormatting\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], TreeMapComponent.prototype, \"labelFormatting\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], TreeMapComponent.prototype, \"gradient\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", Object)], TreeMapComponent.prototype, \"select\", void 0);\n  __decorate([ContentChild('tooltipTemplate', {\n    static: false\n  }), __metadata(\"design:type\", typeof (_a = typeof TemplateRef !== \"undefined\" && TemplateRef) === \"function\" ? _a : Object)], TreeMapComponent.prototype, \"tooltipTemplate\", void 0);\n  TreeMapComponent.ɵfac = /*@__PURE__*/function () {\n    var ɵTreeMapComponent_BaseFactory;\n    return function TreeMapComponent_Factory(t) {\n      return (ɵTreeMapComponent_BaseFactory || (ɵTreeMapComponent_BaseFactory = ɵngcc0.ɵɵgetInheritedFactory(TreeMapComponent)))(t || TreeMapComponent);\n    };\n  }();\n  TreeMapComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: TreeMapComponent,\n    selectors: [[\"ngx-charts-tree-map\"]],\n    contentQueries: function TreeMapComponent_ContentQueries(rf, ctx, dirIndex) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵcontentQuery(dirIndex, _c21, 5);\n      }\n      if (rf & 2) {\n        var _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.tooltipTemplate = _t.first);\n      }\n    },\n    inputs: {\n      results: \"results\",\n      tooltipDisabled: \"tooltipDisabled\",\n      valueFormatting: \"valueFormatting\",\n      labelFormatting: \"labelFormatting\",\n      gradient: \"gradient\"\n    },\n    outputs: {\n      select: \"select\"\n    },\n    features: [ɵngcc0.ɵɵInheritDefinitionFeature],\n    decls: 3,\n    vars: 16,\n    consts: [[3, \"view\", \"showLegend\", \"animations\"], [1, \"tree-map\", \"chart\"], [\"ngx-charts-tree-map-cell-series\", \"\", 3, \"colors\", \"data\", \"dims\", \"tooltipDisabled\", \"tooltipTemplate\", \"valueFormatting\", \"labelFormatting\", \"gradient\", \"animations\", \"select\"]],\n    template: function TreeMapComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"ngx-charts-chart\", 0);\n        ɵngcc0.ɵɵnamespaceSVG();\n        ɵngcc0.ɵɵelementStart(1, \"g\", 1)(2, \"g\", 2);\n        ɵngcc0.ɵɵlistener(\"select\", function TreeMapComponent_Template__svg_g_select_2_listener($event) {\n          return ctx.onClick($event);\n        });\n        ɵngcc0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"view\", ɵngcc0.ɵɵpureFunction2(13, _c23, ctx.width, ctx.height))(\"showLegend\", false)(\"animations\", ctx.animations);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵattribute(\"transform\", ctx.transform);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"colors\", ctx.colors)(\"data\", ctx.data)(\"dims\", ctx.dims)(\"tooltipDisabled\", ctx.tooltipDisabled)(\"tooltipTemplate\", ctx.tooltipTemplate)(\"valueFormatting\", ctx.valueFormatting)(\"labelFormatting\", ctx.labelFormatting)(\"gradient\", ctx.gradient)(\"animations\", ctx.animations);\n      }\n    },\n    dependencies: [ChartComponent, TreeMapCellSeriesComponent],\n    styles: [\".tree-map .treemap-val{font-size:1.3em;padding-top:5px;display:inline-block}.tree-map .treemap-label p{display:table-cell;text-align:center;line-height:1.2em;vertical-align:middle}\"],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  return TreeMapComponent;\n}(BaseChartComponent);\nvar TreeMapModule = /** @class */function () {\n  function TreeMapModule() {}\n  TreeMapModule.ɵfac = function TreeMapModule_Factory(t) {\n    return new (t || TreeMapModule)();\n  };\n  TreeMapModule.ɵmod = /*@__PURE__*/ɵngcc0.ɵɵdefineNgModule({\n    type: TreeMapModule\n  });\n  TreeMapModule.ɵinj = /*@__PURE__*/ɵngcc0.ɵɵdefineInjector({\n    imports: [ChartCommonModule]\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  (function () {\n    (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(TreeMapModule, {\n      declarations: [TreeMapCellComponent, TreeMapCellSeriesComponent, TreeMapComponent],\n      imports: [ChartCommonModule],\n      exports: [TreeMapCellComponent, TreeMapCellSeriesComponent, TreeMapComponent]\n    });\n  })();\n  return TreeMapModule;\n}();\nvar LinearGaugeComponent = /** @class */function (_super) {\n  __extends(LinearGaugeComponent, _super);\n  function LinearGaugeComponent() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.min = 0;\n    _this.max = 100;\n    _this.value = 0;\n    _this.margin = [10, 20, 10, 20];\n    _this.valueResizeScale = 1;\n    _this.unitsResizeScale = 1;\n    _this.valueTextTransform = '';\n    _this.valueTranslate = '';\n    _this.unitsTextTransform = '';\n    _this.unitsTranslate = '';\n    return _this;\n  }\n  LinearGaugeComponent.prototype.ngAfterViewInit = function () {\n    var _this = this;\n    _super.prototype.ngAfterViewInit.call(this);\n    setTimeout(function () {\n      _this.scaleText('value');\n      _this.scaleText('units');\n    });\n  };\n  LinearGaugeComponent.prototype.update = function () {\n    var _this = this;\n    _super.prototype.update.call(this);\n    this.hasPreviousValue = this.previousValue !== undefined;\n    this.max = Math.max(this.max, this.value);\n    this.min = Math.min(this.min, this.value);\n    if (this.hasPreviousValue) {\n      this.max = Math.max(this.max, this.previousValue);\n      this.min = Math.min(this.min, this.previousValue);\n    }\n    this.dims = calculateViewDimensions({\n      width: this.width,\n      height: this.height,\n      margins: this.margin\n    });\n    this.valueDomain = this.getValueDomain();\n    this.valueScale = this.getValueScale();\n    this.displayValue = this.getDisplayValue();\n    this.setColors();\n    var xOffset = this.margin[3] + this.dims.width / 2;\n    var yOffset = this.margin[0] + this.dims.height / 2;\n    this.transform = \"translate(\" + xOffset + \", \" + yOffset + \")\";\n    this.transformLine = \"translate(\" + (this.margin[3] + this.valueScale(this.previousValue)) + \", \" + yOffset + \")\";\n    this.valueTranslate = \"translate(0, -15)\";\n    this.unitsTranslate = \"translate(0, 15)\";\n    setTimeout(function () {\n      return _this.scaleText('value');\n    }, 50);\n    setTimeout(function () {\n      return _this.scaleText('units');\n    }, 50);\n  };\n  LinearGaugeComponent.prototype.getValueDomain = function () {\n    return [this.min, this.max];\n  };\n  LinearGaugeComponent.prototype.getValueScale = function () {\n    return scaleLinear().range([0, this.dims.width]).domain(this.valueDomain);\n  };\n  LinearGaugeComponent.prototype.getDisplayValue = function () {\n    if (this.valueFormatting) {\n      return this.valueFormatting(this.value);\n    }\n    return this.value.toLocaleString();\n  };\n  LinearGaugeComponent.prototype.scaleText = function (element, repeat) {\n    var _this = this;\n    if (repeat === void 0) {\n      repeat = true;\n    }\n    var el;\n    var resizeScale;\n    if (element === 'value') {\n      el = this.valueTextEl;\n      resizeScale = this.valueResizeScale;\n    } else {\n      el = this.unitsTextEl;\n      resizeScale = this.unitsResizeScale;\n    }\n    var _a = el.nativeElement.getBoundingClientRect(),\n      width = _a.width,\n      height = _a.height;\n    if (width === 0 || height === 0) return;\n    var oldScale = resizeScale;\n    var availableWidth = this.dims.width;\n    var availableHeight = Math.max(this.dims.height / 2 - 15, 0);\n    var resizeScaleWidth = Math.floor(availableWidth / (width / resizeScale) * 100) / 100;\n    var resizeScaleHeight = Math.floor(availableHeight / (height / resizeScale) * 100) / 100;\n    resizeScale = Math.min(resizeScaleHeight, resizeScaleWidth);\n    if (resizeScale !== oldScale) {\n      if (element === 'value') {\n        this.valueResizeScale = resizeScale;\n        this.valueTextTransform = \"scale(\" + resizeScale + \", \" + resizeScale + \")\";\n      } else {\n        this.unitsResizeScale = resizeScale;\n        this.unitsTextTransform = \"scale(\" + resizeScale + \", \" + resizeScale + \")\";\n      }\n      this.cd.markForCheck();\n      if (repeat) {\n        setTimeout(function () {\n          _this.scaleText(element, false);\n        }, 50);\n      }\n    }\n  };\n  LinearGaugeComponent.prototype.onClick = function () {\n    this.select.emit({\n      name: 'Value',\n      value: this.value\n    });\n  };\n  LinearGaugeComponent.prototype.setColors = function () {\n    this.colors = new ColorHelper(this.scheme, 'ordinal', [this.value], this.customColors);\n  };\n  var _a, _b;\n  __decorate([Input(), __metadata(\"design:type\", Number)], LinearGaugeComponent.prototype, \"min\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], LinearGaugeComponent.prototype, \"max\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], LinearGaugeComponent.prototype, \"value\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], LinearGaugeComponent.prototype, \"units\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], LinearGaugeComponent.prototype, \"previousValue\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], LinearGaugeComponent.prototype, \"valueFormatting\", void 0);\n  __decorate([ViewChild('valueTextEl', {\n    static: false\n  }), __metadata(\"design:type\", typeof (_a = typeof ElementRef !== \"undefined\" && ElementRef) === \"function\" ? _a : Object)], LinearGaugeComponent.prototype, \"valueTextEl\", void 0);\n  __decorate([ViewChild('unitsTextEl', {\n    static: false\n  }), __metadata(\"design:type\", typeof (_b = typeof ElementRef !== \"undefined\" && ElementRef) === \"function\" ? _b : Object)], LinearGaugeComponent.prototype, \"unitsTextEl\", void 0);\n  LinearGaugeComponent.ɵfac = /*@__PURE__*/function () {\n    var ɵLinearGaugeComponent_BaseFactory;\n    return function LinearGaugeComponent_Factory(t) {\n      return (ɵLinearGaugeComponent_BaseFactory || (ɵLinearGaugeComponent_BaseFactory = ɵngcc0.ɵɵgetInheritedFactory(LinearGaugeComponent)))(t || LinearGaugeComponent);\n    };\n  }();\n  LinearGaugeComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: LinearGaugeComponent,\n    selectors: [[\"ngx-charts-linear-gauge\"]],\n    viewQuery: function LinearGaugeComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵviewQuery(_c51, 5);\n        ɵngcc0.ɵɵviewQuery(_c52, 5);\n      }\n      if (rf & 2) {\n        var _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.valueTextEl = _t.first);\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.unitsTextEl = _t.first);\n      }\n    },\n    inputs: {\n      max: \"max\",\n      min: \"min\",\n      value: \"value\",\n      units: \"units\",\n      previousValue: \"previousValue\",\n      valueFormatting: \"valueFormatting\"\n    },\n    features: [ɵngcc0.ɵɵInheritDefinitionFeature],\n    decls: 15,\n    vars: 38,\n    consts: [[3, \"view\", \"showLegend\", \"animations\", \"click\"], [1, \"linear-gauge\", \"chart\"], [\"ngx-charts-bar\", \"\", 1, \"background-bar\", 3, \"width\", \"height\", \"x\", \"y\", \"data\", \"orientation\", \"roundEdges\", \"animations\"], [\"ngx-charts-bar\", \"\", 3, \"width\", \"height\", \"x\", \"y\", \"fill\", \"data\", \"orientation\", \"roundEdges\", \"animations\"], [\"x1\", \"0\", \"y1\", \"5\", \"x2\", \"0\", \"y2\", \"15\", 4, \"ngIf\"], [\"x1\", \"0\", \"y1\", \"-5\", \"x2\", \"0\", \"y2\", \"-15\", 4, \"ngIf\"], [\"alignment-baseline\", \"after-edge\", 1, \"value\"], [\"valueTextEl\", \"\"], [\"alignment-baseline\", \"before-edge\", 1, \"units\"], [\"unitsTextEl\", \"\"], [\"x1\", \"0\", \"y1\", \"5\", \"x2\", \"0\", \"y2\", \"15\"], [\"x1\", \"0\", \"y1\", \"-5\", \"x2\", \"0\", \"y2\", \"-15\"]],\n    template: function LinearGaugeComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"ngx-charts-chart\", 0);\n        ɵngcc0.ɵɵlistener(\"click\", function LinearGaugeComponent_Template_ngx_charts_chart_click_0_listener() {\n          return ctx.onClick();\n        });\n        ɵngcc0.ɵɵnamespaceSVG();\n        ɵngcc0.ɵɵelementStart(1, \"g\", 1);\n        ɵngcc0.ɵɵelement(2, \"g\", 2)(3, \"g\", 3);\n        ɵngcc0.ɵɵtemplate(4, LinearGaugeComponent__svg_line_4_Template, 1, 2, \"line\", 4);\n        ɵngcc0.ɵɵtemplate(5, LinearGaugeComponent__svg_line_5_Template, 1, 2, \"line\", 5);\n        ɵngcc0.ɵɵelementStart(6, \"g\")(7, \"g\")(8, \"text\", 6, 7);\n        ɵngcc0.ɵɵtext(10);\n        ɵngcc0.ɵɵelementEnd()();\n        ɵngcc0.ɵɵelementStart(11, \"g\")(12, \"text\", 8, 9);\n        ɵngcc0.ɵɵtext(14);\n        ɵngcc0.ɵɵelementEnd()()()()();\n      }\n      if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"view\", ɵngcc0.ɵɵpureFunction2(33, _c23, ctx.width, ctx.height))(\"showLegend\", false)(\"animations\", ctx.animations);\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵproperty(\"width\", ctx.dims.width)(\"height\", 3)(\"x\", ctx.margin[3])(\"y\", ctx.dims.height / 2 + ctx.margin[0] - 2)(\"data\", ɵngcc0.ɵɵpureFunction0(36, _c53))(\"orientation\", \"horizontal\")(\"roundEdges\", true)(\"animations\", ctx.animations);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"width\", ctx.valueScale(ctx.value))(\"height\", 3)(\"x\", ctx.margin[3])(\"y\", ctx.dims.height / 2 + ctx.margin[0] - 2)(\"fill\", ctx.colors.getColor(ctx.units))(\"data\", ɵngcc0.ɵɵpureFunction0(37, _c53))(\"orientation\", \"horizontal\")(\"roundEdges\", true)(\"animations\", ctx.animations);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.hasPreviousValue);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.hasPreviousValue);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵattribute(\"transform\", ctx.transform);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵattribute(\"transform\", ctx.valueTranslate);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵstyleProp(\"text-anchor\", \"middle\");\n        ɵngcc0.ɵɵattribute(\"transform\", ctx.valueTextTransform);\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵtextInterpolate1(\" \", ctx.displayValue, \" \");\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵattribute(\"transform\", ctx.unitsTranslate);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵstyleProp(\"text-anchor\", \"middle\");\n        ɵngcc0.ɵɵattribute(\"transform\", ctx.unitsTextTransform);\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵtextInterpolate1(\" \", ctx.units, \" \");\n      }\n    },\n    dependencies: [ɵngcc1.NgIf, ChartComponent, BarComponent],\n    styles: [_c24, \".linear-gauge{cursor:pointer}.linear-gauge .background-bar path{fill:rgba(0,0,0,.05)}.linear-gauge .units{fill:#666}\"],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  return LinearGaugeComponent;\n}(BaseChartComponent);\nvar GaugeComponent = /** @class */function (_super) {\n  __extends(GaugeComponent, _super);\n  function GaugeComponent() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.legend = false;\n    _this.legendTitle = 'Legend';\n    _this.legendPosition = 'right';\n    _this.min = 0;\n    _this.max = 100;\n    _this.bigSegments = 10;\n    _this.smallSegments = 5;\n    _this.showAxis = true;\n    _this.startAngle = -120;\n    _this.angleSpan = 240;\n    _this.activeEntries = [];\n    _this.tooltipDisabled = false;\n    _this.showText = true;\n    _this.activate = new EventEmitter();\n    _this.deactivate = new EventEmitter();\n    _this.resizeScale = 1;\n    _this.rotation = '';\n    _this.textTransform = 'scale(1, 1)';\n    _this.cornerRadius = 10;\n    return _this;\n  }\n  GaugeComponent.prototype.ngAfterViewInit = function () {\n    var _this = this;\n    _super.prototype.ngAfterViewInit.call(this);\n    setTimeout(function () {\n      return _this.scaleText();\n    });\n  };\n  GaugeComponent.prototype.update = function () {\n    var _this = this;\n    _super.prototype.update.call(this);\n    if (!this.showAxis) {\n      if (!this.margin) {\n        this.margin = [10, 20, 10, 20];\n      }\n    } else {\n      if (!this.margin) {\n        this.margin = [60, 100, 60, 100];\n      }\n    }\n    if (this.startAngle < 0) {\n      this.startAngle = this.startAngle % 360 + 360;\n    }\n    this.angleSpan = Math.min(this.angleSpan, 360);\n    this.dims = calculateViewDimensions({\n      width: this.width,\n      height: this.height,\n      margins: this.margin,\n      showLegend: this.legend,\n      legendPosition: this.legendPosition\n    });\n    this.domain = this.getDomain();\n    this.valueDomain = this.getValueDomain();\n    this.valueScale = this.getValueScale();\n    this.displayValue = this.getDisplayValue();\n    this.outerRadius = Math.min(this.dims.width, this.dims.height) / 2;\n    this.arcs = this.getArcs();\n    this.setColors();\n    this.legendOptions = this.getLegendOptions();\n    var xOffset = this.margin[3] + this.dims.width / 2;\n    var yOffset = this.margin[0] + this.dims.height / 2;\n    this.transform = \"translate(\" + xOffset + \", \" + yOffset + \")\";\n    this.rotation = \"rotate(\" + this.startAngle + \")\";\n    setTimeout(function () {\n      return _this.scaleText();\n    }, 50);\n  };\n  GaugeComponent.prototype.getArcs = function () {\n    var arcs = [];\n    var availableRadius = this.outerRadius * 0.7;\n    var radiusPerArc = Math.min(availableRadius / this.results.length, 10);\n    var arcWidth = radiusPerArc * 0.7;\n    this.textRadius = this.outerRadius - this.results.length * radiusPerArc;\n    this.cornerRadius = Math.floor(arcWidth / 2);\n    var i = 0;\n    for (var _i = 0, _a = this.results; _i < _a.length; _i++) {\n      var d = _a[_i];\n      var outerRadius = this.outerRadius - i * radiusPerArc;\n      var innerRadius = outerRadius - arcWidth;\n      var backgroundArc = {\n        endAngle: this.angleSpan * Math.PI / 180,\n        innerRadius: innerRadius,\n        outerRadius: outerRadius,\n        data: {\n          value: this.max,\n          name: d.name\n        }\n      };\n      var valueArc = {\n        endAngle: Math.min(this.valueScale(d.value), this.angleSpan) * Math.PI / 180,\n        innerRadius: innerRadius,\n        outerRadius: outerRadius,\n        data: {\n          value: d.value,\n          name: d.name\n        }\n      };\n      var arc$$1 = {\n        backgroundArc: backgroundArc,\n        valueArc: valueArc\n      };\n      arcs.push(arc$$1);\n      i++;\n    }\n    return arcs;\n  };\n  GaugeComponent.prototype.getDomain = function () {\n    return this.results.map(function (d) {\n      return d.name;\n    });\n  };\n  GaugeComponent.prototype.getValueDomain = function () {\n    var values = this.results.map(function (d) {\n      return d.value;\n    });\n    var dataMin = Math.min.apply(Math, values);\n    var dataMax = Math.max.apply(Math, values);\n    if (this.min !== undefined) {\n      this.min = Math.min(this.min, dataMin);\n    } else {\n      this.min = dataMin;\n    }\n    if (this.max !== undefined) {\n      this.max = Math.max(this.max, dataMax);\n    } else {\n      this.max = dataMax;\n    }\n    return [this.min, this.max];\n  };\n  GaugeComponent.prototype.getValueScale = function () {\n    return scaleLinear().range([0, this.angleSpan]).nice().domain(this.valueDomain);\n  };\n  GaugeComponent.prototype.getDisplayValue = function () {\n    var value = this.results.map(function (d) {\n      return d.value;\n    }).reduce(function (a, b) {\n      return a + b;\n    }, 0);\n    if (this.textValue && 0 !== this.textValue.length) {\n      return this.textValue.toLocaleString();\n    }\n    if (this.valueFormatting) {\n      return this.valueFormatting(value);\n    }\n    return value.toLocaleString();\n  };\n  GaugeComponent.prototype.scaleText = function (repeat) {\n    var _this = this;\n    if (repeat === void 0) {\n      repeat = true;\n    }\n    if (!this.showText) {\n      return;\n    }\n    var width = this.textEl.nativeElement.getBoundingClientRect().width;\n    var oldScale = this.resizeScale;\n    if (width === 0) {\n      this.resizeScale = 1;\n    } else {\n      var availableSpace = this.textRadius;\n      this.resizeScale = Math.floor(availableSpace / (width / this.resizeScale) * 100) / 100;\n    }\n    if (this.resizeScale !== oldScale) {\n      this.textTransform = \"scale(\" + this.resizeScale + \", \" + this.resizeScale + \")\";\n      this.cd.markForCheck();\n      if (repeat) {\n        setTimeout(function () {\n          return _this.scaleText(false);\n        }, 50);\n      }\n    }\n  };\n  GaugeComponent.prototype.onClick = function (data) {\n    this.select.emit(data);\n  };\n  GaugeComponent.prototype.getLegendOptions = function () {\n    return {\n      scaleType: 'ordinal',\n      colors: this.colors,\n      domain: this.domain,\n      title: this.legendTitle,\n      position: this.legendPosition\n    };\n  };\n  GaugeComponent.prototype.setColors = function () {\n    this.colors = new ColorHelper(this.scheme, 'ordinal', this.domain, this.customColors);\n  };\n  GaugeComponent.prototype.onActivate = function (item) {\n    var idx = this.activeEntries.findIndex(function (d) {\n      return d.name === item.name && d.value === item.value;\n    });\n    if (idx > -1) {\n      return;\n    }\n    this.activeEntries = [item].concat(this.activeEntries);\n    this.activate.emit({\n      value: item,\n      entries: this.activeEntries\n    });\n  };\n  GaugeComponent.prototype.onDeactivate = function (item) {\n    var idx = this.activeEntries.findIndex(function (d) {\n      return d.name === item.name && d.value === item.value;\n    });\n    this.activeEntries.splice(idx, 1);\n    this.activeEntries = this.activeEntries.slice();\n    this.deactivate.emit({\n      value: item,\n      entries: this.activeEntries\n    });\n  };\n  GaugeComponent.prototype.isActive = function (entry) {\n    if (!this.activeEntries) return false;\n    var item = this.activeEntries.find(function (d) {\n      return entry.name === d.name && entry.series === d.series;\n    });\n    return item !== undefined;\n  };\n  GaugeComponent.prototype.trackBy = function (index, item) {\n    return item.valueArc.data.name;\n  };\n  var _a, _b, _c, _d;\n  __decorate([Input(), __metadata(\"design:type\", Object)], GaugeComponent.prototype, \"legend\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], GaugeComponent.prototype, \"legendTitle\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], GaugeComponent.prototype, \"legendPosition\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], GaugeComponent.prototype, \"min\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], GaugeComponent.prototype, \"max\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], GaugeComponent.prototype, \"textValue\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", String)], GaugeComponent.prototype, \"units\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], GaugeComponent.prototype, \"bigSegments\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], GaugeComponent.prototype, \"smallSegments\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Array)], GaugeComponent.prototype, \"results\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], GaugeComponent.prototype, \"showAxis\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], GaugeComponent.prototype, \"startAngle\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], GaugeComponent.prototype, \"angleSpan\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Array)], GaugeComponent.prototype, \"activeEntries\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], GaugeComponent.prototype, \"axisTickFormatting\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], GaugeComponent.prototype, \"tooltipDisabled\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Function)], GaugeComponent.prototype, \"valueFormatting\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], GaugeComponent.prototype, \"showText\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Array)], GaugeComponent.prototype, \"margin\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", typeof (_a = typeof EventEmitter !== \"undefined\" && EventEmitter) === \"function\" ? _a : Object)], GaugeComponent.prototype, \"activate\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", typeof (_b = typeof EventEmitter !== \"undefined\" && EventEmitter) === \"function\" ? _b : Object)], GaugeComponent.prototype, \"deactivate\", void 0);\n  __decorate([ContentChild('tooltipTemplate', {\n    static: false\n  }), __metadata(\"design:type\", typeof (_c = typeof TemplateRef !== \"undefined\" && TemplateRef) === \"function\" ? _c : Object)], GaugeComponent.prototype, \"tooltipTemplate\", void 0);\n  __decorate([ViewChild('textEl', {\n    static: false\n  }), __metadata(\"design:type\", typeof (_d = typeof ElementRef !== \"undefined\" && ElementRef) === \"function\" ? _d : Object)], GaugeComponent.prototype, \"textEl\", void 0);\n  GaugeComponent.ɵfac = /*@__PURE__*/function () {\n    var ɵGaugeComponent_BaseFactory;\n    return function GaugeComponent_Factory(t) {\n      return (ɵGaugeComponent_BaseFactory || (ɵGaugeComponent_BaseFactory = ɵngcc0.ɵɵgetInheritedFactory(GaugeComponent)))(t || GaugeComponent);\n    };\n  }();\n  GaugeComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: GaugeComponent,\n    selectors: [[\"ngx-charts-gauge\"]],\n    contentQueries: function GaugeComponent_ContentQueries(rf, ctx, dirIndex) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵcontentQuery(dirIndex, _c21, 5);\n      }\n      if (rf & 2) {\n        var _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.tooltipTemplate = _t.first);\n      }\n    },\n    viewQuery: function GaugeComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵviewQuery(_c46, 5);\n      }\n      if (rf & 2) {\n        var _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.textEl = _t.first);\n      }\n    },\n    inputs: {\n      margin: \"margin\",\n      startAngle: \"startAngle\",\n      angleSpan: \"angleSpan\",\n      min: \"min\",\n      max: \"max\",\n      activeEntries: \"activeEntries\",\n      legend: \"legend\",\n      legendTitle: \"legendTitle\",\n      legendPosition: \"legendPosition\",\n      textValue: \"textValue\",\n      units: \"units\",\n      bigSegments: \"bigSegments\",\n      smallSegments: \"smallSegments\",\n      results: \"results\",\n      showAxis: \"showAxis\",\n      axisTickFormatting: \"axisTickFormatting\",\n      tooltipDisabled: \"tooltipDisabled\",\n      valueFormatting: \"valueFormatting\",\n      showText: \"showText\"\n    },\n    outputs: {\n      activate: \"activate\",\n      deactivate: \"deactivate\"\n    },\n    features: [ɵngcc0.ɵɵInheritDefinitionFeature],\n    decls: 5,\n    vars: 13,\n    consts: [[3, \"view\", \"showLegend\", \"legendOptions\", \"activeEntries\", \"animations\", \"legendLabelClick\", \"legendLabelActivate\", \"legendLabelDeactivate\"], [1, \"gauge\", \"chart\"], [4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [\"ngx-charts-gauge-axis\", \"\", 3, \"bigSegments\", \"smallSegments\", \"min\", \"max\", \"radius\", \"angleSpan\", \"valueScale\", \"startAngle\", \"tickFormatting\", 4, \"ngIf\"], [\"alignment-baseline\", \"central\", 3, \"textAnchor\", 4, \"ngIf\"], [\"ngx-charts-gauge-arc\", \"\", 3, \"backgroundArc\", \"valueArc\", \"cornerRadius\", \"colors\", \"isActive\", \"tooltipDisabled\", \"tooltipTemplate\", \"valueFormatting\", \"animations\", \"select\", \"activate\", \"deactivate\"], [\"ngx-charts-gauge-axis\", \"\", 3, \"bigSegments\", \"smallSegments\", \"min\", \"max\", \"radius\", \"angleSpan\", \"valueScale\", \"startAngle\", \"tickFormatting\"], [\"alignment-baseline\", \"central\"], [\"textEl\", \"\"], [\"x\", \"0\", \"dy\", \"0\"], [\"x\", \"0\", \"dy\", \"1.2em\"]],\n    template: function GaugeComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"ngx-charts-chart\", 0);\n        ɵngcc0.ɵɵlistener(\"legendLabelClick\", function GaugeComponent_Template_ngx_charts_chart_legendLabelClick_0_listener($event) {\n          return ctx.onClick($event);\n        })(\"legendLabelActivate\", function GaugeComponent_Template_ngx_charts_chart_legendLabelActivate_0_listener($event) {\n          return ctx.onActivate($event);\n        })(\"legendLabelDeactivate\", function GaugeComponent_Template_ngx_charts_chart_legendLabelDeactivate_0_listener($event) {\n          return ctx.onDeactivate($event);\n        });\n        ɵngcc0.ɵɵnamespaceSVG();\n        ɵngcc0.ɵɵelementStart(1, \"g\", 1);\n        ɵngcc0.ɵɵtemplate(2, GaugeComponent__svg_g_2_Template, 2, 10, \"g\", 2);\n        ɵngcc0.ɵɵtemplate(3, GaugeComponent__svg_g_3_Template, 1, 9, \"g\", 3);\n        ɵngcc0.ɵɵtemplate(4, GaugeComponent__svg_text_4_Template, 6, 5, \"text\", 4);\n        ɵngcc0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"view\", ɵngcc0.ɵɵpureFunction2(10, _c23, ctx.width, ctx.height))(\"showLegend\", ctx.legend)(\"legendOptions\", ctx.legendOptions)(\"activeEntries\", ctx.activeEntries)(\"animations\", ctx.animations);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵattribute(\"transform\", ctx.transform);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngForOf\", ctx.arcs)(\"ngForTrackBy\", ctx.trackBy);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.showAxis);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.showText);\n      }\n    },\n    dependencies: function () {\n      return [ɵngcc1.NgForOf, ɵngcc1.NgIf, ChartComponent, GaugeArcComponent, GaugeAxisComponent];\n    },\n    styles: [_c24, \".gauge .background-arc path{fill:rgba(0,0,0,.05)}.gauge .gauge-tick path{stroke:#666}.gauge .gauge-tick text{font-size:12px;fill:#666;font-weight:700}.gauge .gauge-tick-large path{stroke-width:2px}.gauge .gauge-tick-small path{stroke-width:1px}\"],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  return GaugeComponent;\n}(BaseChartComponent);\nvar GaugeArcComponent = /** @class */function () {\n  function GaugeArcComponent() {\n    this.isActive = false;\n    this.tooltipDisabled = false;\n    this.animations = true;\n    this.select = new EventEmitter();\n    this.activate = new EventEmitter();\n    this.deactivate = new EventEmitter();\n  }\n  GaugeArcComponent.prototype.tooltipText = function (arc$$1) {\n    var label = formatLabel(arc$$1.data.name);\n    var val;\n    if (this.valueFormatting) {\n      val = this.valueFormatting(arc$$1.data.value);\n    } else {\n      val = formatLabel(arc$$1.data.value);\n    }\n    return \"\\n      <span class=\\\"tooltip-label\\\">\" + escapeLabel(label) + \"</span>\\n      <span class=\\\"tooltip-val\\\">\" + val + \"</span>\\n    \";\n  };\n  var _a, _b;\n  __decorate([Input(), __metadata(\"design:type\", Object)], GaugeArcComponent.prototype, \"backgroundArc\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], GaugeArcComponent.prototype, \"valueArc\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], GaugeArcComponent.prototype, \"cornerRadius\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", typeof (_a = typeof ColorHelper !== \"undefined\" && ColorHelper) === \"function\" ? _a : Object)], GaugeArcComponent.prototype, \"colors\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], GaugeArcComponent.prototype, \"isActive\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], GaugeArcComponent.prototype, \"tooltipDisabled\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Function)], GaugeArcComponent.prototype, \"valueFormatting\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", typeof (_b = typeof TemplateRef !== \"undefined\" && TemplateRef) === \"function\" ? _b : Object)], GaugeArcComponent.prototype, \"tooltipTemplate\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], GaugeArcComponent.prototype, \"animations\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", Object)], GaugeArcComponent.prototype, \"select\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", Object)], GaugeArcComponent.prototype, \"activate\", void 0);\n  __decorate([Output(), __metadata(\"design:type\", Object)], GaugeArcComponent.prototype, \"deactivate\", void 0);\n  GaugeArcComponent.ɵfac = function GaugeArcComponent_Factory(t) {\n    return new (t || GaugeArcComponent)();\n  };\n  GaugeArcComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: GaugeArcComponent,\n    selectors: [[\"g\", \"ngx-charts-gauge-arc\", \"\"]],\n    inputs: {\n      isActive: \"isActive\",\n      tooltipDisabled: \"tooltipDisabled\",\n      animations: \"animations\",\n      backgroundArc: \"backgroundArc\",\n      valueArc: \"valueArc\",\n      cornerRadius: \"cornerRadius\",\n      colors: \"colors\",\n      valueFormatting: \"valueFormatting\",\n      tooltipTemplate: \"tooltipTemplate\"\n    },\n    outputs: {\n      select: \"select\",\n      activate: \"activate\",\n      deactivate: \"deactivate\"\n    },\n    attrs: _c54,\n    decls: 2,\n    vars: 23,\n    consts: [[\"ngx-charts-pie-arc\", \"\", 1, \"background-arc\", 3, \"startAngle\", \"endAngle\", \"innerRadius\", \"outerRadius\", \"cornerRadius\", \"data\", \"animate\", \"pointerEvents\"], [\"ngx-charts-pie-arc\", \"\", \"ngx-tooltip\", \"\", 3, \"startAngle\", \"endAngle\", \"innerRadius\", \"outerRadius\", \"cornerRadius\", \"fill\", \"data\", \"animate\", \"isActive\", \"tooltipDisabled\", \"tooltipPlacement\", \"tooltipType\", \"tooltipTitle\", \"tooltipTemplate\", \"tooltipContext\", \"select\", \"activate\", \"deactivate\"]],\n    template: function GaugeArcComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵnamespaceSVG();\n        ɵngcc0.ɵɵelement(0, \"g\", 0);\n        ɵngcc0.ɵɵelementStart(1, \"g\", 1);\n        ɵngcc0.ɵɵlistener(\"select\", function GaugeArcComponent_Template__svg_g_select_1_listener($event) {\n          return ctx.select.emit($event);\n        })(\"activate\", function GaugeArcComponent_Template__svg_g_activate_1_listener($event) {\n          return ctx.activate.emit($event);\n        })(\"deactivate\", function GaugeArcComponent_Template__svg_g_deactivate_1_listener($event) {\n          return ctx.deactivate.emit($event);\n        });\n        ɵngcc0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"startAngle\", 0)(\"endAngle\", ctx.backgroundArc.endAngle)(\"innerRadius\", ctx.backgroundArc.innerRadius)(\"outerRadius\", ctx.backgroundArc.outerRadius)(\"cornerRadius\", ctx.cornerRadius)(\"data\", ctx.backgroundArc.data)(\"animate\", false)(\"pointerEvents\", false);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"startAngle\", 0)(\"endAngle\", ctx.valueArc.endAngle)(\"innerRadius\", ctx.valueArc.innerRadius)(\"outerRadius\", ctx.valueArc.outerRadius)(\"cornerRadius\", ctx.cornerRadius)(\"fill\", ctx.colors.getColor(ctx.valueArc.data.name))(\"data\", ctx.valueArc.data)(\"animate\", ctx.animations)(\"isActive\", ctx.isActive)(\"tooltipDisabled\", ctx.tooltipDisabled)(\"tooltipPlacement\", \"top\")(\"tooltipType\", \"tooltip\")(\"tooltipTitle\", ctx.tooltipTemplate ? undefined : ctx.tooltipText(ctx.valueArc))(\"tooltipTemplate\", ctx.tooltipTemplate)(\"tooltipContext\", ctx.valueArc.data);\n      }\n    },\n    dependencies: [TooltipDirective, PieArcComponent],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  return GaugeArcComponent;\n}();\nvar GaugeAxisComponent = /** @class */function () {\n  function GaugeAxisComponent() {\n    this.rotate = '';\n  }\n  GaugeAxisComponent.prototype.ngOnChanges = function (changes) {\n    this.update();\n  };\n  GaugeAxisComponent.prototype.update = function () {\n    this.rotationAngle = -90 + this.startAngle;\n    this.rotate = \"rotate(\" + this.rotationAngle + \")\";\n    this.ticks = this.getTicks();\n  };\n  GaugeAxisComponent.prototype.getTicks = function () {\n    var bigTickSegment = this.angleSpan / this.bigSegments;\n    var smallTickSegment = bigTickSegment / this.smallSegments;\n    var tickLength = 20;\n    var ticks = {\n      big: [],\n      small: []\n    };\n    var startDistance = this.radius + 10;\n    var textDist = startDistance + tickLength + 10;\n    for (var i = 0; i <= this.bigSegments; i++) {\n      var angleDeg = i * bigTickSegment;\n      var angle = angleDeg * Math.PI / 180;\n      var textAnchor = this.getTextAnchor(angleDeg);\n      var skip = false;\n      if (i === 0 && this.angleSpan === 360) {\n        skip = true;\n      }\n      if (!skip) {\n        var text = Number.parseFloat(this.valueScale.invert(angleDeg).toString()).toLocaleString();\n        if (this.tickFormatting) {\n          text = this.tickFormatting(text);\n        }\n        ticks.big.push({\n          line: this.getTickPath(startDistance, tickLength, angle),\n          textAnchor: textAnchor,\n          text: text,\n          textTransform: \"\\n            translate(\" + textDist * Math.cos(angle) + \", \" + textDist * Math.sin(angle) + \") rotate(\" + -this.rotationAngle + \")\\n          \"\n        });\n      }\n      if (i === this.bigSegments) {\n        continue;\n      }\n      for (var j = 1; j <= this.smallSegments; j++) {\n        var smallAngleDeg = angleDeg + j * smallTickSegment;\n        var smallAngle = smallAngleDeg * Math.PI / 180;\n        ticks.small.push({\n          line: this.getTickPath(startDistance, tickLength / 2, smallAngle)\n        });\n      }\n    }\n    return ticks;\n  };\n  GaugeAxisComponent.prototype.getTextAnchor = function (angle) {\n    // [0, 45] = 'middle';\n    // [46, 135] = 'start';\n    // [136, 225] = 'middle';\n    // [226, 315] = 'end';\n    angle = (this.startAngle + angle) % 360;\n    var textAnchor = 'middle';\n    if (angle > 45 && angle <= 135) {\n      textAnchor = 'start';\n    } else if (angle > 225 && angle <= 315) {\n      textAnchor = 'end';\n    }\n    return textAnchor;\n  };\n  GaugeAxisComponent.prototype.getTickPath = function (startDistance, tickLength, angle) {\n    var y1 = startDistance * Math.sin(angle);\n    var y2 = (startDistance + tickLength) * Math.sin(angle);\n    var x1 = startDistance * Math.cos(angle);\n    var x2 = (startDistance + tickLength) * Math.cos(angle);\n    var points = [{\n      x: x1,\n      y: y1\n    }, {\n      x: x2,\n      y: y2\n    }];\n    var lineGenerator = line().x(function (d) {\n      return d.x;\n    }).y(function (d) {\n      return d.y;\n    });\n    return lineGenerator(points);\n  };\n  __decorate([Input(), __metadata(\"design:type\", Object)], GaugeAxisComponent.prototype, \"bigSegments\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], GaugeAxisComponent.prototype, \"smallSegments\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], GaugeAxisComponent.prototype, \"min\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], GaugeAxisComponent.prototype, \"max\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], GaugeAxisComponent.prototype, \"angleSpan\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Number)], GaugeAxisComponent.prototype, \"startAngle\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], GaugeAxisComponent.prototype, \"radius\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], GaugeAxisComponent.prototype, \"valueScale\", void 0);\n  __decorate([Input(), __metadata(\"design:type\", Object)], GaugeAxisComponent.prototype, \"tickFormatting\", void 0);\n  GaugeAxisComponent.ɵfac = function GaugeAxisComponent_Factory(t) {\n    return new (t || GaugeAxisComponent)();\n  };\n  GaugeAxisComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: GaugeAxisComponent,\n    selectors: [[\"g\", \"ngx-charts-gauge-axis\", \"\"]],\n    inputs: {\n      bigSegments: \"bigSegments\",\n      smallSegments: \"smallSegments\",\n      min: \"min\",\n      max: \"max\",\n      angleSpan: \"angleSpan\",\n      startAngle: \"startAngle\",\n      radius: \"radius\",\n      valueScale: \"valueScale\",\n      tickFormatting: \"tickFormatting\"\n    },\n    features: [ɵngcc0.ɵɵNgOnChangesFeature],\n    attrs: _c55,\n    decls: 4,\n    vars: 4,\n    consts: [[\"class\", \"gauge-tick gauge-tick-large\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"gauge-tick gauge-tick-small\", 4, \"ngFor\", \"ngForOf\"], [1, \"gauge-tick\", \"gauge-tick-large\"], [\"alignment-baseline\", \"central\"], [1, \"gauge-tick\", \"gauge-tick-small\"]],\n    template: function GaugeAxisComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵnamespaceSVG();\n        ɵngcc0.ɵɵelementStart(0, \"g\");\n        ɵngcc0.ɵɵtemplate(1, GaugeAxisComponent__svg_g_1_Template, 2, 1, \"g\", 0);\n        ɵngcc0.ɵɵtemplate(2, GaugeAxisComponent__svg_g_2_Template, 3, 4, \"g\", 0);\n        ɵngcc0.ɵɵtemplate(3, GaugeAxisComponent__svg_g_3_Template, 2, 1, \"g\", 1);\n        ɵngcc0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        ɵngcc0.ɵɵattribute(\"transform\", ctx.rotate);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngForOf\", ctx.ticks.big);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngForOf\", ctx.ticks.big);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngForOf\", ctx.ticks.small);\n      }\n    },\n    dependencies: [ɵngcc1.NgForOf],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  return GaugeAxisComponent;\n}();\nvar GaugeModule = /** @class */function () {\n  function GaugeModule() {}\n  GaugeModule.ɵfac = function GaugeModule_Factory(t) {\n    return new (t || GaugeModule)();\n  };\n  GaugeModule.ɵmod = /*@__PURE__*/ɵngcc0.ɵɵdefineNgModule({\n    type: GaugeModule\n  });\n  GaugeModule.ɵinj = /*@__PURE__*/ɵngcc0.ɵɵdefineInjector({\n    imports: [ChartCommonModule, PieChartModule, BarChartModule]\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  (function () {\n    (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(GaugeModule, {\n      declarations: [LinearGaugeComponent, GaugeComponent, GaugeArcComponent, GaugeAxisComponent],\n      imports: [ChartCommonModule, PieChartModule, BarChartModule],\n      exports: [LinearGaugeComponent, GaugeComponent, GaugeArcComponent, GaugeAxisComponent]\n    });\n  })();\n  return GaugeModule;\n}();\nvar NgxChartsModule = /** @class */function () {\n  function NgxChartsModule() {}\n  NgxChartsModule.ɵfac = function NgxChartsModule_Factory(t) {\n    return new (t || NgxChartsModule)();\n  };\n  NgxChartsModule.ɵmod = /*@__PURE__*/ɵngcc0.ɵɵdefineNgModule({\n    type: NgxChartsModule\n  });\n  NgxChartsModule.ɵinj = /*@__PURE__*/ɵngcc0.ɵɵdefineInjector({\n    imports: [ChartCommonModule, AreaChartModule, BarChartModule, BubbleChartModule, ForceDirectedGraphModule, HeatMapModule, LineChartModule, PolarChartModule, NumberCardModule, PieChartModule, TreeMapModule, GaugeModule]\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n  (function () {\n    (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(NgxChartsModule, {\n      exports: [ChartCommonModule, AreaChartModule, BarChartModule, BubbleChartModule, ForceDirectedGraphModule, HeatMapModule, LineChartModule, PolarChartModule, NumberCardModule, PieChartModule, TreeMapModule, GaugeModule]\n    });\n  })();\n  return NgxChartsModule;\n}();\nfunction tickFormat(fieldType, groupByType) {\n  return function (label) {\n    if (label === 'No Value' || label === 'Other') {\n      return label;\n    }\n    if (fieldType === 'date' && groupByType === 'groupBy') {\n      var formatter = timeFormat('MM/DD/YYYY');\n      return formatter(label);\n    }\n    return label.toString();\n  };\n}\nexport { NgxChartsModule, ChartCommonModule, LegendComponent, ScaleLegendComponent, LegendEntryComponent, AdvancedLegendComponent, TooltipModule, TooltipService, TooltipContentComponent, TooltipDirective, StyleTypes, AlignmentTypes, ShowTypes, AxesModule, AxisLabelComponent, XAxisComponent, XAxisTicksComponent, YAxisComponent, YAxisTicksComponent, reduceTicks, CountUpDirective, count, decimalChecker, Timeline, ColorHelper, ChartComponent, AreaComponent, BaseChartComponent, CircleComponent, CircleSeriesComponent, gridSize, gridLayout, GridPanelComponent, GridPanelSeriesComponent, SvgLinearGradientComponent, SvgRadialGradientComponent, TooltipArea, tickFormat, trimLabel, calculateViewDimensions, formatLabel, escapeLabel, getUniqueXDomainValues, getScaleType, AreaChartModule, AreaChartComponent, AreaChartNormalizedComponent, AreaChartStackedComponent, AreaSeriesComponent, BarChartModule, BarComponent, BarHorizontalComponent, BarHorizontal2DComponent, BarHorizontalNormalizedComponent, BarHorizontalStackedComponent, SeriesHorizontal, BarLabelComponent, BarVerticalComponent, BarVertical2DComponent, BarVerticalNormalizedComponent, BarVerticalStackedComponent, D0Types, SeriesVerticalComponent, BubbleChartModule, BubbleChartComponent, getDomain, getScale, BubbleSeriesComponent, ForceDirectedGraphModule, ForceDirectedGraphComponent, HeatMapModule, HeatMapComponent, HeatMapCellComponent, HeatCellSeriesComponent, LineChartModule, LineChartComponent, LineComponent, LineSeriesComponent, PolarChartModule, PolarChartComponent, PolarSeriesComponent, NumberCardModule, NumberCardComponent, CardComponent, CardSeriesComponent, PieChartModule, AdvancedPieChartComponent, PieChartComponent, PieArcComponent, PieGridComponent, PieGridSeriesComponent, PieSeriesComponent, PieLabelComponent, TreeMapModule, TreeMapComponent, TreeMapCellComponent, TreeMapCellSeriesComponent, GaugeModule, GaugeArcComponent, GaugeAxisComponent, GaugeComponent, LinearGaugeComponent };\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXNtLmpzIiwic291cmNlcyI6WyJlc20uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0RBRU87QUFDUDs7Ozs7Z1lBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBT087QUFDUDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7b0JBQWdDO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUVPO0FBQ1A7Ozs7O2dLQUF1QjtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUVPO0FBQ1A7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7b0JBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7dVVBU3NCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQWVPO0FBQ1A7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztvQkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBUU87QUFDUDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7b0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQVFPO0FBQ1A7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztvQkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztvQkFPNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O29CQVNnQztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQXdEO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUtPO0FBQ1A7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7b0JBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FNTztBQUNQOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztvQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztvQkFPNEI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztvQkFPdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O29CQU80QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7b0JBT3VCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7OzBhQU9tQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztvQkFpQjhCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7b0JBT3dCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7b0JBTzJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O29CQU9pQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7b0JBT21DO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O29CQU9tQztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFRTztBQUNQOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztvQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQU1PO0FBQ1A7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7b0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztvQkF1Qm9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUtPO0FBQ1A7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7b0JBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozt5N0JBZTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7b0JBUzJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7b0JBU3FDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztvQkFTa0M7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztvQkFPNEI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O29YQWlCd0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQU1PO0FBQ1A7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O29CQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7b0JBUytCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O29CQW9CaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O29CQW9CeUM7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7b0JBb0JzQztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7b0JBUzZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O29CQW9CK0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O29CQW9CdUM7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7b0JBb0JvQztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7b0JBaUJnQztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztvQkFpQnlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQU9PO0FBQ1A7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7b0JBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7bXdCQWlDdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztvQkFxQjZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7b0JBa0I4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs0UUFhMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztvQkFTb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7O21QQVdpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQU1PO0FBQ1A7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7b0JBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O29CQU9nQztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztvQkFTeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztnVEFlc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQW1CTztBQUNQOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztvQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O29CQXFCMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7b0JBTzRCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Z1NBZXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O29CQXlCNEI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7b0JBTzZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7b0JBU2tDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBTU87QUFDUDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7b0JBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQU1PO0FBQ1A7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztvQkFBd0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7b0JBUzBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7b0JBU3lCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQU1PO0FBQ1A7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7b0JBQStCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7b0JBTzJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzsrY0F1QnVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7O3dTQWF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBTU87QUFDUDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztvQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztvQkFPNEI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O29CQVM0QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O21TQWV5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBTU87QUFDUDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztvQkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7b0JBT21DO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztvQkFTeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztzVEFlc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztvQkFTNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O29CQVN1QjtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O29CQU8wQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztvQkFPMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O3NXQWlCb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzttVkFrQndCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBsaWNhdGlvblJlZiwgQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyLCBJbmplY3RhYmxlLCBJbmplY3RvciwgSW5wdXQsIENvbXBvbmVudCwgRWxlbWVudFJlZiwgVmlld0VuY2Fwc3VsYXRpb24sIEhvc3RMaXN0ZW5lciwgVmlld0NoaWxkLCBIb3N0QmluZGluZywgUmVuZGVyZXIyLCBEaXJlY3RpdmUsIE91dHB1dCwgRXZlbnRFbWl0dGVyLCBWaWV3Q29udGFpbmVyUmVmLCBOZ01vZHVsZSwgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksIENoYW5nZURldGVjdG9yUmVmLCBOZ1pvbmUsIFRlbXBsYXRlUmVmLCBDb250ZW50Q2hpbGQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IENvbW1vbk1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQgeyB0cmlnZ2VyLCBzdHlsZSwgYW5pbWF0ZSwgdHJhbnNpdGlvbiB9IGZyb20gJ0Bhbmd1bGFyL2FuaW1hdGlvbnMnO1xuaW1wb3J0IHsgRG9tU2FuaXRpemVyIH0gZnJvbSAnQGFuZ3VsYXIvcGxhdGZvcm0tYnJvd3Nlcic7XG5pbXBvcnQgeyByZ2IgfSBmcm9tICdkMy1jb2xvcic7XG5pbXBvcnQgeyBmcm9tRXZlbnQgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IGRlYm91bmNlVGltZSB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmltcG9ydCB7IHJhbmdlLCBtaW4sIG1heCB9IGZyb20gJ2QzLWFycmF5JztcbmltcG9ydCB7IHNjYWxlQmFuZCwgc2NhbGVMaW5lYXIsIHNjYWxlT3JkaW5hbCwgc2NhbGVRdWFudGlsZSwgc2NhbGVUaW1lLCBzY2FsZVBvaW50IH0gZnJvbSAnZDMtc2NhbGUnO1xuaW1wb3J0IHsgYnJ1c2hYIH0gZnJvbSAnZDMtYnJ1c2gnO1xuaW1wb3J0IHsgc2VsZWN0LCBldmVudCB9IGZyb20gJ2QzLXNlbGVjdGlvbic7XG5pbXBvcnQgeyBjdXJ2ZUxpbmVhciwgYXJlYSwgbGluZSwgY3VydmVDYXJkaW5hbENsb3NlZCwgbGluZVJhZGlhbCwgYXJjLCBwaWUgfSBmcm9tICdkMy1zaGFwZSc7XG5pbXBvcnQgeyBmb3JjZUNvbGxpZGUsIGZvcmNlTGluaywgZm9yY2VNYW55Qm9keSwgZm9yY2VTaW11bGF0aW9uLCBmb3JjZVgsIGZvcmNlWSB9IGZyb20gJ2QzLWZvcmNlJztcbmltcG9ydCB7IGludGVycG9sYXRlIH0gZnJvbSAnZDMtaW50ZXJwb2xhdGUnO1xuaW1wb3J0IHsgZm9ybWF0IH0gZnJvbSAnZDMtZm9ybWF0JztcbmltcG9ydCB7IHRyZWVtYXAsIHN0cmF0aWZ5IH0gZnJvbSAnZDMtaGllcmFyY2h5JztcbmltcG9ydCB7IHRpbWVGb3JtYXQgfSBmcm9tICdkMy10aW1lLWZvcm1hdCc7XG5cbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cclxuXHJcbnZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2RlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59XHJcblxyXG5mdW5jdGlvbiBfX21ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKSB7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpO1xyXG59XG5cbi8vIFRoZSBleHBvcnQgaXMgbmVlZGVkIGhlcmUgdG8gZ2VuZXJhdGUgYSB2YWxpZCBwb2x5ZmlsbHMubWV0YWRhdGEuanNvbiBmaWxlXG5mdW5jdGlvbiBuZ3hDaGFydHNQb2x5ZmlsbHMoKSB7XG4gICAgLy8gSUUxMSBmaXhcbiAgICAvLyBSZWY6IGh0dHBzOi8vZ2l0aHViLmNvbS9zd2ltbGFuZS9uZ3gtY2hhcnRzL2lzc3Vlcy8zODZcbiAgICBpZiAodHlwZW9mIChTVkdFbGVtZW50KSAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIFNWR0VsZW1lbnQucHJvdG90eXBlLmNvbnRhaW5zID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBTVkdFbGVtZW50LnByb3RvdHlwZS5jb250YWlucyA9IEhUTUxEaXZFbGVtZW50LnByb3RvdHlwZS5jb250YWlucztcbiAgICB9XG59XG5uZ3hDaGFydHNQb2x5ZmlsbHMoKTtcblxudmFyIFBsYWNlbWVudFR5cGVzO1xuKGZ1bmN0aW9uIChQbGFjZW1lbnRUeXBlcykge1xuICAgIFBsYWNlbWVudFR5cGVzW1BsYWNlbWVudFR5cGVzW1widG9wXCJdID0gJ3RvcCddID0gXCJ0b3BcIjtcbiAgICBQbGFjZW1lbnRUeXBlc1tQbGFjZW1lbnRUeXBlc1tcImJvdHRvbVwiXSA9ICdib3R0b20nXSA9IFwiYm90dG9tXCI7XG4gICAgUGxhY2VtZW50VHlwZXNbUGxhY2VtZW50VHlwZXNbXCJsZWZ0XCJdID0gJ2xlZnQnXSA9IFwibGVmdFwiO1xuICAgIFBsYWNlbWVudFR5cGVzW1BsYWNlbWVudFR5cGVzW1wicmlnaHRcIl0gPSAncmlnaHQnXSA9IFwicmlnaHRcIjtcbn0pKFBsYWNlbWVudFR5cGVzIHx8IChQbGFjZW1lbnRUeXBlcyA9IHt9KSk7XG5cbnZhciBjYXJldE9mZnNldCA9IDc7XG5mdW5jdGlvbiB2ZXJ0aWNhbFBvc2l0aW9uKGVsRGltZW5zaW9ucywgcG9wb3ZlckRpbWVuc2lvbnMsIGFsaWdubWVudCkge1xuICAgIGlmIChhbGlnbm1lbnQgPT09ICd0b3AnKSB7XG4gICAgICAgIHJldHVybiBlbERpbWVuc2lvbnMudG9wIC0gY2FyZXRPZmZzZXQ7XG4gICAgfVxuICAgIGlmIChhbGlnbm1lbnQgPT09ICdib3R0b20nKSB7XG4gICAgICAgIHJldHVybiBlbERpbWVuc2lvbnMudG9wICsgZWxEaW1lbnNpb25zLmhlaWdodCAtIHBvcG92ZXJEaW1lbnNpb25zLmhlaWdodCArIGNhcmV0T2Zmc2V0O1xuICAgIH1cbiAgICBpZiAoYWxpZ25tZW50ID09PSAnY2VudGVyJykge1xuICAgICAgICByZXR1cm4gZWxEaW1lbnNpb25zLnRvcCArIGVsRGltZW5zaW9ucy5oZWlnaHQgLyAyIC0gcG9wb3ZlckRpbWVuc2lvbnMuaGVpZ2h0IC8gMjtcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cbmZ1bmN0aW9uIGhvcml6b250YWxQb3NpdGlvbihlbERpbWVuc2lvbnMsIHBvcG92ZXJEaW1lbnNpb25zLCBhbGlnbm1lbnQpIHtcbiAgICBpZiAoYWxpZ25tZW50ID09PSAnbGVmdCcpIHtcbiAgICAgICAgcmV0dXJuIGVsRGltZW5zaW9ucy5sZWZ0IC0gY2FyZXRPZmZzZXQ7XG4gICAgfVxuICAgIGlmIChhbGlnbm1lbnQgPT09ICdyaWdodCcpIHtcbiAgICAgICAgcmV0dXJuIGVsRGltZW5zaW9ucy5sZWZ0ICsgZWxEaW1lbnNpb25zLndpZHRoIC0gcG9wb3ZlckRpbWVuc2lvbnMud2lkdGggKyBjYXJldE9mZnNldDtcbiAgICB9XG4gICAgaWYgKGFsaWdubWVudCA9PT0gJ2NlbnRlcicpIHtcbiAgICAgICAgcmV0dXJuIGVsRGltZW5zaW9ucy5sZWZ0ICsgZWxEaW1lbnNpb25zLndpZHRoIC8gMiAtIHBvcG92ZXJEaW1lbnNpb25zLndpZHRoIC8gMjtcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cbi8qKlxuICogUG9zaXRpb24gaGVscGVyIGZvciB0aGUgcG9wb3ZlciBkaXJlY3RpdmUuXG4gKlxuICogQGV4cG9ydFxuICogQGNsYXNzIFBvc2l0aW9uSGVscGVyXG4gKi9cbnZhciBQb3NpdGlvbkhlbHBlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBQb3NpdGlvbkhlbHBlcigpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHZlcnRpY2FsIGFsaWdubWVudCBwb3NpdGlvblxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7YW55fSBlbERpbWVuc2lvbnNcbiAgICAgKiBAcGFyYW0ge2FueX0gcG9wb3ZlckRpbWVuc2lvbnNcbiAgICAgKiBAcGFyYW0ge2FueX0gYWxpZ25tZW50XG4gICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAgKlxuICAgICAqIEBtZW1iZXJPZiBQb3NpdGlvbkhlbHBlclxuICAgICAqL1xuICAgIFBvc2l0aW9uSGVscGVyLmNhbGN1bGF0ZVZlcnRpY2FsQWxpZ25tZW50ID0gZnVuY3Rpb24gKGVsRGltZW5zaW9ucywgcG9wb3ZlckRpbWVuc2lvbnMsIGFsaWdubWVudCkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gdmVydGljYWxQb3NpdGlvbihlbERpbWVuc2lvbnMsIHBvcG92ZXJEaW1lbnNpb25zLCBhbGlnbm1lbnQpO1xuICAgICAgICBpZiAocmVzdWx0ICsgcG9wb3ZlckRpbWVuc2lvbnMuaGVpZ2h0ID4gd2luZG93LmlubmVySGVpZ2h0KSB7XG4gICAgICAgICAgICByZXN1bHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgLSBwb3BvdmVyRGltZW5zaW9ucy5oZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB2ZXJ0aWNhbCBjYXJldCBwb3NpdGlvblxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7YW55fSBlbERpbWVuc2lvbnNcbiAgICAgKiBAcGFyYW0ge2FueX0gcG9wb3ZlckRpbWVuc2lvbnNcbiAgICAgKiBAcGFyYW0ge2FueX0gY2FyZXREaW1lbnNpb25zXG4gICAgICogQHBhcmFtIHthbnl9IGFsaWdubWVudFxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgICpcbiAgICAgKiBAbWVtYmVyT2YgUG9zaXRpb25IZWxwZXJcbiAgICAgKi9cbiAgICBQb3NpdGlvbkhlbHBlci5jYWxjdWxhdGVWZXJ0aWNhbENhcmV0ID0gZnVuY3Rpb24gKGVsRGltZW5zaW9ucywgcG9wb3ZlckRpbWVuc2lvbnMsIGNhcmV0RGltZW5zaW9ucywgYWxpZ25tZW50KSB7XG4gICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgIGlmIChhbGlnbm1lbnQgPT09ICd0b3AnKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBlbERpbWVuc2lvbnMuaGVpZ2h0IC8gMiAtIGNhcmV0RGltZW5zaW9ucy5oZWlnaHQgLyAyICsgY2FyZXRPZmZzZXQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFsaWdubWVudCA9PT0gJ2JvdHRvbScpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHBvcG92ZXJEaW1lbnNpb25zLmhlaWdodCAtIGVsRGltZW5zaW9ucy5oZWlnaHQgLyAyIC0gY2FyZXREaW1lbnNpb25zLmhlaWdodCAvIDIgLSBjYXJldE9mZnNldDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYWxpZ25tZW50ID09PSAnY2VudGVyJykge1xuICAgICAgICAgICAgcmVzdWx0ID0gcG9wb3ZlckRpbWVuc2lvbnMuaGVpZ2h0IC8gMiAtIGNhcmV0RGltZW5zaW9ucy5oZWlnaHQgLyAyO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwb3BvdmVyUG9zaXRpb24gPSB2ZXJ0aWNhbFBvc2l0aW9uKGVsRGltZW5zaW9ucywgcG9wb3ZlckRpbWVuc2lvbnMsIGFsaWdubWVudCk7XG4gICAgICAgIGlmIChwb3BvdmVyUG9zaXRpb24gKyBwb3BvdmVyRGltZW5zaW9ucy5oZWlnaHQgPiB3aW5kb3cuaW5uZXJIZWlnaHQpIHtcbiAgICAgICAgICAgIHJlc3VsdCArPSAocG9wb3ZlclBvc2l0aW9uICsgcG9wb3ZlckRpbWVuc2lvbnMuaGVpZ2h0IC0gd2luZG93LmlubmVySGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIGhvcnogYWxpZ25tZW50IHBvc2l0aW9uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHthbnl9IGVsRGltZW5zaW9uc1xuICAgICAqIEBwYXJhbSB7YW55fSBwb3BvdmVyRGltZW5zaW9uc1xuICAgICAqIEBwYXJhbSB7YW55fSBhbGlnbm1lbnRcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICAqXG4gICAgICogQG1lbWJlck9mIFBvc2l0aW9uSGVscGVyXG4gICAgICovXG4gICAgUG9zaXRpb25IZWxwZXIuY2FsY3VsYXRlSG9yaXpvbnRhbEFsaWdubWVudCA9IGZ1bmN0aW9uIChlbERpbWVuc2lvbnMsIHBvcG92ZXJEaW1lbnNpb25zLCBhbGlnbm1lbnQpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGhvcml6b250YWxQb3NpdGlvbihlbERpbWVuc2lvbnMsIHBvcG92ZXJEaW1lbnNpb25zLCBhbGlnbm1lbnQpO1xuICAgICAgICBpZiAocmVzdWx0ICsgcG9wb3ZlckRpbWVuc2lvbnMud2lkdGggPiB3aW5kb3cuaW5uZXJXaWR0aCkge1xuICAgICAgICAgICAgcmVzdWx0ID0gd2luZG93LmlubmVyV2lkdGggLSBwb3BvdmVyRGltZW5zaW9ucy53aWR0aDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIGhvcnogY2FyZXQgcG9zaXRpb25cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge2FueX0gZWxEaW1lbnNpb25zXG4gICAgICogQHBhcmFtIHthbnl9IHBvcG92ZXJEaW1lbnNpb25zXG4gICAgICogQHBhcmFtIHthbnl9IGNhcmV0RGltZW5zaW9uc1xuICAgICAqIEBwYXJhbSB7YW55fSBhbGlnbm1lbnRcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICAqXG4gICAgICogQG1lbWJlck9mIFBvc2l0aW9uSGVscGVyXG4gICAgICovXG4gICAgUG9zaXRpb25IZWxwZXIuY2FsY3VsYXRlSG9yaXpvbnRhbENhcmV0ID0gZnVuY3Rpb24gKGVsRGltZW5zaW9ucywgcG9wb3ZlckRpbWVuc2lvbnMsIGNhcmV0RGltZW5zaW9ucywgYWxpZ25tZW50KSB7XG4gICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgIGlmIChhbGlnbm1lbnQgPT09ICdsZWZ0Jykge1xuICAgICAgICAgICAgcmVzdWx0ID0gZWxEaW1lbnNpb25zLndpZHRoIC8gMiAtIGNhcmV0RGltZW5zaW9ucy53aWR0aCAvIDIgKyBjYXJldE9mZnNldDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYWxpZ25tZW50ID09PSAncmlnaHQnKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBwb3BvdmVyRGltZW5zaW9ucy53aWR0aCAtIGVsRGltZW5zaW9ucy53aWR0aCAvIDIgLSBjYXJldERpbWVuc2lvbnMud2lkdGggLyAyIC0gY2FyZXRPZmZzZXQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFsaWdubWVudCA9PT0gJ2NlbnRlcicpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHBvcG92ZXJEaW1lbnNpb25zLndpZHRoIC8gMiAtIGNhcmV0RGltZW5zaW9ucy53aWR0aCAvIDI7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHBvcG92ZXJQb3NpdGlvbiA9IGhvcml6b250YWxQb3NpdGlvbihlbERpbWVuc2lvbnMsIHBvcG92ZXJEaW1lbnNpb25zLCBhbGlnbm1lbnQpO1xuICAgICAgICBpZiAocG9wb3ZlclBvc2l0aW9uICsgcG9wb3ZlckRpbWVuc2lvbnMud2lkdGggPiB3aW5kb3cuaW5uZXJXaWR0aCkge1xuICAgICAgICAgICAgcmVzdWx0ICs9IChwb3BvdmVyUG9zaXRpb24gKyBwb3BvdmVyRGltZW5zaW9ucy53aWR0aCAtIHdpbmRvdy5pbm5lcldpZHRoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIHRoZSBlbGVtZW50J3MgcG9zaXRpb24gc2hvdWxkIGJlIGZsaXBwZWRcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge2FueX0gZWxEaW1lbnNpb25zXG4gICAgICogQHBhcmFtIHthbnl9IHBvcG92ZXJEaW1lbnNpb25zXG4gICAgICogQHBhcmFtIHthbnl9IHBsYWNlbWVudFxuICAgICAqIEBwYXJhbSB7YW55fSBzcGFjaW5nXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICpcbiAgICAgKiBAbWVtYmVyT2YgUG9zaXRpb25IZWxwZXJcbiAgICAgKi9cbiAgICBQb3NpdGlvbkhlbHBlci5zaG91bGRGbGlwID0gZnVuY3Rpb24gKGVsRGltZW5zaW9ucywgcG9wb3ZlckRpbWVuc2lvbnMsIHBsYWNlbWVudCwgc3BhY2luZykge1xuICAgICAgICB2YXIgZmxpcCA9IGZhbHNlO1xuICAgICAgICBpZiAocGxhY2VtZW50ID09PSAncmlnaHQnKSB7XG4gICAgICAgICAgICBpZiAoZWxEaW1lbnNpb25zLmxlZnQgKyBlbERpbWVuc2lvbnMud2lkdGggKyBwb3BvdmVyRGltZW5zaW9ucy53aWR0aCArIHNwYWNpbmcgPiB3aW5kb3cuaW5uZXJXaWR0aCkge1xuICAgICAgICAgICAgICAgIGZsaXAgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChwbGFjZW1lbnQgPT09ICdsZWZ0Jykge1xuICAgICAgICAgICAgaWYgKGVsRGltZW5zaW9ucy5sZWZ0IC0gcG9wb3ZlckRpbWVuc2lvbnMud2lkdGggLSBzcGFjaW5nIDwgMCkge1xuICAgICAgICAgICAgICAgIGZsaXAgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChwbGFjZW1lbnQgPT09ICd0b3AnKSB7XG4gICAgICAgICAgICBpZiAoZWxEaW1lbnNpb25zLnRvcCAtIHBvcG92ZXJEaW1lbnNpb25zLmhlaWdodCAtIHNwYWNpbmcgPCAwKSB7XG4gICAgICAgICAgICAgICAgZmxpcCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBsYWNlbWVudCA9PT0gJ2JvdHRvbScpIHtcbiAgICAgICAgICAgIGlmIChlbERpbWVuc2lvbnMudG9wICsgZWxEaW1lbnNpb25zLmhlaWdodCArIHBvcG92ZXJEaW1lbnNpb25zLmhlaWdodCArIHNwYWNpbmcgPiB3aW5kb3cuaW5uZXJIZWlnaHQpIHtcbiAgICAgICAgICAgICAgICBmbGlwID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmxpcDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFBvc2l0aW9uIGNhcmV0XG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHthbnl9IHBsYWNlbWVudFxuICAgICAqIEBwYXJhbSB7YW55fSBlbG1EaW1cbiAgICAgKiBAcGFyYW0ge2FueX0gaG9zdERpbVxuICAgICAqIEBwYXJhbSB7YW55fSBjYXJldERpbWVuc2lvbnNcbiAgICAgKiBAcGFyYW0ge2FueX0gYWxpZ25tZW50XG4gICAgICogQHJldHVybnMgeyp9XG4gICAgICpcbiAgICAgKiBAbWVtYmVyT2YgUG9zaXRpb25IZWxwZXJcbiAgICAgKi9cbiAgICBQb3NpdGlvbkhlbHBlci5wb3NpdGlvbkNhcmV0ID0gZnVuY3Rpb24gKHBsYWNlbWVudCwgZWxtRGltLCBob3N0RGltLCBjYXJldERpbWVuc2lvbnMsIGFsaWdubWVudCkge1xuICAgICAgICB2YXIgdG9wID0gMDtcbiAgICAgICAgdmFyIGxlZnQgPSAwO1xuICAgICAgICBpZiAocGxhY2VtZW50ID09PSBQbGFjZW1lbnRUeXBlcy5yaWdodCkge1xuICAgICAgICAgICAgbGVmdCA9IC03O1xuICAgICAgICAgICAgdG9wID0gUG9zaXRpb25IZWxwZXIuY2FsY3VsYXRlVmVydGljYWxDYXJldChob3N0RGltLCBlbG1EaW0sIGNhcmV0RGltZW5zaW9ucywgYWxpZ25tZW50KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwbGFjZW1lbnQgPT09IFBsYWNlbWVudFR5cGVzLmxlZnQpIHtcbiAgICAgICAgICAgIGxlZnQgPSBlbG1EaW0ud2lkdGg7XG4gICAgICAgICAgICB0b3AgPSBQb3NpdGlvbkhlbHBlci5jYWxjdWxhdGVWZXJ0aWNhbENhcmV0KGhvc3REaW0sIGVsbURpbSwgY2FyZXREaW1lbnNpb25zLCBhbGlnbm1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHBsYWNlbWVudCA9PT0gUGxhY2VtZW50VHlwZXMudG9wKSB7XG4gICAgICAgICAgICB0b3AgPSBlbG1EaW0uaGVpZ2h0O1xuICAgICAgICAgICAgbGVmdCA9IFBvc2l0aW9uSGVscGVyLmNhbGN1bGF0ZUhvcml6b250YWxDYXJldChob3N0RGltLCBlbG1EaW0sIGNhcmV0RGltZW5zaW9ucywgYWxpZ25tZW50KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwbGFjZW1lbnQgPT09IFBsYWNlbWVudFR5cGVzLmJvdHRvbSkge1xuICAgICAgICAgICAgdG9wID0gLTc7XG4gICAgICAgICAgICBsZWZ0ID0gUG9zaXRpb25IZWxwZXIuY2FsY3VsYXRlSG9yaXpvbnRhbENhcmV0KGhvc3REaW0sIGVsbURpbSwgY2FyZXREaW1lbnNpb25zLCBhbGlnbm1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHRvcDogdG9wLCBsZWZ0OiBsZWZ0IH07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQb3NpdGlvbiBjb250ZW50XG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHthbnl9IHBsYWNlbWVudFxuICAgICAqIEBwYXJhbSB7YW55fSBlbG1EaW1cbiAgICAgKiBAcGFyYW0ge2FueX0gaG9zdERpbVxuICAgICAqIEBwYXJhbSB7YW55fSBzcGFjaW5nXG4gICAgICogQHBhcmFtIHthbnl9IGFsaWdubWVudFxuICAgICAqIEByZXR1cm5zIHsqfVxuICAgICAqXG4gICAgICogQG1lbWJlck9mIFBvc2l0aW9uSGVscGVyXG4gICAgICovXG4gICAgUG9zaXRpb25IZWxwZXIucG9zaXRpb25Db250ZW50ID0gZnVuY3Rpb24gKHBsYWNlbWVudCwgZWxtRGltLCBob3N0RGltLCBzcGFjaW5nLCBhbGlnbm1lbnQpIHtcbiAgICAgICAgdmFyIHRvcCA9IDA7XG4gICAgICAgIHZhciBsZWZ0ID0gMDtcbiAgICAgICAgaWYgKHBsYWNlbWVudCA9PT0gUGxhY2VtZW50VHlwZXMucmlnaHQpIHtcbiAgICAgICAgICAgIGxlZnQgPSBob3N0RGltLmxlZnQgKyBob3N0RGltLndpZHRoICsgc3BhY2luZztcbiAgICAgICAgICAgIHRvcCA9IFBvc2l0aW9uSGVscGVyLmNhbGN1bGF0ZVZlcnRpY2FsQWxpZ25tZW50KGhvc3REaW0sIGVsbURpbSwgYWxpZ25tZW50KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwbGFjZW1lbnQgPT09IFBsYWNlbWVudFR5cGVzLmxlZnQpIHtcbiAgICAgICAgICAgIGxlZnQgPSBob3N0RGltLmxlZnQgLSBlbG1EaW0ud2lkdGggLSBzcGFjaW5nO1xuICAgICAgICAgICAgdG9wID0gUG9zaXRpb25IZWxwZXIuY2FsY3VsYXRlVmVydGljYWxBbGlnbm1lbnQoaG9zdERpbSwgZWxtRGltLCBhbGlnbm1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHBsYWNlbWVudCA9PT0gUGxhY2VtZW50VHlwZXMudG9wKSB7XG4gICAgICAgICAgICB0b3AgPSBob3N0RGltLnRvcCAtIGVsbURpbS5oZWlnaHQgLSBzcGFjaW5nO1xuICAgICAgICAgICAgbGVmdCA9IFBvc2l0aW9uSGVscGVyLmNhbGN1bGF0ZUhvcml6b250YWxBbGlnbm1lbnQoaG9zdERpbSwgZWxtRGltLCBhbGlnbm1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHBsYWNlbWVudCA9PT0gUGxhY2VtZW50VHlwZXMuYm90dG9tKSB7XG4gICAgICAgICAgICB0b3AgPSBob3N0RGltLnRvcCArIGhvc3REaW0uaGVpZ2h0ICsgc3BhY2luZztcbiAgICAgICAgICAgIGxlZnQgPSBQb3NpdGlvbkhlbHBlci5jYWxjdWxhdGVIb3Jpem9udGFsQWxpZ25tZW50KGhvc3REaW0sIGVsbURpbSwgYWxpZ25tZW50KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyB0b3A6IHRvcCwgbGVmdDogbGVmdCB9O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lIHBsYWNlbWVudCBiYXNlZCBvbiBmbGlwXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHthbnl9IHBsYWNlbWVudFxuICAgICAqIEBwYXJhbSB7YW55fSBlbG1EaW1cbiAgICAgKiBAcGFyYW0ge2FueX0gaG9zdERpbVxuICAgICAqIEBwYXJhbSB7YW55fSBzcGFjaW5nXG4gICAgICogQHJldHVybnMgeyp9XG4gICAgICpcbiAgICAgKiBAbWVtYmVyT2YgUG9zaXRpb25IZWxwZXJcbiAgICAgKi9cbiAgICBQb3NpdGlvbkhlbHBlci5kZXRlcm1pbmVQbGFjZW1lbnQgPSBmdW5jdGlvbiAocGxhY2VtZW50LCBlbG1EaW0sIGhvc3REaW0sIHNwYWNpbmcpIHtcbiAgICAgICAgdmFyIHNob3VsZEZsaXAgPSBQb3NpdGlvbkhlbHBlci5zaG91bGRGbGlwKGhvc3REaW0sIGVsbURpbSwgcGxhY2VtZW50LCBzcGFjaW5nKTtcbiAgICAgICAgaWYgKHNob3VsZEZsaXApIHtcbiAgICAgICAgICAgIGlmIChwbGFjZW1lbnQgPT09IFBsYWNlbWVudFR5cGVzLnJpZ2h0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBsYWNlbWVudFR5cGVzLmxlZnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChwbGFjZW1lbnQgPT09IFBsYWNlbWVudFR5cGVzLmxlZnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUGxhY2VtZW50VHlwZXMucmlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChwbGFjZW1lbnQgPT09IFBsYWNlbWVudFR5cGVzLnRvcCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBQbGFjZW1lbnRUeXBlcy5ib3R0b207XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChwbGFjZW1lbnQgPT09IFBsYWNlbWVudFR5cGVzLmJvdHRvbSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBQbGFjZW1lbnRUeXBlcy50b3A7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBsYWNlbWVudDtcbiAgICB9O1xuICAgIHJldHVybiBQb3NpdGlvbkhlbHBlcjtcbn0oKSk7XG5cbnZhciBTdHlsZVR5cGVzO1xuKGZ1bmN0aW9uIChTdHlsZVR5cGVzKSB7XG4gICAgU3R5bGVUeXBlc1tTdHlsZVR5cGVzW1wicG9wb3ZlclwiXSA9ICdwb3BvdmVyJ10gPSBcInBvcG92ZXJcIjtcbiAgICBTdHlsZVR5cGVzW1N0eWxlVHlwZXNbXCJ0b29sdGlwXCJdID0gJ3Rvb2x0aXAnXSA9IFwidG9vbHRpcFwiO1xufSkoU3R5bGVUeXBlcyB8fCAoU3R5bGVUeXBlcyA9IHt9KSk7XG5cbnZhciBBbGlnbm1lbnRUeXBlcztcbihmdW5jdGlvbiAoQWxpZ25tZW50VHlwZXMpIHtcbiAgICBBbGlnbm1lbnRUeXBlc1tBbGlnbm1lbnRUeXBlc1tcImxlZnRcIl0gPSAnbGVmdCddID0gXCJsZWZ0XCI7XG4gICAgQWxpZ25tZW50VHlwZXNbQWxpZ25tZW50VHlwZXNbXCJjZW50ZXJcIl0gPSAnY2VudGVyJ10gPSBcImNlbnRlclwiO1xuICAgIEFsaWdubWVudFR5cGVzW0FsaWdubWVudFR5cGVzW1wicmlnaHRcIl0gPSAncmlnaHQnXSA9IFwicmlnaHRcIjtcbn0pKEFsaWdubWVudFR5cGVzIHx8IChBbGlnbm1lbnRUeXBlcyA9IHt9KSk7XG5cbnZhciBTaG93VHlwZXM7XG4oZnVuY3Rpb24gKFNob3dUeXBlcykge1xuICAgIFNob3dUeXBlc1tTaG93VHlwZXNbXCJhbGxcIl0gPSAnYWxsJ10gPSBcImFsbFwiO1xuICAgIFNob3dUeXBlc1tTaG93VHlwZXNbXCJmb2N1c1wiXSA9ICdmb2N1cyddID0gXCJmb2N1c1wiO1xuICAgIFNob3dUeXBlc1tTaG93VHlwZXNbXCJtb3VzZW92ZXJcIl0gPSAnbW91c2VvdmVyJ10gPSBcIm1vdXNlb3ZlclwiO1xufSkoU2hvd1R5cGVzIHx8IChTaG93VHlwZXMgPSB7fSkpO1xuXG4vKipcbiAqIEluamVjdGlvbiBzZXJ2aWNlIGlzIGEgaGVscGVyIHRvIGFwcGVuZCBjb21wb25lbnRzXG4gKiBkeW5hbWljYWxseSB0byBhIGtub3duIGxvY2F0aW9uIGluIHRoZSBET00sIG1vc3RcbiAqIG5vdGVhYmx5IGZvciBkaWFsb2dzL3Rvb2x0aXBzIGFwcGVuZGluZyB0byBib2R5LlxuICpcbiAqIEBleHBvcnRcbiAqIEBjbGFzcyBJbmplY3Rpb25TZXJ2aWNlXG4gKi9cbnZhciBJbmplY3Rpb25TZXJ2aWNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEluamVjdGlvblNlcnZpY2UoYXBwbGljYXRpb25SZWYsIGNvbXBvbmVudEZhY3RvcnlSZXNvbHZlciwgaW5qZWN0b3IpIHtcbiAgICAgICAgdGhpcy5hcHBsaWNhdGlvblJlZiA9IGFwcGxpY2F0aW9uUmVmO1xuICAgICAgICB0aGlzLmNvbXBvbmVudEZhY3RvcnlSZXNvbHZlciA9IGNvbXBvbmVudEZhY3RvcnlSZXNvbHZlcjtcbiAgICAgICAgdGhpcy5pbmplY3RvciA9IGluamVjdG9yO1xuICAgIH1cbiAgICBJbmplY3Rpb25TZXJ2aWNlXzEgPSBJbmplY3Rpb25TZXJ2aWNlO1xuICAgIC8qKlxuICAgICAqIFNldHMgYSBkZWZhdWx0IGdsb2JhbCByb290IHZpZXcgY29udGFpbmVyLiBUaGlzIGlzIHVzZWZ1bCBmb3JcbiAgICAgKiB0aGluZ3MgbGlrZSBuZ1VwZ3JhZGUgdGhhdCBkb2Vzbid0IGhhdmUgYSBBcHBsaWNhdGlvblJlZiByb290LlxuICAgICAqXG4gICAgICogQHBhcmFtIGNvbnRhaW5lclxuICAgICAqL1xuICAgIEluamVjdGlvblNlcnZpY2Uuc2V0R2xvYmFsUm9vdFZpZXdDb250YWluZXIgPSBmdW5jdGlvbiAoY29udGFpbmVyKSB7XG4gICAgICAgIEluamVjdGlvblNlcnZpY2VfMS5nbG9iYWxSb290Vmlld0NvbnRhaW5lciA9IGNvbnRhaW5lcjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHJvb3QgdmlldyBjb250YWluZXIgdG8gaW5qZWN0IHRoZSBjb21wb25lbnQgdG8uXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q29tcG9uZW50UmVmPGFueT59XG4gICAgICpcbiAgICAgKiBAbWVtYmVyT2YgSW5qZWN0aW9uU2VydmljZVxuICAgICAqL1xuICAgIEluamVjdGlvblNlcnZpY2UucHJvdG90eXBlLmdldFJvb3RWaWV3Q29udGFpbmVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcm9vdENvbXBvbmVudHMgPSB0aGlzLmFwcGxpY2F0aW9uUmVmLmNvbXBvbmVudHM7XG4gICAgICAgIC8vIGZpeCBjYW5ub3QgcmVhZCBsZW5ndGggb2YgdW5kZWZpbmVkXG4gICAgICAgIGlmIChyb290Q29tcG9uZW50cykge1xuICAgICAgICAgICAgaWYgKHJvb3RDb21wb25lbnRzLmxlbmd0aClcbiAgICAgICAgICAgICAgICByZXR1cm4gcm9vdENvbXBvbmVudHNbMF07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2NvbnRhaW5lcilcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jb250YWluZXI7XG4gICAgICAgIGlmIChJbmplY3Rpb25TZXJ2aWNlXzEuZ2xvYmFsUm9vdFZpZXdDb250YWluZXIpXG4gICAgICAgICAgICByZXR1cm4gSW5qZWN0aW9uU2VydmljZV8xLmdsb2JhbFJvb3RWaWV3Q29udGFpbmVyO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1ZpZXcgQ29udGFpbmVyIG5vdCBmb3VuZCEgbmdVcGdyYWRlIG5lZWRzIHRvIG1hbnVhbGx5IHNldCB0aGlzIHZpYSBzZXRSb290Vmlld0NvbnRhaW5lci4nKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlcyB0aGUgZGVmYXVsdCByb290IHZpZXcgY29udGFpbmVyLiBUaGlzIGlzIHVzZWZ1bCBmb3JcbiAgICAgKiB0aGluZ3MgbGlrZSBuZ1VwZ3JhZGUgdGhhdCBkb2Vzbid0IGhhdmUgYSBBcHBsaWNhdGlvblJlZiByb290LlxuICAgICAqXG4gICAgICogQHBhcmFtIHthbnl9IGNvbnRhaW5lclxuICAgICAqXG4gICAgICogQG1lbWJlck9mIEluamVjdGlvblNlcnZpY2VcbiAgICAgKi9cbiAgICBJbmplY3Rpb25TZXJ2aWNlLnByb3RvdHlwZS5zZXRSb290Vmlld0NvbnRhaW5lciA9IGZ1bmN0aW9uIChjb250YWluZXIpIHtcbiAgICAgICAgdGhpcy5fY29udGFpbmVyID0gY29udGFpbmVyO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgaHRtbCBlbGVtZW50IGZvciBhIGNvbXBvbmVudCByZWYuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0NvbXBvbmVudFJlZjxhbnk+fSBjb21wb25lbnRSZWZcbiAgICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9XG4gICAgICpcbiAgICAgKiBAbWVtYmVyT2YgSW5qZWN0aW9uU2VydmljZVxuICAgICAqL1xuICAgIEluamVjdGlvblNlcnZpY2UucHJvdG90eXBlLmdldENvbXBvbmVudFJvb3ROb2RlID0gZnVuY3Rpb24gKGNvbXBvbmVudFJlZikge1xuICAgICAgICAvLyB0aGUgdG9wIG1vc3QgY29tcG9uZW50IHJvb3Qgbm9kZSBoYXMgbm8gYGhvc3RWaWV3YFxuICAgICAgICBpZiAoIWNvbXBvbmVudFJlZi5ob3N0VmlldylcbiAgICAgICAgICAgIHJldHVybiBjb21wb25lbnRSZWYuZWxlbWVudC5uYXRpdmVFbGVtZW50O1xuICAgICAgICByZXR1cm4gY29tcG9uZW50UmVmLmhvc3RWaWV3LnJvb3ROb2Rlc1swXTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHJvb3QgY29tcG9uZW50IGNvbnRhaW5lciBodG1sIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9XG4gICAgICpcbiAgICAgKiBAbWVtYmVyT2YgSW5qZWN0aW9uU2VydmljZVxuICAgICAqL1xuICAgIEluamVjdGlvblNlcnZpY2UucHJvdG90eXBlLmdldFJvb3RWaWV3Q29udGFpbmVyTm9kZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q29tcG9uZW50Um9vdE5vZGUodGhpcy5nZXRSb290Vmlld0NvbnRhaW5lcigpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFByb2plY3RzIHRoZSBiaW5kaW5ncyBvbnRvIHRoZSBjb21wb25lbnRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Q29tcG9uZW50UmVmPGFueT59IGNvbXBvbmVudFxuICAgICAqIEBwYXJhbSB7Kn0gb3B0aW9uc1xuICAgICAqIEByZXR1cm5zIHtDb21wb25lbnRSZWY8YW55Pn1cbiAgICAgKlxuICAgICAqIEBtZW1iZXJPZiBJbmplY3Rpb25TZXJ2aWNlXG4gICAgICovXG4gICAgSW5qZWN0aW9uU2VydmljZS5wcm90b3R5cGUucHJvamVjdENvbXBvbmVudEJpbmRpbmdzID0gZnVuY3Rpb24gKGNvbXBvbmVudCwgYmluZGluZ3MpIHtcbiAgICAgICAgaWYgKGJpbmRpbmdzKSB7XG4gICAgICAgICAgICBpZiAoYmluZGluZ3MuaW5wdXRzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB2YXIgYmluZGluZ0tleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhiaW5kaW5ncy5pbnB1dHMpO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgYmluZGluZ0tleXNfMSA9IGJpbmRpbmdLZXlzOyBfaSA8IGJpbmRpbmdLZXlzXzEubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBiaW5kaW5nTmFtZSA9IGJpbmRpbmdLZXlzXzFbX2ldO1xuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnQuaW5zdGFuY2VbYmluZGluZ05hbWVdID0gYmluZGluZ3MuaW5wdXRzW2JpbmRpbmdOYW1lXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYmluZGluZ3Mub3V0cHV0cyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdmFyIGV2ZW50S2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGJpbmRpbmdzLm91dHB1dHMpO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIF9hID0gMCwgZXZlbnRLZXlzXzEgPSBldmVudEtleXM7IF9hIDwgZXZlbnRLZXlzXzEubGVuZ3RoOyBfYSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBldmVudE5hbWUgPSBldmVudEtleXNfMVtfYV07XG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudC5pbnN0YW5jZVtldmVudE5hbWVdID0gYmluZGluZ3Mub3V0cHV0c1tldmVudE5hbWVdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29tcG9uZW50O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQXBwZW5kcyBhIGNvbXBvbmVudCB0byBhIGFkamFjZW50IGxvY2F0aW9uXG4gICAgICpcbiAgICAgKiBAdGVtcGxhdGUgVFxuICAgICAqIEBwYXJhbSB7VHlwZTxUPn0gY29tcG9uZW50Q2xhc3NcbiAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zPXt9XVxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gW2xvY2F0aW9uPXRoaXMuZ2V0Um9vdFZpZXdDb250YWluZXJOb2RlKCldXG4gICAgICogQHJldHVybnMge0NvbXBvbmVudFJlZjxhbnk+fVxuICAgICAqXG4gICAgICogQG1lbWJlck9mIEluamVjdGlvblNlcnZpY2VcbiAgICAgKi9cbiAgICBJbmplY3Rpb25TZXJ2aWNlLnByb3RvdHlwZS5hcHBlbmRDb21wb25lbnQgPSBmdW5jdGlvbiAoY29tcG9uZW50Q2xhc3MsIGJpbmRpbmdzLCBsb2NhdGlvbikge1xuICAgICAgICBpZiAoYmluZGluZ3MgPT09IHZvaWQgMCkgeyBiaW5kaW5ncyA9IHt9OyB9XG4gICAgICAgIGlmIChsb2NhdGlvbiA9PT0gdm9pZCAwKSB7IGxvY2F0aW9uID0gdGhpcy5nZXRSb290Vmlld0NvbnRhaW5lck5vZGUoKTsgfVxuICAgICAgICB2YXIgY29tcG9uZW50RmFjdG9yeSA9IHRoaXMuY29tcG9uZW50RmFjdG9yeVJlc29sdmVyLnJlc29sdmVDb21wb25lbnRGYWN0b3J5KGNvbXBvbmVudENsYXNzKTtcbiAgICAgICAgdmFyIGNvbXBvbmVudFJlZiA9IGNvbXBvbmVudEZhY3RvcnkuY3JlYXRlKHRoaXMuaW5qZWN0b3IpO1xuICAgICAgICB2YXIgYXBwUmVmID0gdGhpcy5hcHBsaWNhdGlvblJlZjtcbiAgICAgICAgdmFyIGNvbXBvbmVudFJvb3ROb2RlID0gdGhpcy5nZXRDb21wb25lbnRSb290Tm9kZShjb21wb25lbnRSZWYpO1xuICAgICAgICAvLyBwcm9qZWN0IHRoZSBvcHRpb25zIHBhc3NlZCB0byB0aGUgY29tcG9uZW50IGluc3RhbmNlXG4gICAgICAgIHRoaXMucHJvamVjdENvbXBvbmVudEJpbmRpbmdzKGNvbXBvbmVudFJlZiwgYmluZGluZ3MpO1xuICAgICAgICBhcHBSZWYuYXR0YWNoVmlldyhjb21wb25lbnRSZWYuaG9zdFZpZXcpO1xuICAgICAgICBjb21wb25lbnRSZWYub25EZXN0cm95KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGFwcFJlZi5kZXRhY2hWaWV3KGNvbXBvbmVudFJlZi5ob3N0Vmlldyk7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyB1c2UgdGhlIHJlbmRlcmVyIHRvIGFwcGVuZCB0aGUgZWxlbWVudCBmb3IgdW5pdnNlcmFsIHN1cHBvcnRcbiAgICAgICAgdmFyIHJlbmRlcmVyID0gY29tcG9uZW50UmVmLmluc3RhbmNlLnJlbmRlcmVyO1xuICAgICAgICByZW5kZXJlci5hcHBlbmRDaGlsZChsb2NhdGlvbiwgY29tcG9uZW50Um9vdE5vZGUpO1xuICAgICAgICByZXR1cm4gY29tcG9uZW50UmVmO1xuICAgIH07XG4gICAgdmFyIEluamVjdGlvblNlcnZpY2VfMSwgX2EsIF9iLCBfYztcbiAgICBJbmplY3Rpb25TZXJ2aWNlLmdsb2JhbFJvb3RWaWV3Q29udGFpbmVyID0gbnVsbDtcbiAgICBJbmplY3Rpb25TZXJ2aWNlID0gSW5qZWN0aW9uU2VydmljZV8xID0gX19kZWNvcmF0ZShbXG4gICAgICAgIEluamVjdGFibGUoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjpwYXJhbXR5cGVzXCIsIFt0eXBlb2YgKF9hID0gdHlwZW9mIEFwcGxpY2F0aW9uUmVmICE9PSBcInVuZGVmaW5lZFwiICYmIEFwcGxpY2F0aW9uUmVmKSA9PT0gXCJmdW5jdGlvblwiID8gX2EgOiBPYmplY3QsIHR5cGVvZiAoX2IgPSB0eXBlb2YgQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyICE9PSBcInVuZGVmaW5lZFwiICYmIENvbXBvbmVudEZhY3RvcnlSZXNvbHZlcikgPT09IFwiZnVuY3Rpb25cIiA/IF9iIDogT2JqZWN0LCB0eXBlb2YgKF9jID0gdHlwZW9mIEluamVjdG9yICE9PSBcInVuZGVmaW5lZFwiICYmIEluamVjdG9yKSA9PT0gXCJmdW5jdGlvblwiID8gX2MgOiBPYmplY3RdKVxuICAgIF0sIEluamVjdGlvblNlcnZpY2UpO1xuICAgIHJldHVybiBJbmplY3Rpb25TZXJ2aWNlO1xufSgpKTtcblxudmFyIEluamVjdGlvblJlZ2lzdGVyeSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBJbmplY3Rpb25SZWdpc3RlcnkoaW5qZWN0aW9uU2VydmljZSkge1xuICAgICAgICB0aGlzLmluamVjdGlvblNlcnZpY2UgPSBpbmplY3Rpb25TZXJ2aWNlO1xuICAgICAgICB0aGlzLmRlZmF1bHRzID0ge307XG4gICAgICAgIHRoaXMuY29tcG9uZW50cyA9IG5ldyBNYXAoKTtcbiAgICB9XG4gICAgSW5qZWN0aW9uUmVnaXN0ZXJ5LnByb3RvdHlwZS5nZXRCeVR5cGUgPSBmdW5jdGlvbiAodHlwZSkge1xuICAgICAgICBpZiAodHlwZSA9PT0gdm9pZCAwKSB7IHR5cGUgPSB0aGlzLnR5cGU7IH1cbiAgICAgICAgcmV0dXJuIHRoaXMuY29tcG9uZW50cy5nZXQodHlwZSk7XG4gICAgfTtcbiAgICBJbmplY3Rpb25SZWdpc3RlcnkucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uIChiaW5kaW5ncykge1xuICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVCeVR5cGUodGhpcy50eXBlLCBiaW5kaW5ncyk7XG4gICAgfTtcbiAgICBJbmplY3Rpb25SZWdpc3RlcnkucHJvdG90eXBlLmNyZWF0ZUJ5VHlwZSA9IGZ1bmN0aW9uICh0eXBlLCBiaW5kaW5ncykge1xuICAgICAgICBiaW5kaW5ncyA9IHRoaXMuYXNzaWduRGVmYXVsdHMoYmluZGluZ3MpO1xuICAgICAgICB2YXIgY29tcG9uZW50ID0gdGhpcy5pbmplY3RDb21wb25lbnQodHlwZSwgYmluZGluZ3MpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyKHR5cGUsIGNvbXBvbmVudCk7XG4gICAgICAgIHJldHVybiBjb21wb25lbnQ7XG4gICAgfTtcbiAgICBJbmplY3Rpb25SZWdpc3RlcnkucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoaW5zdGFuY2UpIHtcbiAgICAgICAgdmFyIGNvbXBzQnlUeXBlID0gdGhpcy5jb21wb25lbnRzLmdldChpbnN0YW5jZS5jb21wb25lbnRUeXBlKTtcbiAgICAgICAgaWYgKGNvbXBzQnlUeXBlKSB7XG4gICAgICAgICAgICB2YXIgaWR4ID0gY29tcHNCeVR5cGUuaW5kZXhPZihpbnN0YW5jZSk7XG4gICAgICAgICAgICBpZiAoaWR4ID4gLTEpIHtcbiAgICAgICAgICAgICAgICB2YXIgY29tcG9uZW50ID0gY29tcHNCeVR5cGVbaWR4XTtcbiAgICAgICAgICAgICAgICBjb21wb25lbnQuZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgIGNvbXBzQnlUeXBlLnNwbGljZShpZHgsIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBJbmplY3Rpb25SZWdpc3RlcnkucHJvdG90eXBlLmRlc3Ryb3lBbGwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZGVzdHJveUJ5VHlwZSh0aGlzLnR5cGUpO1xuICAgIH07XG4gICAgSW5qZWN0aW9uUmVnaXN0ZXJ5LnByb3RvdHlwZS5kZXN0cm95QnlUeXBlID0gZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgdmFyIGNvbXBzID0gdGhpcy5jb21wb25lbnRzLmdldCh0eXBlKTtcbiAgICAgICAgaWYgKGNvbXBzKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIGNvbXBzXzEgPSBjb21wczsgX2kgPCBjb21wc18xLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIHZhciBjb21wID0gY29tcHNfMVtfaV07XG4gICAgICAgICAgICAgICAgdGhpcy5kZXN0cm95KGNvbXApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBJbmplY3Rpb25SZWdpc3RlcnkucHJvdG90eXBlLmFzc2lnbkRlZmF1bHRzID0gZnVuY3Rpb24gKGJpbmRpbmdzKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMuZGVmYXVsdHMsIGlucHV0cyA9IF9hLmlucHV0cywgb3V0cHV0cyA9IF9hLm91dHB1dHM7XG4gICAgICAgIGlmICghYmluZGluZ3MuaW5wdXRzICYmICFiaW5kaW5ncy5vdXRwdXRzKSB7XG4gICAgICAgICAgICBiaW5kaW5ncyA9IHsgaW5wdXRzOiBiaW5kaW5ncyB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbnB1dHMpIHtcbiAgICAgICAgICAgIGJpbmRpbmdzLmlucHV0cyA9IE9iamVjdC5hc3NpZ24oaW5wdXRzLCBiaW5kaW5ncy5pbnB1dHMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvdXRwdXRzKSB7XG4gICAgICAgICAgICBiaW5kaW5ncy5vdXRwdXRzID0gT2JqZWN0LmFzc2lnbihvdXRwdXRzLCBiaW5kaW5ncy5vdXRwdXRzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYmluZGluZ3M7XG4gICAgfTtcbiAgICBJbmplY3Rpb25SZWdpc3RlcnkucHJvdG90eXBlLmluamVjdENvbXBvbmVudCA9IGZ1bmN0aW9uICh0eXBlLCBiaW5kaW5ncykge1xuICAgICAgICByZXR1cm4gdGhpcy5pbmplY3Rpb25TZXJ2aWNlLmFwcGVuZENvbXBvbmVudCh0eXBlLCBiaW5kaW5ncyk7XG4gICAgfTtcbiAgICBJbmplY3Rpb25SZWdpc3RlcnkucHJvdG90eXBlLnJlZ2lzdGVyID0gZnVuY3Rpb24gKHR5cGUsIGNvbXBvbmVudCkge1xuICAgICAgICBpZiAoIXRoaXMuY29tcG9uZW50cy5oYXModHlwZSkpIHtcbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50cy5zZXQodHlwZSwgW10pO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0eXBlcyA9IHRoaXMuY29tcG9uZW50cy5nZXQodHlwZSk7XG4gICAgICAgIHR5cGVzLnB1c2goY29tcG9uZW50KTtcbiAgICB9O1xuICAgIHJldHVybiBJbmplY3Rpb25SZWdpc3Rlcnk7XG59KCkpO1xuXG4vKipcbiAqIFRocm90dGxlIGEgZnVuY3Rpb25cbiAqXG4gKiBAZXhwb3J0XG4gKiBAcGFyYW0geyp9ICAgICAgZnVuY1xuICogQHBhcmFtIHtudW1iZXJ9IHdhaXRcbiAqIEBwYXJhbSB7Kn0gICAgICBbb3B0aW9uc11cbiAqIEByZXR1cm5zXG4gKi9cbmZ1bmN0aW9uIHRocm90dGxlKGZ1bmMsIHdhaXQsIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICB2YXIgY29udGV4dDtcbiAgICB2YXIgYXJncztcbiAgICB2YXIgcmVzdWx0O1xuICAgIHZhciB0aW1lb3V0ID0gbnVsbDtcbiAgICB2YXIgcHJldmlvdXMgPSAwO1xuICAgIGZ1bmN0aW9uIGxhdGVyKCkge1xuICAgICAgICBwcmV2aW91cyA9IG9wdGlvbnMubGVhZGluZyA9PT0gZmFsc2UgPyAwIDogK25ldyBEYXRlKCk7XG4gICAgICAgIHRpbWVvdXQgPSBudWxsO1xuICAgICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbm93ID0gK25ldyBEYXRlKCk7XG4gICAgICAgIGlmICghcHJldmlvdXMgJiYgb3B0aW9ucy5sZWFkaW5nID09PSBmYWxzZSkge1xuICAgICAgICAgICAgcHJldmlvdXMgPSBub3c7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlbWFpbmluZyA9IHdhaXQgLSAobm93IC0gcHJldmlvdXMpO1xuICAgICAgICBjb250ZXh0ID0gdGhpcztcbiAgICAgICAgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgaWYgKHJlbWFpbmluZyA8PSAwKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICAgICAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICAgICAgICAgIHByZXZpb3VzID0gbm93O1xuICAgICAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghdGltZW91dCAmJiBvcHRpb25zLnRyYWlsaW5nICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQobGF0ZXIsIHJlbWFpbmluZyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xufVxuLyoqXG4gKiBUaHJvdHRsZSBkZWNvcmF0b3JcbiAqXG4gKiAgY2xhc3MgTXlDbGFzcyB7XG4gKiAgICB0aHJvdHRsZWFibGUoMTApXG4gKiAgICBteUZuKCkgeyAuLi4gfVxuICogIH1cbiAqXG4gKiBAZXhwb3J0XG4gKiBAcGFyYW0ge251bWJlcn0gZHVyYXRpb25cbiAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdXG4gKiBAcmV0dXJuc1xuICovXG5mdW5jdGlvbiB0aHJvdHRsZWFibGUoZHVyYXRpb24sIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gaW5uZXJEZWNvcmF0b3IodGFyZ2V0LCBrZXksIGRlc2NyaXB0b3IpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGVudW1lcmFibGU6IGRlc2NyaXB0b3IuZW51bWVyYWJsZSxcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0dGVyKCkge1xuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBrZXksIHtcbiAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiBkZXNjcmlwdG9yLmVudW1lcmFibGUsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0aHJvdHRsZShkZXNjcmlwdG9yLnZhbHVlLCBkdXJhdGlvbiwgb3B0aW9ucylcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpc1trZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH07XG59XG5cbnZhciBUb29sdGlwQ29udGVudENvbXBvbmVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUb29sdGlwQ29udGVudENvbXBvbmVudChlbGVtZW50LCByZW5kZXJlcikge1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUb29sdGlwQ29udGVudENvbXBvbmVudC5wcm90b3R5cGUsIFwiY3NzQ2xhc3Nlc1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGNseiA9ICduZ3gtY2hhcnRzLXRvb2x0aXAtY29udGVudCc7XG4gICAgICAgICAgICBjbHogKz0gXCIgcG9zaXRpb24tXCIgKyB0aGlzLnBsYWNlbWVudDtcbiAgICAgICAgICAgIGNseiArPSBcIiB0eXBlLVwiICsgdGhpcy50eXBlO1xuICAgICAgICAgICAgY2x6ICs9IFwiIFwiICsgdGhpcy5jc3NDbGFzcztcbiAgICAgICAgICAgIHJldHVybiBjbHo7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIFRvb2x0aXBDb250ZW50Q29tcG9uZW50LnByb3RvdHlwZS5uZ0FmdGVyVmlld0luaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNldFRpbWVvdXQodGhpcy5wb3NpdGlvbi5iaW5kKHRoaXMpKTtcbiAgICB9O1xuICAgIFRvb2x0aXBDb250ZW50Q29tcG9uZW50LnByb3RvdHlwZS5wb3NpdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIG5hdGl2ZUVsbSA9IHRoaXMuZWxlbWVudC5uYXRpdmVFbGVtZW50O1xuICAgICAgICB2YXIgaG9zdERpbSA9IHRoaXMuaG9zdC5uYXRpdmVFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBpZiAoIWhvc3REaW0uaGVpZ2h0ICYmICFob3N0RGltLndpZHRoKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB2YXIgZWxtRGltID0gbmF0aXZlRWxtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICB0aGlzLmNoZWNrRmxpcChob3N0RGltLCBlbG1EaW0pO1xuICAgICAgICB0aGlzLnBvc2l0aW9uQ29udGVudChuYXRpdmVFbG0sIGhvc3REaW0sIGVsbURpbSk7XG4gICAgICAgIGlmICh0aGlzLnNob3dDYXJldCkge1xuICAgICAgICAgICAgdGhpcy5wb3NpdGlvbkNhcmV0KGhvc3REaW0sIGVsbURpbSk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5yZW5kZXJlci5hZGRDbGFzcyhuYXRpdmVFbG0sICdhbmltYXRlJyk7IH0sIDEpO1xuICAgIH07XG4gICAgVG9vbHRpcENvbnRlbnRDb21wb25lbnQucHJvdG90eXBlLnBvc2l0aW9uQ29udGVudCA9IGZ1bmN0aW9uIChuYXRpdmVFbG0sIGhvc3REaW0sIGVsbURpbSkge1xuICAgICAgICB2YXIgX2EgPSBQb3NpdGlvbkhlbHBlci5wb3NpdGlvbkNvbnRlbnQodGhpcy5wbGFjZW1lbnQsIGVsbURpbSwgaG9zdERpbSwgdGhpcy5zcGFjaW5nLCB0aGlzLmFsaWdubWVudCksIHRvcCA9IF9hLnRvcCwgbGVmdCA9IF9hLmxlZnQ7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2V0U3R5bGUobmF0aXZlRWxtLCAndG9wJywgdG9wICsgXCJweFwiKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRTdHlsZShuYXRpdmVFbG0sICdsZWZ0JywgbGVmdCArIFwicHhcIik7XG4gICAgfTtcbiAgICBUb29sdGlwQ29udGVudENvbXBvbmVudC5wcm90b3R5cGUucG9zaXRpb25DYXJldCA9IGZ1bmN0aW9uIChob3N0RGltLCBlbG1EaW0pIHtcbiAgICAgICAgdmFyIGNhcmV0RWxtID0gdGhpcy5jYXJldEVsbS5uYXRpdmVFbGVtZW50O1xuICAgICAgICB2YXIgY2FyZXREaW1lbnNpb25zID0gY2FyZXRFbG0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHZhciBfYSA9IFBvc2l0aW9uSGVscGVyLnBvc2l0aW9uQ2FyZXQodGhpcy5wbGFjZW1lbnQsIGVsbURpbSwgaG9zdERpbSwgY2FyZXREaW1lbnNpb25zLCB0aGlzLmFsaWdubWVudCksIHRvcCA9IF9hLnRvcCwgbGVmdCA9IF9hLmxlZnQ7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2V0U3R5bGUoY2FyZXRFbG0sICd0b3AnLCB0b3AgKyBcInB4XCIpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnNldFN0eWxlKGNhcmV0RWxtLCAnbGVmdCcsIGxlZnQgKyBcInB4XCIpO1xuICAgIH07XG4gICAgVG9vbHRpcENvbnRlbnRDb21wb25lbnQucHJvdG90eXBlLmNoZWNrRmxpcCA9IGZ1bmN0aW9uIChob3N0RGltLCBlbG1EaW0pIHtcbiAgICAgICAgdGhpcy5wbGFjZW1lbnQgPSBQb3NpdGlvbkhlbHBlci5kZXRlcm1pbmVQbGFjZW1lbnQodGhpcy5wbGFjZW1lbnQsIGVsbURpbSwgaG9zdERpbSwgdGhpcy5zcGFjaW5nKTtcbiAgICB9O1xuICAgIFRvb2x0aXBDb250ZW50Q29tcG9uZW50LnByb3RvdHlwZS5vbldpbmRvd1Jlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5wb3NpdGlvbigpO1xuICAgIH07XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBUb29sdGlwQ29udGVudENvbXBvbmVudC5wcm90b3R5cGUsIFwiaG9zdFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbiAgICBdLCBUb29sdGlwQ29udGVudENvbXBvbmVudC5wcm90b3R5cGUsIFwic2hvd0NhcmV0XCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCB0eXBlb2YgKF9hID0gdHlwZW9mIFN0eWxlVHlwZXMgIT09IFwidW5kZWZpbmVkXCIgJiYgU3R5bGVUeXBlcykgPT09IFwiZnVuY3Rpb25cIiA/IF9hIDogT2JqZWN0KVxuICAgIF0sIFRvb2x0aXBDb250ZW50Q29tcG9uZW50LnByb3RvdHlwZSwgXCJ0eXBlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCB0eXBlb2YgKF9iID0gdHlwZW9mIFBsYWNlbWVudFR5cGVzICE9PSBcInVuZGVmaW5lZFwiICYmIFBsYWNlbWVudFR5cGVzKSA9PT0gXCJmdW5jdGlvblwiID8gX2IgOiBPYmplY3QpXG4gICAgXSwgVG9vbHRpcENvbnRlbnRDb21wb25lbnQucHJvdG90eXBlLCBcInBsYWNlbWVudFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgdHlwZW9mIChfYyA9IHR5cGVvZiBBbGlnbm1lbnRUeXBlcyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBBbGlnbm1lbnRUeXBlcykgPT09IFwiZnVuY3Rpb25cIiA/IF9jIDogT2JqZWN0KVxuICAgIF0sIFRvb2x0aXBDb250ZW50Q29tcG9uZW50LnByb3RvdHlwZSwgXCJhbGlnbm1lbnRcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE51bWJlcilcbiAgICBdLCBUb29sdGlwQ29udGVudENvbXBvbmVudC5wcm90b3R5cGUsIFwic3BhY2luZ1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgU3RyaW5nKVxuICAgIF0sIFRvb2x0aXBDb250ZW50Q29tcG9uZW50LnByb3RvdHlwZSwgXCJjc3NDbGFzc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgU3RyaW5nKVxuICAgIF0sIFRvb2x0aXBDb250ZW50Q29tcG9uZW50LnByb3RvdHlwZSwgXCJ0aXRsZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIFRvb2x0aXBDb250ZW50Q29tcG9uZW50LnByb3RvdHlwZSwgXCJ0ZW1wbGF0ZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIFRvb2x0aXBDb250ZW50Q29tcG9uZW50LnByb3RvdHlwZSwgXCJjb250ZXh0XCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIFZpZXdDaGlsZCgnY2FyZXRFbG0nLCB7IHN0YXRpYzogZmFsc2UgfSksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgVG9vbHRpcENvbnRlbnRDb21wb25lbnQucHJvdG90eXBlLCBcImNhcmV0RWxtXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIEhvc3RCaW5kaW5nKCdjbGFzcycpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgU3RyaW5nKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjpwYXJhbXR5cGVzXCIsIFtdKVxuICAgIF0sIFRvb2x0aXBDb250ZW50Q29tcG9uZW50LnByb3RvdHlwZSwgXCJjc3NDbGFzc2VzXCIsIG51bGwpO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBIb3N0TGlzdGVuZXIoJ3dpbmRvdzpyZXNpemUnKSxcbiAgICAgICAgdGhyb3R0bGVhYmxlKDEwMCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBGdW5jdGlvbiksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cGFyYW10eXBlc1wiLCBbXSksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cmV0dXJudHlwZVwiLCB2b2lkIDApXG4gICAgXSwgVG9vbHRpcENvbnRlbnRDb21wb25lbnQucHJvdG90eXBlLCBcIm9uV2luZG93UmVzaXplXCIsIG51bGwpO1xuICAgIFRvb2x0aXBDb250ZW50Q29tcG9uZW50ID0gX19kZWNvcmF0ZShbXG4gICAgICAgIENvbXBvbmVudCh7XG4gICAgICAgICAgICBzZWxlY3RvcjogJ25neC10b29sdGlwLWNvbnRlbnQnLFxuICAgICAgICAgICAgdGVtcGxhdGU6IFwiXFxuICAgIDxkaXY+XFxuICAgICAgPHNwYW4gI2NhcmV0RWxtIFtoaWRkZW5dPVxcXCIhc2hvd0NhcmV0XFxcIiBjbGFzcz1cXFwidG9vbHRpcC1jYXJldCBwb3NpdGlvbi17eyB0aGlzLnBsYWNlbWVudCB9fVxcXCI+IDwvc3Bhbj5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJ0b29sdGlwLWNvbnRlbnRcXFwiPlxcbiAgICAgICAgPHNwYW4gKm5nSWY9XFxcIiF0aXRsZVxcXCI+XFxuICAgICAgICAgIDxuZy10ZW1wbGF0ZSBbbmdUZW1wbGF0ZU91dGxldF09XFxcInRlbXBsYXRlXFxcIiBbbmdUZW1wbGF0ZU91dGxldENvbnRleHRdPVxcXCJ7IG1vZGVsOiBjb250ZXh0IH1cXFwiPiA8L25nLXRlbXBsYXRlPlxcbiAgICAgICAgPC9zcGFuPlxcbiAgICAgICAgPHNwYW4gKm5nSWY9XFxcInRpdGxlXFxcIiBbaW5uZXJIVE1MXT1cXFwidGl0bGVcXFwiPiA8L3NwYW4+XFxuICAgICAgPC9kaXY+XFxuICAgIDwvZGl2PlxcbiAgXCIsXG4gICAgICAgICAgICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lLFxuICAgICAgICAgICAgc3R5bGVzOiBbXCIubmd4LWNoYXJ0cy10b29sdGlwLWNvbnRlbnR7cG9zaXRpb246Zml4ZWQ7Ym9yZGVyLXJhZGl1czozcHg7ei1pbmRleDo1MDAwO2Rpc3BsYXk6YmxvY2s7Zm9udC13ZWlnaHQ6NDAwO29wYWNpdHk6MDtwb2ludGVyLWV2ZW50czpub25lIWltcG9ydGFudH0ubmd4LWNoYXJ0cy10b29sdGlwLWNvbnRlbnQudHlwZS1wb3BvdmVye2JhY2tncm91bmQ6I2ZmZjtjb2xvcjojMDYwNzA5O2JvcmRlcjoxcHggc29saWQgIzcyODA5Yjtib3gtc2hhZG93OjAgMXB4IDNweCAwIHJnYmEoMCwwLDAsLjIpLDAgMXB4IDFweCAwIHJnYmEoMCwwLDAsLjE0KSwwIDJweCAxcHggLTFweCByZ2JhKDAsMCwwLC4xMik7Zm9udC1zaXplOjEzcHg7cGFkZGluZzo0cHh9Lm5neC1jaGFydHMtdG9vbHRpcC1jb250ZW50LnR5cGUtcG9wb3ZlciAudG9vbHRpcC1jYXJldHtwb3NpdGlvbjphYnNvbHV0ZTt6LWluZGV4OjUwMDE7d2lkdGg6MDtoZWlnaHQ6MH0ubmd4LWNoYXJ0cy10b29sdGlwLWNvbnRlbnQudHlwZS1wb3BvdmVyIC50b29sdGlwLWNhcmV0LnBvc2l0aW9uLWxlZnR7Ym9yZGVyLXRvcDo3cHggc29saWQgdHJhbnNwYXJlbnQ7Ym9yZGVyLWJvdHRvbTo3cHggc29saWQgdHJhbnNwYXJlbnQ7Ym9yZGVyLWxlZnQ6N3B4IHNvbGlkICNmZmZ9Lm5neC1jaGFydHMtdG9vbHRpcC1jb250ZW50LnR5cGUtcG9wb3ZlciAudG9vbHRpcC1jYXJldC5wb3NpdGlvbi10b3B7Ym9yZGVyLWxlZnQ6N3B4IHNvbGlkIHRyYW5zcGFyZW50O2JvcmRlci1yaWdodDo3cHggc29saWQgdHJhbnNwYXJlbnQ7Ym9yZGVyLXRvcDo3cHggc29saWQgI2ZmZn0ubmd4LWNoYXJ0cy10b29sdGlwLWNvbnRlbnQudHlwZS1wb3BvdmVyIC50b29sdGlwLWNhcmV0LnBvc2l0aW9uLXJpZ2h0e2JvcmRlci10b3A6N3B4IHNvbGlkIHRyYW5zcGFyZW50O2JvcmRlci1ib3R0b206N3B4IHNvbGlkIHRyYW5zcGFyZW50O2JvcmRlci1yaWdodDo3cHggc29saWQgI2ZmZn0ubmd4LWNoYXJ0cy10b29sdGlwLWNvbnRlbnQudHlwZS1wb3BvdmVyIC50b29sdGlwLWNhcmV0LnBvc2l0aW9uLWJvdHRvbXtib3JkZXItbGVmdDo3cHggc29saWQgdHJhbnNwYXJlbnQ7Ym9yZGVyLXJpZ2h0OjdweCBzb2xpZCB0cmFuc3BhcmVudDtib3JkZXItYm90dG9tOjdweCBzb2xpZCAjZmZmfS5uZ3gtY2hhcnRzLXRvb2x0aXAtY29udGVudC50eXBlLXRvb2x0aXB7Y29sb3I6I2ZmZjtiYWNrZ3JvdW5kOnJnYmEoMCwwLDAsLjc1KTtmb250LXNpemU6MTJweDtwYWRkaW5nOjAgMTBweDt0ZXh0LWFsaWduOmNlbnRlcjtwb2ludGVyLWV2ZW50czphdXRvfS5uZ3gtY2hhcnRzLXRvb2x0aXAtY29udGVudC50eXBlLXRvb2x0aXAgLnRvb2x0aXAtY2FyZXQucG9zaXRpb24tbGVmdHtib3JkZXItdG9wOjdweCBzb2xpZCB0cmFuc3BhcmVudDtib3JkZXItYm90dG9tOjdweCBzb2xpZCB0cmFuc3BhcmVudDtib3JkZXItbGVmdDo3cHggc29saWQgcmdiYSgwLDAsMCwuNzUpfS5uZ3gtY2hhcnRzLXRvb2x0aXAtY29udGVudC50eXBlLXRvb2x0aXAgLnRvb2x0aXAtY2FyZXQucG9zaXRpb24tdG9we2JvcmRlci1sZWZ0OjdweCBzb2xpZCB0cmFuc3BhcmVudDtib3JkZXItcmlnaHQ6N3B4IHNvbGlkIHRyYW5zcGFyZW50O2JvcmRlci10b3A6N3B4IHNvbGlkIHJnYmEoMCwwLDAsLjc1KX0ubmd4LWNoYXJ0cy10b29sdGlwLWNvbnRlbnQudHlwZS10b29sdGlwIC50b29sdGlwLWNhcmV0LnBvc2l0aW9uLXJpZ2h0e2JvcmRlci10b3A6N3B4IHNvbGlkIHRyYW5zcGFyZW50O2JvcmRlci1ib3R0b206N3B4IHNvbGlkIHRyYW5zcGFyZW50O2JvcmRlci1yaWdodDo3cHggc29saWQgcmdiYSgwLDAsMCwuNzUpfS5uZ3gtY2hhcnRzLXRvb2x0aXAtY29udGVudC50eXBlLXRvb2x0aXAgLnRvb2x0aXAtY2FyZXQucG9zaXRpb24tYm90dG9te2JvcmRlci1sZWZ0OjdweCBzb2xpZCB0cmFuc3BhcmVudDtib3JkZXItcmlnaHQ6N3B4IHNvbGlkIHRyYW5zcGFyZW50O2JvcmRlci1ib3R0b206N3B4IHNvbGlkIHJnYmEoMCwwLDAsLjc1KX0ubmd4LWNoYXJ0cy10b29sdGlwLWNvbnRlbnQgLnRvb2x0aXAtbGFiZWx7ZGlzcGxheTpibG9jaztsaW5lLWhlaWdodDoxZW07cGFkZGluZzo4cHggNXB4IDVweCA1cHg7Zm9udC1zaXplOjFlbX0ubmd4LWNoYXJ0cy10b29sdGlwLWNvbnRlbnQgLnRvb2x0aXAtdmFse2Rpc3BsYXk6YmxvY2s7Zm9udC1zaXplOjEuM2VtO2xpbmUtaGVpZ2h0OjFlbTtwYWRkaW5nOjAgNXB4IDhweCA1cHh9Lm5neC1jaGFydHMtdG9vbHRpcC1jb250ZW50IC50b29sdGlwLWNhcmV0e3Bvc2l0aW9uOmFic29sdXRlO3otaW5kZXg6NTAwMTt3aWR0aDowO2hlaWdodDowfS5uZ3gtY2hhcnRzLXRvb2x0aXAtY29udGVudC5wb3NpdGlvbi1yaWdodHt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMTBweCwwLDApfS5uZ3gtY2hhcnRzLXRvb2x0aXAtY29udGVudC5wb3NpdGlvbi1sZWZ0e3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgtMTBweCwwLDApfS5uZ3gtY2hhcnRzLXRvb2x0aXAtY29udGVudC5wb3NpdGlvbi10b3B7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsLTEwcHgsMCl9Lm5neC1jaGFydHMtdG9vbHRpcC1jb250ZW50LnBvc2l0aW9uLWJvdHRvbXt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwxMHB4LDApfS5uZ3gtY2hhcnRzLXRvb2x0aXAtY29udGVudC5hbmltYXRle29wYWNpdHk6MTt0cmFuc2l0aW9uOm9wYWNpdHkgLjNzLHRyYW5zZm9ybSAuM3M7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsMCwwKTtwb2ludGVyLWV2ZW50czphdXRvfS5hcmVhLXRvb2x0aXAtY29udGFpbmVye3BhZGRpbmc6NXB4IDA7cG9pbnRlci1ldmVudHM6bm9uZX0udG9vbHRpcC1pdGVte3RleHQtYWxpZ246bGVmdDtsaW5lLWhlaWdodDoxLjJlbTtwYWRkaW5nOjVweCAwfS50b29sdGlwLWl0ZW0gLnRvb2x0aXAtaXRlbS1jb2xvcntkaXNwbGF5OmlubGluZS1ibG9jaztoZWlnaHQ6MTJweDt3aWR0aDoxMnB4O21hcmdpbi1yaWdodDo1cHg7Y29sb3I6IzViNjQ2Yjtib3JkZXItcmFkaXVzOjNweH1cIl1cbiAgICAgICAgfSksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cGFyYW10eXBlc1wiLCBbdHlwZW9mIChfZCA9IHR5cGVvZiBFbGVtZW50UmVmICE9PSBcInVuZGVmaW5lZFwiICYmIEVsZW1lbnRSZWYpID09PSBcImZ1bmN0aW9uXCIgPyBfZCA6IE9iamVjdCwgdHlwZW9mIChfZSA9IHR5cGVvZiBSZW5kZXJlcjIgIT09IFwidW5kZWZpbmVkXCIgJiYgUmVuZGVyZXIyKSA9PT0gXCJmdW5jdGlvblwiID8gX2UgOiBPYmplY3RdKVxuICAgIF0sIFRvb2x0aXBDb250ZW50Q29tcG9uZW50KTtcbiAgICByZXR1cm4gVG9vbHRpcENvbnRlbnRDb21wb25lbnQ7XG59KCkpO1xuXG52YXIgVG9vbHRpcFNlcnZpY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFRvb2x0aXBTZXJ2aWNlLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFRvb2x0aXBTZXJ2aWNlKGluamVjdGlvblNlcnZpY2UpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgaW5qZWN0aW9uU2VydmljZSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuaW5qZWN0aW9uU2VydmljZSA9IGluamVjdGlvblNlcnZpY2U7XG4gICAgICAgIF90aGlzLnR5cGUgPSBUb29sdGlwQ29udGVudENvbXBvbmVudDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICB2YXIgX2E7XG4gICAgVG9vbHRpcFNlcnZpY2UgPSBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5qZWN0YWJsZSgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW3R5cGVvZiAoX2EgPSB0eXBlb2YgSW5qZWN0aW9uU2VydmljZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBJbmplY3Rpb25TZXJ2aWNlKSA9PT0gXCJmdW5jdGlvblwiID8gX2EgOiBPYmplY3RdKVxuICAgIF0sIFRvb2x0aXBTZXJ2aWNlKTtcbiAgICByZXR1cm4gVG9vbHRpcFNlcnZpY2U7XG59KEluamVjdGlvblJlZ2lzdGVyeSkpO1xuXG52YXIgVG9vbHRpcERpcmVjdGl2ZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUb29sdGlwRGlyZWN0aXZlKHRvb2x0aXBTZXJ2aWNlLCB2aWV3Q29udGFpbmVyUmVmLCByZW5kZXJlcikge1xuICAgICAgICB0aGlzLnRvb2x0aXBTZXJ2aWNlID0gdG9vbHRpcFNlcnZpY2U7XG4gICAgICAgIHRoaXMudmlld0NvbnRhaW5lclJlZiA9IHZpZXdDb250YWluZXJSZWY7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICAgICAgdGhpcy50b29sdGlwQ3NzQ2xhc3MgPSAnJztcbiAgICAgICAgdGhpcy50b29sdGlwVGl0bGUgPSAnJztcbiAgICAgICAgdGhpcy50b29sdGlwQXBwZW5kVG9Cb2R5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy50b29sdGlwU3BhY2luZyA9IDEwO1xuICAgICAgICB0aGlzLnRvb2x0aXBEaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnRvb2x0aXBTaG93Q2FyZXQgPSB0cnVlO1xuICAgICAgICB0aGlzLnRvb2x0aXBQbGFjZW1lbnQgPSBQbGFjZW1lbnRUeXBlcy50b3A7XG4gICAgICAgIHRoaXMudG9vbHRpcEFsaWdubWVudCA9IEFsaWdubWVudFR5cGVzLmNlbnRlcjtcbiAgICAgICAgdGhpcy50b29sdGlwVHlwZSA9IFN0eWxlVHlwZXMucG9wb3ZlcjtcbiAgICAgICAgdGhpcy50b29sdGlwQ2xvc2VPbkNsaWNrT3V0c2lkZSA9IHRydWU7XG4gICAgICAgIHRoaXMudG9vbHRpcENsb3NlT25Nb3VzZUxlYXZlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy50b29sdGlwSGlkZVRpbWVvdXQgPSAzMDA7XG4gICAgICAgIHRoaXMudG9vbHRpcFNob3dUaW1lb3V0ID0gMTAwO1xuICAgICAgICB0aGlzLnRvb2x0aXBTaG93RXZlbnQgPSBTaG93VHlwZXMuYWxsO1xuICAgICAgICB0aGlzLnRvb2x0aXBJbW1lZGlhdGVFeGl0ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc2hvdyA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5oaWRlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVG9vbHRpcERpcmVjdGl2ZS5wcm90b3R5cGUsIFwibGlzdGVuc0ZvckZvY3VzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50b29sdGlwU2hvd0V2ZW50ID09PSBTaG93VHlwZXMuYWxsIHx8XG4gICAgICAgICAgICAgICAgdGhpcy50b29sdGlwU2hvd0V2ZW50ID09PSBTaG93VHlwZXMuZm9jdXM7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUb29sdGlwRGlyZWN0aXZlLnByb3RvdHlwZSwgXCJsaXN0ZW5zRm9ySG92ZXJcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRvb2x0aXBTaG93RXZlbnQgPT09IFNob3dUeXBlcy5hbGwgfHxcbiAgICAgICAgICAgICAgICB0aGlzLnRvb2x0aXBTaG93RXZlbnQgPT09IFNob3dUeXBlcy5tb3VzZW92ZXI7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIFRvb2x0aXBEaXJlY3RpdmUucHJvdG90eXBlLm5nT25EZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmhpZGVUb29sdGlwKHRydWUpO1xuICAgIH07XG4gICAgVG9vbHRpcERpcmVjdGl2ZS5wcm90b3R5cGUub25Gb2N1cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMubGlzdGVuc0ZvckZvY3VzKSB7XG4gICAgICAgICAgICB0aGlzLnNob3dUb29sdGlwKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFRvb2x0aXBEaXJlY3RpdmUucHJvdG90eXBlLm9uQmx1ciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMubGlzdGVuc0ZvckZvY3VzKSB7XG4gICAgICAgICAgICB0aGlzLmhpZGVUb29sdGlwKHRydWUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBUb29sdGlwRGlyZWN0aXZlLnByb3RvdHlwZS5vbk1vdXNlRW50ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmxpc3RlbnNGb3JIb3Zlcikge1xuICAgICAgICAgICAgdGhpcy5zaG93VG9vbHRpcCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBUb29sdGlwRGlyZWN0aXZlLnByb3RvdHlwZS5vbk1vdXNlTGVhdmUgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgICAgIGlmICh0aGlzLmxpc3RlbnNGb3JIb3ZlciAmJiB0aGlzLnRvb2x0aXBDbG9zZU9uTW91c2VMZWF2ZSkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dCk7XG4gICAgICAgICAgICBpZiAodGhpcy5jb21wb25lbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgY29udGVudERvbSA9IHRoaXMuY29tcG9uZW50Lmluc3RhbmNlLmVsZW1lbnQubmF0aXZlRWxlbWVudDtcbiAgICAgICAgICAgICAgICB2YXIgY29udGFpbnMgPSBjb250ZW50RG9tLmNvbnRhaW5zKHRhcmdldCk7XG4gICAgICAgICAgICAgICAgaWYgKGNvbnRhaW5zKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmhpZGVUb29sdGlwKHRoaXMudG9vbHRpcEltbWVkaWF0ZUV4aXQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBUb29sdGlwRGlyZWN0aXZlLnByb3RvdHlwZS5vbk1vdXNlQ2xpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmxpc3RlbnNGb3JIb3Zlcikge1xuICAgICAgICAgICAgdGhpcy5oaWRlVG9vbHRpcCh0cnVlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVG9vbHRpcERpcmVjdGl2ZS5wcm90b3R5cGUuc2hvd1Rvb2x0aXAgPSBmdW5jdGlvbiAoaW1tZWRpYXRlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLmNvbXBvbmVudCB8fCB0aGlzLnRvb2x0aXBEaXNhYmxlZClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdmFyIHRpbWUgPSBpbW1lZGlhdGUgPyAwIDogdGhpcy50b29sdGlwU2hvd1RpbWVvdXQ7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpO1xuICAgICAgICB0aGlzLnRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLnRvb2x0aXBTZXJ2aWNlLmRlc3Ryb3lBbGwoKTtcbiAgICAgICAgICAgIHZhciBvcHRpb25zID0gX3RoaXMuY3JlYXRlQm91bmRPcHRpb25zKCk7XG4gICAgICAgICAgICBfdGhpcy5jb21wb25lbnQgPSBfdGhpcy50b29sdGlwU2VydmljZS5jcmVhdGUob3B0aW9ucyk7XG4gICAgICAgICAgICAvLyBhZGQgYSB0aW55IHRpbWVvdXQgdG8gYXZvaWQgZXZlbnQgcmUtdHJpZ2dlcnNcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5jb21wb25lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuYWRkSGlkZUxpc3RlbmVycyhfdGhpcy5jb21wb25lbnQuaW5zdGFuY2UuZWxlbWVudC5uYXRpdmVFbGVtZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCAxMCk7XG4gICAgICAgICAgICBfdGhpcy5zaG93LmVtaXQodHJ1ZSk7XG4gICAgICAgIH0sIHRpbWUpO1xuICAgIH07XG4gICAgVG9vbHRpcERpcmVjdGl2ZS5wcm90b3R5cGUuYWRkSGlkZUxpc3RlbmVycyA9IGZ1bmN0aW9uICh0b29sdGlwKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8vIG9uIG1vdXNlIGVudGVyLCBjYW5jZWwgdGhlIGhpZGUgdHJpZ2dlcmVkIGJ5IHRoZSBsZWF2ZVxuICAgICAgICB0aGlzLm1vdXNlRW50ZXJDb250ZW50RXZlbnQgPSB0aGlzLnJlbmRlcmVyLmxpc3Rlbih0b29sdGlwLCAnbW91c2VlbnRlcicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChfdGhpcy50aW1lb3V0KTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGNvbnRlbnQgbW91c2UgbGVhdmUgbGlzdGVuZXJcbiAgICAgICAgaWYgKHRoaXMudG9vbHRpcENsb3NlT25Nb3VzZUxlYXZlKSB7XG4gICAgICAgICAgICB0aGlzLm1vdXNlTGVhdmVDb250ZW50RXZlbnQgPSB0aGlzLnJlbmRlcmVyLmxpc3Rlbih0b29sdGlwLCAnbW91c2VsZWF2ZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5oaWRlVG9vbHRpcChfdGhpcy50b29sdGlwSW1tZWRpYXRlRXhpdCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBjb250ZW50IGNsb3NlIG9uIGNsaWNrIG91dHNpZGVcbiAgICAgICAgaWYgKHRoaXMudG9vbHRpcENsb3NlT25DbGlja091dHNpZGUpIHtcbiAgICAgICAgICAgIHRoaXMuZG9jdW1lbnRDbGlja0V2ZW50ID0gdGhpcy5yZW5kZXJlci5saXN0ZW4oZG9jdW1lbnQsICdjbGljaycsIGZ1bmN0aW9uIChldmVudCQkMSkge1xuICAgICAgICAgICAgICAgIHZhciBjb250YWlucyA9IHRvb2x0aXAuY29udGFpbnMoZXZlbnQkJDEudGFyZ2V0KTtcbiAgICAgICAgICAgICAgICBpZiAoIWNvbnRhaW5zKVxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5oaWRlVG9vbHRpcCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFRvb2x0aXBEaXJlY3RpdmUucHJvdG90eXBlLmhpZGVUb29sdGlwID0gZnVuY3Rpb24gKGltbWVkaWF0ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoaW1tZWRpYXRlID09PSB2b2lkIDApIHsgaW1tZWRpYXRlID0gZmFsc2U7IH1cbiAgICAgICAgaWYgKCF0aGlzLmNvbXBvbmVudClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdmFyIGRlc3Ryb3lGbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIHJlbW92ZSBldmVudHNcbiAgICAgICAgICAgIGlmIChfdGhpcy5tb3VzZUxlYXZlQ29udGVudEV2ZW50KVxuICAgICAgICAgICAgICAgIF90aGlzLm1vdXNlTGVhdmVDb250ZW50RXZlbnQoKTtcbiAgICAgICAgICAgIGlmIChfdGhpcy5tb3VzZUVudGVyQ29udGVudEV2ZW50KVxuICAgICAgICAgICAgICAgIF90aGlzLm1vdXNlRW50ZXJDb250ZW50RXZlbnQoKTtcbiAgICAgICAgICAgIGlmIChfdGhpcy5kb2N1bWVudENsaWNrRXZlbnQpXG4gICAgICAgICAgICAgICAgX3RoaXMuZG9jdW1lbnRDbGlja0V2ZW50KCk7XG4gICAgICAgICAgICAvLyBlbWl0IGV2ZW50c1xuICAgICAgICAgICAgX3RoaXMuaGlkZS5lbWl0KHRydWUpO1xuICAgICAgICAgICAgLy8gZGVzdHJveSBjb21wb25lbnRcbiAgICAgICAgICAgIF90aGlzLnRvb2x0aXBTZXJ2aWNlLmRlc3Ryb3koX3RoaXMuY29tcG9uZW50KTtcbiAgICAgICAgICAgIF90aGlzLmNvbXBvbmVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfTtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dCk7XG4gICAgICAgIGlmICghaW1tZWRpYXRlKSB7XG4gICAgICAgICAgICB0aGlzLnRpbWVvdXQgPSBzZXRUaW1lb3V0KGRlc3Ryb3lGbiwgdGhpcy50b29sdGlwSGlkZVRpbWVvdXQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZGVzdHJveUZuKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFRvb2x0aXBEaXJlY3RpdmUucHJvdG90eXBlLmNyZWF0ZUJvdW5kT3B0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRpdGxlOiB0aGlzLnRvb2x0aXBUaXRsZSxcbiAgICAgICAgICAgIHRlbXBsYXRlOiB0aGlzLnRvb2x0aXBUZW1wbGF0ZSxcbiAgICAgICAgICAgIGhvc3Q6IHRoaXMudmlld0NvbnRhaW5lclJlZi5lbGVtZW50LFxuICAgICAgICAgICAgcGxhY2VtZW50OiB0aGlzLnRvb2x0aXBQbGFjZW1lbnQsXG4gICAgICAgICAgICBhbGlnbm1lbnQ6IHRoaXMudG9vbHRpcEFsaWdubWVudCxcbiAgICAgICAgICAgIHR5cGU6IHRoaXMudG9vbHRpcFR5cGUsXG4gICAgICAgICAgICBzaG93Q2FyZXQ6IHRoaXMudG9vbHRpcFNob3dDYXJldCxcbiAgICAgICAgICAgIGNzc0NsYXNzOiB0aGlzLnRvb2x0aXBDc3NDbGFzcyxcbiAgICAgICAgICAgIHNwYWNpbmc6IHRoaXMudG9vbHRpcFNwYWNpbmcsXG4gICAgICAgICAgICBjb250ZXh0OiB0aGlzLnRvb2x0aXBDb250ZXh0XG4gICAgICAgIH07XG4gICAgfTtcbiAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZiwgX2c7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBTdHJpbmcpXG4gICAgXSwgVG9vbHRpcERpcmVjdGl2ZS5wcm90b3R5cGUsIFwidG9vbHRpcENzc0NsYXNzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBTdHJpbmcpXG4gICAgXSwgVG9vbHRpcERpcmVjdGl2ZS5wcm90b3R5cGUsIFwidG9vbHRpcFRpdGxlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIFRvb2x0aXBEaXJlY3RpdmUucHJvdG90eXBlLCBcInRvb2x0aXBBcHBlbmRUb0JvZHlcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE51bWJlcilcbiAgICBdLCBUb29sdGlwRGlyZWN0aXZlLnByb3RvdHlwZSwgXCJ0b29sdGlwU3BhY2luZ1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbiAgICBdLCBUb29sdGlwRGlyZWN0aXZlLnByb3RvdHlwZSwgXCJ0b29sdGlwRGlzYWJsZWRcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEJvb2xlYW4pXG4gICAgXSwgVG9vbHRpcERpcmVjdGl2ZS5wcm90b3R5cGUsIFwidG9vbHRpcFNob3dDYXJldFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgdHlwZW9mIChfYSA9IHR5cGVvZiBQbGFjZW1lbnRUeXBlcyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBQbGFjZW1lbnRUeXBlcykgPT09IFwiZnVuY3Rpb25cIiA/IF9hIDogT2JqZWN0KVxuICAgIF0sIFRvb2x0aXBEaXJlY3RpdmUucHJvdG90eXBlLCBcInRvb2x0aXBQbGFjZW1lbnRcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIHR5cGVvZiAoX2IgPSB0eXBlb2YgQWxpZ25tZW50VHlwZXMgIT09IFwidW5kZWZpbmVkXCIgJiYgQWxpZ25tZW50VHlwZXMpID09PSBcImZ1bmN0aW9uXCIgPyBfYiA6IE9iamVjdClcbiAgICBdLCBUb29sdGlwRGlyZWN0aXZlLnByb3RvdHlwZSwgXCJ0b29sdGlwQWxpZ25tZW50XCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCB0eXBlb2YgKF9jID0gdHlwZW9mIFN0eWxlVHlwZXMgIT09IFwidW5kZWZpbmVkXCIgJiYgU3R5bGVUeXBlcykgPT09IFwiZnVuY3Rpb25cIiA/IF9jIDogT2JqZWN0KVxuICAgIF0sIFRvb2x0aXBEaXJlY3RpdmUucHJvdG90eXBlLCBcInRvb2x0aXBUeXBlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIFRvb2x0aXBEaXJlY3RpdmUucHJvdG90eXBlLCBcInRvb2x0aXBDbG9zZU9uQ2xpY2tPdXRzaWRlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIFRvb2x0aXBEaXJlY3RpdmUucHJvdG90eXBlLCBcInRvb2x0aXBDbG9zZU9uTW91c2VMZWF2ZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgTnVtYmVyKVxuICAgIF0sIFRvb2x0aXBEaXJlY3RpdmUucHJvdG90eXBlLCBcInRvb2x0aXBIaWRlVGltZW91dFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgTnVtYmVyKVxuICAgIF0sIFRvb2x0aXBEaXJlY3RpdmUucHJvdG90eXBlLCBcInRvb2x0aXBTaG93VGltZW91dFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIFRvb2x0aXBEaXJlY3RpdmUucHJvdG90eXBlLCBcInRvb2x0aXBUZW1wbGF0ZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgdHlwZW9mIChfZCA9IHR5cGVvZiBTaG93VHlwZXMgIT09IFwidW5kZWZpbmVkXCIgJiYgU2hvd1R5cGVzKSA9PT0gXCJmdW5jdGlvblwiID8gX2QgOiBPYmplY3QpXG4gICAgXSwgVG9vbHRpcERpcmVjdGl2ZS5wcm90b3R5cGUsIFwidG9vbHRpcFNob3dFdmVudFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIFRvb2x0aXBEaXJlY3RpdmUucHJvdG90eXBlLCBcInRvb2x0aXBDb250ZXh0XCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIFRvb2x0aXBEaXJlY3RpdmUucHJvdG90eXBlLCBcInRvb2x0aXBJbW1lZGlhdGVFeGl0XCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIE91dHB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIFRvb2x0aXBEaXJlY3RpdmUucHJvdG90eXBlLCBcInNob3dcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgT3V0cHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgVG9vbHRpcERpcmVjdGl2ZS5wcm90b3R5cGUsIFwiaGlkZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBIb3N0TGlzdGVuZXIoJ2ZvY3VzaW4nKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEZ1bmN0aW9uKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjpwYXJhbXR5cGVzXCIsIFtdKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjpyZXR1cm50eXBlXCIsIHZvaWQgMClcbiAgICBdLCBUb29sdGlwRGlyZWN0aXZlLnByb3RvdHlwZSwgXCJvbkZvY3VzXCIsIG51bGwpO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBIb3N0TGlzdGVuZXIoJ2JsdXInKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEZ1bmN0aW9uKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjpwYXJhbXR5cGVzXCIsIFtdKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjpyZXR1cm50eXBlXCIsIHZvaWQgMClcbiAgICBdLCBUb29sdGlwRGlyZWN0aXZlLnByb3RvdHlwZSwgXCJvbkJsdXJcIiwgbnVsbCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIEhvc3RMaXN0ZW5lcignbW91c2VlbnRlcicpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgRnVuY3Rpb24pLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW10pLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnJldHVybnR5cGVcIiwgdm9pZCAwKVxuICAgIF0sIFRvb2x0aXBEaXJlY3RpdmUucHJvdG90eXBlLCBcIm9uTW91c2VFbnRlclwiLCBudWxsKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSG9zdExpc3RlbmVyKCdtb3VzZWxlYXZlJywgWyckZXZlbnQudGFyZ2V0J10pLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgRnVuY3Rpb24pLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW09iamVjdF0pLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnJldHVybnR5cGVcIiwgdm9pZCAwKVxuICAgIF0sIFRvb2x0aXBEaXJlY3RpdmUucHJvdG90eXBlLCBcIm9uTW91c2VMZWF2ZVwiLCBudWxsKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSG9zdExpc3RlbmVyKCdjbGljaycpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgRnVuY3Rpb24pLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW10pLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnJldHVybnR5cGVcIiwgdm9pZCAwKVxuICAgIF0sIFRvb2x0aXBEaXJlY3RpdmUucHJvdG90eXBlLCBcIm9uTW91c2VDbGlja1wiLCBudWxsKTtcbiAgICBUb29sdGlwRGlyZWN0aXZlID0gX19kZWNvcmF0ZShbXG4gICAgICAgIERpcmVjdGl2ZSh7IHNlbGVjdG9yOiAnW25neC10b29sdGlwXScgfSksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cGFyYW10eXBlc1wiLCBbdHlwZW9mIChfZSA9IHR5cGVvZiBUb29sdGlwU2VydmljZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBUb29sdGlwU2VydmljZSkgPT09IFwiZnVuY3Rpb25cIiA/IF9lIDogT2JqZWN0LCB0eXBlb2YgKF9mID0gdHlwZW9mIFZpZXdDb250YWluZXJSZWYgIT09IFwidW5kZWZpbmVkXCIgJiYgVmlld0NvbnRhaW5lclJlZikgPT09IFwiZnVuY3Rpb25cIiA/IF9mIDogT2JqZWN0LCB0eXBlb2YgKF9nID0gdHlwZW9mIFJlbmRlcmVyMiAhPT0gXCJ1bmRlZmluZWRcIiAmJiBSZW5kZXJlcjIpID09PSBcImZ1bmN0aW9uXCIgPyBfZyA6IE9iamVjdF0pXG4gICAgXSwgVG9vbHRpcERpcmVjdGl2ZSk7XG4gICAgcmV0dXJuIFRvb2x0aXBEaXJlY3RpdmU7XG59KCkpO1xuXG52YXIgVG9vbHRpcE1vZHVsZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUb29sdGlwTW9kdWxlKCkge1xuICAgIH1cbiAgICBUb29sdGlwTW9kdWxlID0gX19kZWNvcmF0ZShbXG4gICAgICAgIE5nTW9kdWxlKHtcbiAgICAgICAgICAgIGRlY2xhcmF0aW9uczogW1Rvb2x0aXBDb250ZW50Q29tcG9uZW50LCBUb29sdGlwRGlyZWN0aXZlXSxcbiAgICAgICAgICAgIHByb3ZpZGVyczogW0luamVjdGlvblNlcnZpY2UsIFRvb2x0aXBTZXJ2aWNlXSxcbiAgICAgICAgICAgIGV4cG9ydHM6IFtUb29sdGlwQ29udGVudENvbXBvbmVudCwgVG9vbHRpcERpcmVjdGl2ZV0sXG4gICAgICAgICAgICBpbXBvcnRzOiBbQ29tbW9uTW9kdWxlXSxcbiAgICAgICAgICAgIGVudHJ5Q29tcG9uZW50czogW1Rvb2x0aXBDb250ZW50Q29tcG9uZW50XVxuICAgICAgICB9KVxuICAgIF0sIFRvb2x0aXBNb2R1bGUpO1xuICAgIHJldHVybiBUb29sdGlwTW9kdWxlO1xufSgpKTtcblxudmFyIENoYXJ0Q29tcG9uZW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENoYXJ0Q29tcG9uZW50KHZjciwgdG9vbHRpcFNlcnZpY2UpIHtcbiAgICAgICAgdGhpcy52Y3IgPSB2Y3I7XG4gICAgICAgIHRoaXMudG9vbHRpcFNlcnZpY2UgPSB0b29sdGlwU2VydmljZTtcbiAgICAgICAgdGhpcy5zaG93TGVnZW5kID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucyA9IHRydWU7XG4gICAgICAgIHRoaXMubGVnZW5kTGFiZWxDbGljayA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5sZWdlbmRMYWJlbEFjdGl2YXRlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICB0aGlzLmxlZ2VuZExhYmVsRGVhY3RpdmF0ZSA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy50b29sdGlwU2VydmljZS5pbmplY3Rpb25TZXJ2aWNlLnNldFJvb3RWaWV3Q29udGFpbmVyKHRoaXMudmNyKTtcbiAgICB9XG4gICAgQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLm5nT25DaGFuZ2VzID0gZnVuY3Rpb24gKGNoYW5nZXMpIHtcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICB9O1xuICAgIENoYXJ0Q29tcG9uZW50LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBsZWdlbmRDb2x1bW5zID0gMDtcbiAgICAgICAgaWYgKHRoaXMuc2hvd0xlZ2VuZCkge1xuICAgICAgICAgICAgdGhpcy5sZWdlbmRUeXBlID0gdGhpcy5nZXRMZWdlbmRUeXBlKCk7XG4gICAgICAgICAgICBpZiAoIXRoaXMubGVnZW5kT3B0aW9ucyB8fCB0aGlzLmxlZ2VuZE9wdGlvbnMucG9zaXRpb24gPT09ICdyaWdodCcpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5sZWdlbmRUeXBlID09PSAnc2NhbGVMZWdlbmQnKSB7XG4gICAgICAgICAgICAgICAgICAgIGxlZ2VuZENvbHVtbnMgPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbGVnZW5kQ29sdW1ucyA9IDI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBjaGFydENvbHVtbnMgPSAxMiAtIGxlZ2VuZENvbHVtbnM7XG4gICAgICAgIHRoaXMuY2hhcnRXaWR0aCA9IE1hdGguZmxvb3IoKHRoaXMudmlld1swXSAqIGNoYXJ0Q29sdW1ucyAvIDEyLjApKTtcbiAgICAgICAgdGhpcy5sZWdlbmRXaWR0aCA9ICghdGhpcy5sZWdlbmRPcHRpb25zIHx8IHRoaXMubGVnZW5kT3B0aW9ucy5wb3NpdGlvbiA9PT0gJ3JpZ2h0JylcbiAgICAgICAgICAgID8gTWF0aC5mbG9vcigodGhpcy52aWV3WzBdICogbGVnZW5kQ29sdW1ucyAvIDEyLjApKVxuICAgICAgICAgICAgOiB0aGlzLmNoYXJ0V2lkdGg7XG4gICAgfTtcbiAgICBDaGFydENvbXBvbmVudC5wcm90b3R5cGUuZ2V0TGVnZW5kVHlwZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMubGVnZW5kT3B0aW9ucy5zY2FsZVR5cGUgPT09ICdsaW5lYXInKSB7XG4gICAgICAgICAgICByZXR1cm4gJ3NjYWxlTGVnZW5kJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAnbGVnZW5kJztcbiAgICAgICAgfVxuICAgIH07XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBDaGFydENvbXBvbmVudC5wcm90b3R5cGUsIFwidmlld1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIENoYXJ0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJzaG93TGVnZW5kXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLCBcImxlZ2VuZE9wdGlvbnNcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBDaGFydENvbXBvbmVudC5wcm90b3R5cGUsIFwiZGF0YVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIENoYXJ0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJsZWdlbmREYXRhXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLCBcImxlZ2VuZFR5cGVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBDaGFydENvbXBvbmVudC5wcm90b3R5cGUsIFwiY29sb3JzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBBcnJheSlcbiAgICBdLCBDaGFydENvbXBvbmVudC5wcm90b3R5cGUsIFwiYWN0aXZlRW50cmllc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbiAgICBdLCBDaGFydENvbXBvbmVudC5wcm90b3R5cGUsIFwiYW5pbWF0aW9uc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBPdXRwdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIHR5cGVvZiAoX2EgPSB0eXBlb2YgRXZlbnRFbWl0dGVyICE9PSBcInVuZGVmaW5lZFwiICYmIEV2ZW50RW1pdHRlcikgPT09IFwiZnVuY3Rpb25cIiA/IF9hIDogT2JqZWN0KVxuICAgIF0sIENoYXJ0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJsZWdlbmRMYWJlbENsaWNrXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIE91dHB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgdHlwZW9mIChfYiA9IHR5cGVvZiBFdmVudEVtaXR0ZXIgIT09IFwidW5kZWZpbmVkXCIgJiYgRXZlbnRFbWl0dGVyKSA9PT0gXCJmdW5jdGlvblwiID8gX2IgOiBPYmplY3QpXG4gICAgXSwgQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLCBcImxlZ2VuZExhYmVsQWN0aXZhdGVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgT3V0cHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCB0eXBlb2YgKF9jID0gdHlwZW9mIEV2ZW50RW1pdHRlciAhPT0gXCJ1bmRlZmluZWRcIiAmJiBFdmVudEVtaXR0ZXIpID09PSBcImZ1bmN0aW9uXCIgPyBfYyA6IE9iamVjdClcbiAgICBdLCBDaGFydENvbXBvbmVudC5wcm90b3R5cGUsIFwibGVnZW5kTGFiZWxEZWFjdGl2YXRlXCIsIHZvaWQgMCk7XG4gICAgQ2hhcnRDb21wb25lbnQgPSBfX2RlY29yYXRlKFtcbiAgICAgICAgQ29tcG9uZW50KHtcbiAgICAgICAgICAgIHByb3ZpZGVyczogW1Rvb2x0aXBTZXJ2aWNlXSxcbiAgICAgICAgICAgIHNlbGVjdG9yOiAnbmd4LWNoYXJ0cy1jaGFydCcsXG4gICAgICAgICAgICB0ZW1wbGF0ZTogXCJcXG4gICAgPGRpdlxcbiAgICAgIGNsYXNzPVxcXCJuZ3gtY2hhcnRzLW91dGVyXFxcIlxcbiAgICAgIFtzdHlsZS53aWR0aC5weF09XFxcInZpZXdbMF1cXFwiXFxuICAgICAgW0BhbmltYXRpb25TdGF0ZV09XFxcIidhY3RpdmUnXFxcIlxcbiAgICAgIFtALmRpc2FibGVkXT1cXFwiIWFuaW1hdGlvbnNcXFwiPlxcbiAgICAgIDxzdmdcXG4gICAgICAgIGNsYXNzPVxcXCJuZ3gtY2hhcnRzXFxcIlxcbiAgICAgICAgW2F0dHIud2lkdGhdPVxcXCJjaGFydFdpZHRoXFxcIlxcbiAgICAgICAgW2F0dHIuaGVpZ2h0XT1cXFwidmlld1sxXVxcXCI+XFxuICAgICAgICA8bmctY29udGVudD48L25nLWNvbnRlbnQ+XFxuICAgICAgPC9zdmc+XFxuICAgICAgPG5neC1jaGFydHMtc2NhbGUtbGVnZW5kXFxuICAgICAgICAqbmdJZj1cXFwic2hvd0xlZ2VuZCAmJiBsZWdlbmRUeXBlID09PSAnc2NhbGVMZWdlbmQnXFxcIlxcbiAgICAgICAgY2xhc3M9XFxcImNoYXJ0LWxlZ2VuZFxcXCJcXG4gICAgICAgIFtob3Jpem9udGFsXT1cXFwibGVnZW5kT3B0aW9ucyAmJiBsZWdlbmRPcHRpb25zLnBvc2l0aW9uID09PSAnYmVsb3cnXFxcIlxcbiAgICAgICAgW3ZhbHVlUmFuZ2VdPVxcXCJsZWdlbmRPcHRpb25zLmRvbWFpblxcXCJcXG4gICAgICAgIFtjb2xvcnNdPVxcXCJsZWdlbmRPcHRpb25zLmNvbG9yc1xcXCJcXG4gICAgICAgIFtoZWlnaHRdPVxcXCJ2aWV3WzFdXFxcIlxcbiAgICAgICAgW3dpZHRoXT1cXFwibGVnZW5kV2lkdGhcXFwiPlxcbiAgICAgIDwvbmd4LWNoYXJ0cy1zY2FsZS1sZWdlbmQ+XFxuICAgICAgPG5neC1jaGFydHMtbGVnZW5kXFxuICAgICAgICAqbmdJZj1cXFwic2hvd0xlZ2VuZCAmJiBsZWdlbmRUeXBlID09PSAnbGVnZW5kJ1xcXCJcXG4gICAgICAgIGNsYXNzPVxcXCJjaGFydC1sZWdlbmRcXFwiXFxuICAgICAgICBbaG9yaXpvbnRhbF09XFxcImxlZ2VuZE9wdGlvbnMgJiYgbGVnZW5kT3B0aW9ucy5wb3NpdGlvbiA9PT0gJ2JlbG93J1xcXCJcXG4gICAgICAgIFtkYXRhXT1cXFwibGVnZW5kT3B0aW9ucy5kb21haW5cXFwiXFxuICAgICAgICBbdGl0bGVdPVxcXCJsZWdlbmRPcHRpb25zLnRpdGxlXFxcIlxcbiAgICAgICAgW2NvbG9yc109XFxcImxlZ2VuZE9wdGlvbnMuY29sb3JzXFxcIlxcbiAgICAgICAgW2hlaWdodF09XFxcInZpZXdbMV1cXFwiXFxuICAgICAgICBbd2lkdGhdPVxcXCJsZWdlbmRXaWR0aFxcXCJcXG4gICAgICAgIFthY3RpdmVFbnRyaWVzXT1cXFwiYWN0aXZlRW50cmllc1xcXCJcXG4gICAgICAgIChsYWJlbENsaWNrKT1cXFwibGVnZW5kTGFiZWxDbGljay5lbWl0KCRldmVudClcXFwiXFxuICAgICAgICAobGFiZWxBY3RpdmF0ZSk9XFxcImxlZ2VuZExhYmVsQWN0aXZhdGUuZW1pdCgkZXZlbnQpXFxcIlxcbiAgICAgICAgKGxhYmVsRGVhY3RpdmF0ZSk9XFxcImxlZ2VuZExhYmVsRGVhY3RpdmF0ZS5lbWl0KCRldmVudClcXFwiPlxcbiAgICAgIDwvbmd4LWNoYXJ0cy1sZWdlbmQ+XFxuICAgIDwvZGl2PlxcbiAgXCIsXG4gICAgICAgICAgICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcbiAgICAgICAgICAgIGFuaW1hdGlvbnM6IFtcbiAgICAgICAgICAgICAgICB0cmlnZ2VyKCdhbmltYXRpb25TdGF0ZScsIFtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbignOmVudGVyJywgW1xuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGUoeyBvcGFjaXR5OiAwIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0ZSgnNTAwbXMgMTAwbXMnLCBzdHlsZSh7IG9wYWNpdHk6IDEgfSkpXG4gICAgICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgIF1cbiAgICAgICAgfSksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cGFyYW10eXBlc1wiLCBbdHlwZW9mIChfZCA9IHR5cGVvZiBWaWV3Q29udGFpbmVyUmVmICE9PSBcInVuZGVmaW5lZFwiICYmIFZpZXdDb250YWluZXJSZWYpID09PSBcImZ1bmN0aW9uXCIgPyBfZCA6IE9iamVjdCwgdHlwZW9mIChfZSA9IHR5cGVvZiBUb29sdGlwU2VydmljZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBUb29sdGlwU2VydmljZSkgPT09IFwiZnVuY3Rpb25cIiA/IF9lIDogT2JqZWN0XSlcbiAgICBdLCBDaGFydENvbXBvbmVudCk7XG4gICAgcmV0dXJuIENoYXJ0Q29tcG9uZW50O1xufSgpKTtcblxuLyoqXG4gKiBGb3JtYXRzIGEgbGFiZWwgZ2l2ZW4gYSBkYXRlLCBudW1iZXIgb3Igc3RyaW5nLlxuICpcbiAqIEBleHBvcnRcbiAqIEBwYXJhbSB7Kn0gbGFiZWxcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGZvcm1hdExhYmVsKGxhYmVsKSB7XG4gICAgaWYgKGxhYmVsIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICBsYWJlbCA9IGxhYmVsLnRvTG9jYWxlRGF0ZVN0cmluZygpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbGFiZWwgPSBsYWJlbC50b0xvY2FsZVN0cmluZygpO1xuICAgIH1cbiAgICByZXR1cm4gbGFiZWw7XG59XG4vKipcbiAqIEVzY2FwZXMgYSBsYWJlbC5cbiAqXG4gKiBAZXhwb3J0XG4gKiBAcGFyYW0geyp9IGxhYmVsXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiBlc2NhcGVMYWJlbChsYWJlbCkge1xuICAgIHJldHVybiBsYWJlbC50b0xvY2FsZVN0cmluZygpLnJlcGxhY2UoL1smJ2BcIjw+XS9nLCBmdW5jdGlvbiAobWF0Y2gpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICcmJzogJyZhbXA7JyxcbiAgICAgICAgICAgICdcXCcnOiAnJiN4Mjc7JyxcbiAgICAgICAgICAgICdgJzogJyYjeDYwOycsXG4gICAgICAgICAgICAnXCInOiAnJnF1b3Q7JyxcbiAgICAgICAgICAgICc8JzogJyZsdDsnLFxuICAgICAgICAgICAgJz4nOiAnJmd0OycsXG4gICAgICAgIH1bbWF0Y2hdO1xuICAgIH0pO1xufVxuXG52YXIgTGVnZW5kQ29tcG9uZW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIExlZ2VuZENvbXBvbmVudChjZCkge1xuICAgICAgICB0aGlzLmNkID0gY2Q7XG4gICAgICAgIHRoaXMuaG9yaXpvbnRhbCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmxhYmVsQ2xpY2sgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgICAgIHRoaXMubGFiZWxBY3RpdmF0ZSA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5sYWJlbERlYWN0aXZhdGUgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgICAgIHRoaXMubGVnZW5kRW50cmllcyA9IFtdO1xuICAgIH1cbiAgICBMZWdlbmRDb21wb25lbnQucHJvdG90eXBlLm5nT25DaGFuZ2VzID0gZnVuY3Rpb24gKGNoYW5nZXMpIHtcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICB9O1xuICAgIExlZ2VuZENvbXBvbmVudC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmNkLm1hcmtGb3JDaGVjaygpO1xuICAgICAgICB0aGlzLmxlZ2VuZEVudHJpZXMgPSB0aGlzLmdldExlZ2VuZEVudHJpZXMoKTtcbiAgICB9O1xuICAgIExlZ2VuZENvbXBvbmVudC5wcm90b3R5cGUuZ2V0TGVnZW5kRW50cmllcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGl0ZW1zID0gW107XG4gICAgICAgIHZhciBfbG9vcF8xID0gZnVuY3Rpb24gKGxhYmVsKSB7XG4gICAgICAgICAgICB2YXIgZm9ybWF0dGVkTGFiZWwgPSBmb3JtYXRMYWJlbChsYWJlbCk7XG4gICAgICAgICAgICB2YXIgaWR4ID0gaXRlbXMuZmluZEluZGV4KGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGkubGFiZWwgPT09IGZvcm1hdHRlZExhYmVsO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoaWR4ID09PSAtMSkge1xuICAgICAgICAgICAgICAgIGl0ZW1zLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBsYWJlbDogbGFiZWwsXG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdHRlZExhYmVsOiBmb3JtYXR0ZWRMYWJlbCxcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IHRoaXNfMS5jb2xvcnMuZ2V0Q29sb3IobGFiZWwpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHZhciB0aGlzXzEgPSB0aGlzO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gdGhpcy5kYXRhOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIGxhYmVsID0gX2FbX2ldO1xuICAgICAgICAgICAgX2xvb3BfMShsYWJlbCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGl0ZW1zO1xuICAgIH07XG4gICAgTGVnZW5kQ29tcG9uZW50LnByb3RvdHlwZS5pc0FjdGl2ZSA9IGZ1bmN0aW9uIChlbnRyeSkge1xuICAgICAgICBpZiAoIXRoaXMuYWN0aXZlRW50cmllcylcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgdmFyIGl0ZW0gPSB0aGlzLmFjdGl2ZUVudHJpZXMuZmluZChmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgcmV0dXJuIGVudHJ5LmxhYmVsID09PSBkLm5hbWU7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gaXRlbSAhPT0gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgTGVnZW5kQ29tcG9uZW50LnByb3RvdHlwZS5hY3RpdmF0ZSA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHRoaXMubGFiZWxBY3RpdmF0ZS5lbWl0KGl0ZW0pO1xuICAgIH07XG4gICAgTGVnZW5kQ29tcG9uZW50LnByb3RvdHlwZS5kZWFjdGl2YXRlID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgdGhpcy5sYWJlbERlYWN0aXZhdGUuZW1pdChpdGVtKTtcbiAgICB9O1xuICAgIExlZ2VuZENvbXBvbmVudC5wcm90b3R5cGUudHJhY2tCeSA9IGZ1bmN0aW9uIChpbmRleCwgaXRlbSkge1xuICAgICAgICByZXR1cm4gaXRlbS5sYWJlbDtcbiAgICB9O1xuICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBMZWdlbmRDb21wb25lbnQucHJvdG90eXBlLCBcImRhdGFcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBMZWdlbmRDb21wb25lbnQucHJvdG90eXBlLCBcInRpdGxlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgTGVnZW5kQ29tcG9uZW50LnByb3RvdHlwZSwgXCJjb2xvcnNcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBMZWdlbmRDb21wb25lbnQucHJvdG90eXBlLCBcImhlaWdodFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIExlZ2VuZENvbXBvbmVudC5wcm90b3R5cGUsIFwid2lkdGhcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBMZWdlbmRDb21wb25lbnQucHJvdG90eXBlLCBcImFjdGl2ZUVudHJpZXNcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBMZWdlbmRDb21wb25lbnQucHJvdG90eXBlLCBcImhvcml6b250YWxcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgT3V0cHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCB0eXBlb2YgKF9hID0gdHlwZW9mIEV2ZW50RW1pdHRlciAhPT0gXCJ1bmRlZmluZWRcIiAmJiBFdmVudEVtaXR0ZXIpID09PSBcImZ1bmN0aW9uXCIgPyBfYSA6IE9iamVjdClcbiAgICBdLCBMZWdlbmRDb21wb25lbnQucHJvdG90eXBlLCBcImxhYmVsQ2xpY2tcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgT3V0cHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCB0eXBlb2YgKF9iID0gdHlwZW9mIEV2ZW50RW1pdHRlciAhPT0gXCJ1bmRlZmluZWRcIiAmJiBFdmVudEVtaXR0ZXIpID09PSBcImZ1bmN0aW9uXCIgPyBfYiA6IE9iamVjdClcbiAgICBdLCBMZWdlbmRDb21wb25lbnQucHJvdG90eXBlLCBcImxhYmVsQWN0aXZhdGVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgT3V0cHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCB0eXBlb2YgKF9jID0gdHlwZW9mIEV2ZW50RW1pdHRlciAhPT0gXCJ1bmRlZmluZWRcIiAmJiBFdmVudEVtaXR0ZXIpID09PSBcImZ1bmN0aW9uXCIgPyBfYyA6IE9iamVjdClcbiAgICBdLCBMZWdlbmRDb21wb25lbnQucHJvdG90eXBlLCBcImxhYmVsRGVhY3RpdmF0ZVwiLCB2b2lkIDApO1xuICAgIExlZ2VuZENvbXBvbmVudCA9IF9fZGVjb3JhdGUoW1xuICAgICAgICBDb21wb25lbnQoe1xuICAgICAgICAgICAgc2VsZWN0b3I6ICduZ3gtY2hhcnRzLWxlZ2VuZCcsXG4gICAgICAgICAgICB0ZW1wbGF0ZTogXCJcXG4gICAgPGRpdiBbc3R5bGUud2lkdGgucHhdPVxcXCJ3aWR0aFxcXCI+XFxuICAgICAgPGhlYWRlciBjbGFzcz1cXFwibGVnZW5kLXRpdGxlXFxcIiAqbmdJZj1cXFwidGl0bGU/Lmxlbmd0aCA+IDBcXFwiPlxcbiAgICAgICAgPHNwYW4gY2xhc3M9XFxcImxlZ2VuZC10aXRsZS10ZXh0XFxcIj57e3RpdGxlfX08L3NwYW4+XFxuICAgICAgPC9oZWFkZXI+XFxuICAgICAgPGRpdiBjbGFzcz1cXFwibGVnZW5kLXdyYXBcXFwiPlxcbiAgICAgICAgPHVsIGNsYXNzPVxcXCJsZWdlbmQtbGFiZWxzXFxcIlxcbiAgICAgICAgICAgIFtjbGFzcy5ob3Jpem9udGFsLWxlZ2VuZF09XFxcImhvcml6b250YWxcXFwiXFxuICAgICAgICAgIFtzdHlsZS5tYXgtaGVpZ2h0LnB4XT1cXFwiaGVpZ2h0IC0gNDVcXFwiPlxcbiAgICAgICAgICA8bGlcXG4gICAgICAgICAgICAqbmdGb3I9XFxcImxldCBlbnRyeSBvZiBsZWdlbmRFbnRyaWVzOyB0cmFja0J5OiB0cmFja0J5XFxcIlxcbiAgICAgICAgICAgIGNsYXNzPVxcXCJsZWdlbmQtbGFiZWxcXFwiPlxcbiAgICAgICAgICAgIDxuZ3gtY2hhcnRzLWxlZ2VuZC1lbnRyeVxcbiAgICAgICAgICAgICAgW2xhYmVsXT1cXFwiZW50cnkubGFiZWxcXFwiXFxuICAgICAgICAgICAgICBbZm9ybWF0dGVkTGFiZWxdPVxcXCJlbnRyeS5mb3JtYXR0ZWRMYWJlbFxcXCJcXG4gICAgICAgICAgICAgIFtjb2xvcl09XFxcImVudHJ5LmNvbG9yXFxcIlxcbiAgICAgICAgICAgICAgW2lzQWN0aXZlXT1cXFwiaXNBY3RpdmUoZW50cnkpXFxcIlxcbiAgICAgICAgICAgICAgKHNlbGVjdCk9XFxcImxhYmVsQ2xpY2suZW1pdCgkZXZlbnQpXFxcIlxcbiAgICAgICAgICAgICAgKGFjdGl2YXRlKT1cXFwiYWN0aXZhdGUoJGV2ZW50KVxcXCJcXG4gICAgICAgICAgICAgIChkZWFjdGl2YXRlKT1cXFwiZGVhY3RpdmF0ZSgkZXZlbnQpXFxcIj5cXG4gICAgICAgICAgICA8L25neC1jaGFydHMtbGVnZW5kLWVudHJ5PlxcbiAgICAgICAgICA8L2xpPlxcbiAgICAgICAgPC91bD5cXG4gICAgICA8L2Rpdj5cXG4gICAgPC9kaXY+XFxuICBcIixcbiAgICAgICAgICAgIHN0eWxlczogW1wiLmNoYXJ0LWxlZ2VuZHtkaXNwbGF5OmlubGluZS1ibG9jaztwYWRkaW5nOjA7d2lkdGg6YXV0byFpbXBvcnRhbnR9LmNoYXJ0LWxlZ2VuZCAubGVnZW5kLXRpdGxle3doaXRlLXNwYWNlOm5vd3JhcDtvdmVyZmxvdzpoaWRkZW47bWFyZ2luLWxlZnQ6MTBweDttYXJnaW4tYm90dG9tOjVweDtmb250LXNpemU6MTRweDtmb250LXdlaWdodDo3MDB9LmNoYXJ0LWxlZ2VuZCBsaSwuY2hhcnQtbGVnZW5kIHVse3BhZGRpbmc6MDttYXJnaW46MDtsaXN0LXN0eWxlOm5vbmV9LmNoYXJ0LWxlZ2VuZCAuaG9yaXpvbnRhbC1sZWdlbmQgbGl7ZGlzcGxheTppbmxpbmUtYmxvY2t9LmNoYXJ0LWxlZ2VuZCAubGVnZW5kLXdyYXB7d2lkdGg6Y2FsYygxMDAlIC0gMTBweCl9LmNoYXJ0LWxlZ2VuZCAubGVnZW5kLWxhYmVsc3tsaW5lLWhlaWdodDo4NSU7bGlzdC1zdHlsZTpub25lO3RleHQtYWxpZ246bGVmdDtmbG9hdDpsZWZ0O3dpZHRoOjEwMCU7Ym9yZGVyLXJhZGl1czozcHg7b3ZlcmZsb3cteTphdXRvO292ZXJmbG93LXg6aGlkZGVuO3doaXRlLXNwYWNlOm5vd3JhcDtiYWNrZ3JvdW5kOnJnYmEoMCwwLDAsLjA1KX0uY2hhcnQtbGVnZW5kIC5sZWdlbmQtbGFiZWx7Y3Vyc29yOnBvaW50ZXI7Zm9udC1zaXplOjkwJTttYXJnaW46OHB4O2NvbG9yOiNhZmI3Yzh9LmNoYXJ0LWxlZ2VuZCAubGVnZW5kLWxhYmVsOmhvdmVye2NvbG9yOiMwMDA7LXdlYmtpdC10cmFuc2l0aW9uOi4yczstbW96LXRyYW5zaXRpb246LjJzO3RyYW5zaXRpb246LjJzfS5jaGFydC1sZWdlbmQgLmxlZ2VuZC1sYWJlbCAuYWN0aXZlIC5sZWdlbmQtbGFiZWwtdGV4dHtjb2xvcjojMDAwfS5jaGFydC1sZWdlbmQgLmxlZ2VuZC1sYWJlbC1jb2xvcntkaXNwbGF5OmlubGluZS1ibG9jaztoZWlnaHQ6MTVweDt3aWR0aDoxNXB4O21hcmdpbi1yaWdodDo1cHg7Y29sb3I6IzViNjQ2Yjtib3JkZXItcmFkaXVzOjNweH0uY2hhcnQtbGVnZW5kIC5sZWdlbmQtbGFiZWwtdGV4dHtkaXNwbGF5OmlubGluZS1ibG9jazt2ZXJ0aWNhbC1hbGlnbjp0b3A7bGluZS1oZWlnaHQ6MTVweDtmb250LXNpemU6MTJweDt3aWR0aDpjYWxjKDEwMCUgLSAyMHB4KTt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzO3doaXRlLXNwYWNlOm5vd3JhcDtvdmVyZmxvdzpoaWRkZW59LmNoYXJ0LWxlZ2VuZCAubGVnZW5kLXRpdGxlLXRleHR7dmVydGljYWwtYWxpZ246Ym90dG9tO2Rpc3BsYXk6aW5saW5lLWJsb2NrO2xpbmUtaGVpZ2h0OjE2cHg7b3ZlcmZsb3c6aGlkZGVuO3doaXRlLXNwYWNlOm5vd3JhcDt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzfVwiXSxcbiAgICAgICAgICAgIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmUsXG4gICAgICAgICAgICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaFxuICAgICAgICB9KSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjpwYXJhbXR5cGVzXCIsIFt0eXBlb2YgKF9kID0gdHlwZW9mIENoYW5nZURldGVjdG9yUmVmICE9PSBcInVuZGVmaW5lZFwiICYmIENoYW5nZURldGVjdG9yUmVmKSA9PT0gXCJmdW5jdGlvblwiID8gX2QgOiBPYmplY3RdKVxuICAgIF0sIExlZ2VuZENvbXBvbmVudCk7XG4gICAgcmV0dXJuIExlZ2VuZENvbXBvbmVudDtcbn0oKSk7XG5cbnZhciBTY2FsZUxlZ2VuZENvbXBvbmVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTY2FsZUxlZ2VuZENvbXBvbmVudChzYW5pdGl6ZXIpIHtcbiAgICAgICAgdGhpcy5zYW5pdGl6ZXIgPSBzYW5pdGl6ZXI7XG4gICAgICAgIHRoaXMuaG9yaXpvbnRhbCA9IGZhbHNlO1xuICAgIH1cbiAgICBTY2FsZUxlZ2VuZENvbXBvbmVudC5wcm90b3R5cGUubmdPbkNoYW5nZXMgPSBmdW5jdGlvbiAoY2hhbmdlcykge1xuICAgICAgICB2YXIgZ3JhZGllbnRWYWx1ZXMgPSB0aGlzLmdyYWRpZW50U3RyaW5nKHRoaXMuY29sb3JzLnJhbmdlKCksIHRoaXMuY29sb3JzLmRvbWFpbigpKTtcbiAgICAgICAgdmFyIGRpcmVjdGlvbiA9ICh0aGlzLmhvcml6b250YWwpID8gJ3JpZ2h0JyA6ICdib3R0b20nO1xuICAgICAgICB0aGlzLmdyYWRpZW50ID0gdGhpcy5zYW5pdGl6ZXIuYnlwYXNzU2VjdXJpdHlUcnVzdFN0eWxlKFwibGluZWFyLWdyYWRpZW50KHRvIFwiICsgZGlyZWN0aW9uICsgXCIsIFwiICsgZ3JhZGllbnRWYWx1ZXMgKyBcIilcIik7XG4gICAgfTtcbiAgICBTY2FsZUxlZ2VuZENvbXBvbmVudC5wcm90b3R5cGUuZ3JhZGllbnRTdHJpbmcgPSBmdW5jdGlvbiAoY29sb3JzLCBzcGxpdHMpIHtcbiAgICAgICAgc3BsaXRzLnB1c2goMSk7XG4gICAgICAgIHZhciBwYWlycyA9IFtdO1xuICAgICAgICBjb2xvcnMucmV2ZXJzZSgpLmZvckVhY2goZnVuY3Rpb24gKGMsIGkpIHtcbiAgICAgICAgICAgIHBhaXJzLnB1c2goYyArIFwiIFwiICsgTWF0aC5yb3VuZChzcGxpdHNbaV0gKiAxMDApICsgXCIlXCIpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHBhaXJzLmpvaW4oJywgJyk7XG4gICAgfTtcbiAgICB2YXIgX2E7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgU2NhbGVMZWdlbmRDb21wb25lbnQucHJvdG90eXBlLCBcInZhbHVlUmFuZ2VcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBTY2FsZUxlZ2VuZENvbXBvbmVudC5wcm90b3R5cGUsIFwiY29sb3JzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgU2NhbGVMZWdlbmRDb21wb25lbnQucHJvdG90eXBlLCBcImhlaWdodFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIFNjYWxlTGVnZW5kQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ3aWR0aFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIFNjYWxlTGVnZW5kQ29tcG9uZW50LnByb3RvdHlwZSwgXCJob3Jpem9udGFsXCIsIHZvaWQgMCk7XG4gICAgU2NhbGVMZWdlbmRDb21wb25lbnQgPSBfX2RlY29yYXRlKFtcbiAgICAgICAgQ29tcG9uZW50KHtcbiAgICAgICAgICAgIHNlbGVjdG9yOiAnbmd4LWNoYXJ0cy1zY2FsZS1sZWdlbmQnLFxuICAgICAgICAgICAgdGVtcGxhdGU6IFwiXFxuICAgIDxkaXZcXG4gICAgICBjbGFzcz1cXFwic2NhbGUtbGVnZW5kXFxcIlxcbiAgICAgIFtjbGFzcy5ob3Jpem9udGFsLWxlZ2VuZF09XFxcImhvcml6b250YWxcXFwiXFxuICAgICAgW3N0eWxlLmhlaWdodC5weF09XFxcImhvcml6b250YWwgPyB1bmRlZmluZWQgOiBoZWlnaHRcXFwiXFxuICAgICAgW3N0eWxlLndpZHRoLnB4XT1cXFwid2lkdGhcXFwiPlxcbiAgICAgIDxkaXYgY2xhc3M9XFxcInNjYWxlLWxlZ2VuZC1sYWJlbFxcXCI+XFxuICAgICAgICA8c3Bhbj57eyB2YWx1ZVJhbmdlWzFdLnRvTG9jYWxlU3RyaW5nKCkgfX08L3NwYW4+XFxuICAgICAgPC9kaXY+XFxuICAgICAgPGRpdlxcbiAgICAgICAgY2xhc3M9XFxcInNjYWxlLWxlZ2VuZC13cmFwXFxcIlxcbiAgICAgICAgW3N0eWxlLmJhY2tncm91bmRdPVxcXCJncmFkaWVudFxcXCI+XFxuICAgICAgPC9kaXY+XFxuICAgICAgPGRpdiBjbGFzcz1cXFwic2NhbGUtbGVnZW5kLWxhYmVsXFxcIj5cXG4gICAgICAgIDxzcGFuPnt7IHZhbHVlUmFuZ2VbMF0udG9Mb2NhbGVTdHJpbmcoKSB9fTwvc3Bhbj5cXG4gICAgICA8L2Rpdj5cXG4gICAgPC9kaXY+XFxuICBcIixcbiAgICAgICAgICAgIHN0eWxlczogW1wiLmNoYXJ0LWxlZ2VuZHtkaXNwbGF5OmlubGluZS1ibG9jaztwYWRkaW5nOjA7d2lkdGg6YXV0byFpbXBvcnRhbnR9LmNoYXJ0LWxlZ2VuZCAuc2NhbGUtbGVnZW5ke3RleHQtYWxpZ246Y2VudGVyO2Rpc3BsYXk6ZmxleDtmbGV4LWRpcmVjdGlvbjpjb2x1bW59LmNoYXJ0LWxlZ2VuZCAuc2NhbGUtbGVnZW5kLXdyYXB7ZGlzcGxheTppbmxpbmUtYmxvY2s7ZmxleDoxO3dpZHRoOjMwcHg7Ym9yZGVyLXJhZGl1czo1cHg7bWFyZ2luOjAgYXV0b30uY2hhcnQtbGVnZW5kIC5zY2FsZS1sZWdlbmQtbGFiZWx7Zm9udC1zaXplOjEycHh9LmNoYXJ0LWxlZ2VuZCAuaG9yaXpvbnRhbC1sZWdlbmQuc2NhbGUtbGVnZW5ke2ZsZXgtZGlyZWN0aW9uOnJvd30uY2hhcnQtbGVnZW5kIC5ob3Jpem9udGFsLWxlZ2VuZCAuc2NhbGUtbGVnZW5kLXdyYXB7d2lkdGg6YXV0bztoZWlnaHQ6MzBweDttYXJnaW46MCAxNnB4fVwiXSxcbiAgICAgICAgICAgIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmUsXG4gICAgICAgICAgICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaFxuICAgICAgICB9KSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjpwYXJhbXR5cGVzXCIsIFt0eXBlb2YgKF9hID0gdHlwZW9mIERvbVNhbml0aXplciAhPT0gXCJ1bmRlZmluZWRcIiAmJiBEb21TYW5pdGl6ZXIpID09PSBcImZ1bmN0aW9uXCIgPyBfYSA6IE9iamVjdF0pXG4gICAgXSwgU2NhbGVMZWdlbmRDb21wb25lbnQpO1xuICAgIHJldHVybiBTY2FsZUxlZ2VuZENvbXBvbmVudDtcbn0oKSk7XG5cbnZhciBMZWdlbmRFbnRyeUNvbXBvbmVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBMZWdlbmRFbnRyeUNvbXBvbmVudCgpIHtcbiAgICAgICAgdGhpcy5pc0FjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnNlbGVjdCA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5hY3RpdmF0ZSA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5kZWFjdGl2YXRlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICB0aGlzLnRvZ2dsZSA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExlZ2VuZEVudHJ5Q29tcG9uZW50LnByb3RvdHlwZSwgXCJ0cmltbWVkTGFiZWxcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZvcm1hdHRlZExhYmVsIHx8ICcoZW1wdHkpJztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgTGVnZW5kRW50cnlDb21wb25lbnQucHJvdG90eXBlLm9uTW91c2VFbnRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5hY3RpdmF0ZS5lbWl0KHsgbmFtZTogdGhpcy5sYWJlbCB9KTtcbiAgICB9O1xuICAgIExlZ2VuZEVudHJ5Q29tcG9uZW50LnByb3RvdHlwZS5vbk1vdXNlTGVhdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZGVhY3RpdmF0ZS5lbWl0KHsgbmFtZTogdGhpcy5sYWJlbCB9KTtcbiAgICB9O1xuICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcbiAgICBdLCBMZWdlbmRFbnRyeUNvbXBvbmVudC5wcm90b3R5cGUsIFwiY29sb3JcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBMZWdlbmRFbnRyeUNvbXBvbmVudC5wcm90b3R5cGUsIFwibGFiZWxcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcbiAgICBdLCBMZWdlbmRFbnRyeUNvbXBvbmVudC5wcm90b3R5cGUsIFwiZm9ybWF0dGVkTGFiZWxcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEJvb2xlYW4pXG4gICAgXSwgTGVnZW5kRW50cnlDb21wb25lbnQucHJvdG90eXBlLCBcImlzQWN0aXZlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIE91dHB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgdHlwZW9mIChfYSA9IHR5cGVvZiBFdmVudEVtaXR0ZXIgIT09IFwidW5kZWZpbmVkXCIgJiYgRXZlbnRFbWl0dGVyKSA9PT0gXCJmdW5jdGlvblwiID8gX2EgOiBPYmplY3QpXG4gICAgXSwgTGVnZW5kRW50cnlDb21wb25lbnQucHJvdG90eXBlLCBcInNlbGVjdFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBPdXRwdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIHR5cGVvZiAoX2IgPSB0eXBlb2YgRXZlbnRFbWl0dGVyICE9PSBcInVuZGVmaW5lZFwiICYmIEV2ZW50RW1pdHRlcikgPT09IFwiZnVuY3Rpb25cIiA/IF9iIDogT2JqZWN0KVxuICAgIF0sIExlZ2VuZEVudHJ5Q29tcG9uZW50LnByb3RvdHlwZSwgXCJhY3RpdmF0ZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBPdXRwdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIHR5cGVvZiAoX2MgPSB0eXBlb2YgRXZlbnRFbWl0dGVyICE9PSBcInVuZGVmaW5lZFwiICYmIEV2ZW50RW1pdHRlcikgPT09IFwiZnVuY3Rpb25cIiA/IF9jIDogT2JqZWN0KVxuICAgIF0sIExlZ2VuZEVudHJ5Q29tcG9uZW50LnByb3RvdHlwZSwgXCJkZWFjdGl2YXRlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIE91dHB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgdHlwZW9mIChfZCA9IHR5cGVvZiBFdmVudEVtaXR0ZXIgIT09IFwidW5kZWZpbmVkXCIgJiYgRXZlbnRFbWl0dGVyKSA9PT0gXCJmdW5jdGlvblwiID8gX2QgOiBPYmplY3QpXG4gICAgXSwgTGVnZW5kRW50cnlDb21wb25lbnQucHJvdG90eXBlLCBcInRvZ2dsZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBIb3N0TGlzdGVuZXIoJ21vdXNlZW50ZXInKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEZ1bmN0aW9uKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjpwYXJhbXR5cGVzXCIsIFtdKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjpyZXR1cm50eXBlXCIsIHZvaWQgMClcbiAgICBdLCBMZWdlbmRFbnRyeUNvbXBvbmVudC5wcm90b3R5cGUsIFwib25Nb3VzZUVudGVyXCIsIG51bGwpO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBIb3N0TGlzdGVuZXIoJ21vdXNlbGVhdmUnKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEZ1bmN0aW9uKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjpwYXJhbXR5cGVzXCIsIFtdKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjpyZXR1cm50eXBlXCIsIHZvaWQgMClcbiAgICBdLCBMZWdlbmRFbnRyeUNvbXBvbmVudC5wcm90b3R5cGUsIFwib25Nb3VzZUxlYXZlXCIsIG51bGwpO1xuICAgIExlZ2VuZEVudHJ5Q29tcG9uZW50ID0gX19kZWNvcmF0ZShbXG4gICAgICAgIENvbXBvbmVudCh7XG4gICAgICAgICAgICBzZWxlY3RvcjogJ25neC1jaGFydHMtbGVnZW5kLWVudHJ5JyxcbiAgICAgICAgICAgIHRlbXBsYXRlOiBcIlxcbiAgICA8c3BhbiBcXG4gICAgICBbdGl0bGVdPVxcXCJmb3JtYXR0ZWRMYWJlbFxcXCJcXG4gICAgICB0YWJpbmRleD1cXFwiLTFcXFwiXFxuICAgICAgW2NsYXNzLmFjdGl2ZV09XFxcImlzQWN0aXZlXFxcIlxcbiAgICAgIChjbGljayk9XFxcInNlbGVjdC5lbWl0KGZvcm1hdHRlZExhYmVsKVxcXCI+XFxuICAgICAgPHNwYW5cXG4gICAgICAgIGNsYXNzPVxcXCJsZWdlbmQtbGFiZWwtY29sb3JcXFwiXFxuICAgICAgICBbc3R5bGUuYmFja2dyb3VuZC1jb2xvcl09XFxcImNvbG9yXFxcIlxcbiAgICAgICAgKGNsaWNrKT1cXFwidG9nZ2xlLmVtaXQoZm9ybWF0dGVkTGFiZWwpXFxcIj5cXG4gICAgICA8L3NwYW4+XFxuICAgICAgPHNwYW4gY2xhc3M9XFxcImxlZ2VuZC1sYWJlbC10ZXh0XFxcIj5cXG4gICAgICAgIHt7dHJpbW1lZExhYmVsfX1cXG4gICAgICA8L3NwYW4+XFxuICAgIDwvc3Bhbj5cXG4gIFwiLFxuICAgICAgICAgICAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2hcbiAgICAgICAgfSlcbiAgICBdLCBMZWdlbmRFbnRyeUNvbXBvbmVudCk7XG4gICAgcmV0dXJuIExlZ2VuZEVudHJ5Q29tcG9uZW50O1xufSgpKTtcblxuZnVuY3Rpb24gdHJpbUxhYmVsKHMsIG1heCQkMSkge1xuICAgIGlmIChtYXgkJDEgPT09IHZvaWQgMCkgeyBtYXgkJDEgPSAxNjsgfVxuICAgIGlmICh0eXBlb2YgcyAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBzID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgcmV0dXJuIHMgKyAnJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuICAgIH1cbiAgICBzID0gcy50cmltKCk7XG4gICAgaWYgKHMubGVuZ3RoIDw9IG1heCQkMSkge1xuICAgICAgICByZXR1cm4gcztcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBzLnNsaWNlKDAsIG1heCQkMSkgKyBcIi4uLlwiO1xuICAgIH1cbn1cblxudmFyIEFkdmFuY2VkTGVnZW5kQ29tcG9uZW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEFkdmFuY2VkTGVnZW5kQ29tcG9uZW50KCkge1xuICAgICAgICB0aGlzLmxhYmVsID0gJ1RvdGFsJztcbiAgICAgICAgdGhpcy5hbmltYXRpb25zID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zZWxlY3QgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgICAgIHRoaXMuYWN0aXZhdGUgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgICAgIHRoaXMuZGVhY3RpdmF0ZSA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5sZWdlbmRJdGVtcyA9IFtdO1xuICAgICAgICB0aGlzLmxhYmVsRm9ybWF0dGluZyA9IGZ1bmN0aW9uIChsYWJlbCkgeyByZXR1cm4gbGFiZWw7IH07XG4gICAgICAgIHRoaXMucGVyY2VudGFnZUZvcm1hdHRpbmcgPSBmdW5jdGlvbiAocGVyY2VudGFnZSkgeyByZXR1cm4gcGVyY2VudGFnZTsgfTtcbiAgICAgICAgdGhpcy5kZWZhdWx0VmFsdWVGb3JtYXR0aW5nID0gZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiB2YWx1ZS50b0xvY2FsZVN0cmluZygpOyB9O1xuICAgIH1cbiAgICBBZHZhbmNlZExlZ2VuZENvbXBvbmVudC5wcm90b3R5cGUubmdPbkNoYW5nZXMgPSBmdW5jdGlvbiAoY2hhbmdlcykge1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIH07XG4gICAgQWR2YW5jZWRMZWdlbmRDb21wb25lbnQucHJvdG90eXBlLmdldFRvdGFsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLm1hcChmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC52YWx1ZTsgfSkucmVkdWNlKGZ1bmN0aW9uIChzdW0sIGQpIHsgcmV0dXJuIHN1bSArIGQ7IH0sIDApO1xuICAgIH07XG4gICAgQWR2YW5jZWRMZWdlbmRDb21wb25lbnQucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy50b3RhbCA9IHRoaXMuZ2V0VG90YWwoKTtcbiAgICAgICAgdGhpcy5yb3VuZGVkVG90YWwgPSB0aGlzLnRvdGFsO1xuICAgICAgICB0aGlzLmxlZ2VuZEl0ZW1zID0gdGhpcy5nZXRMZWdlbmRJdGVtcygpO1xuICAgIH07XG4gICAgQWR2YW5jZWRMZWdlbmRDb21wb25lbnQucHJvdG90eXBlLmdldExlZ2VuZEl0ZW1zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLm1hcChmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgdmFyIGxhYmVsID0gZm9ybWF0TGFiZWwoZC5uYW1lKTtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IGQudmFsdWU7XG4gICAgICAgICAgICB2YXIgY29sb3IgPSBfdGhpcy5jb2xvcnMuZ2V0Q29sb3IobGFiZWwpO1xuICAgICAgICAgICAgdmFyIHBlcmNlbnRhZ2UgPSBfdGhpcy50b3RhbCA+IDAgPyAodmFsdWUgLyBfdGhpcy50b3RhbCkgKiAxMDAgOiAwO1xuICAgICAgICAgICAgdmFyIGZvcm1hdHRlZExhYmVsID0gdHlwZW9mIF90aGlzLmxhYmVsRm9ybWF0dGluZyA9PT0gJ2Z1bmN0aW9uJyA/IF90aGlzLmxhYmVsRm9ybWF0dGluZyhsYWJlbCkgOiBsYWJlbDtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgX3ZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICBkYXRhOiBkLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICBjb2xvcjogY29sb3IsXG4gICAgICAgICAgICAgICAgbGFiZWw6IGZvcm1hdHRlZExhYmVsLFxuICAgICAgICAgICAgICAgIGRpc3BsYXlMYWJlbDogdHJpbUxhYmVsKGZvcm1hdHRlZExhYmVsLCAyMCksXG4gICAgICAgICAgICAgICAgb3JpZ2lhbExhYmVsOiBkLm5hbWUsXG4gICAgICAgICAgICAgICAgcGVyY2VudGFnZTogX3RoaXMucGVyY2VudGFnZUZvcm1hdHRpbmcgPyBfdGhpcy5wZXJjZW50YWdlRm9ybWF0dGluZyhwZXJjZW50YWdlKSA6IHBlcmNlbnRhZ2UudG9Mb2NhbGVTdHJpbmcoKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBBZHZhbmNlZExlZ2VuZENvbXBvbmVudC5wcm90b3R5cGUudHJhY2tCeSA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHJldHVybiBpdGVtLmZvcm1hdHRlZExhYmVsO1xuICAgIH07XG4gICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBOdW1iZXIpXG4gICAgXSwgQWR2YW5jZWRMZWdlbmRDb21wb25lbnQucHJvdG90eXBlLCBcIndpZHRoXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQWR2YW5jZWRMZWdlbmRDb21wb25lbnQucHJvdG90eXBlLCBcImRhdGFcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBBZHZhbmNlZExlZ2VuZENvbXBvbmVudC5wcm90b3R5cGUsIFwiY29sb3JzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBTdHJpbmcpXG4gICAgXSwgQWR2YW5jZWRMZWdlbmRDb21wb25lbnQucHJvdG90eXBlLCBcImxhYmVsXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIEFkdmFuY2VkTGVnZW5kQ29tcG9uZW50LnByb3RvdHlwZSwgXCJhbmltYXRpb25zXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIE91dHB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgdHlwZW9mIChfYSA9IHR5cGVvZiBFdmVudEVtaXR0ZXIgIT09IFwidW5kZWZpbmVkXCIgJiYgRXZlbnRFbWl0dGVyKSA9PT0gXCJmdW5jdGlvblwiID8gX2EgOiBPYmplY3QpXG4gICAgXSwgQWR2YW5jZWRMZWdlbmRDb21wb25lbnQucHJvdG90eXBlLCBcInNlbGVjdFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBPdXRwdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIHR5cGVvZiAoX2IgPSB0eXBlb2YgRXZlbnRFbWl0dGVyICE9PSBcInVuZGVmaW5lZFwiICYmIEV2ZW50RW1pdHRlcikgPT09IFwiZnVuY3Rpb25cIiA/IF9iIDogT2JqZWN0KVxuICAgIF0sIEFkdmFuY2VkTGVnZW5kQ29tcG9uZW50LnByb3RvdHlwZSwgXCJhY3RpdmF0ZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBPdXRwdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIHR5cGVvZiAoX2MgPSB0eXBlb2YgRXZlbnRFbWl0dGVyICE9PSBcInVuZGVmaW5lZFwiICYmIEV2ZW50RW1pdHRlcikgPT09IFwiZnVuY3Rpb25cIiA/IF9jIDogT2JqZWN0KVxuICAgIF0sIEFkdmFuY2VkTGVnZW5kQ29tcG9uZW50LnByb3RvdHlwZSwgXCJkZWFjdGl2YXRlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBGdW5jdGlvbilcbiAgICBdLCBBZHZhbmNlZExlZ2VuZENvbXBvbmVudC5wcm90b3R5cGUsIFwidmFsdWVGb3JtYXR0aW5nXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBGdW5jdGlvbilcbiAgICBdLCBBZHZhbmNlZExlZ2VuZENvbXBvbmVudC5wcm90b3R5cGUsIFwibGFiZWxGb3JtYXR0aW5nXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBGdW5jdGlvbilcbiAgICBdLCBBZHZhbmNlZExlZ2VuZENvbXBvbmVudC5wcm90b3R5cGUsIFwicGVyY2VudGFnZUZvcm1hdHRpbmdcIiwgdm9pZCAwKTtcbiAgICBBZHZhbmNlZExlZ2VuZENvbXBvbmVudCA9IF9fZGVjb3JhdGUoW1xuICAgICAgICBDb21wb25lbnQoe1xuICAgICAgICAgICAgc2VsZWN0b3I6ICduZ3gtY2hhcnRzLWFkdmFuY2VkLWxlZ2VuZCcsXG4gICAgICAgICAgICB0ZW1wbGF0ZTogXCJcXG4gICAgPGRpdiBjbGFzcz1cXFwiYWR2YW5jZWQtcGllLWxlZ2VuZFxcXCIgW3N0eWxlLndpZHRoLnB4XT1cXFwid2lkdGhcXFwiPlxcbiAgICAgIDxkaXZcXG4gICAgICAgICpuZ0lmPVxcXCJhbmltYXRpb25zXFxcIlxcbiAgICAgICAgY2xhc3M9XFxcInRvdGFsLXZhbHVlXFxcIlxcbiAgICAgICAgbmd4LWNoYXJ0cy1jb3VudC11cFxcbiAgICAgICAgW2NvdW50VG9dPVxcXCJyb3VuZGVkVG90YWxcXFwiXFxuICAgICAgICBbdmFsdWVGb3JtYXR0aW5nXT1cXFwidmFsdWVGb3JtYXR0aW5nXFxcIlxcbiAgICAgID48L2Rpdj5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJ0b3RhbC12YWx1ZVxcXCIgKm5nSWY9XFxcIiFhbmltYXRpb25zXFxcIj5cXG4gICAgICAgIHt7IHZhbHVlRm9ybWF0dGluZyA/IHZhbHVlRm9ybWF0dGluZyhyb3VuZGVkVG90YWwpIDogZGVmYXVsdFZhbHVlRm9ybWF0dGluZyhyb3VuZGVkVG90YWwpIH19XFxuICAgICAgPC9kaXY+XFxuICAgICAgPGRpdiBjbGFzcz1cXFwidG90YWwtbGFiZWxcXFwiPlxcbiAgICAgICAge3sgbGFiZWwgfX1cXG4gICAgICA8L2Rpdj5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJsZWdlbmQtaXRlbXMtY29udGFpbmVyXFxcIj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImxlZ2VuZC1pdGVtc1xcXCI+XFxuICAgICAgICAgIDxkaXZcXG4gICAgICAgICAgICAqbmdGb3I9XFxcImxldCBsZWdlbmRJdGVtIG9mIGxlZ2VuZEl0ZW1zOyB0cmFja0J5OiB0cmFja0J5XFxcIlxcbiAgICAgICAgICAgIHRhYmluZGV4PVxcXCItMVxcXCJcXG4gICAgICAgICAgICBjbGFzcz1cXFwibGVnZW5kLWl0ZW1cXFwiXFxuICAgICAgICAgICAgKG1vdXNlZW50ZXIpPVxcXCJhY3RpdmF0ZS5lbWl0KGxlZ2VuZEl0ZW0uZGF0YSlcXFwiXFxuICAgICAgICAgICAgKG1vdXNlbGVhdmUpPVxcXCJkZWFjdGl2YXRlLmVtaXQobGVnZW5kSXRlbS5kYXRhKVxcXCJcXG4gICAgICAgICAgICAoY2xpY2spPVxcXCJzZWxlY3QuZW1pdChsZWdlbmRJdGVtLmRhdGEpXFxcIlxcbiAgICAgICAgICA+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiaXRlbS1jb2xvclxcXCIgW3N0eWxlLmJvcmRlci1sZWZ0LWNvbG9yXT1cXFwibGVnZW5kSXRlbS5jb2xvclxcXCI+PC9kaXY+XFxuICAgICAgICAgICAgPGRpdlxcbiAgICAgICAgICAgICAgKm5nSWY9XFxcImFuaW1hdGlvbnNcXFwiXFxuICAgICAgICAgICAgICBjbGFzcz1cXFwiaXRlbS12YWx1ZVxcXCJcXG4gICAgICAgICAgICAgIG5neC1jaGFydHMtY291bnQtdXBcXG4gICAgICAgICAgICAgIFtjb3VudFRvXT1cXFwibGVnZW5kSXRlbS5fdmFsdWVcXFwiXFxuICAgICAgICAgICAgICBbdmFsdWVGb3JtYXR0aW5nXT1cXFwidmFsdWVGb3JtYXR0aW5nXFxcIlxcbiAgICAgICAgICAgID48L2Rpdj5cXG4gICAgICAgICAgICA8ZGl2ICpuZ0lmPVxcXCIhYW5pbWF0aW9uc1xcXCIgY2xhc3M9XFxcIml0ZW0tdmFsdWVcXFwiPlxcbiAgICAgICAgICAgICAge3sgdmFsdWVGb3JtYXR0aW5nID8gdmFsdWVGb3JtYXR0aW5nKGxlZ2VuZEl0ZW0udmFsdWUpIDogZGVmYXVsdFZhbHVlRm9ybWF0dGluZyhsZWdlbmRJdGVtLnZhbHVlKSB9fVxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcIml0ZW0tbGFiZWxcXFwiPnt7IGxlZ2VuZEl0ZW0uZGlzcGxheUxhYmVsIH19PC9kaXY+XFxuICAgICAgICAgICAgPGRpdlxcbiAgICAgICAgICAgICAgKm5nSWY9XFxcImFuaW1hdGlvbnNcXFwiXFxuICAgICAgICAgICAgICBjbGFzcz1cXFwiaXRlbS1wZXJjZW50XFxcIlxcbiAgICAgICAgICAgICAgbmd4LWNoYXJ0cy1jb3VudC11cFxcbiAgICAgICAgICAgICAgW2NvdW50VG9dPVxcXCJsZWdlbmRJdGVtLnBlcmNlbnRhZ2VcXFwiXFxuICAgICAgICAgICAgICBbY291bnRTdWZmaXhdPVxcXCInJSdcXFwiXFxuICAgICAgICAgICAgPjwvZGl2PlxcbiAgICAgICAgICAgIDxkaXYgKm5nSWY9XFxcIiFhbmltYXRpb25zXFxcIiBjbGFzcz1cXFwiaXRlbS1wZXJjZW50XFxcIj57eyBsZWdlbmRJdGVtLnBlcmNlbnRhZ2UudG9Mb2NhbGVTdHJpbmcoKSB9fSU8L2Rpdj5cXG4gICAgICAgICAgPC9kaXY+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICA8L2Rpdj5cXG4gICAgPC9kaXY+XFxuICBcIixcbiAgICAgICAgICAgIHN0eWxlczogW1wiLmFkdmFuY2VkLXBpZS1sZWdlbmR7ZmxvYXQ6bGVmdDtwb3NpdGlvbjpyZWxhdGl2ZTt0b3A6NTAlO3RyYW5zZm9ybTp0cmFuc2xhdGUoMCwtNTAlKX0uYWR2YW5jZWQtcGllLWxlZ2VuZCAudG90YWwtdmFsdWV7Zm9udC1zaXplOjM2cHh9LmFkdmFuY2VkLXBpZS1sZWdlbmQgLnRvdGFsLWxhYmVse2ZvbnQtc2l6ZToyNHB4O21hcmdpbi1ib3R0b206MTlweH0uYWR2YW5jZWQtcGllLWxlZ2VuZCAubGVnZW5kLWl0ZW1zLWNvbnRhaW5lcnt3aWR0aDoxMDAlfS5hZHZhbmNlZC1waWUtbGVnZW5kIC5sZWdlbmQtaXRlbXMtY29udGFpbmVyIC5sZWdlbmQtaXRlbXN7d2hpdGUtc3BhY2U6bm93cmFwO292ZXJmbG93OmF1dG99LmFkdmFuY2VkLXBpZS1sZWdlbmQgLmxlZ2VuZC1pdGVtcy1jb250YWluZXIgLmxlZ2VuZC1pdGVtcyAubGVnZW5kLWl0ZW17bWFyZ2luLXJpZ2h0OjIwcHg7ZGlzcGxheTppbmxpbmUtYmxvY2s7Y3Vyc29yOnBvaW50ZXJ9LmFkdmFuY2VkLXBpZS1sZWdlbmQgLmxlZ2VuZC1pdGVtcy1jb250YWluZXIgLmxlZ2VuZC1pdGVtcyAubGVnZW5kLWl0ZW06Zm9jdXN7b3V0bGluZTowfS5hZHZhbmNlZC1waWUtbGVnZW5kIC5sZWdlbmQtaXRlbXMtY29udGFpbmVyIC5sZWdlbmQtaXRlbXMgLmxlZ2VuZC1pdGVtOmhvdmVye2NvbG9yOiMwMDA7LXdlYmtpdC10cmFuc2l0aW9uOi4yczstbW96LXRyYW5zaXRpb246LjJzO3RyYW5zaXRpb246LjJzfS5hZHZhbmNlZC1waWUtbGVnZW5kIC5sZWdlbmQtaXRlbXMtY29udGFpbmVyIC5sZWdlbmQtaXRlbXMgLmxlZ2VuZC1pdGVtIC5pdGVtLXZhbHVle2ZvbnQtc2l6ZToyNHB4O21hcmdpbi10b3A6LTZweDttYXJnaW4tbGVmdDoxMXB4fS5hZHZhbmNlZC1waWUtbGVnZW5kIC5sZWdlbmQtaXRlbXMtY29udGFpbmVyIC5sZWdlbmQtaXRlbXMgLmxlZ2VuZC1pdGVtIC5pdGVtLWxhYmVse2ZvbnQtc2l6ZToxNHB4O29wYWNpdHk6Ljc7bWFyZ2luLWxlZnQ6MTFweDttYXJnaW4tdG9wOi02cHh9LmFkdmFuY2VkLXBpZS1sZWdlbmQgLmxlZ2VuZC1pdGVtcy1jb250YWluZXIgLmxlZ2VuZC1pdGVtcyAubGVnZW5kLWl0ZW0gLml0ZW0tcGVyY2VudHtmb250LXNpemU6MjRweDtvcGFjaXR5Oi43O21hcmdpbi1sZWZ0OjExcHh9LmFkdmFuY2VkLXBpZS1sZWdlbmQgLmxlZ2VuZC1pdGVtcy1jb250YWluZXIgLmxlZ2VuZC1pdGVtcyAubGVnZW5kLWl0ZW0gLml0ZW0tY29sb3J7Ym9yZGVyLWxlZnQ6NHB4IHNvbGlkO3dpZHRoOjRweDtoZWlnaHQ6NDJweDtmbG9hdDpsZWZ0O21hcmdpbi1yaWdodDo3cHh9XCJdLFxuICAgICAgICAgICAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZSxcbiAgICAgICAgICAgIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoXG4gICAgICAgIH0pXG4gICAgXSwgQWR2YW5jZWRMZWdlbmRDb21wb25lbnQpO1xuICAgIHJldHVybiBBZHZhbmNlZExlZ2VuZENvbXBvbmVudDtcbn0oKSk7XG5cbnZhciBjYWNoZSA9IHt9O1xuLyoqXG4gKiBHZW5lcmF0ZXMgYSBzaG9ydCBpZC5cbiAqXG4gKiBEZXNjcmlwdGlvbjpcbiAqICAgQSA0LWNoYXJhY3RlciBhbHBoYW51bWVyaWMgc2VxdWVuY2UgKDM2NCA9IDEuNiBtaWxsaW9uKVxuICogICBUaGlzIHNob3VsZCBvbmx5IGJlIHVzZWQgZm9yIEphdmFTY3JpcHQgc3BlY2lmaWMgbW9kZWxzLlxuICogICBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzYyNDg2NjYvaG93LXRvLWdlbmVyYXRlLXNob3J0LXVpZC1saWtlLWF4NGo5ei1pbi1qc1xuICpcbiAqICAgRXhhbXBsZTogYGViZ2ZgXG4gKi9cbmZ1bmN0aW9uIGlkKCkge1xuICAgIHZhciBuZXdJZCA9ICgnMDAwMCcgKyAoTWF0aC5yYW5kb20oKSAqIE1hdGgucG93KDM2LCA0KSA8PCAwKS50b1N0cmluZygzNikpLnNsaWNlKC00KTtcbiAgICAvLyBhcHBlbmQgYSAnYScgYmVjYXVzZSBuZW8gZ2V0cyBtYWRcbiAgICBuZXdJZCA9IFwiYVwiICsgbmV3SWQ7XG4gICAgLy8gZW5zdXJlIG5vdCBhbHJlYWR5IHVzZWRcbiAgICBpZiAoIWNhY2hlW25ld0lkXSkge1xuICAgICAgICBjYWNoZVtuZXdJZF0gPSB0cnVlO1xuICAgICAgICByZXR1cm4gbmV3SWQ7XG4gICAgfVxuICAgIHJldHVybiBpZCgpO1xufVxuXG52YXIgY29sb3JTZXRzID0gW1xuICAgIHtcbiAgICAgICAgbmFtZTogJ3ZpdmlkJyxcbiAgICAgICAgc2VsZWN0YWJsZTogdHJ1ZSxcbiAgICAgICAgZ3JvdXA6ICdPcmRpbmFsJyxcbiAgICAgICAgZG9tYWluOiBbXG4gICAgICAgICAgICAnIzY0N2M4YScsICcjM2Y1MWI1JywgJyMyMTk2ZjMnLCAnIzAwYjg2MicsICcjYWZkZjBhJywgJyNhN2I2MWEnLCAnI2YzZTU2MicsICcjZmY5ODAwJywgJyNmZjU3MjInLCAnI2ZmNDUxNCdcbiAgICAgICAgXVxuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiAnbmF0dXJhbCcsXG4gICAgICAgIHNlbGVjdGFibGU6IHRydWUsXG4gICAgICAgIGdyb3VwOiAnT3JkaW5hbCcsXG4gICAgICAgIGRvbWFpbjogW1xuICAgICAgICAgICAgJyNiZjlkNzYnLCAnI2U5OTQ1MCcsICcjZDg5ZjU5JywgJyNmMmRmYTcnLCAnI2E1ZDdjNicsICcjNzc5NGIxJywgJyNhZmFmYWYnLCAnIzcwNzE2MCcsICcjYmE5MzgzJywgJyNkOWQ1YzMnXG4gICAgICAgIF1cbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogJ2Nvb2wnLFxuICAgICAgICBzZWxlY3RhYmxlOiB0cnVlLFxuICAgICAgICBncm91cDogJ09yZGluYWwnLFxuICAgICAgICBkb21haW46IFtcbiAgICAgICAgICAgICcjYTgzODVkJywgJyM3YWEzZTUnLCAnI2EyN2VhOCcsICcjYWFlM2Y1JywgJyNhZGNkZWQnLCAnI2E5NTk2MycsICcjODc5NmMwJywgJyM3ZWQzZWQnLCAnIzUwYWJjYycsICcjYWQ2ODg2J1xuICAgICAgICBdXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6ICdmaXJlJyxcbiAgICAgICAgc2VsZWN0YWJsZTogdHJ1ZSxcbiAgICAgICAgZ3JvdXA6ICdPcmRpbmFsJyxcbiAgICAgICAgZG9tYWluOiBbXG4gICAgICAgICAgICAnI2ZmM2QwMCcsICcjYmYzNjBjJywgJyNmZjhmMDAnLCAnI2ZmNmYwMCcsICcjZmY1NzIyJywgJyNlNjUxMDAnLCAnI2ZmY2EyOCcsICcjZmZhYjAwJ1xuICAgICAgICBdXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6ICdzb2xhcicsXG4gICAgICAgIHNlbGVjdGFibGU6IHRydWUsXG4gICAgICAgIGdyb3VwOiAnQ29udGludW91cycsXG4gICAgICAgIGRvbWFpbjogW1xuICAgICAgICAgICAgJyNmZmY4ZTEnLCAnI2ZmZWNiMycsICcjZmZlMDgyJywgJyNmZmQ1NGYnLCAnI2ZmY2EyOCcsICcjZmZjMTA3JywgJyNmZmIzMDAnLCAnI2ZmYTAwMCcsICcjZmY4ZjAwJywgJyNmZjZmMDAnXG4gICAgICAgIF1cbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogJ2FpcicsXG4gICAgICAgIHNlbGVjdGFibGU6IHRydWUsXG4gICAgICAgIGdyb3VwOiAnQ29udGludW91cycsXG4gICAgICAgIGRvbWFpbjogW1xuICAgICAgICAgICAgJyNlMWY1ZmUnLCAnI2IzZTVmYycsICcjODFkNGZhJywgJyM0ZmMzZjcnLCAnIzI5YjZmNicsICcjMDNhOWY0JywgJyMwMzliZTUnLCAnIzAyODhkMScsICcjMDI3N2JkJywgJyMwMTU3OWInXG4gICAgICAgIF1cbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogJ2FxdWEnLFxuICAgICAgICBzZWxlY3RhYmxlOiB0cnVlLFxuICAgICAgICBncm91cDogJ0NvbnRpbnVvdXMnLFxuICAgICAgICBkb21haW46IFtcbiAgICAgICAgICAgICcjZTBmN2ZhJywgJyNiMmViZjInLCAnIzgwZGVlYScsICcjNGRkMGUxJywgJyMyNmM2ZGEnLCAnIzAwYmNkNCcsICcjMDBhY2MxJywgJyMwMDk3YTcnLCAnIzAwODM4ZicsICcjMDA2MDY0J1xuICAgICAgICBdXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6ICdmbGFtZScsXG4gICAgICAgIHNlbGVjdGFibGU6IGZhbHNlLFxuICAgICAgICBncm91cDogJ09yZGluYWwnLFxuICAgICAgICBkb21haW46IFtcbiAgICAgICAgICAgICcjQTEwQTI4JywgJyNEMzM0MkQnLCAnI0VGNkQ0OScsICcjRkFBRDY3JywgJyNGRERFOTAnLCAnI0RCRUQ5MScsICcjQTlENzcwJywgJyM2Q0JBNjcnLCAnIzJDOTY1MycsICcjMTQ2NzM4J1xuICAgICAgICBdXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6ICdvY2VhbicsXG4gICAgICAgIHNlbGVjdGFibGU6IGZhbHNlLFxuICAgICAgICBncm91cDogJ09yZGluYWwnLFxuICAgICAgICBkb21haW46IFtcbiAgICAgICAgICAgICcjMUQ2OEZCJywgJyMzM0MwRkMnLCAnIzRBRkZGRScsICcjQUZGRkZGJywgJyNGRkZDNjMnLCAnI0ZEQkQyRCcsICcjRkM4QTI1JywgJyNGQTRGMUUnLCAnI0ZBMTQxQicsICcjQkEzOEQxJ1xuICAgICAgICBdXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6ICdmb3Jlc3QnLFxuICAgICAgICBzZWxlY3RhYmxlOiBmYWxzZSxcbiAgICAgICAgZ3JvdXA6ICdPcmRpbmFsJyxcbiAgICAgICAgZG9tYWluOiBbXG4gICAgICAgICAgICAnIzU1QzIyRCcsICcjQzFGMzNEJywgJyMzQ0MwOTknLCAnI0FGRkZGRicsICcjOENGQzlEJywgJyM3NkNGRkEnLCAnI0JBNjBGQicsICcjRUU2NDkwJywgJyNDNDJBMUMnLCAnI0ZDOUYzMidcbiAgICAgICAgXVxuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiAnaG9yaXpvbicsXG4gICAgICAgIHNlbGVjdGFibGU6IGZhbHNlLFxuICAgICAgICBncm91cDogJ09yZGluYWwnLFxuICAgICAgICBkb21haW46IFtcbiAgICAgICAgICAgICcjMjU5N0ZCJywgJyM2NUVCRkQnLCAnIzk5RkREMCcsICcjRkNFRTRCJywgJyNGRUZDRkEnLCAnI0ZERDZFMycsICcjRkNCMUE4JywgJyNFRjZGN0InLCAnI0NCOTZFOCcsICcjRUZERUUwJ1xuICAgICAgICBdXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6ICduZW9ucycsXG4gICAgICAgIHNlbGVjdGFibGU6IGZhbHNlLFxuICAgICAgICBncm91cDogJ09yZGluYWwnLFxuICAgICAgICBkb21haW46IFtcbiAgICAgICAgICAgICcjRkYzMzMzJywgJyNGRjMzRkYnLCAnI0NDMzNGRicsICcjMDAwMEZGJywgJyMzM0NDRkYnLCAnIzMzRkZGRicsICcjMzNGRjY2JywgJyNDQ0ZGMzMnLCAnI0ZGQ0MwMCcsICcjRkY2NjAwJ1xuICAgICAgICBdXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6ICdwaWNuaWMnLFxuICAgICAgICBzZWxlY3RhYmxlOiBmYWxzZSxcbiAgICAgICAgZ3JvdXA6ICdPcmRpbmFsJyxcbiAgICAgICAgZG9tYWluOiBbXG4gICAgICAgICAgICAnI0ZBQzUxRCcsICcjNjZCRDZEJywgJyNGQUEwMjYnLCAnIzI5QkI5QycsICcjRTk2QjU2JywgJyM1NUFDRDInLCAnI0I3MzMyRicsICcjMkM4M0M5JywgJyM5MTY2QjgnLCAnIzkyRTdFOCdcbiAgICAgICAgXVxuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiAnbmlnaHQnLFxuICAgICAgICBzZWxlY3RhYmxlOiBmYWxzZSxcbiAgICAgICAgZ3JvdXA6ICdPcmRpbmFsJyxcbiAgICAgICAgZG9tYWluOiBbXG4gICAgICAgICAgICAnIzJCMUI1QScsICcjNTAxMzU2JywgJyMxODMzNTYnLCAnIzI4MjAzRicsICcjMzkxQjNDJywgJyMxRTJCM0MnLCAnIzEyMDYzNCcsXG4gICAgICAgICAgICAnIzJEMDQzMicsICcjMDUxOTMyJywgJyM0NTMwODAnLCAnIzc1MjY3RCcsICcjMkM1MDdEJywgJyM0QjM4ODAnLCAnIzc1MkY3RCcsICcjMzU1NDdEJ1xuICAgICAgICBdXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6ICduaWdodExpZ2h0cycsXG4gICAgICAgIHNlbGVjdGFibGU6IGZhbHNlLFxuICAgICAgICBncm91cDogJ09yZGluYWwnLFxuICAgICAgICBkb21haW46IFtcbiAgICAgICAgICAgICcjNGUzMWE1JywgJyM5YzI1YTcnLCAnIzMwNjVhYicsICcjNTc0NjhiJywgJyM5MDQ0OTcnLCAnIzQ2NjQ4YicsXG4gICAgICAgICAgICAnIzMyMTE4ZCcsICcjYTAwZmIzJywgJyMxMDUyYTInLCAnIzZlNTFiZCcsICcjYjYzY2MzJywgJyM2Yzk3Y2InLCAnIzg2NzFjMScsICcjYjQ1NWJlJywgJyM3NDk2YzMnXG4gICAgICAgIF1cbiAgICB9XG5dO1xuXG5mdW5jdGlvbiBzb3J0TGluZWFyKGRhdGEsIHByb3BlcnR5LCBkaXJlY3Rpb24pIHtcbiAgICBpZiAoZGlyZWN0aW9uID09PSB2b2lkIDApIHsgZGlyZWN0aW9uID0gJ2FzYyc7IH1cbiAgICByZXR1cm4gZGF0YS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgIGlmIChkaXJlY3Rpb24gPT09ICdhc2MnKSB7XG4gICAgICAgICAgICByZXR1cm4gYVtwcm9wZXJ0eV0gLSBiW3Byb3BlcnR5XTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBiW3Byb3BlcnR5XSAtIGFbcHJvcGVydHldO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5mdW5jdGlvbiBzb3J0QnlEb21haW4oZGF0YSwgcHJvcGVydHksIGRpcmVjdGlvbiwgZG9tYWluKSB7XG4gICAgaWYgKGRpcmVjdGlvbiA9PT0gdm9pZCAwKSB7IGRpcmVjdGlvbiA9ICdhc2MnOyB9XG4gICAgcmV0dXJuIGRhdGEuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICB2YXIgYVZhbCA9IGFbcHJvcGVydHldO1xuICAgICAgICB2YXIgYlZhbCA9IGJbcHJvcGVydHldO1xuICAgICAgICB2YXIgYUlkeCA9IGRvbWFpbi5pbmRleE9mKGFWYWwpO1xuICAgICAgICB2YXIgYklkeCA9IGRvbWFpbi5pbmRleE9mKGJWYWwpO1xuICAgICAgICBpZiAoZGlyZWN0aW9uID09PSAnYXNjJykge1xuICAgICAgICAgICAgcmV0dXJuIGFJZHggLSBiSWR4O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGJJZHggLSBhSWR4O1xuICAgICAgICB9XG4gICAgfSk7XG59XG5mdW5jdGlvbiBzb3J0QnlUaW1lKGRhdGEsIHByb3BlcnR5LCBkaXJlY3Rpb24pIHtcbiAgICBpZiAoZGlyZWN0aW9uID09PSB2b2lkIDApIHsgZGlyZWN0aW9uID0gJ2FzYyc7IH1cbiAgICByZXR1cm4gZGF0YS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgIHZhciBhRGF0ZSA9IGFbcHJvcGVydHldLmdldFRpbWUoKTtcbiAgICAgICAgdmFyIGJEYXRlID0gYltwcm9wZXJ0eV0uZ2V0VGltZSgpO1xuICAgICAgICBpZiAoZGlyZWN0aW9uID09PSAnYXNjJykge1xuICAgICAgICAgICAgaWYgKGFEYXRlID4gYkRhdGUpXG4gICAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgICBpZiAoYkRhdGUgPiBhRGF0ZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChhRGF0ZSA+IGJEYXRlKVxuICAgICAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgICAgIGlmIChiRGF0ZSA+IGFEYXRlKVxuICAgICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuLyoqXG4gKiBBY2NlcHRzIGEgY29sb3IgKHN0cmluZykgYW5kIHJldHVybnMgYSBpbnZlcnRlZCBoZXggY29sb3IgKHN0cmluZylcbiAqIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvOTYwMDI5NS9hdXRvbWF0aWNhbGx5LWNoYW5nZS10ZXh0LWNvbG9yLXRvLWFzc3VyZS1yZWFkYWJpbGl0eVxuICpcbiAqIEBleHBvcnRcbiAqIEBwYXJhbSB7YW55fSB2YWx1ZVxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gaW52ZXJ0Q29sb3IodmFsdWUpIHtcbiAgICB2YXIgY29sb3IgPSByZ2IodmFsdWUpO1xuICAgIHZhciByID0gY29sb3IuciwgZyA9IGNvbG9yLmcsIGIgPSBjb2xvci5iLCBvcGFjaXR5ID0gY29sb3Iub3BhY2l0eTtcbiAgICBpZiAob3BhY2l0eSA9PT0gMCkge1xuICAgICAgICByZXR1cm4gY29sb3IudG9TdHJpbmcoKTtcbiAgICB9XG4gICAgdmFyIHlpcSA9ICgociAqIDI5OSkgKyAoZyAqIDU4NykgKyAoYiAqIDExNCkpIC8gMTAwMDtcbiAgICB2YXIgZGVwdGggPSAoeWlxID49IDEyOCkgPyAtLjggOiAuODtcbiAgICByZXR1cm4gc2hhZGVSR0JDb2xvcihjb2xvciwgZGVwdGgpO1xufVxuLyoqXG4gKiBHaXZlbiBhIHJnYiwgaXQgd2lsbCBkYXJrZW4vbGlnaHRlblxuICogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy81NTYwMjQ4L3Byb2dyYW1tYXRpY2FsbHktbGlnaHRlbi1vci1kYXJrZW4tYS1oZXgtY29sb3Itb3ItcmdiLWFuZC1ibGVuZC1jb2xvcnNcbiAqXG4gKiBAZXhwb3J0XG4gKiBAcGFyYW0ge2FueX0geyByLCBnLCBiIH1cbiAqIEBwYXJhbSB7YW55fSBwZXJjZW50XG4gKiBAcmV0dXJuc1xuICovXG5mdW5jdGlvbiBzaGFkZVJHQkNvbG9yKF9hLCBwZXJjZW50KSB7XG4gICAgdmFyIHIgPSBfYS5yLCBnID0gX2EuZywgYiA9IF9hLmI7XG4gICAgdmFyIHQgPSBwZXJjZW50IDwgMCA/IDAgOiAyNTU7XG4gICAgdmFyIHAgPSBwZXJjZW50IDwgMCA/IHBlcmNlbnQgKiAtMSA6IHBlcmNlbnQ7XG4gICAgciA9IChNYXRoLnJvdW5kKCh0IC0gcikgKiBwKSArIHIpO1xuICAgIGcgPSAoTWF0aC5yb3VuZCgodCAtIGcpICogcCkgKyBnKTtcbiAgICBiID0gKE1hdGgucm91bmQoKHQgLSBiKSAqIHApICsgYik7XG4gICAgcmV0dXJuIFwicmdiKFwiICsgciArIFwiLCBcIiArIGcgKyBcIiwgXCIgKyBiICsgXCIpXCI7XG59XG5cbi8qKlxuICogVmlzaWJpbGl0eSBPYnNlcnZlclxuICovXG52YXIgVmlzaWJpbGl0eU9ic2VydmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFZpc2liaWxpdHlPYnNlcnZlcihlbGVtZW50LCB6b25lKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIHRoaXMuem9uZSA9IHpvbmU7XG4gICAgICAgIHRoaXMudmlzaWJsZSA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5pc1Zpc2libGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5ydW5DaGVjaygpO1xuICAgIH1cbiAgICBWaXNpYmlsaXR5T2JzZXJ2ZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpO1xuICAgIH07XG4gICAgVmlzaWJpbGl0eU9ic2VydmVyLnByb3RvdHlwZS5vblZpc2liaWxpdHlDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8vIHRyaWdnZXIgem9uZSByZWNhbGMgZm9yIGNvbHVtbnNcbiAgICAgICAgdGhpcy56b25lLnJ1bihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5pc1Zpc2libGUgPSB0cnVlO1xuICAgICAgICAgICAgX3RoaXMudmlzaWJsZS5lbWl0KHRydWUpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFZpc2liaWxpdHlPYnNlcnZlci5wcm90b3R5cGUucnVuQ2hlY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBjaGVjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghX3RoaXMuZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGh0dHBzOi8vZGF2aWR3YWxzaC5uYW1lL29mZnNldGhlaWdodC12aXNpYmlsaXR5XG4gICAgICAgICAgICB2YXIgX2EgPSBfdGhpcy5lbGVtZW50Lm5hdGl2ZUVsZW1lbnQsIG9mZnNldEhlaWdodCA9IF9hLm9mZnNldEhlaWdodCwgb2Zmc2V0V2lkdGggPSBfYS5vZmZzZXRXaWR0aDtcbiAgICAgICAgICAgIGlmIChvZmZzZXRIZWlnaHQgJiYgb2Zmc2V0V2lkdGgpIHtcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoX3RoaXMudGltZW91dCk7XG4gICAgICAgICAgICAgICAgX3RoaXMub25WaXNpYmlsaXR5Q2hhbmdlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoX3RoaXMudGltZW91dCk7XG4gICAgICAgICAgICAgICAgX3RoaXMuem9uZS5ydW5PdXRzaWRlQW5ndWxhcihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNoZWNrKCk7IH0sIDEwMCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuem9uZS5ydW5PdXRzaWRlQW5ndWxhcihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy50aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiBjaGVjaygpOyB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICB2YXIgX2E7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIE91dHB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgdHlwZW9mIChfYSA9IHR5cGVvZiBFdmVudEVtaXR0ZXIgIT09IFwidW5kZWZpbmVkXCIgJiYgRXZlbnRFbWl0dGVyKSA9PT0gXCJmdW5jdGlvblwiID8gX2EgOiBPYmplY3QpXG4gICAgXSwgVmlzaWJpbGl0eU9ic2VydmVyLnByb3RvdHlwZSwgXCJ2aXNpYmxlXCIsIHZvaWQgMCk7XG4gICAgcmV0dXJuIFZpc2liaWxpdHlPYnNlcnZlcjtcbn0oKSk7XG5cbmZ1bmN0aW9uIGlzRGF0ZSh2YWx1ZSkge1xuICAgIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gJ1tvYmplY3QgRGF0ZV0nO1xufVxuXG52YXIgQmFzZUNoYXJ0Q29tcG9uZW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEJhc2VDaGFydENvbXBvbmVudChjaGFydEVsZW1lbnQsIHpvbmUsIGNkKSB7XG4gICAgICAgIHRoaXMuY2hhcnRFbGVtZW50ID0gY2hhcnRFbGVtZW50O1xuICAgICAgICB0aGlzLnpvbmUgPSB6b25lO1xuICAgICAgICB0aGlzLmNkID0gY2Q7XG4gICAgICAgIHRoaXMuc2NoZW1lID0gJ2Nvb2wnO1xuICAgICAgICB0aGlzLnNjaGVtZVR5cGUgPSAnb3JkaW5hbCc7XG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucyA9IHRydWU7XG4gICAgICAgIHRoaXMuc2VsZWN0ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgIH1cbiAgICBCYXNlQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLm5nQWZ0ZXJWaWV3SW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5iaW5kV2luZG93UmVzaXplRXZlbnQoKTtcbiAgICAgICAgLy8gbGlzdGVuIGZvciB2aXNpYmlsaXR5IG9mIHRoZSBlbGVtZW50IGZvciBoaWRkZW4gYnkgZGVmYXVsdCBzY2VuYXJpb1xuICAgICAgICB0aGlzLnZpc2liaWxpdHlPYnNlcnZlciA9IG5ldyBWaXNpYmlsaXR5T2JzZXJ2ZXIodGhpcy5jaGFydEVsZW1lbnQsIHRoaXMuem9uZSk7XG4gICAgICAgIHRoaXMudmlzaWJpbGl0eU9ic2VydmVyLnZpc2libGUuc3Vic2NyaWJlKHRoaXMudXBkYXRlLmJpbmQodGhpcykpO1xuICAgIH07XG4gICAgQmFzZUNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZS5uZ09uRGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy51bmJpbmRFdmVudHMoKTtcbiAgICAgICAgaWYgKHRoaXMudmlzaWJpbGl0eU9ic2VydmVyKSB7XG4gICAgICAgICAgICB0aGlzLnZpc2liaWxpdHlPYnNlcnZlci52aXNpYmxlLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB0aGlzLnZpc2liaWxpdHlPYnNlcnZlci5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEJhc2VDaGFydENvbXBvbmVudC5wcm90b3R5cGUubmdPbkNoYW5nZXMgPSBmdW5jdGlvbiAoY2hhbmdlcykge1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIH07XG4gICAgQmFzZUNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnJlc3VsdHMpIHtcbiAgICAgICAgICAgIHRoaXMucmVzdWx0cyA9IHRoaXMuY2xvbmVEYXRhKHRoaXMucmVzdWx0cyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJlc3VsdHMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy52aWV3KSB7XG4gICAgICAgICAgICB0aGlzLndpZHRoID0gdGhpcy52aWV3WzBdO1xuICAgICAgICAgICAgdGhpcy5oZWlnaHQgPSB0aGlzLnZpZXdbMV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgZGltcyA9IHRoaXMuZ2V0Q29udGFpbmVyRGltcygpO1xuICAgICAgICAgICAgaWYgKGRpbXMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLndpZHRoID0gZGltcy53aWR0aDtcbiAgICAgICAgICAgICAgICB0aGlzLmhlaWdodCA9IGRpbXMuaGVpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGRlZmF1bHQgdmFsdWVzIGlmIHdpZHRoIG9yIGhlaWdodCBhcmUgMCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKCF0aGlzLndpZHRoKSB7XG4gICAgICAgICAgICB0aGlzLndpZHRoID0gNjAwO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5oZWlnaHQpIHtcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gNDAwO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMud2lkdGggPSBNYXRoLmZsb29yKHRoaXMud2lkdGgpO1xuICAgICAgICB0aGlzLmhlaWdodCA9IE1hdGguZmxvb3IodGhpcy5oZWlnaHQpO1xuICAgICAgICBpZiAodGhpcy5jZCkge1xuICAgICAgICAgICAgdGhpcy5jZC5tYXJrRm9yQ2hlY2soKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQmFzZUNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZS5nZXRDb250YWluZXJEaW1zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgd2lkdGg7XG4gICAgICAgIHZhciBoZWlnaHQ7XG4gICAgICAgIHZhciBob3N0RWxlbSA9IHRoaXMuY2hhcnRFbGVtZW50Lm5hdGl2ZUVsZW1lbnQ7XG4gICAgICAgIGlmIChob3N0RWxlbS5wYXJlbnROb2RlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBHZXQgdGhlIGNvbnRhaW5lciBkaW1lbnNpb25zXG4gICAgICAgICAgICB2YXIgZGltcyA9IGhvc3RFbGVtLnBhcmVudE5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICB3aWR0aCA9IGRpbXMud2lkdGg7XG4gICAgICAgICAgICBoZWlnaHQgPSBkaW1zLmhlaWdodDtcbiAgICAgICAgfVxuICAgICAgICBpZiAod2lkdGggJiYgaGVpZ2h0KSB7XG4gICAgICAgICAgICByZXR1cm4geyB3aWR0aDogd2lkdGgsIGhlaWdodDogaGVpZ2h0IH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBhbGwgZGF0ZSBvYmplY3RzIHRoYXQgYXBwZWFyIGFzIG5hbWVcbiAgICAgKiBpbnRvIGZvcm1hdHRlZCBkYXRlIHN0cmluZ3NcbiAgICAgKi9cbiAgICBCYXNlQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLmZvcm1hdERhdGVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucmVzdWx0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGcgPSB0aGlzLnJlc3VsdHNbaV07XG4gICAgICAgICAgICBnLmxhYmVsID0gZy5uYW1lO1xuICAgICAgICAgICAgaWYgKGcubGFiZWwgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICAgICAgICAgICAgZy5sYWJlbCA9IGcubGFiZWwudG9Mb2NhbGVEYXRlU3RyaW5nKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZy5zZXJpZXMpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGcuc2VyaWVzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkID0gZy5zZXJpZXNbal07XG4gICAgICAgICAgICAgICAgICAgIGQubGFiZWwgPSBkLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkLmxhYmVsIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZC5sYWJlbCA9IGQubGFiZWwudG9Mb2NhbGVEYXRlU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEJhc2VDaGFydENvbXBvbmVudC5wcm90b3R5cGUudW5iaW5kRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5yZXNpemVTdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgIHRoaXMucmVzaXplU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEJhc2VDaGFydENvbXBvbmVudC5wcm90b3R5cGUuYmluZFdpbmRvd1Jlc2l6ZUV2ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgc291cmNlID0gZnJvbUV2ZW50KHdpbmRvdywgJ3Jlc2l6ZScpO1xuICAgICAgICB2YXIgc3Vic2NyaXB0aW9uID0gc291cmNlLnBpcGUoZGVib3VuY2VUaW1lKDIwMCkpLnN1YnNjcmliZShmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgX3RoaXMudXBkYXRlKCk7XG4gICAgICAgICAgICBpZiAoX3RoaXMuY2QpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5jZC5tYXJrRm9yQ2hlY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucmVzaXplU3Vic2NyaXB0aW9uID0gc3Vic2NyaXB0aW9uO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2xvbmVzIHRoZSBkYXRhIGludG8gYSBuZXcgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7YW55fSBkYXRhXG4gICAgICogQHJldHVybnMgeyp9XG4gICAgICpcbiAgICAgKiBAbWVtYmVyT2YgQmFzZUNoYXJ0XG4gICAgICovXG4gICAgQmFzZUNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZS5jbG9uZURhdGEgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB2YXIgcmVzdWx0cyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIGRhdGFfMSA9IGRhdGE7IF9pIDwgZGF0YV8xLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIGl0ZW0gPSBkYXRhXzFbX2ldO1xuICAgICAgICAgICAgdmFyIGNvcHkgPSB7XG4gICAgICAgICAgICAgICAgbmFtZTogaXRlbVsnbmFtZSddXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKGl0ZW1bJ3ZhbHVlJ10gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNvcHlbJ3ZhbHVlJ10gPSBpdGVtWyd2YWx1ZSddO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGl0ZW1bJ3NlcmllcyddICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjb3B5WydzZXJpZXMnXSA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIF9hID0gMCwgX2IgPSBpdGVtWydzZXJpZXMnXTsgX2EgPCBfYi5sZW5ndGg7IF9hKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNlcmllc0l0ZW0gPSBfYltfYV07XG4gICAgICAgICAgICAgICAgICAgIHZhciBzZXJpZXNJdGVtQ29weSA9IE9iamVjdC5hc3NpZ24oe30sIHNlcmllc0l0ZW0pO1xuICAgICAgICAgICAgICAgICAgICBjb3B5WydzZXJpZXMnXS5wdXNoKHNlcmllc0l0ZW1Db3B5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXRlbVsnZXh0cmEnXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY29weVsnZXh0cmEnXSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoaXRlbVsnZXh0cmEnXSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzdWx0cy5wdXNoKGNvcHkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgIH07XG4gICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQmFzZUNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJyZXN1bHRzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBBcnJheSlcbiAgICBdLCBCYXNlQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLCBcInZpZXdcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBCYXNlQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLCBcInNjaGVtZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgU3RyaW5nKVxuICAgIF0sIEJhc2VDaGFydENvbXBvbmVudC5wcm90b3R5cGUsIFwic2NoZW1lVHlwZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEJhc2VDaGFydENvbXBvbmVudC5wcm90b3R5cGUsIFwiY3VzdG9tQ29sb3JzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIEJhc2VDaGFydENvbXBvbmVudC5wcm90b3R5cGUsIFwiYW5pbWF0aW9uc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBPdXRwdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBCYXNlQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLCBcInNlbGVjdFwiLCB2b2lkIDApO1xuICAgIEJhc2VDaGFydENvbXBvbmVudCA9IF9fZGVjb3JhdGUoW1xuICAgICAgICBDb21wb25lbnQoe1xuICAgICAgICAgICAgc2VsZWN0b3I6ICdiYXNlLWNoYXJ0JyxcbiAgICAgICAgICAgIHRlbXBsYXRlOiBcIlxcbiAgICA8ZGl2PjwvZGl2PlxcbiAgXCJcbiAgICAgICAgfSksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cGFyYW10eXBlc1wiLCBbdHlwZW9mIChfYSA9IHR5cGVvZiBFbGVtZW50UmVmICE9PSBcInVuZGVmaW5lZFwiICYmIEVsZW1lbnRSZWYpID09PSBcImZ1bmN0aW9uXCIgPyBfYSA6IE9iamVjdCwgdHlwZW9mIChfYiA9IHR5cGVvZiBOZ1pvbmUgIT09IFwidW5kZWZpbmVkXCIgJiYgTmdab25lKSA9PT0gXCJmdW5jdGlvblwiID8gX2IgOiBPYmplY3QsIHR5cGVvZiAoX2MgPSB0eXBlb2YgQ2hhbmdlRGV0ZWN0b3JSZWYgIT09IFwidW5kZWZpbmVkXCIgJiYgQ2hhbmdlRGV0ZWN0b3JSZWYpID09PSBcImZ1bmN0aW9uXCIgPyBfYyA6IE9iamVjdF0pXG4gICAgXSwgQmFzZUNoYXJ0Q29tcG9uZW50KTtcbiAgICByZXR1cm4gQmFzZUNoYXJ0Q29tcG9uZW50O1xufSgpKTtcblxudmFyIEF4aXNMYWJlbENvbXBvbmVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBBeGlzTGFiZWxDb21wb25lbnQoZWxlbWVudCkge1xuICAgICAgICB0aGlzLnRleHRIZWlnaHQgPSAyNTtcbiAgICAgICAgdGhpcy5tYXJnaW4gPSA1O1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50Lm5hdGl2ZUVsZW1lbnQ7XG4gICAgfVxuICAgIEF4aXNMYWJlbENvbXBvbmVudC5wcm90b3R5cGUubmdPbkNoYW5nZXMgPSBmdW5jdGlvbiAoY2hhbmdlcykge1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIH07XG4gICAgQXhpc0xhYmVsQ29tcG9uZW50LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc3Ryb2tlV2lkdGggPSAnMC4wMSc7XG4gICAgICAgIHRoaXMudGV4dEFuY2hvciA9ICdtaWRkbGUnO1xuICAgICAgICB0aGlzLnRyYW5zZm9ybSA9ICcnO1xuICAgICAgICBzd2l0Y2ggKHRoaXMub3JpZW50KSB7XG4gICAgICAgICAgICBjYXNlICd0b3AnOlxuICAgICAgICAgICAgICAgIHRoaXMueSA9IHRoaXMub2Zmc2V0O1xuICAgICAgICAgICAgICAgIHRoaXMueCA9IHRoaXMud2lkdGggLyAyO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnYm90dG9tJzpcbiAgICAgICAgICAgICAgICB0aGlzLnkgPSB0aGlzLm9mZnNldDtcbiAgICAgICAgICAgICAgICB0aGlzLnggPSB0aGlzLndpZHRoIC8gMjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2xlZnQnOlxuICAgICAgICAgICAgICAgIHRoaXMueSA9IC0odGhpcy5vZmZzZXQgKyB0aGlzLnRleHRIZWlnaHQgKyB0aGlzLm1hcmdpbik7XG4gICAgICAgICAgICAgICAgdGhpcy54ID0gLXRoaXMuaGVpZ2h0IC8gMjtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybSA9ICdyb3RhdGUoMjcwKSc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdyaWdodCc6XG4gICAgICAgICAgICAgICAgdGhpcy55ID0gdGhpcy5vZmZzZXQgKyB0aGlzLm1hcmdpbjtcbiAgICAgICAgICAgICAgICB0aGlzLnggPSAtdGhpcy5oZWlnaHQgLyAyO1xuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtID0gJ3JvdGF0ZSgyNzApJztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHZhciBfYTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBBeGlzTGFiZWxDb21wb25lbnQucHJvdG90eXBlLCBcIm9yaWVudFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEF4aXNMYWJlbENvbXBvbmVudC5wcm90b3R5cGUsIFwibGFiZWxcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBBeGlzTGFiZWxDb21wb25lbnQucHJvdG90eXBlLCBcIm9mZnNldFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEF4aXNMYWJlbENvbXBvbmVudC5wcm90b3R5cGUsIFwid2lkdGhcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBBeGlzTGFiZWxDb21wb25lbnQucHJvdG90eXBlLCBcImhlaWdodFwiLCB2b2lkIDApO1xuICAgIEF4aXNMYWJlbENvbXBvbmVudCA9IF9fZGVjb3JhdGUoW1xuICAgICAgICBDb21wb25lbnQoe1xuICAgICAgICAgICAgc2VsZWN0b3I6ICdnW25neC1jaGFydHMtYXhpcy1sYWJlbF0nLFxuICAgICAgICAgICAgdGVtcGxhdGU6IFwiXFxuICAgIDxzdmc6dGV4dFxcbiAgICAgIFthdHRyLnN0cm9rZS13aWR0aF09XFxcInN0cm9rZVdpZHRoXFxcIlxcbiAgICAgIFthdHRyLnhdPVxcXCJ4XFxcIlxcbiAgICAgIFthdHRyLnldPVxcXCJ5XFxcIlxcbiAgICAgIFthdHRyLnRleHQtYW5jaG9yXT1cXFwidGV4dEFuY2hvclxcXCJcXG4gICAgICBbYXR0ci50cmFuc2Zvcm1dPVxcXCJ0cmFuc2Zvcm1cXFwiPlxcbiAgICAgIHt7bGFiZWx9fVxcbiAgICA8L3N2Zzp0ZXh0PlxcbiAgXCIsXG4gICAgICAgICAgICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaFxuICAgICAgICB9KSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjpwYXJhbXR5cGVzXCIsIFt0eXBlb2YgKF9hID0gdHlwZW9mIEVsZW1lbnRSZWYgIT09IFwidW5kZWZpbmVkXCIgJiYgRWxlbWVudFJlZikgPT09IFwiZnVuY3Rpb25cIiA/IF9hIDogT2JqZWN0XSlcbiAgICBdLCBBeGlzTGFiZWxDb21wb25lbnQpO1xuICAgIHJldHVybiBBeGlzTGFiZWxDb21wb25lbnQ7XG59KCkpO1xuXG5mdW5jdGlvbiByZWR1Y2VUaWNrcyh0aWNrcywgbWF4VGlja3MpIHtcbiAgICBpZiAodGlja3MubGVuZ3RoID4gbWF4VGlja3MpIHtcbiAgICAgICAgdmFyIHJlZHVjZWQgPSBbXTtcbiAgICAgICAgdmFyIG1vZHVsdXMgPSBNYXRoLmZsb29yKHRpY2tzLmxlbmd0aCAvIG1heFRpY2tzKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aWNrcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGkgJSBtb2R1bHVzID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmVkdWNlZC5wdXNoKHRpY2tzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aWNrcyA9IHJlZHVjZWQ7XG4gICAgfVxuICAgIHJldHVybiB0aWNrcztcbn1cblxudmFyIFhBeGlzVGlja3NDb21wb25lbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gWEF4aXNUaWNrc0NvbXBvbmVudCgpIHtcbiAgICAgICAgdGhpcy50aWNrQXJndW1lbnRzID0gWzVdO1xuICAgICAgICB0aGlzLnRpY2tTdHJva2UgPSAnI2NjYyc7XG4gICAgICAgIHRoaXMudHJpbVRpY2tzID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5tYXhUaWNrTGVuZ3RoID0gMTY7XG4gICAgICAgIHRoaXMuc2hvd0dyaWRMaW5lcyA9IGZhbHNlO1xuICAgICAgICB0aGlzLnJvdGF0ZVRpY2tzID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5kaW1lbnNpb25zQ2hhbmdlZCA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy52ZXJ0aWNhbFNwYWNpbmcgPSAyMDtcbiAgICAgICAgdGhpcy5yb3RhdGVMYWJlbHMgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pbm5lclRpY2tTaXplID0gNjtcbiAgICAgICAgdGhpcy5vdXRlclRpY2tTaXplID0gNjtcbiAgICAgICAgdGhpcy50aWNrUGFkZGluZyA9IDM7XG4gICAgICAgIHRoaXMudGV4dEFuY2hvciA9ICdtaWRkbGUnO1xuICAgICAgICB0aGlzLm1heFRpY2tzTGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5tYXhBbGxvd2VkTGVuZ3RoID0gMTY7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gMDtcbiAgICB9XG4gICAgWEF4aXNUaWNrc0NvbXBvbmVudC5wcm90b3R5cGUubmdPbkNoYW5nZXMgPSBmdW5jdGlvbiAoY2hhbmdlcykge1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIH07XG4gICAgWEF4aXNUaWNrc0NvbXBvbmVudC5wcm90b3R5cGUubmdBZnRlclZpZXdJbml0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLnVwZGF0ZURpbXMoKTsgfSk7XG4gICAgfTtcbiAgICBYQXhpc1RpY2tzQ29tcG9uZW50LnByb3RvdHlwZS51cGRhdGVEaW1zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gcGFyc2VJbnQodGhpcy50aWNrc0VsZW1lbnQubmF0aXZlRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQsIDEwKTtcbiAgICAgICAgaWYgKGhlaWdodCAhPT0gdGhpcy5oZWlnaHQpIHtcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICAgICAgdGhpcy5kaW1lbnNpb25zQ2hhbmdlZC5lbWl0KHsgaGVpZ2h0OiBoZWlnaHQgfSk7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLnVwZGF0ZURpbXMoKTsgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFhBeGlzVGlja3NDb21wb25lbnQucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHNjYWxlID0gdGhpcy5zY2FsZTtcbiAgICAgICAgdGhpcy50aWNrcyA9IHRoaXMuZ2V0VGlja3MoKTtcbiAgICAgICAgaWYgKHRoaXMudGlja0Zvcm1hdHRpbmcpIHtcbiAgICAgICAgICAgIHRoaXMudGlja0Zvcm1hdCA9IHRoaXMudGlja0Zvcm1hdHRpbmc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc2NhbGUudGlja0Zvcm1hdCkge1xuICAgICAgICAgICAgdGhpcy50aWNrRm9ybWF0ID0gc2NhbGUudGlja0Zvcm1hdC5hcHBseShzY2FsZSwgdGhpcy50aWNrQXJndW1lbnRzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudGlja0Zvcm1hdCA9IGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICAgICAgaWYgKGQuY29uc3RydWN0b3IubmFtZSA9PT0gJ0RhdGUnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkLnRvTG9jYWxlRGF0ZVN0cmluZygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZC50b0xvY2FsZVN0cmluZygpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYW5nbGUgPSB0aGlzLnJvdGF0ZVRpY2tzID8gdGhpcy5nZXRSb3RhdGlvbkFuZ2xlKHRoaXMudGlja3MpIDogbnVsbDtcbiAgICAgICAgdGhpcy5hZGp1c3RlZFNjYWxlID0gdGhpcy5zY2FsZS5iYW5kd2lkdGhcbiAgICAgICAgICAgID8gZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zY2FsZShkKSArIHRoaXMuc2NhbGUuYmFuZHdpZHRoKCkgKiAwLjU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICA6IHRoaXMuc2NhbGU7XG4gICAgICAgIHRoaXMudGV4dFRyYW5zZm9ybSA9ICcnO1xuICAgICAgICBpZiAoYW5nbGUgJiYgYW5nbGUgIT09IDApIHtcbiAgICAgICAgICAgIHRoaXMudGV4dFRyYW5zZm9ybSA9IFwicm90YXRlKFwiICsgYW5nbGUgKyBcIilcIjtcbiAgICAgICAgICAgIHRoaXMudGV4dEFuY2hvciA9ICdlbmQnO1xuICAgICAgICAgICAgdGhpcy52ZXJ0aWNhbFNwYWNpbmcgPSAxMDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudGV4dEFuY2hvciA9ICdtaWRkbGUnO1xuICAgICAgICB9XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMudXBkYXRlRGltcygpOyB9KTtcbiAgICB9O1xuICAgIFhBeGlzVGlja3NDb21wb25lbnQucHJvdG90eXBlLmdldFJvdGF0aW9uQW5nbGUgPSBmdW5jdGlvbiAodGlja3MpIHtcbiAgICAgICAgdmFyIGFuZ2xlID0gMDtcbiAgICAgICAgdGhpcy5tYXhUaWNrc0xlbmd0aCA9IDA7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGlja3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciB0aWNrID0gdGhpcy50aWNrRm9ybWF0KHRpY2tzW2ldKS50b1N0cmluZygpO1xuICAgICAgICAgICAgdmFyIHRpY2tMZW5ndGggPSB0aWNrLmxlbmd0aDtcbiAgICAgICAgICAgIGlmICh0aGlzLnRyaW1UaWNrcykge1xuICAgICAgICAgICAgICAgIHRpY2tMZW5ndGggPSB0aGlzLnRpY2tUcmltKHRpY2spLmxlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aWNrTGVuZ3RoID4gdGhpcy5tYXhUaWNrc0xlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMubWF4VGlja3NMZW5ndGggPSB0aWNrTGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBsZW4gPSBNYXRoLm1pbih0aGlzLm1heFRpY2tzTGVuZ3RoLCB0aGlzLm1heEFsbG93ZWRMZW5ndGgpO1xuICAgICAgICB2YXIgY2hhcldpZHRoID0gODsgLy8gbmVlZCB0byBtZWFzdXJlIHRoaXNcbiAgICAgICAgdmFyIHdvcmRXaWR0aCA9IGxlbiAqIGNoYXJXaWR0aDtcbiAgICAgICAgdmFyIGJhc2VXaWR0aCA9IHdvcmRXaWR0aDtcbiAgICAgICAgdmFyIG1heEJhc2VXaWR0aCA9IE1hdGguZmxvb3IodGhpcy53aWR0aCAvIHRpY2tzLmxlbmd0aCk7XG4gICAgICAgIC8vIGNhbGN1bGF0ZSBvcHRpbWFsIGFuZ2xlXG4gICAgICAgIHdoaWxlIChiYXNlV2lkdGggPiBtYXhCYXNlV2lkdGggJiYgYW5nbGUgPiAtOTApIHtcbiAgICAgICAgICAgIGFuZ2xlIC09IDMwO1xuICAgICAgICAgICAgYmFzZVdpZHRoID0gTWF0aC5jb3MoYW5nbGUgKiAoTWF0aC5QSSAvIDE4MCkpICogd29yZFdpZHRoO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhbmdsZTtcbiAgICB9O1xuICAgIFhBeGlzVGlja3NDb21wb25lbnQucHJvdG90eXBlLmdldFRpY2tzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdGlja3M7XG4gICAgICAgIHZhciBtYXhUaWNrcyA9IHRoaXMuZ2V0TWF4VGlja3MoMjApO1xuICAgICAgICB2YXIgbWF4U2NhbGVUaWNrcyA9IHRoaXMuZ2V0TWF4VGlja3MoMTAwKTtcbiAgICAgICAgaWYgKHRoaXMudGlja1ZhbHVlcykge1xuICAgICAgICAgICAgdGlja3MgPSB0aGlzLnRpY2tWYWx1ZXM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5zY2FsZS50aWNrcykge1xuICAgICAgICAgICAgdGlja3MgPSB0aGlzLnNjYWxlLnRpY2tzLmFwcGx5KHRoaXMuc2NhbGUsIFttYXhTY2FsZVRpY2tzXSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aWNrcyA9IHRoaXMuc2NhbGUuZG9tYWluKCk7XG4gICAgICAgICAgICB0aWNrcyA9IHJlZHVjZVRpY2tzKHRpY2tzLCBtYXhUaWNrcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRpY2tzO1xuICAgIH07XG4gICAgWEF4aXNUaWNrc0NvbXBvbmVudC5wcm90b3R5cGUuZ2V0TWF4VGlja3MgPSBmdW5jdGlvbiAodGlja1dpZHRoKSB7XG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKHRoaXMud2lkdGggLyB0aWNrV2lkdGgpO1xuICAgIH07XG4gICAgWEF4aXNUaWNrc0NvbXBvbmVudC5wcm90b3R5cGUudGlja1RyYW5zZm9ybSA9IGZ1bmN0aW9uICh0aWNrKSB7XG4gICAgICAgIHJldHVybiAndHJhbnNsYXRlKCcgKyB0aGlzLmFkanVzdGVkU2NhbGUodGljaykgKyAnLCcgKyB0aGlzLnZlcnRpY2FsU3BhY2luZyArICcpJztcbiAgICB9O1xuICAgIFhBeGlzVGlja3NDb21wb25lbnQucHJvdG90eXBlLmdyaWRMaW5lVHJhbnNmb3JtID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gXCJ0cmFuc2xhdGUoMCxcIiArICgtdGhpcy52ZXJ0aWNhbFNwYWNpbmcgLSA1KSArIFwiKVwiO1xuICAgIH07XG4gICAgWEF4aXNUaWNrc0NvbXBvbmVudC5wcm90b3R5cGUudGlja1RyaW0gPSBmdW5jdGlvbiAobGFiZWwpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHJpbVRpY2tzID8gdHJpbUxhYmVsKGxhYmVsLCB0aGlzLm1heFRpY2tMZW5ndGgpIDogbGFiZWw7XG4gICAgfTtcbiAgICB2YXIgX2E7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgWEF4aXNUaWNrc0NvbXBvbmVudC5wcm90b3R5cGUsIFwic2NhbGVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBYQXhpc1RpY2tzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJvcmllbnRcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBYQXhpc1RpY2tzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ0aWNrQXJndW1lbnRzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBBcnJheSlcbiAgICBdLCBYQXhpc1RpY2tzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ0aWNrVmFsdWVzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgWEF4aXNUaWNrc0NvbXBvbmVudC5wcm90b3R5cGUsIFwidGlja1N0cm9rZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbiAgICBdLCBYQXhpc1RpY2tzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ0cmltVGlja3NcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE51bWJlcilcbiAgICBdLCBYQXhpc1RpY2tzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJtYXhUaWNrTGVuZ3RoXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgWEF4aXNUaWNrc0NvbXBvbmVudC5wcm90b3R5cGUsIFwidGlja0Zvcm1hdHRpbmdcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBYQXhpc1RpY2tzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJzaG93R3JpZExpbmVzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgWEF4aXNUaWNrc0NvbXBvbmVudC5wcm90b3R5cGUsIFwiZ3JpZExpbmVIZWlnaHRcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBYQXhpc1RpY2tzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ3aWR0aFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbiAgICBdLCBYQXhpc1RpY2tzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJyb3RhdGVUaWNrc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBPdXRwdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBYQXhpc1RpY2tzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJkaW1lbnNpb25zQ2hhbmdlZFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBWaWV3Q2hpbGQoJ3RpY2tzZWwnLCB7IHN0YXRpYzogZmFsc2UgfSksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCB0eXBlb2YgKF9hID0gdHlwZW9mIEVsZW1lbnRSZWYgIT09IFwidW5kZWZpbmVkXCIgJiYgRWxlbWVudFJlZikgPT09IFwiZnVuY3Rpb25cIiA/IF9hIDogT2JqZWN0KVxuICAgIF0sIFhBeGlzVGlja3NDb21wb25lbnQucHJvdG90eXBlLCBcInRpY2tzRWxlbWVudFwiLCB2b2lkIDApO1xuICAgIFhBeGlzVGlja3NDb21wb25lbnQgPSBfX2RlY29yYXRlKFtcbiAgICAgICAgQ29tcG9uZW50KHtcbiAgICAgICAgICAgIHNlbGVjdG9yOiAnZ1tuZ3gtY2hhcnRzLXgtYXhpcy10aWNrc10nLFxuICAgICAgICAgICAgdGVtcGxhdGU6IFwiXFxuICAgIDxzdmc6ZyAjdGlja3NlbD5cXG4gICAgICA8c3ZnOmcgKm5nRm9yPVxcXCJsZXQgdGljayBvZiB0aWNrc1xcXCIgY2xhc3M9XFxcInRpY2tcXFwiIFthdHRyLnRyYW5zZm9ybV09XFxcInRpY2tUcmFuc2Zvcm0odGljaylcXFwiPlxcbiAgICAgICAgPHRpdGxlPnt7IHRpY2tGb3JtYXQodGljaykgfX08L3RpdGxlPlxcbiAgICAgICAgPHN2Zzp0ZXh0XFxuICAgICAgICAgIHN0cm9rZS13aWR0aD1cXFwiMC4wMVxcXCJcXG4gICAgICAgICAgW2F0dHIudGV4dC1hbmNob3JdPVxcXCJ0ZXh0QW5jaG9yXFxcIlxcbiAgICAgICAgICBbYXR0ci50cmFuc2Zvcm1dPVxcXCJ0ZXh0VHJhbnNmb3JtXFxcIlxcbiAgICAgICAgICBbc3R5bGUuZm9udC1zaXplXT1cXFwiJzEycHgnXFxcIlxcbiAgICAgICAgPlxcbiAgICAgICAgICB7eyB0aWNrVHJpbSh0aWNrRm9ybWF0KHRpY2spKSB9fVxcbiAgICAgICAgPC9zdmc6dGV4dD5cXG4gICAgICA8L3N2ZzpnPlxcbiAgICA8L3N2ZzpnPlxcblxcbiAgICA8c3ZnOmcgKm5nRm9yPVxcXCJsZXQgdGljayBvZiB0aWNrc1xcXCIgW2F0dHIudHJhbnNmb3JtXT1cXFwidGlja1RyYW5zZm9ybSh0aWNrKVxcXCI+XFxuICAgICAgPHN2ZzpnICpuZ0lmPVxcXCJzaG93R3JpZExpbmVzXFxcIiBbYXR0ci50cmFuc2Zvcm1dPVxcXCJncmlkTGluZVRyYW5zZm9ybSgpXFxcIj5cXG4gICAgICAgIDxzdmc6bGluZSBjbGFzcz1cXFwiZ3JpZGxpbmUtcGF0aCBncmlkbGluZS1wYXRoLXZlcnRpY2FsXFxcIiBbYXR0ci55MV09XFxcIi1ncmlkTGluZUhlaWdodFxcXCIgeTI9XFxcIjBcXFwiIC8+XFxuICAgICAgPC9zdmc6Zz5cXG4gICAgPC9zdmc6Zz5cXG4gIFwiLFxuICAgICAgICAgICAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2hcbiAgICAgICAgfSlcbiAgICBdLCBYQXhpc1RpY2tzQ29tcG9uZW50KTtcbiAgICByZXR1cm4gWEF4aXNUaWNrc0NvbXBvbmVudDtcbn0oKSk7XG5cbnZhciBYQXhpc0NvbXBvbmVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBYQXhpc0NvbXBvbmVudCgpIHtcbiAgICAgICAgdGhpcy5yb3RhdGVUaWNrcyA9IHRydWU7XG4gICAgICAgIHRoaXMuc2hvd0dyaWRMaW5lcyA9IGZhbHNlO1xuICAgICAgICB0aGlzLnhPcmllbnQgPSAnYm90dG9tJztcbiAgICAgICAgdGhpcy54QXhpc09mZnNldCA9IDA7XG4gICAgICAgIHRoaXMuZGltZW5zaW9uc0NoYW5nZWQgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgICAgIHRoaXMueEF4aXNDbGFzc05hbWUgPSAneCBheGlzJztcbiAgICAgICAgdGhpcy5sYWJlbE9mZnNldCA9IDA7XG4gICAgICAgIHRoaXMuZmlsbCA9ICdub25lJztcbiAgICAgICAgdGhpcy5zdHJva2UgPSAnc3Ryb2tlJztcbiAgICAgICAgdGhpcy50aWNrU3Ryb2tlID0gJyNjY2MnO1xuICAgICAgICB0aGlzLnN0cm9rZVdpZHRoID0gJ25vbmUnO1xuICAgICAgICB0aGlzLnBhZGRpbmcgPSA1O1xuICAgIH1cbiAgICBYQXhpc0NvbXBvbmVudC5wcm90b3R5cGUubmdPbkNoYW5nZXMgPSBmdW5jdGlvbiAoY2hhbmdlcykge1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIH07XG4gICAgWEF4aXNDb21wb25lbnQucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0gPSBcInRyYW5zbGF0ZSgwLFwiICsgKHRoaXMueEF4aXNPZmZzZXQgKyB0aGlzLnBhZGRpbmcgKyB0aGlzLmRpbXMuaGVpZ2h0KSArIFwiKVwiO1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMueEF4aXNUaWNrQ291bnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0aGlzLnRpY2tBcmd1bWVudHMgPSBbdGhpcy54QXhpc1RpY2tDb3VudF07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFhBeGlzQ29tcG9uZW50LnByb3RvdHlwZS5lbWl0VGlja3NIZWlnaHQgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGhlaWdodCA9IF9hLmhlaWdodDtcbiAgICAgICAgdmFyIG5ld0xhYmVsT2Zmc2V0ID0gaGVpZ2h0ICsgMjUgKyA1O1xuICAgICAgICBpZiAobmV3TGFiZWxPZmZzZXQgIT09IHRoaXMubGFiZWxPZmZzZXQpIHtcbiAgICAgICAgICAgIHRoaXMubGFiZWxPZmZzZXQgPSBuZXdMYWJlbE9mZnNldDtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmRpbWVuc2lvbnNDaGFuZ2VkLmVtaXQoeyBoZWlnaHQ6IGhlaWdodCB9KTtcbiAgICAgICAgICAgIH0sIDApO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB2YXIgX2E7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgWEF4aXNDb21wb25lbnQucHJvdG90eXBlLCBcInhTY2FsZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIFhBeGlzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJkaW1zXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIFhBeGlzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ0cmltVGlja3NcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEJvb2xlYW4pXG4gICAgXSwgWEF4aXNDb21wb25lbnQucHJvdG90eXBlLCBcInJvdGF0ZVRpY2tzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBOdW1iZXIpXG4gICAgXSwgWEF4aXNDb21wb25lbnQucHJvdG90eXBlLCBcIm1heFRpY2tMZW5ndGhcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBYQXhpc0NvbXBvbmVudC5wcm90b3R5cGUsIFwidGlja0Zvcm1hdHRpbmdcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBYQXhpc0NvbXBvbmVudC5wcm90b3R5cGUsIFwic2hvd0dyaWRMaW5lc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIFhBeGlzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJzaG93TGFiZWxcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBYQXhpc0NvbXBvbmVudC5wcm90b3R5cGUsIFwibGFiZWxUZXh0XCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBBcnJheSlcbiAgICBdLCBYQXhpc0NvbXBvbmVudC5wcm90b3R5cGUsIFwidGlja3NcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBYQXhpc0NvbXBvbmVudC5wcm90b3R5cGUsIFwieEF4aXNUaWNrSW50ZXJ2YWxcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBYQXhpc0NvbXBvbmVudC5wcm90b3R5cGUsIFwieEF4aXNUaWNrQ291bnRcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcbiAgICBdLCBYQXhpc0NvbXBvbmVudC5wcm90b3R5cGUsIFwieE9yaWVudFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgTnVtYmVyKVxuICAgIF0sIFhBeGlzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ4QXhpc09mZnNldFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBPdXRwdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBYQXhpc0NvbXBvbmVudC5wcm90b3R5cGUsIFwiZGltZW5zaW9uc0NoYW5nZWRcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgVmlld0NoaWxkKFhBeGlzVGlja3NDb21wb25lbnQsIHsgc3RhdGljOiBmYWxzZSB9KSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIHR5cGVvZiAoX2EgPSB0eXBlb2YgWEF4aXNUaWNrc0NvbXBvbmVudCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBYQXhpc1RpY2tzQ29tcG9uZW50KSA9PT0gXCJmdW5jdGlvblwiID8gX2EgOiBPYmplY3QpXG4gICAgXSwgWEF4aXNDb21wb25lbnQucHJvdG90eXBlLCBcInRpY2tzQ29tcG9uZW50XCIsIHZvaWQgMCk7XG4gICAgWEF4aXNDb21wb25lbnQgPSBfX2RlY29yYXRlKFtcbiAgICAgICAgQ29tcG9uZW50KHtcbiAgICAgICAgICAgIHNlbGVjdG9yOiAnZ1tuZ3gtY2hhcnRzLXgtYXhpc10nLFxuICAgICAgICAgICAgdGVtcGxhdGU6IFwiXFxuICAgIDxzdmc6ZyBbYXR0ci5jbGFzc109XFxcInhBeGlzQ2xhc3NOYW1lXFxcIiBbYXR0ci50cmFuc2Zvcm1dPVxcXCJ0cmFuc2Zvcm1cXFwiPlxcbiAgICAgIDxzdmc6Z1xcbiAgICAgICAgbmd4LWNoYXJ0cy14LWF4aXMtdGlja3NcXG4gICAgICAgICpuZ0lmPVxcXCJ4U2NhbGVcXFwiXFxuICAgICAgICBbdHJpbVRpY2tzXT1cXFwidHJpbVRpY2tzXFxcIlxcbiAgICAgICAgW3JvdGF0ZVRpY2tzXT1cXFwicm90YXRlVGlja3NcXFwiXFxuICAgICAgICBbbWF4VGlja0xlbmd0aF09XFxcIm1heFRpY2tMZW5ndGhcXFwiXFxuICAgICAgICBbdGlja0Zvcm1hdHRpbmddPVxcXCJ0aWNrRm9ybWF0dGluZ1xcXCJcXG4gICAgICAgIFt0aWNrQXJndW1lbnRzXT1cXFwidGlja0FyZ3VtZW50c1xcXCJcXG4gICAgICAgIFt0aWNrU3Ryb2tlXT1cXFwidGlja1N0cm9rZVxcXCJcXG4gICAgICAgIFtzY2FsZV09XFxcInhTY2FsZVxcXCJcXG4gICAgICAgIFtvcmllbnRdPVxcXCJ4T3JpZW50XFxcIlxcbiAgICAgICAgW3Nob3dHcmlkTGluZXNdPVxcXCJzaG93R3JpZExpbmVzXFxcIlxcbiAgICAgICAgW2dyaWRMaW5lSGVpZ2h0XT1cXFwiZGltcy5oZWlnaHRcXFwiXFxuICAgICAgICBbd2lkdGhdPVxcXCJkaW1zLndpZHRoXFxcIlxcbiAgICAgICAgW3RpY2tWYWx1ZXNdPVxcXCJ0aWNrc1xcXCJcXG4gICAgICAgIChkaW1lbnNpb25zQ2hhbmdlZCk9XFxcImVtaXRUaWNrc0hlaWdodCgkZXZlbnQpXFxcIlxcbiAgICAgIC8+XFxuICAgICAgPHN2ZzpnXFxuICAgICAgICBuZ3gtY2hhcnRzLWF4aXMtbGFiZWxcXG4gICAgICAgICpuZ0lmPVxcXCJzaG93TGFiZWxcXFwiXFxuICAgICAgICBbbGFiZWxdPVxcXCJsYWJlbFRleHRcXFwiXFxuICAgICAgICBbb2Zmc2V0XT1cXFwibGFiZWxPZmZzZXRcXFwiXFxuICAgICAgICBbb3JpZW50XT1cXFwiJ2JvdHRvbSdcXFwiXFxuICAgICAgICBbaGVpZ2h0XT1cXFwiZGltcy5oZWlnaHRcXFwiXFxuICAgICAgICBbd2lkdGhdPVxcXCJkaW1zLndpZHRoXFxcIlxcbiAgICAgID48L3N2ZzpnPlxcbiAgICA8L3N2ZzpnPlxcbiAgXCIsXG4gICAgICAgICAgICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaFxuICAgICAgICB9KVxuICAgIF0sIFhBeGlzQ29tcG9uZW50KTtcbiAgICByZXR1cm4gWEF4aXNDb21wb25lbnQ7XG59KCkpO1xuXG4vKipcbiAqIEdlbmVyYXRlcyBhIHJvdW5kZWQgcmVjdGFuZ2xhciBwYXRoXG4gKlxuICogQGV4cG9ydFxuICogQHBhcmFtIHsqfSB4LCB5LCB3LCBoLCByLCB0bCwgdHIsIGJsLCBiclxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gcm91bmRlZFJlY3QoeCwgeSwgdywgaCwgciwgX2EpIHtcbiAgICB2YXIgdGwgPSBfYVswXSwgdHIgPSBfYVsxXSwgYmwgPSBfYVsyXSwgYnIgPSBfYVszXTtcbiAgICB2YXIgcmV0dmFsID0gJyc7XG4gICAgdyA9IE1hdGguZmxvb3Iodyk7XG4gICAgaCA9IE1hdGguZmxvb3IoaCk7XG4gICAgdyA9IHcgPT09IDAgPyAxIDogdztcbiAgICBoID0gaCA9PT0gMCA/IDEgOiBoO1xuICAgIHJldHZhbCA9IFwiTVwiICsgW3ggKyByLCB5XTtcbiAgICByZXR2YWwgKz0gXCJoXCIgKyAodyAtIDIgKiByKTtcbiAgICBpZiAodHIpIHtcbiAgICAgICAgcmV0dmFsICs9IFwiYVwiICsgW3IsIHJdICsgXCIgMCAwIDEgXCIgKyBbciwgcl07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR2YWwgKz0gXCJoXCIgKyByICsgXCJ2XCIgKyByO1xuICAgIH1cbiAgICByZXR2YWwgKz0gXCJ2XCIgKyAoaCAtIDIgKiByKTtcbiAgICBpZiAoYnIpIHtcbiAgICAgICAgcmV0dmFsICs9IFwiYVwiICsgW3IsIHJdICsgXCIgMCAwIDEgXCIgKyBbLXIsIHJdO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dmFsICs9IFwidlwiICsgciArIFwiaFwiICsgLXI7XG4gICAgfVxuICAgIHJldHZhbCArPSBcImhcIiArICgyICogciAtIHcpO1xuICAgIGlmIChibCkge1xuICAgICAgICByZXR2YWwgKz0gXCJhXCIgKyBbciwgcl0gKyBcIiAwIDAgMSBcIiArIFstciwgLXJdO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dmFsICs9IFwiaFwiICsgLXIgKyBcInZcIiArIC1yO1xuICAgIH1cbiAgICByZXR2YWwgKz0gXCJ2XCIgKyAoMiAqIHIgLSBoKTtcbiAgICBpZiAodGwpIHtcbiAgICAgICAgcmV0dmFsICs9IFwiYVwiICsgW3IsIHJdICsgXCIgMCAwIDEgXCIgKyBbciwgLXJdO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dmFsICs9IFwidlwiICsgLXIgKyBcImhcIiArIHI7XG4gICAgfVxuICAgIHJldHZhbCArPSBcInpcIjtcbiAgICByZXR1cm4gcmV0dmFsO1xufVxuXG52YXIgWUF4aXNUaWNrc0NvbXBvbmVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBZQXhpc1RpY2tzQ29tcG9uZW50KCkge1xuICAgICAgICB0aGlzLnRpY2tBcmd1bWVudHMgPSBbNV07XG4gICAgICAgIHRoaXMudGlja1N0cm9rZSA9ICcjY2NjJztcbiAgICAgICAgdGhpcy50cmltVGlja3MgPSB0cnVlO1xuICAgICAgICB0aGlzLm1heFRpY2tMZW5ndGggPSAxNjtcbiAgICAgICAgdGhpcy5zaG93R3JpZExpbmVzID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc2hvd1JlZkxhYmVscyA9IGZhbHNlO1xuICAgICAgICB0aGlzLnNob3dSZWZMaW5lcyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmRpbWVuc2lvbnNDaGFuZ2VkID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICB0aGlzLmlubmVyVGlja1NpemUgPSA2O1xuICAgICAgICB0aGlzLnRpY2tQYWRkaW5nID0gMztcbiAgICAgICAgdGhpcy52ZXJ0aWNhbFNwYWNpbmcgPSAyMDtcbiAgICAgICAgdGhpcy50ZXh0QW5jaG9yID0gJ21pZGRsZSc7XG4gICAgICAgIHRoaXMud2lkdGggPSAwO1xuICAgICAgICB0aGlzLm91dGVyVGlja1NpemUgPSA2O1xuICAgICAgICB0aGlzLnJvdGF0ZUxhYmVscyA9IGZhbHNlO1xuICAgICAgICB0aGlzLnJlZmVyZW5jZUxpbmVMZW5ndGggPSAwO1xuICAgIH1cbiAgICBZQXhpc1RpY2tzQ29tcG9uZW50LnByb3RvdHlwZS5uZ09uQ2hhbmdlcyA9IGZ1bmN0aW9uIChjaGFuZ2VzKSB7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfTtcbiAgICBZQXhpc1RpY2tzQ29tcG9uZW50LnByb3RvdHlwZS5uZ0FmdGVyVmlld0luaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMudXBkYXRlRGltcygpOyB9KTtcbiAgICB9O1xuICAgIFlBeGlzVGlja3NDb21wb25lbnQucHJvdG90eXBlLnVwZGF0ZURpbXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciB3aWR0aCA9IHBhcnNlSW50KHRoaXMudGlja3NFbGVtZW50Lm5hdGl2ZUVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGgsIDEwKTtcbiAgICAgICAgaWYgKHdpZHRoICE9PSB0aGlzLndpZHRoKSB7XG4gICAgICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgICAgICB0aGlzLmRpbWVuc2lvbnNDaGFuZ2VkLmVtaXQoeyB3aWR0aDogd2lkdGggfSk7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLnVwZGF0ZURpbXMoKTsgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFlBeGlzVGlja3NDb21wb25lbnQucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHNjYWxlO1xuICAgICAgICB2YXIgc2lnbiA9IHRoaXMub3JpZW50ID09PSAndG9wJyB8fCB0aGlzLm9yaWVudCA9PT0gJ3JpZ2h0JyA/IC0xIDogMTtcbiAgICAgICAgdGhpcy50aWNrU3BhY2luZyA9IE1hdGgubWF4KHRoaXMuaW5uZXJUaWNrU2l6ZSwgMCkgKyB0aGlzLnRpY2tQYWRkaW5nO1xuICAgICAgICBzY2FsZSA9IHRoaXMuc2NhbGU7XG4gICAgICAgIHRoaXMudGlja3MgPSB0aGlzLmdldFRpY2tzKCk7XG4gICAgICAgIGlmICh0aGlzLnRpY2tGb3JtYXR0aW5nKSB7XG4gICAgICAgICAgICB0aGlzLnRpY2tGb3JtYXQgPSB0aGlzLnRpY2tGb3JtYXR0aW5nO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHNjYWxlLnRpY2tGb3JtYXQpIHtcbiAgICAgICAgICAgIHRoaXMudGlja0Zvcm1hdCA9IHNjYWxlLnRpY2tGb3JtYXQuYXBwbHkoc2NhbGUsIHRoaXMudGlja0FyZ3VtZW50cyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnRpY2tGb3JtYXQgPSBmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgICAgIGlmIChkLmNvbnN0cnVjdG9yLm5hbWUgPT09ICdEYXRlJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZC50b0xvY2FsZURhdGVTdHJpbmcoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGQudG9Mb2NhbGVTdHJpbmcoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hZGp1c3RlZFNjYWxlID0gc2NhbGUuYmFuZHdpZHRoXG4gICAgICAgICAgICA/IGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNjYWxlKGQpICsgc2NhbGUuYmFuZHdpZHRoKCkgKiAwLjU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICA6IHNjYWxlO1xuICAgICAgICBpZiAodGhpcy5zaG93UmVmTGluZXMgJiYgdGhpcy5yZWZlcmVuY2VMaW5lcykge1xuICAgICAgICAgICAgdGhpcy5zZXRSZWZlcmVuY2VsaW5lcygpO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAodGhpcy5vcmllbnQpIHtcbiAgICAgICAgICAgIGNhc2UgJ3RvcCc6XG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0gPSBmdW5jdGlvbiAodGljaykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3RyYW5zbGF0ZSgnICsgdGhpcy5hZGp1c3RlZFNjYWxlKHRpY2spICsgJywwKSc7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB0aGlzLnRleHRBbmNob3IgPSAnbWlkZGxlJztcbiAgICAgICAgICAgICAgICB0aGlzLnkyID0gdGhpcy5pbm5lclRpY2tTaXplICogc2lnbjtcbiAgICAgICAgICAgICAgICB0aGlzLnkxID0gdGhpcy50aWNrU3BhY2luZyAqIHNpZ247XG4gICAgICAgICAgICAgICAgdGhpcy5keSA9IHNpZ24gPCAwID8gJzBlbScgOiAnLjcxZW0nO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnYm90dG9tJzpcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IGZ1bmN0aW9uICh0aWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAndHJhbnNsYXRlKCcgKyB0aGlzLmFkanVzdGVkU2NhbGUodGljaykgKyAnLDApJztcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHRoaXMudGV4dEFuY2hvciA9ICdtaWRkbGUnO1xuICAgICAgICAgICAgICAgIHRoaXMueTIgPSB0aGlzLmlubmVyVGlja1NpemUgKiBzaWduO1xuICAgICAgICAgICAgICAgIHRoaXMueTEgPSB0aGlzLnRpY2tTcGFjaW5nICogc2lnbjtcbiAgICAgICAgICAgICAgICB0aGlzLmR5ID0gc2lnbiA8IDAgPyAnMGVtJyA6ICcuNzFlbSc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdsZWZ0JzpcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IGZ1bmN0aW9uICh0aWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAndHJhbnNsYXRlKDAsJyArIHRoaXMuYWRqdXN0ZWRTY2FsZSh0aWNrKSArICcpJztcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHRoaXMudGV4dEFuY2hvciA9ICdlbmQnO1xuICAgICAgICAgICAgICAgIHRoaXMueDIgPSB0aGlzLmlubmVyVGlja1NpemUgKiAtc2lnbjtcbiAgICAgICAgICAgICAgICB0aGlzLngxID0gdGhpcy50aWNrU3BhY2luZyAqIC1zaWduO1xuICAgICAgICAgICAgICAgIHRoaXMuZHkgPSAnLjMyZW0nO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAncmlnaHQnOlxuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtID0gZnVuY3Rpb24gKHRpY2spIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd0cmFuc2xhdGUoMCwnICsgdGhpcy5hZGp1c3RlZFNjYWxlKHRpY2spICsgJyknO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0QW5jaG9yID0gJ3N0YXJ0JztcbiAgICAgICAgICAgICAgICB0aGlzLngyID0gdGhpcy5pbm5lclRpY2tTaXplICogLXNpZ247XG4gICAgICAgICAgICAgICAgdGhpcy54MSA9IHRoaXMudGlja1NwYWNpbmcgKiAtc2lnbjtcbiAgICAgICAgICAgICAgICB0aGlzLmR5ID0gJy4zMmVtJztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgIH1cbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy51cGRhdGVEaW1zKCk7IH0pO1xuICAgIH07XG4gICAgWUF4aXNUaWNrc0NvbXBvbmVudC5wcm90b3R5cGUuc2V0UmVmZXJlbmNlbGluZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucmVmTWluID0gdGhpcy5hZGp1c3RlZFNjYWxlKE1hdGgubWluLmFwcGx5KG51bGwsIHRoaXMucmVmZXJlbmNlTGluZXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7IHJldHVybiBpdGVtLnZhbHVlOyB9KSkpO1xuICAgICAgICB0aGlzLnJlZk1heCA9IHRoaXMuYWRqdXN0ZWRTY2FsZShNYXRoLm1heC5hcHBseShudWxsLCB0aGlzLnJlZmVyZW5jZUxpbmVzLm1hcChmdW5jdGlvbiAoaXRlbSkgeyByZXR1cm4gaXRlbS52YWx1ZTsgfSkpKTtcbiAgICAgICAgdGhpcy5yZWZlcmVuY2VMaW5lTGVuZ3RoID0gdGhpcy5yZWZlcmVuY2VMaW5lcy5sZW5ndGg7XG4gICAgICAgIHRoaXMucmVmZXJlbmNlQXJlYVBhdGggPSByb3VuZGVkUmVjdCgwLCB0aGlzLnJlZk1heCwgdGhpcy5ncmlkTGluZVdpZHRoLCB0aGlzLnJlZk1pbiAtIHRoaXMucmVmTWF4LCAwLCBbXG4gICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICBmYWxzZVxuICAgICAgICBdKTtcbiAgICB9O1xuICAgIFlBeGlzVGlja3NDb21wb25lbnQucHJvdG90eXBlLmdldFRpY2tzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdGlja3M7XG4gICAgICAgIHZhciBtYXhUaWNrcyA9IHRoaXMuZ2V0TWF4VGlja3MoMjApO1xuICAgICAgICB2YXIgbWF4U2NhbGVUaWNrcyA9IHRoaXMuZ2V0TWF4VGlja3MoNTApO1xuICAgICAgICBpZiAodGhpcy50aWNrVmFsdWVzKSB7XG4gICAgICAgICAgICB0aWNrcyA9IHRoaXMudGlja1ZhbHVlcztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnNjYWxlLnRpY2tzKSB7XG4gICAgICAgICAgICB0aWNrcyA9IHRoaXMuc2NhbGUudGlja3MuYXBwbHkodGhpcy5zY2FsZSwgW21heFNjYWxlVGlja3NdKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRpY2tzID0gdGhpcy5zY2FsZS5kb21haW4oKTtcbiAgICAgICAgICAgIHRpY2tzID0gcmVkdWNlVGlja3ModGlja3MsIG1heFRpY2tzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGlja3M7XG4gICAgfTtcbiAgICBZQXhpc1RpY2tzQ29tcG9uZW50LnByb3RvdHlwZS5nZXRNYXhUaWNrcyA9IGZ1bmN0aW9uICh0aWNrSGVpZ2h0KSB7XG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKHRoaXMuaGVpZ2h0IC8gdGlja0hlaWdodCk7XG4gICAgfTtcbiAgICBZQXhpc1RpY2tzQ29tcG9uZW50LnByb3RvdHlwZS50aWNrVHJhbnNmb3JtID0gZnVuY3Rpb24gKHRpY2spIHtcbiAgICAgICAgcmV0dXJuIFwidHJhbnNsYXRlKFwiICsgdGhpcy5hZGp1c3RlZFNjYWxlKHRpY2spICsgXCIsXCIgKyB0aGlzLnZlcnRpY2FsU3BhY2luZyArIFwiKVwiO1xuICAgIH07XG4gICAgWUF4aXNUaWNrc0NvbXBvbmVudC5wcm90b3R5cGUuZ3JpZExpbmVUcmFuc2Zvcm0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBcInRyYW5zbGF0ZSg1LDApXCI7XG4gICAgfTtcbiAgICBZQXhpc1RpY2tzQ29tcG9uZW50LnByb3RvdHlwZS50aWNrVHJpbSA9IGZ1bmN0aW9uIChsYWJlbCkge1xuICAgICAgICByZXR1cm4gdGhpcy50cmltVGlja3MgPyB0cmltTGFiZWwobGFiZWwsIHRoaXMubWF4VGlja0xlbmd0aCkgOiBsYWJlbDtcbiAgICB9O1xuICAgIHZhciBfYTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBZQXhpc1RpY2tzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJzY2FsZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIFlBeGlzVGlja3NDb21wb25lbnQucHJvdG90eXBlLCBcIm9yaWVudFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIFlBeGlzVGlja3NDb21wb25lbnQucHJvdG90eXBlLCBcInRpY2tBcmd1bWVudHNcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEFycmF5KVxuICAgIF0sIFlBeGlzVGlja3NDb21wb25lbnQucHJvdG90eXBlLCBcInRpY2tWYWx1ZXNcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBZQXhpc1RpY2tzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ0aWNrU3Ryb2tlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIFlBeGlzVGlja3NDb21wb25lbnQucHJvdG90eXBlLCBcInRyaW1UaWNrc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgTnVtYmVyKVxuICAgIF0sIFlBeGlzVGlja3NDb21wb25lbnQucHJvdG90eXBlLCBcIm1heFRpY2tMZW5ndGhcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBZQXhpc1RpY2tzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ0aWNrRm9ybWF0dGluZ1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIFlBeGlzVGlja3NDb21wb25lbnQucHJvdG90eXBlLCBcInNob3dHcmlkTGluZXNcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBZQXhpc1RpY2tzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJncmlkTGluZVdpZHRoXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgWUF4aXNUaWNrc0NvbXBvbmVudC5wcm90b3R5cGUsIFwiaGVpZ2h0XCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgWUF4aXNUaWNrc0NvbXBvbmVudC5wcm90b3R5cGUsIFwicmVmZXJlbmNlTGluZXNcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEJvb2xlYW4pXG4gICAgXSwgWUF4aXNUaWNrc0NvbXBvbmVudC5wcm90b3R5cGUsIFwic2hvd1JlZkxhYmVsc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbiAgICBdLCBZQXhpc1RpY2tzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJzaG93UmVmTGluZXNcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgT3V0cHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgWUF4aXNUaWNrc0NvbXBvbmVudC5wcm90b3R5cGUsIFwiZGltZW5zaW9uc0NoYW5nZWRcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgVmlld0NoaWxkKCd0aWNrc2VsJywgeyBzdGF0aWM6IGZhbHNlIH0pLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgdHlwZW9mIChfYSA9IHR5cGVvZiBFbGVtZW50UmVmICE9PSBcInVuZGVmaW5lZFwiICYmIEVsZW1lbnRSZWYpID09PSBcImZ1bmN0aW9uXCIgPyBfYSA6IE9iamVjdClcbiAgICBdLCBZQXhpc1RpY2tzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ0aWNrc0VsZW1lbnRcIiwgdm9pZCAwKTtcbiAgICBZQXhpc1RpY2tzQ29tcG9uZW50ID0gX19kZWNvcmF0ZShbXG4gICAgICAgIENvbXBvbmVudCh7XG4gICAgICAgICAgICBzZWxlY3RvcjogJ2dbbmd4LWNoYXJ0cy15LWF4aXMtdGlja3NdJyxcbiAgICAgICAgICAgIHRlbXBsYXRlOiBcIlxcbiAgICA8c3ZnOmcgI3RpY2tzZWw+XFxuICAgICAgPHN2ZzpnICpuZ0Zvcj1cXFwibGV0IHRpY2sgb2YgdGlja3NcXFwiIGNsYXNzPVxcXCJ0aWNrXFxcIiBbYXR0ci50cmFuc2Zvcm1dPVxcXCJ0cmFuc2Zvcm0odGljaylcXFwiPlxcbiAgICAgICAgPHRpdGxlPnt7IHRpY2tGb3JtYXQodGljaykgfX08L3RpdGxlPlxcbiAgICAgICAgPHN2Zzp0ZXh0XFxuICAgICAgICAgIHN0cm9rZS13aWR0aD1cXFwiMC4wMVxcXCJcXG4gICAgICAgICAgW2F0dHIuZHldPVxcXCJkeVxcXCJcXG4gICAgICAgICAgW2F0dHIueF09XFxcIngxXFxcIlxcbiAgICAgICAgICBbYXR0ci55XT1cXFwieTFcXFwiXFxuICAgICAgICAgIFthdHRyLnRleHQtYW5jaG9yXT1cXFwidGV4dEFuY2hvclxcXCJcXG4gICAgICAgICAgW3N0eWxlLmZvbnQtc2l6ZV09XFxcIicxMnB4J1xcXCJcXG4gICAgICAgID5cXG4gICAgICAgICAge3sgdGlja1RyaW0odGlja0Zvcm1hdCh0aWNrKSkgfX1cXG4gICAgICAgIDwvc3ZnOnRleHQ+XFxuICAgICAgPC9zdmc6Zz5cXG4gICAgPC9zdmc6Zz5cXG5cXG4gICAgPHN2ZzpwYXRoXFxuICAgICAgKm5nSWY9XFxcInJlZmVyZW5jZUxpbmVMZW5ndGggPiAxICYmIHJlZk1heCAmJiByZWZNaW4gJiYgc2hvd1JlZkxpbmVzXFxcIlxcbiAgICAgIGNsYXNzPVxcXCJyZWZlcmVuY2UtYXJlYVxcXCJcXG4gICAgICBbYXR0ci5kXT1cXFwicmVmZXJlbmNlQXJlYVBhdGhcXFwiXFxuICAgICAgW2F0dHIudHJhbnNmb3JtXT1cXFwiZ3JpZExpbmVUcmFuc2Zvcm0oKVxcXCJcXG4gICAgLz5cXG4gICAgPHN2ZzpnICpuZ0Zvcj1cXFwibGV0IHRpY2sgb2YgdGlja3NcXFwiIFthdHRyLnRyYW5zZm9ybV09XFxcInRyYW5zZm9ybSh0aWNrKVxcXCI+XFxuICAgICAgPHN2ZzpnICpuZ0lmPVxcXCJzaG93R3JpZExpbmVzXFxcIiBbYXR0ci50cmFuc2Zvcm1dPVxcXCJncmlkTGluZVRyYW5zZm9ybSgpXFxcIj5cXG4gICAgICAgIDxzdmc6bGluZVxcbiAgICAgICAgICAqbmdJZj1cXFwib3JpZW50ID09PSAnbGVmdCdcXFwiXFxuICAgICAgICAgIGNsYXNzPVxcXCJncmlkbGluZS1wYXRoIGdyaWRsaW5lLXBhdGgtaG9yaXpvbnRhbFxcXCJcXG4gICAgICAgICAgeDE9XFxcIjBcXFwiXFxuICAgICAgICAgIFthdHRyLngyXT1cXFwiZ3JpZExpbmVXaWR0aFxcXCJcXG4gICAgICAgIC8+XFxuICAgICAgICA8c3ZnOmxpbmVcXG4gICAgICAgICAgKm5nSWY9XFxcIm9yaWVudCA9PT0gJ3JpZ2h0J1xcXCJcXG4gICAgICAgICAgY2xhc3M9XFxcImdyaWRsaW5lLXBhdGggZ3JpZGxpbmUtcGF0aC1ob3Jpem9udGFsXFxcIlxcbiAgICAgICAgICB4MT1cXFwiMFxcXCJcXG4gICAgICAgICAgW2F0dHIueDJdPVxcXCItZ3JpZExpbmVXaWR0aFxcXCJcXG4gICAgICAgIC8+XFxuICAgICAgPC9zdmc6Zz5cXG4gICAgPC9zdmc6Zz5cXG5cXG4gICAgPHN2ZzpnICpuZ0Zvcj1cXFwibGV0IHJlZkxpbmUgb2YgcmVmZXJlbmNlTGluZXNcXFwiPlxcbiAgICAgIDxzdmc6ZyAqbmdJZj1cXFwic2hvd1JlZkxpbmVzXFxcIiBbYXR0ci50cmFuc2Zvcm1dPVxcXCJ0cmFuc2Zvcm0ocmVmTGluZS52YWx1ZSlcXFwiPlxcbiAgICAgICAgPHN2ZzpsaW5lXFxuICAgICAgICAgIGNsYXNzPVxcXCJyZWZsaW5lLXBhdGggZ3JpZGxpbmUtcGF0aC1ob3Jpem9udGFsXFxcIlxcbiAgICAgICAgICB4MT1cXFwiMFxcXCJcXG4gICAgICAgICAgW2F0dHIueDJdPVxcXCJncmlkTGluZVdpZHRoXFxcIlxcbiAgICAgICAgICBbYXR0ci50cmFuc2Zvcm1dPVxcXCJncmlkTGluZVRyYW5zZm9ybSgpXFxcIlxcbiAgICAgICAgLz5cXG4gICAgICAgIDxzdmc6ZyAqbmdJZj1cXFwic2hvd1JlZkxhYmVsc1xcXCI+XFxuICAgICAgICAgIDx0aXRsZT57eyB0aWNrVHJpbSh0aWNrRm9ybWF0KHJlZkxpbmUudmFsdWUpKSB9fTwvdGl0bGU+XFxuICAgICAgICAgIDxzdmc6dGV4dFxcbiAgICAgICAgICAgIGNsYXNzPVxcXCJyZWZsaW5lLWxhYmVsXFxcIlxcbiAgICAgICAgICAgIFthdHRyLmR5XT1cXFwiZHlcXFwiXFxuICAgICAgICAgICAgW2F0dHIueV09XFxcIi02XFxcIlxcbiAgICAgICAgICAgIFthdHRyLnhdPVxcXCJncmlkTGluZVdpZHRoXFxcIlxcbiAgICAgICAgICAgIFthdHRyLnRleHQtYW5jaG9yXT1cXFwidGV4dEFuY2hvclxcXCJcXG4gICAgICAgICAgPlxcbiAgICAgICAgICAgIHt7IHJlZkxpbmUubmFtZSB9fVxcbiAgICAgICAgICA8L3N2Zzp0ZXh0PlxcbiAgICAgICAgPC9zdmc6Zz5cXG4gICAgICA8L3N2ZzpnPlxcbiAgICA8L3N2ZzpnPlxcbiAgXCIsXG4gICAgICAgICAgICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaFxuICAgICAgICB9KVxuICAgIF0sIFlBeGlzVGlja3NDb21wb25lbnQpO1xuICAgIHJldHVybiBZQXhpc1RpY2tzQ29tcG9uZW50O1xufSgpKTtcblxudmFyIFlBeGlzQ29tcG9uZW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFlBeGlzQ29tcG9uZW50KCkge1xuICAgICAgICB0aGlzLnNob3dHcmlkTGluZXMgPSBmYWxzZTtcbiAgICAgICAgdGhpcy55T3JpZW50ID0gJ2xlZnQnO1xuICAgICAgICB0aGlzLnlBeGlzT2Zmc2V0ID0gMDtcbiAgICAgICAgdGhpcy5kaW1lbnNpb25zQ2hhbmdlZCA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy55QXhpc0NsYXNzTmFtZSA9ICd5IGF4aXMnO1xuICAgICAgICB0aGlzLmxhYmVsT2Zmc2V0ID0gMTU7XG4gICAgICAgIHRoaXMuZmlsbCA9ICdub25lJztcbiAgICAgICAgdGhpcy5zdHJva2UgPSAnI0NDQyc7XG4gICAgICAgIHRoaXMudGlja1N0cm9rZSA9ICcjQ0NDJztcbiAgICAgICAgdGhpcy5zdHJva2VXaWR0aCA9IDE7XG4gICAgICAgIHRoaXMucGFkZGluZyA9IDU7XG4gICAgfVxuICAgIFlBeGlzQ29tcG9uZW50LnByb3RvdHlwZS5uZ09uQ2hhbmdlcyA9IGZ1bmN0aW9uIChjaGFuZ2VzKSB7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfTtcbiAgICBZQXhpc0NvbXBvbmVudC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLm9mZnNldCA9IC0odGhpcy55QXhpc09mZnNldCArIHRoaXMucGFkZGluZyk7XG4gICAgICAgIGlmICh0aGlzLnlPcmllbnQgPT09ICdyaWdodCcpIHtcbiAgICAgICAgICAgIHRoaXMubGFiZWxPZmZzZXQgPSA2NTtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtID0gXCJ0cmFuc2xhdGUoXCIgKyAodGhpcy5vZmZzZXQgKyB0aGlzLmRpbXMud2lkdGgpICsgXCIgLCAwKVwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5vZmZzZXQgPSB0aGlzLm9mZnNldDtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtID0gXCJ0cmFuc2xhdGUoXCIgKyB0aGlzLm9mZnNldCArIFwiICwgMClcIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy55QXhpc1RpY2tDb3VudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnRpY2tBcmd1bWVudHMgPSBbdGhpcy55QXhpc1RpY2tDb3VudF07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFlBeGlzQ29tcG9uZW50LnByb3RvdHlwZS5lbWl0VGlja3NXaWR0aCA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgd2lkdGggPSBfYS53aWR0aDtcbiAgICAgICAgaWYgKHdpZHRoICE9PSB0aGlzLmxhYmVsT2Zmc2V0ICYmIHRoaXMueU9yaWVudCA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICAgICAgdGhpcy5sYWJlbE9mZnNldCA9IHdpZHRoICsgdGhpcy5sYWJlbE9mZnNldDtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmRpbWVuc2lvbnNDaGFuZ2VkLmVtaXQoeyB3aWR0aDogd2lkdGggfSk7XG4gICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh3aWR0aCAhPT0gdGhpcy5sYWJlbE9mZnNldCkge1xuICAgICAgICAgICAgdGhpcy5sYWJlbE9mZnNldCA9IHdpZHRoO1xuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuZGltZW5zaW9uc0NoYW5nZWQuZW1pdCh7IHdpZHRoOiB3aWR0aCB9KTtcbiAgICAgICAgICAgIH0sIDApO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB2YXIgX2E7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgWUF4aXNDb21wb25lbnQucHJvdG90eXBlLCBcInlTY2FsZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIFlBeGlzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJkaW1zXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIFlBeGlzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ0cmltVGlja3NcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE51bWJlcilcbiAgICBdLCBZQXhpc0NvbXBvbmVudC5wcm90b3R5cGUsIFwibWF4VGlja0xlbmd0aFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIFlBeGlzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ0aWNrRm9ybWF0dGluZ1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQXJyYXkpXG4gICAgXSwgWUF4aXNDb21wb25lbnQucHJvdG90eXBlLCBcInRpY2tzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgWUF4aXNDb21wb25lbnQucHJvdG90eXBlLCBcInNob3dHcmlkTGluZXNcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBZQXhpc0NvbXBvbmVudC5wcm90b3R5cGUsIFwic2hvd0xhYmVsXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgWUF4aXNDb21wb25lbnQucHJvdG90eXBlLCBcImxhYmVsVGV4dFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIFlBeGlzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ5QXhpc1RpY2tJbnRlcnZhbFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIFlBeGlzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ5QXhpc1RpY2tDb3VudFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgU3RyaW5nKVxuICAgIF0sIFlBeGlzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ5T3JpZW50XCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgWUF4aXNDb21wb25lbnQucHJvdG90eXBlLCBcInJlZmVyZW5jZUxpbmVzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgWUF4aXNDb21wb25lbnQucHJvdG90eXBlLCBcInNob3dSZWZMaW5lc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIFlBeGlzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJzaG93UmVmTGFiZWxzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBOdW1iZXIpXG4gICAgXSwgWUF4aXNDb21wb25lbnQucHJvdG90eXBlLCBcInlBeGlzT2Zmc2V0XCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIE91dHB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIFlBeGlzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJkaW1lbnNpb25zQ2hhbmdlZFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBWaWV3Q2hpbGQoWUF4aXNUaWNrc0NvbXBvbmVudCwgeyBzdGF0aWM6IGZhbHNlIH0pLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgdHlwZW9mIChfYSA9IHR5cGVvZiBZQXhpc1RpY2tzQ29tcG9uZW50ICE9PSBcInVuZGVmaW5lZFwiICYmIFlBeGlzVGlja3NDb21wb25lbnQpID09PSBcImZ1bmN0aW9uXCIgPyBfYSA6IE9iamVjdClcbiAgICBdLCBZQXhpc0NvbXBvbmVudC5wcm90b3R5cGUsIFwidGlja3NDb21wb25lbnRcIiwgdm9pZCAwKTtcbiAgICBZQXhpc0NvbXBvbmVudCA9IF9fZGVjb3JhdGUoW1xuICAgICAgICBDb21wb25lbnQoe1xuICAgICAgICAgICAgc2VsZWN0b3I6ICdnW25neC1jaGFydHMteS1heGlzXScsXG4gICAgICAgICAgICB0ZW1wbGF0ZTogXCJcXG4gICAgPHN2ZzpnIFthdHRyLmNsYXNzXT1cXFwieUF4aXNDbGFzc05hbWVcXFwiIFthdHRyLnRyYW5zZm9ybV09XFxcInRyYW5zZm9ybVxcXCI+XFxuICAgICAgPHN2ZzpnXFxuICAgICAgICBuZ3gtY2hhcnRzLXktYXhpcy10aWNrc1xcbiAgICAgICAgKm5nSWY9XFxcInlTY2FsZVxcXCJcXG4gICAgICAgIFt0cmltVGlja3NdPVxcXCJ0cmltVGlja3NcXFwiXFxuICAgICAgICBbbWF4VGlja0xlbmd0aF09XFxcIm1heFRpY2tMZW5ndGhcXFwiXFxuICAgICAgICBbdGlja0Zvcm1hdHRpbmddPVxcXCJ0aWNrRm9ybWF0dGluZ1xcXCJcXG4gICAgICAgIFt0aWNrQXJndW1lbnRzXT1cXFwidGlja0FyZ3VtZW50c1xcXCJcXG4gICAgICAgIFt0aWNrVmFsdWVzXT1cXFwidGlja3NcXFwiXFxuICAgICAgICBbdGlja1N0cm9rZV09XFxcInRpY2tTdHJva2VcXFwiXFxuICAgICAgICBbc2NhbGVdPVxcXCJ5U2NhbGVcXFwiXFxuICAgICAgICBbb3JpZW50XT1cXFwieU9yaWVudFxcXCJcXG4gICAgICAgIFtzaG93R3JpZExpbmVzXT1cXFwic2hvd0dyaWRMaW5lc1xcXCJcXG4gICAgICAgIFtncmlkTGluZVdpZHRoXT1cXFwiZGltcy53aWR0aFxcXCJcXG4gICAgICAgIFtyZWZlcmVuY2VMaW5lc109XFxcInJlZmVyZW5jZUxpbmVzXFxcIlxcbiAgICAgICAgW3Nob3dSZWZMaW5lc109XFxcInNob3dSZWZMaW5lc1xcXCJcXG4gICAgICAgIFtzaG93UmVmTGFiZWxzXT1cXFwic2hvd1JlZkxhYmVsc1xcXCJcXG4gICAgICAgIFtoZWlnaHRdPVxcXCJkaW1zLmhlaWdodFxcXCJcXG4gICAgICAgIChkaW1lbnNpb25zQ2hhbmdlZCk9XFxcImVtaXRUaWNrc1dpZHRoKCRldmVudClcXFwiXFxuICAgICAgLz5cXG5cXG4gICAgICA8c3ZnOmdcXG4gICAgICAgIG5neC1jaGFydHMtYXhpcy1sYWJlbFxcbiAgICAgICAgKm5nSWY9XFxcInNob3dMYWJlbFxcXCJcXG4gICAgICAgIFtsYWJlbF09XFxcImxhYmVsVGV4dFxcXCJcXG4gICAgICAgIFtvZmZzZXRdPVxcXCJsYWJlbE9mZnNldFxcXCJcXG4gICAgICAgIFtvcmllbnRdPVxcXCJ5T3JpZW50XFxcIlxcbiAgICAgICAgW2hlaWdodF09XFxcImRpbXMuaGVpZ2h0XFxcIlxcbiAgICAgICAgW3dpZHRoXT1cXFwiZGltcy53aWR0aFxcXCJcXG4gICAgICA+PC9zdmc6Zz5cXG4gICAgPC9zdmc6Zz5cXG4gIFwiLFxuICAgICAgICAgICAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2hcbiAgICAgICAgfSlcbiAgICBdLCBZQXhpc0NvbXBvbmVudCk7XG4gICAgcmV0dXJuIFlBeGlzQ29tcG9uZW50O1xufSgpKTtcblxudmFyIEF4ZXNNb2R1bGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQXhlc01vZHVsZSgpIHtcbiAgICB9XG4gICAgQXhlc01vZHVsZSA9IF9fZGVjb3JhdGUoW1xuICAgICAgICBOZ01vZHVsZSh7XG4gICAgICAgICAgICBpbXBvcnRzOiBbQ29tbW9uTW9kdWxlXSxcbiAgICAgICAgICAgIGRlY2xhcmF0aW9uczogW0F4aXNMYWJlbENvbXBvbmVudCwgWEF4aXNDb21wb25lbnQsIFhBeGlzVGlja3NDb21wb25lbnQsIFlBeGlzQ29tcG9uZW50LCBZQXhpc1RpY2tzQ29tcG9uZW50XSxcbiAgICAgICAgICAgIGV4cG9ydHM6IFtBeGlzTGFiZWxDb21wb25lbnQsIFhBeGlzQ29tcG9uZW50LCBYQXhpc1RpY2tzQ29tcG9uZW50LCBZQXhpc0NvbXBvbmVudCwgWUF4aXNUaWNrc0NvbXBvbmVudF1cbiAgICAgICAgfSlcbiAgICBdLCBBeGVzTW9kdWxlKTtcbiAgICByZXR1cm4gQXhlc01vZHVsZTtcbn0oKSk7XG5cbnZhciBDb2xvckhlbHBlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDb2xvckhlbHBlcihzY2hlbWUsIHR5cGUsIGRvbWFpbiwgY3VzdG9tQ29sb3JzKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2NoZW1lID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgc2NoZW1lID0gY29sb3JTZXRzLmZpbmQoZnVuY3Rpb24gKGNzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNzLm5hbWUgPT09IHNjaGVtZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29sb3JEb21haW4gPSBzY2hlbWUuZG9tYWluO1xuICAgICAgICB0aGlzLnNjYWxlVHlwZSA9IHR5cGU7XG4gICAgICAgIHRoaXMuZG9tYWluID0gZG9tYWluO1xuICAgICAgICB0aGlzLmN1c3RvbUNvbG9ycyA9IGN1c3RvbUNvbG9ycztcbiAgICAgICAgdGhpcy5zY2FsZSA9IHRoaXMuZ2VuZXJhdGVDb2xvclNjaGVtZShzY2hlbWUsIHR5cGUsIHRoaXMuZG9tYWluKTtcbiAgICB9XG4gICAgQ29sb3JIZWxwZXIucHJvdG90eXBlLmdlbmVyYXRlQ29sb3JTY2hlbWUgPSBmdW5jdGlvbiAoc2NoZW1lLCB0eXBlLCBkb21haW4pIHtcbiAgICAgICAgaWYgKHR5cGVvZiBzY2hlbWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBzY2hlbWUgPSBjb2xvclNldHMuZmluZChmdW5jdGlvbiAoY3MpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY3MubmFtZSA9PT0gc2NoZW1lO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNvbG9yU2NhbGU7XG4gICAgICAgIGlmICh0eXBlID09PSAncXVhbnRpbGUnKSB7XG4gICAgICAgICAgICBjb2xvclNjYWxlID0gc2NhbGVRdWFudGlsZSgpXG4gICAgICAgICAgICAgICAgLnJhbmdlKHNjaGVtZS5kb21haW4pXG4gICAgICAgICAgICAgICAgLmRvbWFpbihkb21haW4pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGUgPT09ICdvcmRpbmFsJykge1xuICAgICAgICAgICAgY29sb3JTY2FsZSA9IHNjYWxlT3JkaW5hbCgpXG4gICAgICAgICAgICAgICAgLnJhbmdlKHNjaGVtZS5kb21haW4pXG4gICAgICAgICAgICAgICAgLmRvbWFpbihkb21haW4pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGUgPT09ICdsaW5lYXInKSB7XG4gICAgICAgICAgICAvLyBsaW5lYXIgc2NoZW1lcyBtdXN0IGhhdmUgYXQgbGVhc3QgMiBjb2xvcnNcbiAgICAgICAgICAgIHZhciBjb2xvckRvbWFpbiA9IHNjaGVtZS5kb21haW4uc2xpY2UoKTtcbiAgICAgICAgICAgIGlmIChjb2xvckRvbWFpbi5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICBjb2xvckRvbWFpbi5wdXNoKGNvbG9yRG9tYWluWzBdKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yRG9tYWluID0gY29sb3JEb21haW47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcG9pbnRzID0gcmFuZ2UoMCwgMSwgMS4wIC8gY29sb3JEb21haW4ubGVuZ3RoKTtcbiAgICAgICAgICAgIGNvbG9yU2NhbGUgPSBzY2FsZUxpbmVhcigpXG4gICAgICAgICAgICAgICAgLmRvbWFpbihwb2ludHMpXG4gICAgICAgICAgICAgICAgLnJhbmdlKGNvbG9yRG9tYWluKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29sb3JTY2FsZTtcbiAgICB9O1xuICAgIENvbG9ySGVscGVyLnByb3RvdHlwZS5nZXRDb2xvciA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCB8fCB2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdWYWx1ZSBjYW4gbm90IGJlIG51bGwnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5zY2FsZVR5cGUgPT09ICdsaW5lYXInKSB7XG4gICAgICAgICAgICB2YXIgdmFsdWVTY2FsZSA9IHNjYWxlTGluZWFyKClcbiAgICAgICAgICAgICAgICAuZG9tYWluKHRoaXMuZG9tYWluKVxuICAgICAgICAgICAgICAgIC5yYW5nZShbMCwgMV0pO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2NhbGUodmFsdWVTY2FsZSh2YWx1ZSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLmN1c3RvbUNvbG9ycyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmN1c3RvbUNvbG9ycyh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgZm9ybWF0dGVkVmFsdWVfMSA9IHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICB2YXIgZm91bmQgPSB2b2lkIDA7IC8vIHRvZG8gdHlwZSBjdXN0b21Db2xvcnNcbiAgICAgICAgICAgIGlmICh0aGlzLmN1c3RvbUNvbG9ycyAmJiB0aGlzLmN1c3RvbUNvbG9ycy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgZm91bmQgPSB0aGlzLmN1c3RvbUNvbG9ycy5maW5kKGZ1bmN0aW9uIChtYXBwaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtYXBwaW5nLm5hbWUudG9Mb3dlckNhc2UoKSA9PT0gZm9ybWF0dGVkVmFsdWVfMS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGZvdW5kKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZvdW5kLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2NhbGUodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBDb2xvckhlbHBlci5wcm90b3R5cGUuZ2V0TGluZWFyR3JhZGllbnRTdG9wcyA9IGZ1bmN0aW9uICh2YWx1ZSwgc3RhcnQpIHtcbiAgICAgICAgaWYgKHN0YXJ0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHN0YXJ0ID0gdGhpcy5kb21haW5bMF07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHZhbHVlU2NhbGUgPSBzY2FsZUxpbmVhcigpXG4gICAgICAgICAgICAuZG9tYWluKHRoaXMuZG9tYWluKVxuICAgICAgICAgICAgLnJhbmdlKFswLCAxXSk7XG4gICAgICAgIHZhciBjb2xvclZhbHVlU2NhbGUgPSBzY2FsZUJhbmQoKVxuICAgICAgICAgICAgLmRvbWFpbih0aGlzLmNvbG9yRG9tYWluKVxuICAgICAgICAgICAgLnJhbmdlKFswLCAxXSk7XG4gICAgICAgIHZhciBlbmRDb2xvciA9IHRoaXMuZ2V0Q29sb3IodmFsdWUpO1xuICAgICAgICAvLyBnZW5lcmF0ZSB0aGUgc3RvcHNcbiAgICAgICAgdmFyIHN0YXJ0VmFsID0gdmFsdWVTY2FsZShzdGFydCk7XG4gICAgICAgIHZhciBzdGFydENvbG9yID0gdGhpcy5nZXRDb2xvcihzdGFydCk7XG4gICAgICAgIHZhciBlbmRWYWwgPSB2YWx1ZVNjYWxlKHZhbHVlKTtcbiAgICAgICAgdmFyIGkgPSAxO1xuICAgICAgICB2YXIgY3VycmVudFZhbCA9IHN0YXJ0VmFsO1xuICAgICAgICB2YXIgc3RvcHMgPSBbXTtcbiAgICAgICAgc3RvcHMucHVzaCh7XG4gICAgICAgICAgICBjb2xvcjogc3RhcnRDb2xvcixcbiAgICAgICAgICAgIG9mZnNldDogc3RhcnRWYWwsXG4gICAgICAgICAgICBvcmlnaW5hbE9mZnNldDogc3RhcnRWYWwsXG4gICAgICAgICAgICBvcGFjaXR5OiAxXG4gICAgICAgIH0pO1xuICAgICAgICB3aGlsZSAoY3VycmVudFZhbCA8IGVuZFZhbCAmJiBpIDwgdGhpcy5jb2xvckRvbWFpbi5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZhciBjb2xvciA9IHRoaXMuY29sb3JEb21haW5baV07XG4gICAgICAgICAgICB2YXIgb2Zmc2V0ID0gY29sb3JWYWx1ZVNjYWxlKGNvbG9yKTtcbiAgICAgICAgICAgIGlmIChvZmZzZXQgPD0gc3RhcnRWYWwpIHtcbiAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob2Zmc2V0LnRvRml4ZWQoNCkgPj0gKGVuZFZhbCAtIGNvbG9yVmFsdWVTY2FsZS5iYW5kd2lkdGgoKSkudG9GaXhlZCg0KSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RvcHMucHVzaCh7XG4gICAgICAgICAgICAgICAgY29sb3I6IGNvbG9yLFxuICAgICAgICAgICAgICAgIG9mZnNldDogb2Zmc2V0LFxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IDFcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY3VycmVudFZhbCA9IG9mZnNldDtcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RvcHNbc3RvcHMubGVuZ3RoIC0gMV0ub2Zmc2V0IDwgMTAwKSB7XG4gICAgICAgICAgICBzdG9wcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBjb2xvcjogZW5kQ29sb3IsXG4gICAgICAgICAgICAgICAgb2Zmc2V0OiBlbmRWYWwsXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogMVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVuZFZhbCA9PT0gc3RhcnRWYWwpIHtcbiAgICAgICAgICAgIHN0b3BzWzBdLm9mZnNldCA9IDA7XG4gICAgICAgICAgICBzdG9wc1sxXS5vZmZzZXQgPSAxMDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBub3JtYWxpemUgdGhlIG9mZnNldHMgaW50byBwZXJjZW50YWdlc1xuICAgICAgICAgICAgaWYgKHN0b3BzW3N0b3BzLmxlbmd0aCAtIDFdLm9mZnNldCAhPT0gMTAwKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBzdG9wc18xID0gc3RvcHM7IF9pIDwgc3RvcHNfMS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHMgPSBzdG9wc18xW19pXTtcbiAgICAgICAgICAgICAgICAgICAgcy5vZmZzZXQgPSAoKHMub2Zmc2V0IC0gc3RhcnRWYWwpIC8gKGVuZFZhbCAtIHN0YXJ0VmFsKSkgKiAxMDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdG9wcztcbiAgICB9O1xuICAgIHJldHVybiBDb2xvckhlbHBlcjtcbn0oKSk7XG5cbnZhciBDaXJjbGVTZXJpZXNDb21wb25lbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ2lyY2xlU2VyaWVzQ29tcG9uZW50KCkge1xuICAgICAgICB0aGlzLnR5cGUgPSAnc3RhbmRhcmQnO1xuICAgICAgICB0aGlzLnRvb2x0aXBEaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnNlbGVjdCA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5hY3RpdmF0ZSA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5kZWFjdGl2YXRlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICB0aGlzLmJhclZpc2libGUgPSBmYWxzZTtcbiAgICB9XG4gICAgQ2lyY2xlU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZS5uZ09uSW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5ncmFkaWVudElkID0gJ2dyYWQnICsgaWQoKS50b1N0cmluZygpO1xuICAgICAgICB0aGlzLmdyYWRpZW50RmlsbCA9IFwidXJsKCNcIiArIHRoaXMuZ3JhZGllbnRJZCArIFwiKVwiO1xuICAgIH07XG4gICAgQ2lyY2xlU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZS5uZ09uQ2hhbmdlcyA9IGZ1bmN0aW9uIChjaGFuZ2VzKSB7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfTtcbiAgICBDaXJjbGVTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jaXJjbGUgPSB0aGlzLmdldEFjdGl2ZUNpcmNsZSgpO1xuICAgIH07XG4gICAgQ2lyY2xlU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZS5nZXRBY3RpdmVDaXJjbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBpbmRleEFjdGl2ZURhdGFQb2ludCA9IHRoaXMuZGF0YS5zZXJpZXMuZmluZEluZGV4KGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICB2YXIgbGFiZWwgPSBkLm5hbWU7XG4gICAgICAgICAgICByZXR1cm4gbGFiZWwgJiYgX3RoaXMudmlzaWJsZVZhbHVlICYmIGxhYmVsLnRvU3RyaW5nKCkgPT09IF90aGlzLnZpc2libGVWYWx1ZS50b1N0cmluZygpICYmIGQudmFsdWUgIT09IHVuZGVmaW5lZDtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChpbmRleEFjdGl2ZURhdGFQb2ludCA9PT0gLTEpIHtcbiAgICAgICAgICAgIC8vIE5vIHZhbGlkIHBvaW50IGlzICdhY3RpdmUvaG92ZXJlZCBvdmVyJyBhdCB0aGlzIG1vbWVudC5cbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMubWFwRGF0YVBvaW50VG9DaXJjbGUodGhpcy5kYXRhLnNlcmllc1tpbmRleEFjdGl2ZURhdGFQb2ludF0sIGluZGV4QWN0aXZlRGF0YVBvaW50KTtcbiAgICB9O1xuICAgIENpcmNsZVNlcmllc0NvbXBvbmVudC5wcm90b3R5cGUubWFwRGF0YVBvaW50VG9DaXJjbGUgPSBmdW5jdGlvbiAoZCwgaSkge1xuICAgICAgICB2YXIgc2VyaWVzTmFtZSA9IHRoaXMuZGF0YS5uYW1lO1xuICAgICAgICB2YXIgdmFsdWUgPSBkLnZhbHVlO1xuICAgICAgICB2YXIgbGFiZWwgPSBkLm5hbWU7XG4gICAgICAgIHZhciB0b29sdGlwTGFiZWwgPSBmb3JtYXRMYWJlbChsYWJlbCk7XG4gICAgICAgIHZhciBjeDtcbiAgICAgICAgaWYgKHRoaXMuc2NhbGVUeXBlID09PSAndGltZScpIHtcbiAgICAgICAgICAgIGN4ID0gdGhpcy54U2NhbGUobGFiZWwpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuc2NhbGVUeXBlID09PSAnbGluZWFyJykge1xuICAgICAgICAgICAgY3ggPSB0aGlzLnhTY2FsZShOdW1iZXIobGFiZWwpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGN4ID0gdGhpcy54U2NhbGUobGFiZWwpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjeSA9IHRoaXMueVNjYWxlKHRoaXMudHlwZSA9PT0gJ3N0YW5kYXJkJyA/IHZhbHVlIDogZC5kMSk7XG4gICAgICAgIHZhciByYWRpdXMgPSA1O1xuICAgICAgICB2YXIgaGVpZ2h0ID0gdGhpcy55U2NhbGUucmFuZ2UoKVswXSAtIGN5O1xuICAgICAgICB2YXIgb3BhY2l0eSA9IDE7XG4gICAgICAgIHZhciBjb2xvcjtcbiAgICAgICAgaWYgKHRoaXMuY29sb3JzLnNjYWxlVHlwZSA9PT0gJ2xpbmVhcicpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnR5cGUgPT09ICdzdGFuZGFyZCcpIHtcbiAgICAgICAgICAgICAgICBjb2xvciA9IHRoaXMuY29sb3JzLmdldENvbG9yKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbG9yID0gdGhpcy5jb2xvcnMuZ2V0Q29sb3IoZC5kMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb2xvciA9IHRoaXMuY29sb3JzLmdldENvbG9yKHNlcmllc05hbWUpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBkYXRhID0gT2JqZWN0LmFzc2lnbih7fSwgZCwge1xuICAgICAgICAgICAgc2VyaWVzOiBzZXJpZXNOYW1lLFxuICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgbmFtZTogbGFiZWxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjbGFzc05hbWVzOiBbXCJjaXJjbGUtZGF0YS1cIiArIGldLFxuICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgbGFiZWw6IGxhYmVsLFxuICAgICAgICAgICAgZGF0YTogZGF0YSxcbiAgICAgICAgICAgIGN4OiBjeCxcbiAgICAgICAgICAgIGN5OiBjeSxcbiAgICAgICAgICAgIHJhZGl1czogcmFkaXVzLFxuICAgICAgICAgICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgICAgICAgICB0b29sdGlwTGFiZWw6IHRvb2x0aXBMYWJlbCxcbiAgICAgICAgICAgIGNvbG9yOiBjb2xvcixcbiAgICAgICAgICAgIG9wYWNpdHk6IG9wYWNpdHksXG4gICAgICAgICAgICBzZXJpZXNOYW1lOiBzZXJpZXNOYW1lLFxuICAgICAgICAgICAgZ3JhZGllbnRTdG9wczogdGhpcy5nZXRHcmFkaWVudFN0b3BzKGNvbG9yKSxcbiAgICAgICAgICAgIG1pbjogZC5taW4sXG4gICAgICAgICAgICBtYXg6IGQubWF4XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBDaXJjbGVTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLmdldFRvb2x0aXBUZXh0ID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciB0b29sdGlwTGFiZWwgPSBfYS50b29sdGlwTGFiZWwsIHZhbHVlID0gX2EudmFsdWUsIHNlcmllc05hbWUgPSBfYS5zZXJpZXNOYW1lLCBtaW4kJDEgPSBfYS5taW4sIG1heCQkMSA9IF9hLm1heDtcbiAgICAgICAgcmV0dXJuIFwiXFxuICAgICAgPHNwYW4gY2xhc3M9XFxcInRvb2x0aXAtbGFiZWxcXFwiPlwiICsgZXNjYXBlTGFiZWwoc2VyaWVzTmFtZSkgKyBcIiBcXHUyMDIyIFwiICsgZXNjYXBlTGFiZWwodG9vbHRpcExhYmVsKSArIFwiPC9zcGFuPlxcbiAgICAgIDxzcGFuIGNsYXNzPVxcXCJ0b29sdGlwLXZhbFxcXCI+XCIgKyB2YWx1ZS50b0xvY2FsZVN0cmluZygpICsgdGhpcy5nZXRUb29sdGlwTWluTWF4VGV4dChtaW4kJDEsIG1heCQkMSkgKyBcIjwvc3Bhbj5cXG4gICAgXCI7XG4gICAgfTtcbiAgICBDaXJjbGVTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLmdldFRvb2x0aXBNaW5NYXhUZXh0ID0gZnVuY3Rpb24gKG1pbiQkMSwgbWF4JCQxKSB7XG4gICAgICAgIGlmIChtaW4kJDEgIT09IHVuZGVmaW5lZCB8fCBtYXgkJDEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9ICcgKCc7XG4gICAgICAgICAgICBpZiAobWluJCQxICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAobWF4JCQxID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9ICfiiaUnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gbWluJCQxLnRvTG9jYWxlU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgaWYgKG1heCQkMSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSAnIC0gJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChtYXgkJDEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCArPSAn4omkJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtYXgkJDEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCArPSBtYXgkJDEudG9Mb2NhbGVTdHJpbmcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc3VsdCArPSAnKSc7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBDaXJjbGVTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLmdldEdyYWRpZW50U3RvcHMgPSBmdW5jdGlvbiAoY29sb3IpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IDAsXG4gICAgICAgICAgICAgICAgY29sb3I6IGNvbG9yLFxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IDAuMlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IDEwMCxcbiAgICAgICAgICAgICAgICBjb2xvcjogY29sb3IsXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogMVxuICAgICAgICAgICAgfVxuICAgICAgICBdO1xuICAgIH07XG4gICAgQ2lyY2xlU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZS5vbkNsaWNrID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdGhpcy5zZWxlY3QuZW1pdChkYXRhKTtcbiAgICB9O1xuICAgIENpcmNsZVNlcmllc0NvbXBvbmVudC5wcm90b3R5cGUuaXNBY3RpdmUgPSBmdW5jdGlvbiAoZW50cnkpIHtcbiAgICAgICAgaWYgKCF0aGlzLmFjdGl2ZUVudHJpZXMpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIHZhciBpdGVtID0gdGhpcy5hY3RpdmVFbnRyaWVzLmZpbmQoZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgIHJldHVybiBlbnRyeS5uYW1lID09PSBkLm5hbWU7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gaXRlbSAhPT0gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgQ2lyY2xlU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZS5hY3RpdmF0ZUNpcmNsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5iYXJWaXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5hY3RpdmF0ZS5lbWl0KHsgbmFtZTogdGhpcy5kYXRhLm5hbWUgfSk7XG4gICAgfTtcbiAgICBDaXJjbGVTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLmRlYWN0aXZhdGVDaXJjbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuYmFyVmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNpcmNsZS5vcGFjaXR5ID0gMDtcbiAgICAgICAgdGhpcy5kZWFjdGl2YXRlLmVtaXQoeyBuYW1lOiB0aGlzLmRhdGEubmFtZSB9KTtcbiAgICB9O1xuICAgIHZhciBfYSwgX2I7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQ2lyY2xlU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJkYXRhXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQ2lyY2xlU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ0eXBlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQ2lyY2xlU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ4U2NhbGVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBDaXJjbGVTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLCBcInlTY2FsZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgdHlwZW9mIChfYSA9IHR5cGVvZiBDb2xvckhlbHBlciAhPT0gXCJ1bmRlZmluZWRcIiAmJiBDb2xvckhlbHBlcikgPT09IFwiZnVuY3Rpb25cIiA/IF9hIDogT2JqZWN0KVxuICAgIF0sIENpcmNsZVNlcmllc0NvbXBvbmVudC5wcm90b3R5cGUsIFwiY29sb3JzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQ2lyY2xlU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJzY2FsZVR5cGVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBDaXJjbGVTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLCBcInZpc2libGVWYWx1ZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQXJyYXkpXG4gICAgXSwgQ2lyY2xlU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJhY3RpdmVFbnRyaWVzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIENpcmNsZVNlcmllc0NvbXBvbmVudC5wcm90b3R5cGUsIFwidG9vbHRpcERpc2FibGVkXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCB0eXBlb2YgKF9iID0gdHlwZW9mIFRlbXBsYXRlUmVmICE9PSBcInVuZGVmaW5lZFwiICYmIFRlbXBsYXRlUmVmKSA9PT0gXCJmdW5jdGlvblwiID8gX2IgOiBPYmplY3QpXG4gICAgXSwgQ2lyY2xlU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ0b29sdGlwVGVtcGxhdGVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgT3V0cHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQ2lyY2xlU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJzZWxlY3RcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgT3V0cHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQ2lyY2xlU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJhY3RpdmF0ZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBPdXRwdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBDaXJjbGVTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLCBcImRlYWN0aXZhdGVcIiwgdm9pZCAwKTtcbiAgICBDaXJjbGVTZXJpZXNDb21wb25lbnQgPSBfX2RlY29yYXRlKFtcbiAgICAgICAgQ29tcG9uZW50KHtcbiAgICAgICAgICAgIHNlbGVjdG9yOiAnZ1tuZ3gtY2hhcnRzLWNpcmNsZS1zZXJpZXNdJyxcbiAgICAgICAgICAgIHRlbXBsYXRlOiBcIlxcbiAgICA8c3ZnOmcgKm5nSWY9XFxcImNpcmNsZVxcXCI+XFxuICAgICAgPGRlZnM+XFxuICAgICAgICA8c3ZnOmdcXG4gICAgICAgICAgbmd4LWNoYXJ0cy1zdmctbGluZWFyLWdyYWRpZW50XFxuICAgICAgICAgIG9yaWVudGF0aW9uPVxcXCJ2ZXJ0aWNhbFxcXCJcXG4gICAgICAgICAgW25hbWVdPVxcXCJncmFkaWVudElkXFxcIlxcbiAgICAgICAgICBbc3RvcHNdPVxcXCJjaXJjbGUuZ3JhZGllbnRTdG9wc1xcXCJcXG4gICAgICAgIC8+XFxuICAgICAgPC9kZWZzPlxcbiAgICAgIDxzdmc6cmVjdFxcbiAgICAgICAgKm5nSWY9XFxcImJhclZpc2libGUgJiYgdHlwZSA9PT0gJ3N0YW5kYXJkJ1xcXCJcXG4gICAgICAgIFtAYW5pbWF0aW9uU3RhdGVdPVxcXCInYWN0aXZlJ1xcXCJcXG4gICAgICAgIFthdHRyLnhdPVxcXCJjaXJjbGUuY3ggLSBjaXJjbGUucmFkaXVzXFxcIlxcbiAgICAgICAgW2F0dHIueV09XFxcImNpcmNsZS5jeVxcXCJcXG4gICAgICAgIFthdHRyLndpZHRoXT1cXFwiY2lyY2xlLnJhZGl1cyAqIDJcXFwiXFxuICAgICAgICBbYXR0ci5oZWlnaHRdPVxcXCJjaXJjbGUuaGVpZ2h0XFxcIlxcbiAgICAgICAgW2F0dHIuZmlsbF09XFxcImdyYWRpZW50RmlsbFxcXCJcXG4gICAgICAgIGNsYXNzPVxcXCJ0b29sdGlwLWJhclxcXCJcXG4gICAgICAvPlxcbiAgICAgIDxzdmc6Z1xcbiAgICAgICAgbmd4LWNoYXJ0cy1jaXJjbGVcXG4gICAgICAgIGNsYXNzPVxcXCJjaXJjbGVcXFwiXFxuICAgICAgICBbY3hdPVxcXCJjaXJjbGUuY3hcXFwiXFxuICAgICAgICBbY3ldPVxcXCJjaXJjbGUuY3lcXFwiXFxuICAgICAgICBbcl09XFxcImNpcmNsZS5yYWRpdXNcXFwiXFxuICAgICAgICBbZmlsbF09XFxcImNpcmNsZS5jb2xvclxcXCJcXG4gICAgICAgIFtjbGFzcy5hY3RpdmVdPVxcXCJpc0FjdGl2ZSh7IG5hbWU6IGNpcmNsZS5zZXJpZXNOYW1lIH0pXFxcIlxcbiAgICAgICAgW3BvaW50ZXJFdmVudHNdPVxcXCJjaXJjbGUudmFsdWUgPT09IDAgPyAnbm9uZScgOiAnYWxsJ1xcXCJcXG4gICAgICAgIFtkYXRhXT1cXFwiY2lyY2xlLnZhbHVlXFxcIlxcbiAgICAgICAgW2NsYXNzTmFtZXNdPVxcXCJjaXJjbGUuY2xhc3NOYW1lc1xcXCJcXG4gICAgICAgIChzZWxlY3QpPVxcXCJvbkNsaWNrKGNpcmNsZS5kYXRhKVxcXCJcXG4gICAgICAgIChhY3RpdmF0ZSk9XFxcImFjdGl2YXRlQ2lyY2xlKClcXFwiXFxuICAgICAgICAoZGVhY3RpdmF0ZSk9XFxcImRlYWN0aXZhdGVDaXJjbGUoKVxcXCJcXG4gICAgICAgIG5neC10b29sdGlwXFxuICAgICAgICBbdG9vbHRpcERpc2FibGVkXT1cXFwidG9vbHRpcERpc2FibGVkXFxcIlxcbiAgICAgICAgW3Rvb2x0aXBQbGFjZW1lbnRdPVxcXCIndG9wJ1xcXCJcXG4gICAgICAgIFt0b29sdGlwVHlwZV09XFxcIid0b29sdGlwJ1xcXCJcXG4gICAgICAgIFt0b29sdGlwVGl0bGVdPVxcXCJ0b29sdGlwVGVtcGxhdGUgPyB1bmRlZmluZWQgOiBnZXRUb29sdGlwVGV4dChjaXJjbGUpXFxcIlxcbiAgICAgICAgW3Rvb2x0aXBUZW1wbGF0ZV09XFxcInRvb2x0aXBUZW1wbGF0ZVxcXCJcXG4gICAgICAgIFt0b29sdGlwQ29udGV4dF09XFxcImNpcmNsZS5kYXRhXFxcIlxcbiAgICAgIC8+XFxuICAgIDwvc3ZnOmc+XFxuICBcIixcbiAgICAgICAgICAgIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoLFxuICAgICAgICAgICAgYW5pbWF0aW9uczogW1xuICAgICAgICAgICAgICAgIHRyaWdnZXIoJ2FuaW1hdGlvblN0YXRlJywgW1xuICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uKCc6ZW50ZXInLCBbXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMFxuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRlKDI1MCwgc3R5bGUoeyBvcGFjaXR5OiAxIH0pKVxuICAgICAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICBdXG4gICAgICAgIH0pXG4gICAgXSwgQ2lyY2xlU2VyaWVzQ29tcG9uZW50KTtcbiAgICByZXR1cm4gQ2lyY2xlU2VyaWVzQ29tcG9uZW50O1xufSgpKTtcblxudmFyIENpcmNsZUNvbXBvbmVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDaXJjbGVDb21wb25lbnQoKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICB0aGlzLmFjdGl2YXRlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICB0aGlzLmRlYWN0aXZhdGUgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgfVxuICAgIENpcmNsZUNvbXBvbmVudC5wcm90b3R5cGUub25DbGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zZWxlY3QuZW1pdCh0aGlzLmRhdGEpO1xuICAgIH07XG4gICAgQ2lyY2xlQ29tcG9uZW50LnByb3RvdHlwZS5vbk1vdXNlRW50ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuYWN0aXZhdGUuZW1pdCh0aGlzLmRhdGEpO1xuICAgIH07XG4gICAgQ2lyY2xlQ29tcG9uZW50LnByb3RvdHlwZS5vbk1vdXNlTGVhdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZGVhY3RpdmF0ZS5lbWl0KHRoaXMuZGF0YSk7XG4gICAgfTtcbiAgICBDaXJjbGVDb21wb25lbnQucHJvdG90eXBlLm5nT25DaGFuZ2VzID0gZnVuY3Rpb24gKGNoYW5nZXMpIHtcbiAgICAgICAgdGhpcy5jbGFzc05hbWVzID0gQXJyYXkuaXNBcnJheSh0aGlzLmNsYXNzTmFtZXMpID9cbiAgICAgICAgICAgIHRoaXMuY2xhc3NOYW1lcy5qb2luKCcgJykgOlxuICAgICAgICAgICAgJyc7XG4gICAgICAgIHRoaXMuY2xhc3NOYW1lcyArPSAnY2lyY2xlJztcbiAgICB9O1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIENpcmNsZUNvbXBvbmVudC5wcm90b3R5cGUsIFwiY3hcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBDaXJjbGVDb21wb25lbnQucHJvdG90eXBlLCBcImN5XCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQ2lyY2xlQ29tcG9uZW50LnByb3RvdHlwZSwgXCJyXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQ2lyY2xlQ29tcG9uZW50LnByb3RvdHlwZSwgXCJmaWxsXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQ2lyY2xlQ29tcG9uZW50LnByb3RvdHlwZSwgXCJzdHJva2VcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBDaXJjbGVDb21wb25lbnQucHJvdG90eXBlLCBcImRhdGFcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBDaXJjbGVDb21wb25lbnQucHJvdG90eXBlLCBcImNsYXNzTmFtZXNcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBDaXJjbGVDb21wb25lbnQucHJvdG90eXBlLCBcImNpcmNsZU9wYWNpdHlcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBDaXJjbGVDb21wb25lbnQucHJvdG90eXBlLCBcInBvaW50ZXJFdmVudHNcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgT3V0cHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQ2lyY2xlQ29tcG9uZW50LnByb3RvdHlwZSwgXCJzZWxlY3RcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgT3V0cHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQ2lyY2xlQ29tcG9uZW50LnByb3RvdHlwZSwgXCJhY3RpdmF0ZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBPdXRwdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBDaXJjbGVDb21wb25lbnQucHJvdG90eXBlLCBcImRlYWN0aXZhdGVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSG9zdExpc3RlbmVyKCdjbGljaycpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgRnVuY3Rpb24pLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW10pLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnJldHVybnR5cGVcIiwgdm9pZCAwKVxuICAgIF0sIENpcmNsZUNvbXBvbmVudC5wcm90b3R5cGUsIFwib25DbGlja1wiLCBudWxsKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSG9zdExpc3RlbmVyKCdtb3VzZWVudGVyJyksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBGdW5jdGlvbiksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cGFyYW10eXBlc1wiLCBbXSksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cmV0dXJudHlwZVwiLCB2b2lkIDApXG4gICAgXSwgQ2lyY2xlQ29tcG9uZW50LnByb3RvdHlwZSwgXCJvbk1vdXNlRW50ZXJcIiwgbnVsbCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIEhvc3RMaXN0ZW5lcignbW91c2VsZWF2ZScpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgRnVuY3Rpb24pLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW10pLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnJldHVybnR5cGVcIiwgdm9pZCAwKVxuICAgIF0sIENpcmNsZUNvbXBvbmVudC5wcm90b3R5cGUsIFwib25Nb3VzZUxlYXZlXCIsIG51bGwpO1xuICAgIENpcmNsZUNvbXBvbmVudCA9IF9fZGVjb3JhdGUoW1xuICAgICAgICBDb21wb25lbnQoe1xuICAgICAgICAgICAgc2VsZWN0b3I6ICdnW25neC1jaGFydHMtY2lyY2xlXScsXG4gICAgICAgICAgICB0ZW1wbGF0ZTogXCJcXG4gICAgPHN2ZzpjaXJjbGVcXG4gICAgICBbYXR0ci5jeF09XFxcImN4XFxcIlxcbiAgICAgIFthdHRyLmN5XT1cXFwiY3lcXFwiXFxuICAgICAgW2F0dHIucl09XFxcInJcXFwiXFxuICAgICAgW2F0dHIuZmlsbF09XFxcImZpbGxcXFwiXFxuICAgICAgW2F0dHIuc3Ryb2tlXT1cXFwic3Ryb2tlXFxcIlxcbiAgICAgIFthdHRyLm9wYWNpdHldPVxcXCJjaXJjbGVPcGFjaXR5XFxcIlxcbiAgICAgIFthdHRyLmNsYXNzXT1cXFwiY2xhc3NOYW1lc1xcXCJcXG4gICAgICBbYXR0ci5wb2ludGVyLWV2ZW50c109XFxcInBvaW50ZXJFdmVudHNcXFwiXFxuICAgIC8+XFxuICBcIixcbiAgICAgICAgICAgIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoXG4gICAgICAgIH0pXG4gICAgXSwgQ2lyY2xlQ29tcG9uZW50KTtcbiAgICByZXR1cm4gQ2lyY2xlQ29tcG9uZW50O1xufSgpKTtcblxudmFyIEdyaWRQYW5lbENvbXBvbmVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBHcmlkUGFuZWxDb21wb25lbnQoKSB7XG4gICAgfVxuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEdyaWRQYW5lbENvbXBvbmVudC5wcm90b3R5cGUsIFwicGF0aFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEdyaWRQYW5lbENvbXBvbmVudC5wcm90b3R5cGUsIFwid2lkdGhcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBHcmlkUGFuZWxDb21wb25lbnQucHJvdG90eXBlLCBcImhlaWdodFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEdyaWRQYW5lbENvbXBvbmVudC5wcm90b3R5cGUsIFwieFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEdyaWRQYW5lbENvbXBvbmVudC5wcm90b3R5cGUsIFwieVwiLCB2b2lkIDApO1xuICAgIEdyaWRQYW5lbENvbXBvbmVudCA9IF9fZGVjb3JhdGUoW1xuICAgICAgICBDb21wb25lbnQoe1xuICAgICAgICAgICAgc2VsZWN0b3I6ICdnW25neC1jaGFydHMtZ3JpZC1wYW5lbF0nLFxuICAgICAgICAgICAgdGVtcGxhdGU6IFwiXFxuICAgIDxzdmc6cmVjdFxcbiAgICAgIFthdHRyLmhlaWdodF09XFxcImhlaWdodFxcXCJcXG4gICAgICBbYXR0ci53aWR0aF09XFxcIndpZHRoXFxcIlxcbiAgICAgIFthdHRyLnhdPVxcXCJ4XFxcIlxcbiAgICAgIFthdHRyLnldPVxcXCJ5XFxcIlxcbiAgICAgIHN0cm9rZT1cXFwibm9uZVxcXCJcXG4gICAgICBjbGFzcz1cXFwiZ3JpZHBhbmVsXFxcIlxcbiAgICAvPlxcbiAgXCIsXG4gICAgICAgICAgICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaFxuICAgICAgICB9KVxuICAgIF0sIEdyaWRQYW5lbENvbXBvbmVudCk7XG4gICAgcmV0dXJuIEdyaWRQYW5lbENvbXBvbmVudDtcbn0oKSk7XG5cbnZhciBHcmlkUGFuZWxTZXJpZXNDb21wb25lbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gR3JpZFBhbmVsU2VyaWVzQ29tcG9uZW50KCkge1xuICAgIH1cbiAgICBHcmlkUGFuZWxTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLm5nT25DaGFuZ2VzID0gZnVuY3Rpb24gKGNoYW5nZXMpIHtcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICB9O1xuICAgIEdyaWRQYW5lbFNlcmllc0NvbXBvbmVudC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmdyaWRQYW5lbHMgPSB0aGlzLmdldEdyaWRQYW5lbHMoKTtcbiAgICB9O1xuICAgIEdyaWRQYW5lbFNlcmllc0NvbXBvbmVudC5wcm90b3R5cGUuZ2V0R3JpZFBhbmVscyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5tYXAoZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgIHZhciBvZmZzZXQ7XG4gICAgICAgICAgICB2YXIgd2lkdGg7XG4gICAgICAgICAgICB2YXIgaGVpZ2h0O1xuICAgICAgICAgICAgdmFyIHg7XG4gICAgICAgICAgICB2YXIgeTtcbiAgICAgICAgICAgIHZhciBjbGFzc05hbWUgPSAnb2RkJztcbiAgICAgICAgICAgIGlmIChfdGhpcy5vcmllbnQgPT09ICd2ZXJ0aWNhbCcpIHtcbiAgICAgICAgICAgICAgICB2YXIgcG9zaXRpb24gPSBfdGhpcy54U2NhbGUoZC5uYW1lKTtcbiAgICAgICAgICAgICAgICB2YXIgcG9zaXRpb25JbmRleCA9IE51bWJlci5wYXJzZUludCgocG9zaXRpb24gLyBfdGhpcy54U2NhbGUuc3RlcCgpKS50b1N0cmluZygpLCAxMCk7XG4gICAgICAgICAgICAgICAgaWYgKHBvc2l0aW9uSW5kZXggJSAyID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZSA9ICdldmVuJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb2Zmc2V0ID0gX3RoaXMueFNjYWxlLmJhbmR3aWR0aCgpICogX3RoaXMueFNjYWxlLnBhZGRpbmdJbm5lcigpO1xuICAgICAgICAgICAgICAgIHdpZHRoID0gX3RoaXMueFNjYWxlLmJhbmR3aWR0aCgpICsgb2Zmc2V0O1xuICAgICAgICAgICAgICAgIGhlaWdodCA9IF90aGlzLmRpbXMuaGVpZ2h0O1xuICAgICAgICAgICAgICAgIHggPSBfdGhpcy54U2NhbGUoZC5uYW1lKSAtIG9mZnNldCAvIDI7XG4gICAgICAgICAgICAgICAgeSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChfdGhpcy5vcmllbnQgPT09ICdob3Jpem9udGFsJykge1xuICAgICAgICAgICAgICAgIHZhciBwb3NpdGlvbiA9IF90aGlzLnlTY2FsZShkLm5hbWUpO1xuICAgICAgICAgICAgICAgIHZhciBwb3NpdGlvbkluZGV4ID0gTnVtYmVyLnBhcnNlSW50KChwb3NpdGlvbiAvIF90aGlzLnlTY2FsZS5zdGVwKCkpLnRvU3RyaW5nKCksIDEwKTtcbiAgICAgICAgICAgICAgICBpZiAocG9zaXRpb25JbmRleCAlIDIgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lID0gJ2V2ZW4nO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvZmZzZXQgPSBfdGhpcy55U2NhbGUuYmFuZHdpZHRoKCkgKiBfdGhpcy55U2NhbGUucGFkZGluZ0lubmVyKCk7XG4gICAgICAgICAgICAgICAgd2lkdGggPSBfdGhpcy5kaW1zLndpZHRoO1xuICAgICAgICAgICAgICAgIGhlaWdodCA9IF90aGlzLnlTY2FsZS5iYW5kd2lkdGgoKSArIG9mZnNldDtcbiAgICAgICAgICAgICAgICB4ID0gMDtcbiAgICAgICAgICAgICAgICB5ID0gX3RoaXMueVNjYWxlKGQubmFtZSkgLSBvZmZzZXQgLyAyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBkLm5hbWUsXG4gICAgICAgICAgICAgICAgY2xhc3M6IGNsYXNzTmFtZSxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgICAgICAgICAgeDogeCxcbiAgICAgICAgICAgICAgICB5OiB5XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEdyaWRQYW5lbFNlcmllc0NvbXBvbmVudC5wcm90b3R5cGUsIFwiZGF0YVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEdyaWRQYW5lbFNlcmllc0NvbXBvbmVudC5wcm90b3R5cGUsIFwiZGltc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEdyaWRQYW5lbFNlcmllc0NvbXBvbmVudC5wcm90b3R5cGUsIFwieFNjYWxlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgR3JpZFBhbmVsU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ5U2NhbGVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBHcmlkUGFuZWxTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLCBcIm9yaWVudFwiLCB2b2lkIDApO1xuICAgIEdyaWRQYW5lbFNlcmllc0NvbXBvbmVudCA9IF9fZGVjb3JhdGUoW1xuICAgICAgICBDb21wb25lbnQoe1xuICAgICAgICAgICAgc2VsZWN0b3I6ICdnW25neC1jaGFydHMtZ3JpZC1wYW5lbC1zZXJpZXNdJyxcbiAgICAgICAgICAgIHRlbXBsYXRlOiBcIlxcbiAgICA8c3ZnOmcgbmd4LWNoYXJ0cy1ncmlkLXBhbmVsICpuZ0Zvcj1cXFwibGV0IGdyaWRQYW5lbCBvZiBncmlkUGFuZWxzXFxcIlxcbiAgICAgIFtoZWlnaHRdPVxcXCJncmlkUGFuZWwuaGVpZ2h0XFxcIlxcbiAgICAgIFt3aWR0aF09XFxcImdyaWRQYW5lbC53aWR0aFxcXCJcXG4gICAgICBbeF09XFxcImdyaWRQYW5lbC54XFxcIlxcbiAgICAgIFt5XT1cXFwiZ3JpZFBhbmVsLnlcXFwiXFxuICAgICAgW2NsYXNzLmdyaWQtcGFuZWxdPVxcXCJ0cnVlXFxcIlxcbiAgICAgIFtjbGFzcy5vZGRdPVxcXCJncmlkUGFuZWwuY2xhc3MgPT09ICdvZGQnXFxcIlxcbiAgICAgIFtjbGFzcy5ldmVuXT1cXFwiZ3JpZFBhbmVsLmNsYXNzID09PSAnZXZlbidcXFwiPlxcbiAgICA8L3N2ZzpnPlxcbiAgXCIsXG4gICAgICAgICAgICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaFxuICAgICAgICB9KVxuICAgIF0sIEdyaWRQYW5lbFNlcmllc0NvbXBvbmVudCk7XG4gICAgcmV0dXJuIEdyaWRQYW5lbFNlcmllc0NvbXBvbmVudDtcbn0oKSk7XG5cbnZhciBTdmdMaW5lYXJHcmFkaWVudENvbXBvbmVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTdmdMaW5lYXJHcmFkaWVudENvbXBvbmVudCgpIHtcbiAgICAgICAgdGhpcy5vcmllbnRhdGlvbiA9ICd2ZXJ0aWNhbCc7XG4gICAgfVxuICAgIFN2Z0xpbmVhckdyYWRpZW50Q29tcG9uZW50LnByb3RvdHlwZS5uZ09uQ2hhbmdlcyA9IGZ1bmN0aW9uIChjaGFuZ2VzKSB7XG4gICAgICAgIHRoaXMueDEgPSAnMCUnO1xuICAgICAgICB0aGlzLngyID0gJzAlJztcbiAgICAgICAgdGhpcy55MSA9ICcwJSc7XG4gICAgICAgIHRoaXMueTIgPSAnMCUnO1xuICAgICAgICBpZiAodGhpcy5vcmllbnRhdGlvbiA9PT0gJ2hvcml6b250YWwnKSB7XG4gICAgICAgICAgICB0aGlzLngyID0gJzEwMCUnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMub3JpZW50YXRpb24gPT09ICd2ZXJ0aWNhbCcpIHtcbiAgICAgICAgICAgIHRoaXMueTEgPSAnMTAwJSc7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIFN2Z0xpbmVhckdyYWRpZW50Q29tcG9uZW50LnByb3RvdHlwZSwgXCJvcmllbnRhdGlvblwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIFN2Z0xpbmVhckdyYWRpZW50Q29tcG9uZW50LnByb3RvdHlwZSwgXCJuYW1lXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBBcnJheSlcbiAgICBdLCBTdmdMaW5lYXJHcmFkaWVudENvbXBvbmVudC5wcm90b3R5cGUsIFwic3RvcHNcIiwgdm9pZCAwKTtcbiAgICBTdmdMaW5lYXJHcmFkaWVudENvbXBvbmVudCA9IF9fZGVjb3JhdGUoW1xuICAgICAgICBDb21wb25lbnQoe1xuICAgICAgICAgICAgc2VsZWN0b3I6ICdnW25neC1jaGFydHMtc3ZnLWxpbmVhci1ncmFkaWVudF0nLFxuICAgICAgICAgICAgdGVtcGxhdGU6IFwiXFxuICAgIDxzdmc6bGluZWFyR3JhZGllbnRcXG4gICAgICBbaWRdPVxcXCJuYW1lXFxcIlxcbiAgICAgIFthdHRyLngxXT1cXFwieDFcXFwiXFxuICAgICAgW2F0dHIueTFdPVxcXCJ5MVxcXCJcXG4gICAgICBbYXR0ci54Ml09XFxcIngyXFxcIlxcbiAgICAgIFthdHRyLnkyXT1cXFwieTJcXFwiPlxcbiAgICAgIDxzdmc6c3RvcCAqbmdGb3I9XFxcImxldCBzdG9wIG9mIHN0b3BzXFxcIlxcbiAgICAgICAgW2F0dHIub2Zmc2V0XT1cXFwic3RvcC5vZmZzZXQgKyAnJSdcXFwiXFxuICAgICAgICBbc3R5bGUuc3RvcC1jb2xvcl09XFxcInN0b3AuY29sb3JcXFwiXFxuICAgICAgICBbc3R5bGUuc3RvcC1vcGFjaXR5XT1cXFwic3RvcC5vcGFjaXR5XFxcIlxcbiAgICAgIC8+XFxuICAgIDwvc3ZnOmxpbmVhckdyYWRpZW50PlxcbiAgXCIsXG4gICAgICAgICAgICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaFxuICAgICAgICB9KVxuICAgIF0sIFN2Z0xpbmVhckdyYWRpZW50Q29tcG9uZW50KTtcbiAgICByZXR1cm4gU3ZnTGluZWFyR3JhZGllbnRDb21wb25lbnQ7XG59KCkpO1xuXG52YXIgU3ZnUmFkaWFsR3JhZGllbnRDb21wb25lbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU3ZnUmFkaWFsR3JhZGllbnRDb21wb25lbnQoKSB7XG4gICAgICAgIHRoaXMuZW5kT3BhY2l0eSA9IDE7XG4gICAgICAgIHRoaXMuY3ggPSAwO1xuICAgICAgICB0aGlzLmN5ID0gMDtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN2Z1JhZGlhbEdyYWRpZW50Q29tcG9uZW50LnByb3RvdHlwZSwgXCJzdG9wc1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RvcHNJbnB1dCB8fCB0aGlzLnN0b3BzRGVmYXVsdDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuc3RvcHNJbnB1dCA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBTdmdSYWRpYWxHcmFkaWVudENvbXBvbmVudC5wcm90b3R5cGUubmdPbkNoYW5nZXMgPSBmdW5jdGlvbiAoY2hhbmdlcykge1xuICAgICAgICB0aGlzLnIgPSAnMzAlJztcbiAgICAgICAgaWYgKCgnY29sb3InIGluIGNoYW5nZXMpIHx8XG4gICAgICAgICAgICAoJ3N0YXJ0T3BhY2l0eScgaW4gY2hhbmdlcykgfHxcbiAgICAgICAgICAgICgnZW5kT3BhY2l0eScgaW4gY2hhbmdlcykpIHtcbiAgICAgICAgICAgIHRoaXMuc3RvcHNEZWZhdWx0ID0gW3tcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0OiAwLFxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogdGhpcy5jb2xvcixcbiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogdGhpcy5zdGFydE9wYWNpdHlcbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgIG9mZnNldDogMTAwLFxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogdGhpcy5jb2xvcixcbiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogdGhpcy5lbmRPcGFjaXR5XG4gICAgICAgICAgICAgICAgfV07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgU3RyaW5nKVxuICAgIF0sIFN2Z1JhZGlhbEdyYWRpZW50Q29tcG9uZW50LnByb3RvdHlwZSwgXCJjb2xvclwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgU3RyaW5nKVxuICAgIF0sIFN2Z1JhZGlhbEdyYWRpZW50Q29tcG9uZW50LnByb3RvdHlwZSwgXCJuYW1lXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBOdW1iZXIpXG4gICAgXSwgU3ZnUmFkaWFsR3JhZGllbnRDb21wb25lbnQucHJvdG90eXBlLCBcInN0YXJ0T3BhY2l0eVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIFN2Z1JhZGlhbEdyYWRpZW50Q29tcG9uZW50LnByb3RvdHlwZSwgXCJlbmRPcGFjaXR5XCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBOdW1iZXIpXG4gICAgXSwgU3ZnUmFkaWFsR3JhZGllbnRDb21wb25lbnQucHJvdG90eXBlLCBcImN4XCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBOdW1iZXIpXG4gICAgXSwgU3ZnUmFkaWFsR3JhZGllbnRDb21wb25lbnQucHJvdG90eXBlLCBcImN5XCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBBcnJheSksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cGFyYW10eXBlc1wiLCBbQXJyYXldKVxuICAgIF0sIFN2Z1JhZGlhbEdyYWRpZW50Q29tcG9uZW50LnByb3RvdHlwZSwgXCJzdG9wc1wiLCBudWxsKTtcbiAgICBTdmdSYWRpYWxHcmFkaWVudENvbXBvbmVudCA9IF9fZGVjb3JhdGUoW1xuICAgICAgICBDb21wb25lbnQoe1xuICAgICAgICAgICAgc2VsZWN0b3I6ICdnW25neC1jaGFydHMtc3ZnLXJhZGlhbC1ncmFkaWVudF0nLFxuICAgICAgICAgICAgdGVtcGxhdGU6IFwiXFxuICAgIDxzdmc6cmFkaWFsR3JhZGllbnRcXG4gICAgICBbaWRdPVxcXCJuYW1lXFxcIlxcbiAgICAgIFthdHRyLmN4XT1cXFwiY3hcXFwiXFxuICAgICAgW2F0dHIuY3ldPVxcXCJjeVxcXCJcXG4gICAgICBbYXR0ci5yXT1cXFwiclxcXCJcXG4gICAgICBncmFkaWVudFVuaXRzPVxcXCJ1c2VyU3BhY2VPblVzZVxcXCI+XFxuICAgICAgPHN2ZzpzdG9wICpuZ0Zvcj1cXFwibGV0IHN0b3Agb2Ygc3RvcHNcXFwiXFxuICAgICAgICBbYXR0ci5vZmZzZXRdPVxcXCJzdG9wLm9mZnNldCArICclJ1xcXCJcXG4gICAgICAgIFtzdHlsZS5zdG9wLWNvbG9yXT1cXFwic3RvcC5jb2xvclxcXCJcXG4gICAgICAgIFtzdHlsZS5zdG9wLW9wYWNpdHldPVxcXCJzdG9wLm9wYWNpdHlcXFwiXFxuICAgICAgLz5cXG4gICAgPC9zdmc6cmFkaWFsR3JhZGllbnQ+XFxuICBcIixcbiAgICAgICAgICAgIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoXG4gICAgICAgIH0pXG4gICAgXSwgU3ZnUmFkaWFsR3JhZGllbnRDb21wb25lbnQpO1xuICAgIHJldHVybiBTdmdSYWRpYWxHcmFkaWVudENvbXBvbmVudDtcbn0oKSk7XG5cbnZhciBUaW1lbGluZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUaW1lbGluZShlbGVtZW50LCBjZCkge1xuICAgICAgICB0aGlzLmNkID0gY2Q7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gNTA7XG4gICAgICAgIHRoaXMuc2VsZWN0ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICB0aGlzLm9uRG9tYWluQ2hhbmdlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICB0aGlzLmluaXRpYWxpemVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQubmF0aXZlRWxlbWVudDtcbiAgICB9XG4gICAgVGltZWxpbmUucHJvdG90eXBlLm5nT25DaGFuZ2VzID0gZnVuY3Rpb24gKGNoYW5nZXMpIHtcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgICAgaWYgKCF0aGlzLmluaXRpYWxpemVkKSB7XG4gICAgICAgICAgICB0aGlzLmFkZEJydXNoKCk7XG4gICAgICAgICAgICB0aGlzLmluaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVGltZWxpbmUucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5kaW1zID0gdGhpcy5nZXREaW1zKCk7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy5kaW1zLmhlaWdodDtcbiAgICAgICAgdmFyIG9mZnNldFkgPSB0aGlzLnZpZXdbMV0gLSB0aGlzLmhlaWdodDtcbiAgICAgICAgdGhpcy54RG9tYWluID0gdGhpcy5nZXRYRG9tYWluKCk7XG4gICAgICAgIHRoaXMueFNjYWxlID0gdGhpcy5nZXRYU2NhbGUoKTtcbiAgICAgICAgaWYgKHRoaXMuYnJ1c2gpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQnJ1c2goKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IFwidHJhbnNsYXRlKDAgLCBcIiArIG9mZnNldFkgKyBcIilcIjtcbiAgICAgICAgdGhpcy5maWx0ZXJJZCA9ICdmaWx0ZXInICsgaWQoKS50b1N0cmluZygpO1xuICAgICAgICB0aGlzLmZpbHRlciA9IFwidXJsKCNcIiArIHRoaXMuZmlsdGVySWQgKyBcIilcIjtcbiAgICAgICAgdGhpcy5jZC5tYXJrRm9yQ2hlY2soKTtcbiAgICB9O1xuICAgIFRpbWVsaW5lLnByb3RvdHlwZS5nZXRYRG9tYWluID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdmFsdWVzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSB0aGlzLnJlc3VsdHM7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0cyA9IF9hW19pXTtcbiAgICAgICAgICAgIGZvciAodmFyIF9iID0gMCwgX2MgPSByZXN1bHRzLnNlcmllczsgX2IgPCBfYy5sZW5ndGg7IF9iKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgZCA9IF9jW19iXTtcbiAgICAgICAgICAgICAgICBpZiAoIXZhbHVlcy5pbmNsdWRlcyhkLm5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlcy5wdXNoKGQubmFtZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBkb21haW4gPSBbXTtcbiAgICAgICAgaWYgKHRoaXMuc2NhbGVUeXBlID09PSAndGltZScpIHtcbiAgICAgICAgICAgIHZhciBtaW4kJDEgPSBNYXRoLm1pbi5hcHBseShNYXRoLCB2YWx1ZXMpO1xuICAgICAgICAgICAgdmFyIG1heCQkMSA9IE1hdGgubWF4LmFwcGx5KE1hdGgsIHZhbHVlcyk7XG4gICAgICAgICAgICBkb21haW4gPSBbbWluJCQxLCBtYXgkJDFdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuc2NhbGVUeXBlID09PSAnbGluZWFyJykge1xuICAgICAgICAgICAgdmFsdWVzID0gdmFsdWVzLm1hcChmdW5jdGlvbiAodikgeyByZXR1cm4gTnVtYmVyKHYpOyB9KTtcbiAgICAgICAgICAgIHZhciBtaW4kJDEgPSBNYXRoLm1pbi5hcHBseShNYXRoLCB2YWx1ZXMpO1xuICAgICAgICAgICAgdmFyIG1heCQkMSA9IE1hdGgubWF4LmFwcGx5KE1hdGgsIHZhbHVlcyk7XG4gICAgICAgICAgICBkb21haW4gPSBbbWluJCQxLCBtYXgkJDFdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZG9tYWluID0gdmFsdWVzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkb21haW47XG4gICAgfTtcbiAgICBUaW1lbGluZS5wcm90b3R5cGUuZ2V0WFNjYWxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2NhbGU7XG4gICAgICAgIGlmICh0aGlzLnNjYWxlVHlwZSA9PT0gJ3RpbWUnKSB7XG4gICAgICAgICAgICBzY2FsZSA9IHNjYWxlVGltZSgpXG4gICAgICAgICAgICAgICAgLnJhbmdlKFswLCB0aGlzLmRpbXMud2lkdGhdKVxuICAgICAgICAgICAgICAgIC5kb21haW4odGhpcy54RG9tYWluKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnNjYWxlVHlwZSA9PT0gJ2xpbmVhcicpIHtcbiAgICAgICAgICAgIHNjYWxlID0gc2NhbGVMaW5lYXIoKVxuICAgICAgICAgICAgICAgIC5yYW5nZShbMCwgdGhpcy5kaW1zLndpZHRoXSlcbiAgICAgICAgICAgICAgICAuZG9tYWluKHRoaXMueERvbWFpbik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5zY2FsZVR5cGUgPT09ICdvcmRpbmFsJykge1xuICAgICAgICAgICAgc2NhbGUgPSBzY2FsZVBvaW50KClcbiAgICAgICAgICAgICAgICAucmFuZ2UoWzAsIHRoaXMuZGltcy53aWR0aF0pXG4gICAgICAgICAgICAgICAgLnBhZGRpbmcoMC4xKVxuICAgICAgICAgICAgICAgIC5kb21haW4odGhpcy54RG9tYWluKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2NhbGU7XG4gICAgfTtcbiAgICBUaW1lbGluZS5wcm90b3R5cGUuYWRkQnJ1c2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLmJydXNoKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gdGhpcy5oZWlnaHQ7XG4gICAgICAgIHZhciB3aWR0aCA9IHRoaXMudmlld1swXTtcbiAgICAgICAgdGhpcy5icnVzaCA9IGJydXNoWCgpXG4gICAgICAgICAgICAuZXh0ZW50KFtbMCwgMF0sIFt3aWR0aCwgaGVpZ2h0XV0pXG4gICAgICAgICAgICAub24oJ2JydXNoIGVuZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBzZWxlY3Rpb24gPSBldmVudC5zZWxlY3Rpb24gfHwgX3RoaXMueFNjYWxlLnJhbmdlKCk7XG4gICAgICAgICAgICB2YXIgbmV3RG9tYWluID0gc2VsZWN0aW9uLm1hcChfdGhpcy54U2NhbGUuaW52ZXJ0KTtcbiAgICAgICAgICAgIF90aGlzLm9uRG9tYWluQ2hhbmdlLmVtaXQobmV3RG9tYWluKTtcbiAgICAgICAgICAgIF90aGlzLmNkLm1hcmtGb3JDaGVjaygpO1xuICAgICAgICB9KTtcbiAgICAgICAgc2VsZWN0KHRoaXMuZWxlbWVudClcbiAgICAgICAgICAgIC5zZWxlY3QoJy5icnVzaCcpXG4gICAgICAgICAgICAuY2FsbCh0aGlzLmJydXNoKTtcbiAgICB9O1xuICAgIFRpbWVsaW5lLnByb3RvdHlwZS51cGRhdGVCcnVzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmJydXNoKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gdGhpcy5oZWlnaHQ7XG4gICAgICAgIHZhciB3aWR0aCA9IHRoaXMudmlld1swXTtcbiAgICAgICAgdGhpcy5icnVzaC5leHRlbnQoW1swLCAwXSwgW3dpZHRoLCBoZWlnaHRdXSk7XG4gICAgICAgIHNlbGVjdCh0aGlzLmVsZW1lbnQpXG4gICAgICAgICAgICAuc2VsZWN0KCcuYnJ1c2gnKVxuICAgICAgICAgICAgLmNhbGwodGhpcy5icnVzaCk7XG4gICAgICAgIHNlbGVjdCh0aGlzLmVsZW1lbnQpLnNlbGVjdCgnLnNlbGVjdGlvbicpXG4gICAgICAgICAgICAuYXR0cignZmlsbCcsIHVuZGVmaW5lZClcbiAgICAgICAgICAgIC5hdHRyKCdzdHJva2UnLCB1bmRlZmluZWQpXG4gICAgICAgICAgICAuYXR0cignZmlsbC1vcGFjaXR5JywgdW5kZWZpbmVkKTtcbiAgICAgICAgdGhpcy5jZC5tYXJrRm9yQ2hlY2soKTtcbiAgICB9O1xuICAgIFRpbWVsaW5lLnByb3RvdHlwZS5nZXREaW1zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgd2lkdGggPSB0aGlzLnZpZXdbMF07XG4gICAgICAgIHZhciBkaW1zID0ge1xuICAgICAgICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLmhlaWdodFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gZGltcztcbiAgICB9O1xuICAgIHZhciBfYSwgX2I7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgVGltZWxpbmUucHJvdG90eXBlLCBcInZpZXdcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBUaW1lbGluZS5wcm90b3R5cGUsIFwic3RhdGVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBUaW1lbGluZS5wcm90b3R5cGUsIFwicmVzdWx0c1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIFRpbWVsaW5lLnByb3RvdHlwZSwgXCJzY2hlbWVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBUaW1lbGluZS5wcm90b3R5cGUsIFwiY3VzdG9tQ29sb3JzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgVGltZWxpbmUucHJvdG90eXBlLCBcImxlZ2VuZFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIFRpbWVsaW5lLnByb3RvdHlwZSwgXCJtaW5pQ2hhcnRcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBUaW1lbGluZS5wcm90b3R5cGUsIFwiYXV0b1NjYWxlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgVGltZWxpbmUucHJvdG90eXBlLCBcInNjYWxlVHlwZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgTnVtYmVyKVxuICAgIF0sIFRpbWVsaW5lLnByb3RvdHlwZSwgXCJoZWlnaHRcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgT3V0cHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgVGltZWxpbmUucHJvdG90eXBlLCBcInNlbGVjdFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBPdXRwdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBUaW1lbGluZS5wcm90b3R5cGUsIFwib25Eb21haW5DaGFuZ2VcIiwgdm9pZCAwKTtcbiAgICBUaW1lbGluZSA9IF9fZGVjb3JhdGUoW1xuICAgICAgICBDb21wb25lbnQoe1xuICAgICAgICAgICAgc2VsZWN0b3I6ICdnW25neC1jaGFydHMtdGltZWxpbmVdJyxcbiAgICAgICAgICAgIHRlbXBsYXRlOiBcIlxcbiAgICA8c3ZnOmdcXG4gICAgICBjbGFzcz1cXFwidGltZWxpbmVcXFwiXFxuICAgICAgW2F0dHIudHJhbnNmb3JtXT1cXFwidHJhbnNmb3JtXFxcIj5cXG4gICAgICA8c3ZnOmZpbHRlciBbYXR0ci5pZF09XFxcImZpbHRlcklkXFxcIj5cXG4gICAgICAgIDxzdmc6ZmVDb2xvck1hdHJpeCBpbj1cXFwiU291cmNlR3JhcGhpY1xcXCJcXG4gICAgICAgICAgICB0eXBlPVxcXCJtYXRyaXhcXFwiXFxuICAgICAgICAgICAgdmFsdWVzPVxcXCIwLjMzMzMgMC4zMzMzIDAuMzMzMyAwIDAgMC4zMzMzIDAuMzMzMyAwLjMzMzMgMCAwIDAuMzMzMyAwLjMzMzMgMC4zMzMzIDAgMCAwIDAgMCAxIDBcXFwiIC8+XFxuICAgICAgPC9zdmc6ZmlsdGVyPlxcbiAgICAgIDxzdmc6ZyBjbGFzcz1cXFwiZW1iZWRkZWQtY2hhcnRcXFwiPlxcbiAgICAgICAgPG5nLWNvbnRlbnQ+PC9uZy1jb250ZW50PlxcbiAgICAgIDwvc3ZnOmc+XFxuICAgICAgPHN2ZzpyZWN0IHg9XFxcIjBcXFwiXFxuICAgICAgICBbYXR0ci53aWR0aF09XFxcInZpZXdbMF1cXFwiXFxuICAgICAgICB5PVxcXCIwXFxcIlxcbiAgICAgICAgW2F0dHIuaGVpZ2h0XT1cXFwiaGVpZ2h0XFxcIlxcbiAgICAgICAgY2xhc3M9XFxcImJydXNoLWJhY2tncm91bmRcXFwiXFxuICAgICAgLz5cXG4gICAgICA8c3ZnOmcgY2xhc3M9XFxcImJydXNoXFxcIj48L3N2ZzpnPlxcbiAgICA8L3N2ZzpnPlxcbiAgXCIsXG4gICAgICAgICAgICBzdHlsZXM6IFtcIi50aW1lbGluZSAuYnJ1c2gtYmFja2dyb3VuZHtmaWxsOnJnYmEoMCwwLDAsLjA1KX0udGltZWxpbmUgLmJydXNoIC5zZWxlY3Rpb257ZmlsbDpyZ2JhKDAsMCwwLC4xKTtzdHJva2Utd2lkdGg6MXB4O3N0cm9rZTojODg4fS50aW1lbGluZSAuYnJ1c2ggLmhhbmRsZXtmaWxsLW9wYWNpdHk6MH0udGltZWxpbmUgLmVtYmVkZGVkLWNoYXJ0e29wYWNpdHk6LjZ9XCJdLFxuICAgICAgICAgICAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZSxcbiAgICAgICAgICAgIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoXG4gICAgICAgIH0pLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW3R5cGVvZiAoX2EgPSB0eXBlb2YgRWxlbWVudFJlZiAhPT0gXCJ1bmRlZmluZWRcIiAmJiBFbGVtZW50UmVmKSA9PT0gXCJmdW5jdGlvblwiID8gX2EgOiBPYmplY3QsIHR5cGVvZiAoX2IgPSB0eXBlb2YgQ2hhbmdlRGV0ZWN0b3JSZWYgIT09IFwidW5kZWZpbmVkXCIgJiYgQ2hhbmdlRGV0ZWN0b3JSZWYpID09PSBcImZ1bmN0aW9uXCIgPyBfYiA6IE9iamVjdF0pXG4gICAgXSwgVGltZWxpbmUpO1xuICAgIHJldHVybiBUaW1lbGluZTtcbn0oKSk7XG5cbnZhciBBcmVhQ29tcG9uZW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEFyZWFDb21wb25lbnQoZWxlbWVudCkge1xuICAgICAgICB0aGlzLm9wYWNpdHkgPSAxO1xuICAgICAgICB0aGlzLnN0YXJ0T3BhY2l0eSA9IDAuNTtcbiAgICAgICAgdGhpcy5lbmRPcGFjaXR5ID0gMTtcbiAgICAgICAgdGhpcy5ncmFkaWVudCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmFuaW1hdGlvbnMgPSB0cnVlO1xuICAgICAgICB0aGlzLnNlbGVjdCA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmhhc0dyYWRpZW50ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQubmF0aXZlRWxlbWVudDtcbiAgICB9XG4gICAgQXJlYUNvbXBvbmVudC5wcm90b3R5cGUubmdPbkNoYW5nZXMgPSBmdW5jdGlvbiAoY2hhbmdlcykge1xuICAgICAgICBpZiAoIXRoaXMuaW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICAgIHRoaXMubG9hZEFuaW1hdGlvbigpO1xuICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBBcmVhQ29tcG9uZW50LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZ3JhZGllbnRJZCA9ICdncmFkJyArIGlkKCkudG9TdHJpbmcoKTtcbiAgICAgICAgdGhpcy5ncmFkaWVudEZpbGwgPSBcInVybCgjXCIgKyB0aGlzLmdyYWRpZW50SWQgKyBcIilcIjtcbiAgICAgICAgaWYgKHRoaXMuZ3JhZGllbnQgfHwgdGhpcy5zdG9wcykge1xuICAgICAgICAgICAgdGhpcy5ncmFkaWVudFN0b3BzID0gdGhpcy5nZXRHcmFkaWVudCgpO1xuICAgICAgICAgICAgdGhpcy5oYXNHcmFkaWVudCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmhhc0dyYWRpZW50ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51cGRhdGVQYXRoRWwoKTtcbiAgICB9O1xuICAgIEFyZWFDb21wb25lbnQucHJvdG90eXBlLmxvYWRBbmltYXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuYXJlYVBhdGggPSB0aGlzLnN0YXJ0aW5nUGF0aDtcbiAgICAgICAgc2V0VGltZW91dCh0aGlzLnVwZGF0ZS5iaW5kKHRoaXMpLCAxMDApO1xuICAgIH07XG4gICAgQXJlYUNvbXBvbmVudC5wcm90b3R5cGUudXBkYXRlUGF0aEVsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbm9kZSA9IHNlbGVjdCh0aGlzLmVsZW1lbnQpLnNlbGVjdCgnLmFyZWEnKTtcbiAgICAgICAgaWYgKHRoaXMuYW5pbWF0aW9ucykge1xuICAgICAgICAgICAgbm9kZS50cmFuc2l0aW9uKCkuZHVyYXRpb24oNzUwKVxuICAgICAgICAgICAgICAgIC5hdHRyKCdkJywgdGhpcy5wYXRoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG5vZGUuYXR0cignZCcsIHRoaXMucGF0aCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEFyZWFDb21wb25lbnQucHJvdG90eXBlLmdldEdyYWRpZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5zdG9wcykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RvcHM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IDAsXG4gICAgICAgICAgICAgICAgY29sb3I6IHRoaXMuZmlsbCxcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiB0aGlzLnN0YXJ0T3BhY2l0eVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IDEwMCxcbiAgICAgICAgICAgICAgICBjb2xvcjogdGhpcy5maWxsLFxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IHRoaXMuZW5kT3BhY2l0eVxuICAgICAgICAgICAgfVxuICAgICAgICBdO1xuICAgIH07XG4gICAgdmFyIF9hO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEFyZWFDb21wb25lbnQucHJvdG90eXBlLCBcImRhdGFcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBBcmVhQ29tcG9uZW50LnByb3RvdHlwZSwgXCJwYXRoXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQXJlYUNvbXBvbmVudC5wcm90b3R5cGUsIFwic3RhcnRpbmdQYXRoXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQXJlYUNvbXBvbmVudC5wcm90b3R5cGUsIFwiZmlsbFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEFyZWFDb21wb25lbnQucHJvdG90eXBlLCBcIm9wYWNpdHlcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBBcmVhQ29tcG9uZW50LnByb3RvdHlwZSwgXCJzdGFydE9wYWNpdHlcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBBcmVhQ29tcG9uZW50LnByb3RvdHlwZSwgXCJlbmRPcGFjaXR5XCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQXJlYUNvbXBvbmVudC5wcm90b3R5cGUsIFwiYWN0aXZlTGFiZWxcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEJvb2xlYW4pXG4gICAgXSwgQXJlYUNvbXBvbmVudC5wcm90b3R5cGUsIFwiZ3JhZGllbnRcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEFycmF5KVxuICAgIF0sIEFyZWFDb21wb25lbnQucHJvdG90eXBlLCBcInN0b3BzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIEFyZWFDb21wb25lbnQucHJvdG90eXBlLCBcImFuaW1hdGlvbnNcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgT3V0cHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQXJlYUNvbXBvbmVudC5wcm90b3R5cGUsIFwic2VsZWN0XCIsIHZvaWQgMCk7XG4gICAgQXJlYUNvbXBvbmVudCA9IF9fZGVjb3JhdGUoW1xuICAgICAgICBDb21wb25lbnQoe1xuICAgICAgICAgICAgc2VsZWN0b3I6ICdnW25neC1jaGFydHMtYXJlYV0nLFxuICAgICAgICAgICAgdGVtcGxhdGU6IFwiXFxuICAgIDxzdmc6ZGVmcyAqbmdJZj1cXFwiZ3JhZGllbnRcXFwiPlxcbiAgICAgIDxzdmc6ZyBuZ3gtY2hhcnRzLXN2Zy1saW5lYXItZ3JhZGllbnRcXG4gICAgICAgIG9yaWVudGF0aW9uPVxcXCJ2ZXJ0aWNhbFxcXCJcXG4gICAgICAgIFtuYW1lXT1cXFwiZ3JhZGllbnRJZFxcXCJcXG4gICAgICAgIFtzdG9wc109XFxcImdyYWRpZW50U3RvcHNcXFwiXFxuICAgICAgLz5cXG4gICAgPC9zdmc6ZGVmcz5cXG4gICAgPHN2ZzpwYXRoXFxuICAgICAgY2xhc3M9XFxcImFyZWFcXFwiXFxuICAgICAgW2F0dHIuZF09XFxcImFyZWFQYXRoXFxcIlxcbiAgICAgIFthdHRyLmZpbGxdPVxcXCJncmFkaWVudCA/IGdyYWRpZW50RmlsbCA6IGZpbGxcXFwiXFxuICAgICAgW3N0eWxlLm9wYWNpdHldPVxcXCJvcGFjaXR5XFxcIlxcbiAgICAvPlxcbiAgXCIsXG4gICAgICAgICAgICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaFxuICAgICAgICB9KSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjpwYXJhbXR5cGVzXCIsIFt0eXBlb2YgKF9hID0gdHlwZW9mIEVsZW1lbnRSZWYgIT09IFwidW5kZWZpbmVkXCIgJiYgRWxlbWVudFJlZikgPT09IFwiZnVuY3Rpb25cIiA/IF9hIDogT2JqZWN0XSlcbiAgICBdLCBBcmVhQ29tcG9uZW50KTtcbiAgICByZXR1cm4gQXJlYUNvbXBvbmVudDtcbn0oKSk7XG5cbi8vIElmIHdlIGRvbid0IGNoZWNrIHdoZXRoZXIgJ3dpbmRvdycgYW5kICdnbG9iYWwnIHZhcmlhYmxlcyBhcmUgZGVmaW5lZCxcbi8vIGNvZGUgd2lsbCBmYWlsIGluIGJyb3dzZXIvbm9kZSB3aXRoICd2YXJpYWJsZSBpcyB1bmRlZmluZWQnIGVycm9yLlxudmFyIHJvb3Q7XG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByb290ID0gd2luZG93O1xufVxuZWxzZSBpZiAodHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByb290ID0gZ2xvYmFsO1xufVxuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOnZhcmlhYmxlLW5hbWVcbnZhciBNb3VzZUV2ZW50ID0gcm9vdC5Nb3VzZUV2ZW50O1xuZnVuY3Rpb24gY3JlYXRlTW91c2VFdmVudChuYW1lLCBidWJibGVzLCBjYW5jZWxhYmxlKSB7XG4gICAgaWYgKGJ1YmJsZXMgPT09IHZvaWQgMCkgeyBidWJibGVzID0gZmFsc2U7IH1cbiAgICBpZiAoY2FuY2VsYWJsZSA9PT0gdm9pZCAwKSB7IGNhbmNlbGFibGUgPSB0cnVlOyB9XG4gICAgLy8gQ2FsbGluZyBuZXcgb2YgYW4gZXZlbnQgZG9lcyBub3Qgd29yayBjb3JyZWN0bHkgb24gSUUuIFRoZSBmb2xsb3dpbmcgaXMgYSB0ZXN0ZWQgd29ya2Fyb3VuZFxuICAgIC8vIFNlZSBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yNzE3Njk4My9kaXNwYXRjaGV2ZW50LW5vdC13b3JraW5nLWluLWllMTFcbiAgICBpZiAodHlwZW9mIChNb3VzZUV2ZW50KSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAvLyBTYW5lIGJyb3dzZXJzXG4gICAgICAgIHJldHVybiBuZXcgTW91c2VFdmVudChuYW1lLCB7IGJ1YmJsZXM6IGJ1YmJsZXMsIGNhbmNlbGFibGU6IGNhbmNlbGFibGUgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBJRVxuICAgICAgICB2YXIgZXZlbnQkJDEgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnTW91c2VFdmVudCcpO1xuICAgICAgICBldmVudCQkMS5pbml0RXZlbnQobmFtZSwgYnViYmxlcywgY2FuY2VsYWJsZSk7XG4gICAgICAgIHJldHVybiBldmVudCQkMTtcbiAgICB9XG59XG5cbnZhciBUb29sdGlwQXJlYSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUb29sdGlwQXJlYSgpIHtcbiAgICAgICAgdGhpcy5hbmNob3JPcGFjaXR5ID0gMDtcbiAgICAgICAgdGhpcy5hbmNob3JQb3MgPSAtMTtcbiAgICAgICAgdGhpcy5hbmNob3JWYWx1ZXMgPSBbXTtcbiAgICAgICAgdGhpcy5zaG93UGVyY2VudGFnZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnRvb2x0aXBEaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmhvdmVyID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgIH1cbiAgICBUb29sdGlwQXJlYS5wcm90b3R5cGUuZ2V0VmFsdWVzID0gZnVuY3Rpb24gKHhWYWwpIHtcbiAgICAgICAgdmFyIHJlc3VsdHMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHRoaXMucmVzdWx0czsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHZhciBncm91cCA9IF9hW19pXTtcbiAgICAgICAgICAgIHZhciBpdGVtID0gZ3JvdXAuc2VyaWVzLmZpbmQoZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQubmFtZS50b1N0cmluZygpID09PSB4VmFsLnRvU3RyaW5nKCk7IH0pO1xuICAgICAgICAgICAgdmFyIGdyb3VwTmFtZSA9IGdyb3VwLm5hbWU7XG4gICAgICAgICAgICBpZiAoZ3JvdXBOYW1lIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICAgICAgICAgIGdyb3VwTmFtZSA9IGdyb3VwTmFtZS50b0xvY2FsZURhdGVTdHJpbmcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpdGVtKSB7XG4gICAgICAgICAgICAgICAgdmFyIGxhYmVsID0gaXRlbS5uYW1lO1xuICAgICAgICAgICAgICAgIHZhciB2YWwgPSBpdGVtLnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNob3dQZXJjZW50YWdlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbCA9IChpdGVtLmQxIC0gaXRlbS5kMCkudG9GaXhlZCgyKSArICclJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIGNvbG9yID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbG9ycy5zY2FsZVR5cGUgPT09ICdsaW5lYXInKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB2ID0gdmFsO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5kMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdiA9IGl0ZW0uZDE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29sb3IgPSB0aGlzLmNvbG9ycy5nZXRDb2xvcih2KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yID0gdGhpcy5jb2xvcnMuZ2V0Q29sb3IoZ3JvdXAubmFtZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBkYXRhID0gT2JqZWN0LmFzc2lnbih7fSwgaXRlbSwge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBsYWJlbCxcbiAgICAgICAgICAgICAgICAgICAgc2VyaWVzOiBncm91cE5hbWUsXG4gICAgICAgICAgICAgICAgICAgIG1pbjogaXRlbS5taW4sXG4gICAgICAgICAgICAgICAgICAgIG1heDogaXRlbS5tYXgsXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiBjb2xvclxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICB9O1xuICAgIFRvb2x0aXBBcmVhLnByb3RvdHlwZS5tb3VzZU1vdmUgPSBmdW5jdGlvbiAoZXZlbnQkJDEpIHtcbiAgICAgICAgdmFyIHhQb3MgPSBldmVudCQkMS5wYWdlWCAtIGV2ZW50JCQxLnRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0O1xuICAgICAgICB2YXIgY2xvc2VzdEluZGV4ID0gdGhpcy5maW5kQ2xvc2VzdFBvaW50SW5kZXgoeFBvcyk7XG4gICAgICAgIHZhciBjbG9zZXN0UG9pbnQgPSB0aGlzLnhTZXRbY2xvc2VzdEluZGV4XTtcbiAgICAgICAgdGhpcy5hbmNob3JQb3MgPSB0aGlzLnhTY2FsZShjbG9zZXN0UG9pbnQpO1xuICAgICAgICB0aGlzLmFuY2hvclBvcyA9IE1hdGgubWF4KDAsIHRoaXMuYW5jaG9yUG9zKTtcbiAgICAgICAgdGhpcy5hbmNob3JQb3MgPSBNYXRoLm1pbih0aGlzLmRpbXMud2lkdGgsIHRoaXMuYW5jaG9yUG9zKTtcbiAgICAgICAgdGhpcy5hbmNob3JWYWx1ZXMgPSB0aGlzLmdldFZhbHVlcyhjbG9zZXN0UG9pbnQpO1xuICAgICAgICBpZiAodGhpcy5hbmNob3JQb3MgIT09IHRoaXMubGFzdEFuY2hvclBvcykge1xuICAgICAgICAgICAgdmFyIGV2ID0gY3JlYXRlTW91c2VFdmVudCgnbW91c2VsZWF2ZScpO1xuICAgICAgICAgICAgdGhpcy50b29sdGlwQW5jaG9yLm5hdGl2ZUVsZW1lbnQuZGlzcGF0Y2hFdmVudChldik7XG4gICAgICAgICAgICB0aGlzLmFuY2hvck9wYWNpdHkgPSAwLjc7XG4gICAgICAgICAgICB0aGlzLmhvdmVyLmVtaXQoe1xuICAgICAgICAgICAgICAgIHZhbHVlOiBjbG9zZXN0UG9pbnRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5zaG93VG9vbHRpcCgpO1xuICAgICAgICAgICAgdGhpcy5sYXN0QW5jaG9yUG9zID0gdGhpcy5hbmNob3JQb3M7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFRvb2x0aXBBcmVhLnByb3RvdHlwZS5maW5kQ2xvc2VzdFBvaW50SW5kZXggPSBmdW5jdGlvbiAoeFBvcykge1xuICAgICAgICB2YXIgbWluSW5kZXggPSAwO1xuICAgICAgICB2YXIgbWF4SW5kZXggPSB0aGlzLnhTZXQubGVuZ3RoIC0gMTtcbiAgICAgICAgdmFyIG1pbkRpZmYgPSBOdW1iZXIuTUFYX1ZBTFVFO1xuICAgICAgICB2YXIgY2xvc2VzdEluZGV4ID0gMDtcbiAgICAgICAgd2hpbGUgKG1pbkluZGV4IDw9IG1heEluZGV4KSB7XG4gICAgICAgICAgICB2YXIgY3VycmVudEluZGV4ID0gKChtaW5JbmRleCArIG1heEluZGV4KSAvIDIpIHwgMDtcbiAgICAgICAgICAgIHZhciBjdXJyZW50RWxlbWVudCA9IHRoaXMueFNjYWxlKHRoaXMueFNldFtjdXJyZW50SW5kZXhdKTtcbiAgICAgICAgICAgIHZhciBjdXJEaWZmID0gTWF0aC5hYnMoY3VycmVudEVsZW1lbnQgLSB4UG9zKTtcbiAgICAgICAgICAgIGlmIChjdXJEaWZmIDwgbWluRGlmZikge1xuICAgICAgICAgICAgICAgIG1pbkRpZmYgPSBjdXJEaWZmO1xuICAgICAgICAgICAgICAgIGNsb3Nlc3RJbmRleCA9IGN1cnJlbnRJbmRleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjdXJyZW50RWxlbWVudCA8IHhQb3MpIHtcbiAgICAgICAgICAgICAgICBtaW5JbmRleCA9IGN1cnJlbnRJbmRleCArIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjdXJyZW50RWxlbWVudCA+IHhQb3MpIHtcbiAgICAgICAgICAgICAgICBtYXhJbmRleCA9IGN1cnJlbnRJbmRleCAtIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBtaW5EaWZmID0gMDtcbiAgICAgICAgICAgICAgICBjbG9zZXN0SW5kZXggPSBjdXJyZW50SW5kZXg7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNsb3Nlc3RJbmRleDtcbiAgICB9O1xuICAgIFRvb2x0aXBBcmVhLnByb3RvdHlwZS5zaG93VG9vbHRpcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGV2ZW50JCQxID0gY3JlYXRlTW91c2VFdmVudCgnbW91c2VlbnRlcicpO1xuICAgICAgICB0aGlzLnRvb2x0aXBBbmNob3IubmF0aXZlRWxlbWVudC5kaXNwYXRjaEV2ZW50KGV2ZW50JCQxKTtcbiAgICB9O1xuICAgIFRvb2x0aXBBcmVhLnByb3RvdHlwZS5oaWRlVG9vbHRpcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGV2ZW50JCQxID0gY3JlYXRlTW91c2VFdmVudCgnbW91c2VsZWF2ZScpO1xuICAgICAgICB0aGlzLnRvb2x0aXBBbmNob3IubmF0aXZlRWxlbWVudC5kaXNwYXRjaEV2ZW50KGV2ZW50JCQxKTtcbiAgICAgICAgdGhpcy5hbmNob3JPcGFjaXR5ID0gMDtcbiAgICAgICAgdGhpcy5sYXN0QW5jaG9yUG9zID0gLTE7XG4gICAgfTtcbiAgICBUb29sdGlwQXJlYS5wcm90b3R5cGUuZ2V0VG9vbFRpcFRleHQgPSBmdW5jdGlvbiAodG9vbHRpcEl0ZW0pIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9ICcnO1xuICAgICAgICBpZiAodG9vbHRpcEl0ZW0uc2VyaWVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJlc3VsdCArPSB0b29sdGlwSXRlbS5zZXJpZXM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQgKz0gJz8/Pyc7XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0ICs9ICc6ICc7XG4gICAgICAgIGlmICh0b29sdGlwSXRlbS52YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXN1bHQgKz0gdG9vbHRpcEl0ZW0udmFsdWUudG9Mb2NhbGVTdHJpbmcoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodG9vbHRpcEl0ZW0ubWluICE9PSB1bmRlZmluZWQgfHwgdG9vbHRpcEl0ZW0ubWF4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJlc3VsdCArPSAnICgnO1xuICAgICAgICAgICAgaWYgKHRvb2x0aXBJdGVtLm1pbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRvb2x0aXBJdGVtLm1heCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSAn4omlJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9IHRvb2x0aXBJdGVtLm1pbi50b0xvY2FsZVN0cmluZygpO1xuICAgICAgICAgICAgICAgIGlmICh0b29sdGlwSXRlbS5tYXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gJyAtICc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodG9vbHRpcEl0ZW0ubWF4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gJ+KJpCc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodG9vbHRpcEl0ZW0ubWF4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gdG9vbHRpcEl0ZW0ubWF4LnRvTG9jYWxlU3RyaW5nKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXN1bHQgKz0gJyknO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICB2YXIgX2E7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgVG9vbHRpcEFyZWEucHJvdG90eXBlLCBcImRpbXNcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBUb29sdGlwQXJlYS5wcm90b3R5cGUsIFwieFNldFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIFRvb2x0aXBBcmVhLnByb3RvdHlwZSwgXCJ4U2NhbGVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBUb29sdGlwQXJlYS5wcm90b3R5cGUsIFwieVNjYWxlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgVG9vbHRpcEFyZWEucHJvdG90eXBlLCBcInJlc3VsdHNcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBUb29sdGlwQXJlYS5wcm90b3R5cGUsIFwiY29sb3JzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIFRvb2x0aXBBcmVhLnByb3RvdHlwZSwgXCJzaG93UGVyY2VudGFnZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbiAgICBdLCBUb29sdGlwQXJlYS5wcm90b3R5cGUsIFwidG9vbHRpcERpc2FibGVkXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCB0eXBlb2YgKF9hID0gdHlwZW9mIFRlbXBsYXRlUmVmICE9PSBcInVuZGVmaW5lZFwiICYmIFRlbXBsYXRlUmVmKSA9PT0gXCJmdW5jdGlvblwiID8gX2EgOiBPYmplY3QpXG4gICAgXSwgVG9vbHRpcEFyZWEucHJvdG90eXBlLCBcInRvb2x0aXBUZW1wbGF0ZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBPdXRwdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBUb29sdGlwQXJlYS5wcm90b3R5cGUsIFwiaG92ZXJcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgVmlld0NoaWxkKCd0b29sdGlwQW5jaG9yJywgeyBzdGF0aWM6IGZhbHNlIH0pLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIFRvb2x0aXBBcmVhLnByb3RvdHlwZSwgXCJ0b29sdGlwQW5jaG9yXCIsIHZvaWQgMCk7XG4gICAgVG9vbHRpcEFyZWEgPSBfX2RlY29yYXRlKFtcbiAgICAgICAgQ29tcG9uZW50KHtcbiAgICAgICAgICAgIHNlbGVjdG9yOiAnZ1tuZ3gtY2hhcnRzLXRvb2x0aXAtYXJlYV0nLFxuICAgICAgICAgICAgdGVtcGxhdGU6IFwiXFxuICAgIDxzdmc6Zz5cXG4gICAgICA8c3ZnOnJlY3RcXG4gICAgICAgIGNsYXNzPVxcXCJ0b29sdGlwLWFyZWFcXFwiXFxuICAgICAgICBbYXR0ci54XT1cXFwiMFxcXCJcXG4gICAgICAgIHk9XFxcIjBcXFwiXFxuICAgICAgICBbYXR0ci53aWR0aF09XFxcImRpbXMud2lkdGhcXFwiXFxuICAgICAgICBbYXR0ci5oZWlnaHRdPVxcXCJkaW1zLmhlaWdodFxcXCJcXG4gICAgICAgIHN0eWxlPVxcXCJvcGFjaXR5OiAwOyBjdXJzb3I6ICdhdXRvJztcXFwiXFxuICAgICAgICAobW91c2Vtb3ZlKT1cXFwibW91c2VNb3ZlKCRldmVudClcXFwiXFxuICAgICAgICAobW91c2VsZWF2ZSk9XFxcImhpZGVUb29sdGlwKClcXFwiXFxuICAgICAgLz5cXG4gICAgICA8eGh0bWw6bmctdGVtcGxhdGUgI2RlZmF1bHRUb29sdGlwVGVtcGxhdGUgbGV0LW1vZGVsPVxcXCJtb2RlbFxcXCI+XFxuICAgICAgICA8eGh0bWw6ZGl2IGNsYXNzPVxcXCJhcmVhLXRvb2x0aXAtY29udGFpbmVyXFxcIj5cXG4gICAgICAgICAgPHhodG1sOmRpdiAqbmdGb3I9XFxcImxldCB0b29sdGlwSXRlbSBvZiBtb2RlbFxcXCIgY2xhc3M9XFxcInRvb2x0aXAtaXRlbVxcXCI+XFxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcInRvb2x0aXAtaXRlbS1jb2xvclxcXCIgW3N0eWxlLmJhY2tncm91bmQtY29sb3JdPVxcXCJ0b29sdGlwSXRlbS5jb2xvclxcXCI+IDwvc3Bhbj5cXG4gICAgICAgICAgICB7eyBnZXRUb29sVGlwVGV4dCh0b29sdGlwSXRlbSkgfX1cXG4gICAgICAgICAgPC94aHRtbDpkaXY+XFxuICAgICAgICA8L3hodG1sOmRpdj5cXG4gICAgICA8L3hodG1sOm5nLXRlbXBsYXRlPlxcbiAgICAgIDxzdmc6cmVjdFxcbiAgICAgICAgI3Rvb2x0aXBBbmNob3JcXG4gICAgICAgIFtAYW5pbWF0aW9uU3RhdGVdPVxcXCJhbmNob3JPcGFjaXR5ICE9PSAwID8gJ2FjdGl2ZScgOiAnaW5hY3RpdmUnXFxcIlxcbiAgICAgICAgY2xhc3M9XFxcInRvb2x0aXAtYW5jaG9yXFxcIlxcbiAgICAgICAgW2F0dHIueF09XFxcImFuY2hvclBvc1xcXCJcXG4gICAgICAgIHk9XFxcIjBcXFwiXFxuICAgICAgICBbYXR0ci53aWR0aF09XFxcIjFcXFwiXFxuICAgICAgICBbYXR0ci5oZWlnaHRdPVxcXCJkaW1zLmhlaWdodFxcXCJcXG4gICAgICAgIFtzdHlsZS5vcGFjaXR5XT1cXFwiYW5jaG9yT3BhY2l0eVxcXCJcXG4gICAgICAgIFtzdHlsZS5wb2ludGVyLWV2ZW50c109XFxcIidub25lJ1xcXCJcXG4gICAgICAgIG5neC10b29sdGlwXFxuICAgICAgICBbdG9vbHRpcERpc2FibGVkXT1cXFwidG9vbHRpcERpc2FibGVkXFxcIlxcbiAgICAgICAgW3Rvb2x0aXBQbGFjZW1lbnRdPVxcXCIncmlnaHQnXFxcIlxcbiAgICAgICAgW3Rvb2x0aXBUeXBlXT1cXFwiJ3Rvb2x0aXAnXFxcIlxcbiAgICAgICAgW3Rvb2x0aXBTcGFjaW5nXT1cXFwiMTVcXFwiXFxuICAgICAgICBbdG9vbHRpcFRlbXBsYXRlXT1cXFwidG9vbHRpcFRlbXBsYXRlID8gdG9vbHRpcFRlbXBsYXRlIDogZGVmYXVsdFRvb2x0aXBUZW1wbGF0ZVxcXCJcXG4gICAgICAgIFt0b29sdGlwQ29udGV4dF09XFxcImFuY2hvclZhbHVlc1xcXCJcXG4gICAgICAgIFt0b29sdGlwSW1tZWRpYXRlRXhpdF09XFxcInRydWVcXFwiXFxuICAgICAgLz5cXG4gICAgPC9zdmc6Zz5cXG4gIFwiLFxuICAgICAgICAgICAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXG4gICAgICAgICAgICBhbmltYXRpb25zOiBbXG4gICAgICAgICAgICAgICAgdHJpZ2dlcignYW5pbWF0aW9uU3RhdGUnLCBbXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb24oJ2luYWN0aXZlID0+IGFjdGl2ZScsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAwXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGUoMjUwLCBzdHlsZSh7IG9wYWNpdHk6IDAuNyB9KSlcbiAgICAgICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb24oJ2FjdGl2ZSA9PiBpbmFjdGl2ZScsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAwLjdcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0ZSgyNTAsIHN0eWxlKHsgb3BhY2l0eTogMCB9KSlcbiAgICAgICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgXVxuICAgICAgICB9KVxuICAgIF0sIFRvb2x0aXBBcmVhKTtcbiAgICByZXR1cm4gVG9vbHRpcEFyZWE7XG59KCkpO1xuXG4vLyBSb2JlcnQgUGVubmVyJ3MgZWFzZU91dEV4cG9cbmZ1bmN0aW9uIGVhc2VPdXRFeHBvKHQsIGIsIGMsIGQpIHtcbiAgICByZXR1cm4gKGMgKiAoLU1hdGgucG93KDIsICgtMTAgKiB0KSAvIGQpICsgMSkgKiAxMDI0KSAvIDEwMjMgKyBiO1xufVxuLyoqXG4gKiBDb3VudHMgZnJvbSBhIG51bWJlciB0byB0aGUgZW5kIGluY3JlbWVudGFsbHkuXG4gKlxuICogQGV4cG9ydFxuICogQHBhcmFtIHthbnl9IGNvdW50RnJvbVxuICogQHBhcmFtIHthbnl9IGNvdW50VG9cbiAqIEBwYXJhbSB7YW55fSBjb3VudERlY2ltYWxzXG4gKiBAcGFyYW0ge2FueX0gY291bnREdXJhdGlvblxuICogQHBhcmFtIHthbnl9IGNhbGxiYWNrXG4gKiBAcmV0dXJuc1xuICovXG5mdW5jdGlvbiBjb3VudChjb3VudEZyb20sIGNvdW50VG8sIGNvdW50RGVjaW1hbHMsIGNvdW50RHVyYXRpb24sIGNhbGxiYWNrKSB7XG4gICAgdmFyIHN0YXJ0VmFsID0gTnVtYmVyKGNvdW50RnJvbSk7XG4gICAgdmFyIGVuZFZhbCA9IE51bWJlcihjb3VudFRvKTtcbiAgICB2YXIgY291bnREb3duID0gc3RhcnRWYWwgPiBlbmRWYWw7XG4gICAgdmFyIGRlY2ltYWxzID0gTWF0aC5tYXgoMCwgY291bnREZWNpbWFscyk7XG4gICAgdmFyIGRlYyA9IE1hdGgucG93KDEwLCBkZWNpbWFscyk7XG4gICAgdmFyIGR1cmF0aW9uID0gTnVtYmVyKGNvdW50RHVyYXRpb24pICogMTAwMDtcbiAgICB2YXIgc3RhcnRUaW1lO1xuICAgIGZ1bmN0aW9uIHJ1bkNvdW50KHRpbWVzdGFtcCkge1xuICAgICAgICB2YXIgZnJhbWVWYWw7XG4gICAgICAgIHZhciBwcm9ncmVzcyA9IHRpbWVzdGFtcCAtIHN0YXJ0VGltZTtcbiAgICAgICAgaWYgKGNvdW50RG93bikge1xuICAgICAgICAgICAgZnJhbWVWYWwgPSBzdGFydFZhbCAtIGVhc2VPdXRFeHBvKHByb2dyZXNzLCAwLCBzdGFydFZhbCAtIGVuZFZhbCwgZHVyYXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZnJhbWVWYWwgPSBlYXNlT3V0RXhwbyhwcm9ncmVzcywgc3RhcnRWYWwsIGVuZFZhbCAtIHN0YXJ0VmFsLCBkdXJhdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvdW50RG93bikge1xuICAgICAgICAgICAgZnJhbWVWYWwgPSBmcmFtZVZhbCA8IGVuZFZhbCA/IGVuZFZhbCA6IGZyYW1lVmFsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZnJhbWVWYWwgPSBmcmFtZVZhbCA+IGVuZFZhbCA/IGVuZFZhbCA6IGZyYW1lVmFsO1xuICAgICAgICB9XG4gICAgICAgIGZyYW1lVmFsID0gTWF0aC5yb3VuZChmcmFtZVZhbCAqIGRlYykgLyBkZWM7XG4gICAgICAgIHZhciB0aWNrID0gcHJvZ3Jlc3MgPCBkdXJhdGlvbjtcbiAgICAgICAgY2FsbGJhY2soe1xuICAgICAgICAgICAgdmFsdWU6IGZyYW1lVmFsLFxuICAgICAgICAgICAgcHJvZ3Jlc3M6IHByb2dyZXNzLFxuICAgICAgICAgICAgdGltZXN0YW1wOiB0aW1lc3RhbXAsXG4gICAgICAgICAgICBmaW5pc2hlZDogIXRpY2tcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh0aWNrKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uICh2YWwpIHsgcmV0dXJuIHJ1bkNvdW50KHZhbCk7IH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gKHRpbWVzdGFtcCkge1xuICAgICAgICBzdGFydFRpbWUgPSB0aW1lc3RhbXA7XG4gICAgICAgIHJldHVybiBydW5Db3VudCh0aW1lc3RhbXApO1xuICAgIH0pO1xufVxuLyoqXG4gKiBEZXRlcm1pbmUgZGVjaW1hbHMgcGxhY2VzXG4gKlxuICogQGV4cG9ydFxuICogQHBhcmFtIHthbnl9IGNvdW50VG9cbiAqIEByZXR1cm5zXG4gKi9cbmZ1bmN0aW9uIGRlY2ltYWxDaGVja2VyKGNvdW50VG8pIHtcbiAgICB2YXIgZW5kVmFsID0gTnVtYmVyKGNvdW50VG8pO1xuICAgIGlmIChlbmRWYWwgJSAxICE9PSAwICYmIE1hdGguYWJzKGVuZFZhbCkgPD0gMTApIHtcbiAgICAgICAgcmV0dXJuIDI7XG4gICAgfVxuICAgIHJldHVybiAwO1xufVxuXG4vKipcbiAqIENvdW50IHVwIGNvbXBvbmVudFxuICpcbiAqIExvb3NlbHkgaW5zcGlyZWQgYnk6XG4gKiAgLSBodHRwczovL2dpdGh1Yi5jb20vaXp1cGV0L2FuZ3VsYXIyLWNvdW50b1xuICogIC0gaHR0cHM6Ly9pbm9yZ2FuaWsuZ2l0aHViLmlvL2NvdW50VXAuanMvXG4gKlxuICogQGV4cG9ydFxuICogQGNsYXNzIENvdW50VXBEaXJlY3RpdmVcbiAqL1xudmFyIENvdW50VXBEaXJlY3RpdmUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ291bnRVcERpcmVjdGl2ZShjZCwgZWxlbWVudCkge1xuICAgICAgICB0aGlzLmNkID0gY2Q7XG4gICAgICAgIHRoaXMuY291bnREdXJhdGlvbiA9IDE7XG4gICAgICAgIHRoaXMuY291bnRQcmVmaXggPSAnJztcbiAgICAgICAgdGhpcy5jb3VudFN1ZmZpeCA9ICcnO1xuICAgICAgICB0aGlzLmNvdW50Q2hhbmdlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICB0aGlzLmNvdW50RmluaXNoID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICB0aGlzLnZhbHVlID0gJyc7XG4gICAgICAgIHRoaXMuX2NvdW50RGVjaW1hbHMgPSAwO1xuICAgICAgICB0aGlzLl9jb3VudFRvID0gMDtcbiAgICAgICAgdGhpcy5fY291bnRGcm9tID0gMDtcbiAgICAgICAgdGhpcy5uYXRpdmVFbGVtZW50ID0gZWxlbWVudC5uYXRpdmVFbGVtZW50O1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ291bnRVcERpcmVjdGl2ZS5wcm90b3R5cGUsIFwiY291bnREZWNpbWFsc1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2NvdW50RGVjaW1hbHMpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NvdW50RGVjaW1hbHM7XG4gICAgICAgICAgICByZXR1cm4gZGVjaW1hbENoZWNrZXIodGhpcy5jb3VudFRvKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgICAgICB0aGlzLl9jb3VudERlY2ltYWxzID0gdmFsO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ291bnRVcERpcmVjdGl2ZS5wcm90b3R5cGUsIFwiY291bnRUb1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NvdW50VG87XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICAgICAgdGhpcy5fY291bnRUbyA9IHBhcnNlRmxvYXQodmFsKTtcbiAgICAgICAgICAgIHRoaXMuc3RhcnQoKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvdW50VXBEaXJlY3RpdmUucHJvdG90eXBlLCBcImNvdW50RnJvbVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NvdW50RnJvbTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgICAgICB0aGlzLl9jb3VudEZyb20gPSBwYXJzZUZsb2F0KHZhbCk7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0KCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIENvdW50VXBEaXJlY3RpdmUucHJvdG90eXBlLm5nT25EZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLmFuaW1hdGlvblJlcSk7XG4gICAgfTtcbiAgICBDb3VudFVwRGlyZWN0aXZlLnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5hbmltYXRpb25SZXEpO1xuICAgICAgICB2YXIgdmFsdWVGb3JtYXR0aW5nID0gdGhpcy52YWx1ZUZvcm1hdHRpbmcgfHwgKGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gXCJcIiArIF90aGlzLmNvdW50UHJlZml4ICsgdmFsdWUudG9Mb2NhbGVTdHJpbmcoKSArIF90aGlzLmNvdW50U3VmZml4OyB9KTtcbiAgICAgICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBfYS52YWx1ZSwgcHJvZ3Jlc3MgPSBfYS5wcm9ncmVzcywgZmluaXNoZWQgPSBfYS5maW5pc2hlZDtcbiAgICAgICAgICAgIF90aGlzLnZhbHVlID0gdmFsdWVGb3JtYXR0aW5nKHZhbHVlKTtcbiAgICAgICAgICAgIF90aGlzLmNkLm1hcmtGb3JDaGVjaygpO1xuICAgICAgICAgICAgaWYgKCFmaW5pc2hlZClcbiAgICAgICAgICAgICAgICBfdGhpcy5jb3VudENoYW5nZS5lbWl0KHsgdmFsdWU6IF90aGlzLnZhbHVlLCBwcm9ncmVzczogcHJvZ3Jlc3MgfSk7XG4gICAgICAgICAgICBpZiAoZmluaXNoZWQpXG4gICAgICAgICAgICAgICAgX3RoaXMuY291bnRGaW5pc2guZW1pdCh7IHZhbHVlOiBfdGhpcy52YWx1ZSwgcHJvZ3Jlc3M6IHByb2dyZXNzIH0pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmFuaW1hdGlvblJlcSA9IGNvdW50KHRoaXMuY291bnRGcm9tLCB0aGlzLmNvdW50VG8sIHRoaXMuY291bnREZWNpbWFscywgdGhpcy5jb3VudER1cmF0aW9uLCBjYWxsYmFjayk7XG4gICAgfTtcbiAgICB2YXIgX2EsIF9iO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgTnVtYmVyKVxuICAgIF0sIENvdW50VXBEaXJlY3RpdmUucHJvdG90eXBlLCBcImNvdW50RHVyYXRpb25cIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcbiAgICBdLCBDb3VudFVwRGlyZWN0aXZlLnByb3RvdHlwZSwgXCJjb3VudFByZWZpeFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgU3RyaW5nKVxuICAgIF0sIENvdW50VXBEaXJlY3RpdmUucHJvdG90eXBlLCBcImNvdW50U3VmZml4XCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQ291bnRVcERpcmVjdGl2ZS5wcm90b3R5cGUsIFwidmFsdWVGb3JtYXR0aW5nXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBOdW1iZXIpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW051bWJlcl0pXG4gICAgXSwgQ291bnRVcERpcmVjdGl2ZS5wcm90b3R5cGUsIFwiY291bnREZWNpbWFsc1wiLCBudWxsKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cGFyYW10eXBlc1wiLCBbT2JqZWN0XSlcbiAgICBdLCBDb3VudFVwRGlyZWN0aXZlLnByb3RvdHlwZSwgXCJjb3VudFRvXCIsIG51bGwpO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjpwYXJhbXR5cGVzXCIsIFtPYmplY3RdKVxuICAgIF0sIENvdW50VXBEaXJlY3RpdmUucHJvdG90eXBlLCBcImNvdW50RnJvbVwiLCBudWxsKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgT3V0cHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQ291bnRVcERpcmVjdGl2ZS5wcm90b3R5cGUsIFwiY291bnRDaGFuZ2VcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgT3V0cHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQ291bnRVcERpcmVjdGl2ZS5wcm90b3R5cGUsIFwiY291bnRGaW5pc2hcIiwgdm9pZCAwKTtcbiAgICBDb3VudFVwRGlyZWN0aXZlID0gX19kZWNvcmF0ZShbXG4gICAgICAgIENvbXBvbmVudCh7XG4gICAgICAgICAgICBzZWxlY3RvcjogJ1tuZ3gtY2hhcnRzLWNvdW50LXVwXScsXG4gICAgICAgICAgICB0ZW1wbGF0ZTogXCJ7e3ZhbHVlfX1cIlxuICAgICAgICB9KSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjpwYXJhbXR5cGVzXCIsIFt0eXBlb2YgKF9hID0gdHlwZW9mIENoYW5nZURldGVjdG9yUmVmICE9PSBcInVuZGVmaW5lZFwiICYmIENoYW5nZURldGVjdG9yUmVmKSA9PT0gXCJmdW5jdGlvblwiID8gX2EgOiBPYmplY3QsIHR5cGVvZiAoX2IgPSB0eXBlb2YgRWxlbWVudFJlZiAhPT0gXCJ1bmRlZmluZWRcIiAmJiBFbGVtZW50UmVmKSA9PT0gXCJmdW5jdGlvblwiID8gX2IgOiBPYmplY3RdKVxuICAgIF0sIENvdW50VXBEaXJlY3RpdmUpO1xuICAgIHJldHVybiBDb3VudFVwRGlyZWN0aXZlO1xufSgpKTtcblxudmFyIENPTVBPTkVOVFMgPSBbXG4gICAgQXJlYUNvbXBvbmVudCxcbiAgICBCYXNlQ2hhcnRDb21wb25lbnQsXG4gICAgQ291bnRVcERpcmVjdGl2ZSxcbiAgICBUb29sdGlwQXJlYSxcbiAgICBDaGFydENvbXBvbmVudCxcbiAgICBMZWdlbmRDb21wb25lbnQsXG4gICAgTGVnZW5kRW50cnlDb21wb25lbnQsXG4gICAgU2NhbGVMZWdlbmRDb21wb25lbnQsXG4gICAgQ2lyY2xlQ29tcG9uZW50LFxuICAgIENpcmNsZVNlcmllc0NvbXBvbmVudCxcbiAgICBHcmlkUGFuZWxDb21wb25lbnQsXG4gICAgR3JpZFBhbmVsU2VyaWVzQ29tcG9uZW50LFxuICAgIFN2Z0xpbmVhckdyYWRpZW50Q29tcG9uZW50LFxuICAgIFN2Z1JhZGlhbEdyYWRpZW50Q29tcG9uZW50LFxuICAgIFRpbWVsaW5lLFxuICAgIEFkdmFuY2VkTGVnZW5kQ29tcG9uZW50XG5dO1xudmFyIENoYXJ0Q29tbW9uTW9kdWxlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENoYXJ0Q29tbW9uTW9kdWxlKCkge1xuICAgIH1cbiAgICBDaGFydENvbW1vbk1vZHVsZSA9IF9fZGVjb3JhdGUoW1xuICAgICAgICBOZ01vZHVsZSh7XG4gICAgICAgICAgICBpbXBvcnRzOiBbXG4gICAgICAgICAgICAgICAgQ29tbW9uTW9kdWxlLFxuICAgICAgICAgICAgICAgIEF4ZXNNb2R1bGUsXG4gICAgICAgICAgICAgICAgVG9vbHRpcE1vZHVsZVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIGRlY2xhcmF0aW9uczogQ09NUE9ORU5UUy5zbGljZSgpLFxuICAgICAgICAgICAgZXhwb3J0czogW1xuICAgICAgICAgICAgICAgIENvbW1vbk1vZHVsZSxcbiAgICAgICAgICAgICAgICBBeGVzTW9kdWxlLFxuICAgICAgICAgICAgICAgIFRvb2x0aXBNb2R1bGVcbiAgICAgICAgICAgIF0uY29uY2F0KENPTVBPTkVOVFMpXG4gICAgICAgIH0pXG4gICAgXSwgQ2hhcnRDb21tb25Nb2R1bGUpO1xuICAgIHJldHVybiBDaGFydENvbW1vbk1vZHVsZTtcbn0oKSk7XG5cbmZ1bmN0aW9uIGNhbGN1bGF0ZVZpZXdEaW1lbnNpb25zKF9hKSB7XG4gICAgdmFyIHdpZHRoID0gX2Eud2lkdGgsIGhlaWdodCA9IF9hLmhlaWdodCwgbWFyZ2lucyA9IF9hLm1hcmdpbnMsIF9iID0gX2Euc2hvd1hBeGlzLCBzaG93WEF4aXMgPSBfYiA9PT0gdm9pZCAwID8gZmFsc2UgOiBfYiwgX2MgPSBfYS5zaG93WUF4aXMsIHNob3dZQXhpcyA9IF9jID09PSB2b2lkIDAgPyBmYWxzZSA6IF9jLCBfZCA9IF9hLnhBeGlzSGVpZ2h0LCB4QXhpc0hlaWdodCA9IF9kID09PSB2b2lkIDAgPyAwIDogX2QsIF9lID0gX2EueUF4aXNXaWR0aCwgeUF4aXNXaWR0aCA9IF9lID09PSB2b2lkIDAgPyAwIDogX2UsIF9mID0gX2Euc2hvd1hMYWJlbCwgc2hvd1hMYWJlbCA9IF9mID09PSB2b2lkIDAgPyBmYWxzZSA6IF9mLCBfZyA9IF9hLnNob3dZTGFiZWwsIHNob3dZTGFiZWwgPSBfZyA9PT0gdm9pZCAwID8gZmFsc2UgOiBfZywgX2ggPSBfYS5zaG93TGVnZW5kLCBzaG93TGVnZW5kID0gX2ggPT09IHZvaWQgMCA/IGZhbHNlIDogX2gsIF9qID0gX2EubGVnZW5kVHlwZSwgbGVnZW5kVHlwZSA9IF9qID09PSB2b2lkIDAgPyAnb3JkaW5hbCcgOiBfaiwgX2sgPSBfYS5sZWdlbmRQb3NpdGlvbiwgbGVnZW5kUG9zaXRpb24gPSBfayA9PT0gdm9pZCAwID8gJ3JpZ2h0JyA6IF9rLCBfbCA9IF9hLmNvbHVtbnMsIGNvbHVtbnMgPSBfbCA9PT0gdm9pZCAwID8gMTIgOiBfbDtcbiAgICB2YXIgeE9mZnNldCA9IG1hcmdpbnNbM107XG4gICAgdmFyIGNoYXJ0V2lkdGggPSB3aWR0aDtcbiAgICB2YXIgY2hhcnRIZWlnaHQgPSBoZWlnaHQgLSBtYXJnaW5zWzBdIC0gbWFyZ2luc1syXTtcbiAgICBpZiAoc2hvd0xlZ2VuZCAmJiBsZWdlbmRQb3NpdGlvbiA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICBpZiAobGVnZW5kVHlwZSA9PT0gJ29yZGluYWwnKSB7XG4gICAgICAgICAgICBjb2x1bW5zIC09IDI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb2x1bW5zIC09IDE7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2hhcnRXaWR0aCA9IGNoYXJ0V2lkdGggKiBjb2x1bW5zIC8gMTI7XG4gICAgY2hhcnRXaWR0aCA9IGNoYXJ0V2lkdGggLSBtYXJnaW5zWzFdIC0gbWFyZ2luc1szXTtcbiAgICBpZiAoc2hvd1hBeGlzKSB7XG4gICAgICAgIGNoYXJ0SGVpZ2h0IC09IDU7XG4gICAgICAgIGNoYXJ0SGVpZ2h0IC09IHhBeGlzSGVpZ2h0O1xuICAgICAgICBpZiAoc2hvd1hMYWJlbCkge1xuICAgICAgICAgICAgLy8gdGV4dCBoZWlnaHQgKyBzcGFjaW5nIGJldHdlZW4gYXhpcyBsYWJlbCBhbmQgdGljayBsYWJlbHNcbiAgICAgICAgICAgIHZhciBvZmZzZXQgPSAyNSArIDU7XG4gICAgICAgICAgICBjaGFydEhlaWdodCAtPSBvZmZzZXQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHNob3dZQXhpcykge1xuICAgICAgICBjaGFydFdpZHRoIC09IDU7XG4gICAgICAgIGNoYXJ0V2lkdGggLT0geUF4aXNXaWR0aDtcbiAgICAgICAgeE9mZnNldCArPSB5QXhpc1dpZHRoO1xuICAgICAgICB4T2Zmc2V0ICs9IDEwO1xuICAgICAgICBpZiAoc2hvd1lMYWJlbCkge1xuICAgICAgICAgICAgLy8gdGV4dCBoZWlnaHQgKyBzcGFjaW5nIGJldHdlZW4gYXhpcyBsYWJlbCBhbmQgdGljayBsYWJlbHNcbiAgICAgICAgICAgIHZhciBvZmZzZXQgPSAyNSArIDU7XG4gICAgICAgICAgICBjaGFydFdpZHRoIC09IG9mZnNldDtcbiAgICAgICAgICAgIHhPZmZzZXQgKz0gb2Zmc2V0O1xuICAgICAgICB9XG4gICAgfVxuICAgIGNoYXJ0V2lkdGggPSBNYXRoLm1heCgwLCBjaGFydFdpZHRoKTtcbiAgICBjaGFydEhlaWdodCA9IE1hdGgubWF4KDAsIGNoYXJ0SGVpZ2h0KTtcbiAgICByZXR1cm4ge1xuICAgICAgICB3aWR0aDogTWF0aC5mbG9vcihjaGFydFdpZHRoKSxcbiAgICAgICAgaGVpZ2h0OiBNYXRoLmZsb29yKGNoYXJ0SGVpZ2h0KSxcbiAgICAgICAgeE9mZnNldDogTWF0aC5mbG9vcih4T2Zmc2V0KVxuICAgIH07XG59XG5cbi8qKlxuICogQmFzZWQgb24gdGhlIGRhdGEsIHJldHVybiBhbiBhcnJheSB3aXRoIHVuaXF1ZSB2YWx1ZXMuXG4gKlxuICogQGV4cG9ydFxuICogQHJldHVybnMgYXJyYXlcbiAqIEBwYXJhbSByZXN1bHRzXG4gKi9cbmZ1bmN0aW9uIGdldFVuaXF1ZVhEb21haW5WYWx1ZXMocmVzdWx0cykge1xuICAgIHZhciB2YWx1ZVNldCA9IG5ldyBTZXQoKTtcbiAgICBmb3IgKHZhciBfaSA9IDAsIHJlc3VsdHNfMSA9IHJlc3VsdHM7IF9pIDwgcmVzdWx0c18xLmxlbmd0aDsgX2krKykge1xuICAgICAgICB2YXIgcmVzdWx0ID0gcmVzdWx0c18xW19pXTtcbiAgICAgICAgZm9yICh2YXIgX2EgPSAwLCBfYiA9IHJlc3VsdC5zZXJpZXM7IF9hIDwgX2IubGVuZ3RoOyBfYSsrKSB7XG4gICAgICAgICAgICB2YXIgZCA9IF9iW19hXTtcbiAgICAgICAgICAgIHZhbHVlU2V0LmFkZChkLm5hbWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBBcnJheS5mcm9tKHZhbHVlU2V0KTtcbn1cbi8qKlxuICogR2V0IHRoZSBzY2FsZVR5cGUgb2YgZW51bWVyYWJsZSBvZiB2YWx1ZXMuXG4gKiBAcGFyYW0gdmFsdWVzXG4gKiBAcmV0dXJucyB7c3RyaW5nfSAndGltZScsICdsaW5lYXInIG9yICdvcmRpbmFsJ1xuICovXG5mdW5jdGlvbiBnZXRTY2FsZVR5cGUodmFsdWVzLCBjaGVja0RhdGVUeXBlKSB7XG4gICAgaWYgKGNoZWNrRGF0ZVR5cGUgPT09IHZvaWQgMCkgeyBjaGVja0RhdGVUeXBlID0gdHJ1ZTsgfVxuICAgIGlmIChjaGVja0RhdGVUeXBlKSB7XG4gICAgICAgIHZhciBhbGxEYXRlcyA9IHZhbHVlcy5ldmVyeShmdW5jdGlvbiAodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgRGF0ZTsgfSk7XG4gICAgICAgIGlmIChhbGxEYXRlcykge1xuICAgICAgICAgICAgcmV0dXJuICd0aW1lJztcbiAgICAgICAgfVxuICAgIH1cbiAgICB2YXIgYWxsTnVtYmVycyA9IHZhbHVlcy5ldmVyeShmdW5jdGlvbiAodmFsdWUpIHsgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcic7IH0pO1xuICAgIGlmIChhbGxOdW1iZXJzKSB7XG4gICAgICAgIHJldHVybiAnbGluZWFyJztcbiAgICB9XG4gICAgcmV0dXJuICdvcmRpbmFsJztcbn1cblxudmFyIEFyZWFDaGFydENvbXBvbmVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQXJlYUNoYXJ0Q29tcG9uZW50LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEFyZWFDaGFydENvbXBvbmVudCgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmxlZ2VuZFRpdGxlID0gJ0xlZ2VuZCc7XG4gICAgICAgIF90aGlzLmxlZ2VuZFBvc2l0aW9uID0gJ3JpZ2h0JztcbiAgICAgICAgX3RoaXMuYmFzZVZhbHVlID0gJ2F1dG8nO1xuICAgICAgICBfdGhpcy5zaG93R3JpZExpbmVzID0gdHJ1ZTtcbiAgICAgICAgX3RoaXMuY3VydmUgPSBjdXJ2ZUxpbmVhcjtcbiAgICAgICAgX3RoaXMuYWN0aXZlRW50cmllcyA9IFtdO1xuICAgICAgICBfdGhpcy50cmltWEF4aXNUaWNrcyA9IHRydWU7XG4gICAgICAgIF90aGlzLnRyaW1ZQXhpc1RpY2tzID0gdHJ1ZTtcbiAgICAgICAgX3RoaXMucm90YXRlWEF4aXNUaWNrcyA9IHRydWU7XG4gICAgICAgIF90aGlzLm1heFhBeGlzVGlja0xlbmd0aCA9IDE2O1xuICAgICAgICBfdGhpcy5tYXhZQXhpc1RpY2tMZW5ndGggPSAxNjtcbiAgICAgICAgX3RoaXMucm91bmREb21haW5zID0gZmFsc2U7XG4gICAgICAgIF90aGlzLnRvb2x0aXBEaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5hY3RpdmF0ZSA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICAgICAgX3RoaXMuZGVhY3RpdmF0ZSA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICAgICAgX3RoaXMubWFyZ2luID0gWzEwLCAyMCwgMTAsIDIwXTtcbiAgICAgICAgX3RoaXMueEF4aXNIZWlnaHQgPSAwO1xuICAgICAgICBfdGhpcy55QXhpc1dpZHRoID0gMDtcbiAgICAgICAgX3RoaXMudGltZWxpbmVIZWlnaHQgPSA1MDtcbiAgICAgICAgX3RoaXMudGltZWxpbmVQYWRkaW5nID0gMTA7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgQXJlYUNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUudXBkYXRlLmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMuZGltcyA9IGNhbGN1bGF0ZVZpZXdEaW1lbnNpb25zKHtcbiAgICAgICAgICAgIHdpZHRoOiB0aGlzLndpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLmhlaWdodCxcbiAgICAgICAgICAgIG1hcmdpbnM6IHRoaXMubWFyZ2luLFxuICAgICAgICAgICAgc2hvd1hBeGlzOiB0aGlzLnhBeGlzLFxuICAgICAgICAgICAgc2hvd1lBeGlzOiB0aGlzLnlBeGlzLFxuICAgICAgICAgICAgeEF4aXNIZWlnaHQ6IHRoaXMueEF4aXNIZWlnaHQsXG4gICAgICAgICAgICB5QXhpc1dpZHRoOiB0aGlzLnlBeGlzV2lkdGgsXG4gICAgICAgICAgICBzaG93WExhYmVsOiB0aGlzLnNob3dYQXhpc0xhYmVsLFxuICAgICAgICAgICAgc2hvd1lMYWJlbDogdGhpcy5zaG93WUF4aXNMYWJlbCxcbiAgICAgICAgICAgIHNob3dMZWdlbmQ6IHRoaXMubGVnZW5kLFxuICAgICAgICAgICAgbGVnZW5kVHlwZTogdGhpcy5zY2hlbWVUeXBlLFxuICAgICAgICAgICAgbGVnZW5kUG9zaXRpb246IHRoaXMubGVnZW5kUG9zaXRpb25cbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh0aGlzLnRpbWVsaW5lKSB7XG4gICAgICAgICAgICB0aGlzLmRpbXMuaGVpZ2h0IC09IHRoaXMudGltZWxpbmVIZWlnaHQgKyB0aGlzLm1hcmdpblsyXSArIHRoaXMudGltZWxpbmVQYWRkaW5nO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMueERvbWFpbiA9IHRoaXMuZ2V0WERvbWFpbigpO1xuICAgICAgICBpZiAodGhpcy5maWx0ZXJlZERvbWFpbikge1xuICAgICAgICAgICAgdGhpcy54RG9tYWluID0gdGhpcy5maWx0ZXJlZERvbWFpbjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnlEb21haW4gPSB0aGlzLmdldFlEb21haW4oKTtcbiAgICAgICAgdGhpcy5zZXJpZXNEb21haW4gPSB0aGlzLmdldFNlcmllc0RvbWFpbigpO1xuICAgICAgICB0aGlzLnhTY2FsZSA9IHRoaXMuZ2V0WFNjYWxlKHRoaXMueERvbWFpbiwgdGhpcy5kaW1zLndpZHRoKTtcbiAgICAgICAgdGhpcy55U2NhbGUgPSB0aGlzLmdldFlTY2FsZSh0aGlzLnlEb21haW4sIHRoaXMuZGltcy5oZWlnaHQpO1xuICAgICAgICB0aGlzLnVwZGF0ZVRpbWVsaW5lKCk7XG4gICAgICAgIHRoaXMuc2V0Q29sb3JzKCk7XG4gICAgICAgIHRoaXMubGVnZW5kT3B0aW9ucyA9IHRoaXMuZ2V0TGVnZW5kT3B0aW9ucygpO1xuICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IFwidHJhbnNsYXRlKFwiICsgdGhpcy5kaW1zLnhPZmZzZXQgKyBcIiwgXCIgKyB0aGlzLm1hcmdpblswXSArIFwiKVwiO1xuICAgICAgICB0aGlzLmNsaXBQYXRoSWQgPSAnY2xpcCcgKyBpZCgpLnRvU3RyaW5nKCk7XG4gICAgICAgIHRoaXMuY2xpcFBhdGggPSBcInVybCgjXCIgKyB0aGlzLmNsaXBQYXRoSWQgKyBcIilcIjtcbiAgICB9O1xuICAgIEFyZWFDaGFydENvbXBvbmVudC5wcm90b3R5cGUudXBkYXRlVGltZWxpbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnRpbWVsaW5lKSB7XG4gICAgICAgICAgICB0aGlzLnRpbWVsaW5lV2lkdGggPSB0aGlzLmRpbXMud2lkdGg7XG4gICAgICAgICAgICB0aGlzLnRpbWVsaW5lWERvbWFpbiA9IHRoaXMuZ2V0WERvbWFpbigpO1xuICAgICAgICAgICAgdGhpcy50aW1lbGluZVhTY2FsZSA9IHRoaXMuZ2V0WFNjYWxlKHRoaXMudGltZWxpbmVYRG9tYWluLCB0aGlzLnRpbWVsaW5lV2lkdGgpO1xuICAgICAgICAgICAgdGhpcy50aW1lbGluZVlTY2FsZSA9IHRoaXMuZ2V0WVNjYWxlKHRoaXMueURvbWFpbiwgdGhpcy50aW1lbGluZUhlaWdodCk7XG4gICAgICAgICAgICB0aGlzLnRpbWVsaW5lVHJhbnNmb3JtID0gXCJ0cmFuc2xhdGUoXCIgKyB0aGlzLmRpbXMueE9mZnNldCArIFwiLCBcIiArIC10aGlzLm1hcmdpblsyXSArIFwiKVwiO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBBcmVhQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLmdldFhEb21haW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB2YWx1ZXMgPSBnZXRVbmlxdWVYRG9tYWluVmFsdWVzKHRoaXMucmVzdWx0cyk7XG4gICAgICAgIHRoaXMuc2NhbGVUeXBlID0gZ2V0U2NhbGVUeXBlKHZhbHVlcyk7XG4gICAgICAgIHZhciBkb21haW4gPSBbXTtcbiAgICAgICAgaWYgKHRoaXMuc2NhbGVUeXBlID09PSAnbGluZWFyJykge1xuICAgICAgICAgICAgdmFsdWVzID0gdmFsdWVzLm1hcChmdW5jdGlvbiAodikgeyByZXR1cm4gTnVtYmVyKHYpOyB9KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbWluJCQxO1xuICAgICAgICB2YXIgbWF4JCQxO1xuICAgICAgICBpZiAodGhpcy5zY2FsZVR5cGUgPT09ICd0aW1lJyB8fCB0aGlzLnNjYWxlVHlwZSA9PT0gJ2xpbmVhcicpIHtcbiAgICAgICAgICAgIG1pbiQkMSA9IHRoaXMueFNjYWxlTWluID8gdGhpcy54U2NhbGVNaW4gOiBNYXRoLm1pbi5hcHBseShNYXRoLCB2YWx1ZXMpO1xuICAgICAgICAgICAgbWF4JCQxID0gdGhpcy54U2NhbGVNYXggPyB0aGlzLnhTY2FsZU1heCA6IE1hdGgubWF4LmFwcGx5KE1hdGgsIHZhbHVlcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuc2NhbGVUeXBlID09PSAndGltZScpIHtcbiAgICAgICAgICAgIGRvbWFpbiA9IFtuZXcgRGF0ZShtaW4kJDEpLCBuZXcgRGF0ZShtYXgkJDEpXTtcbiAgICAgICAgICAgIHRoaXMueFNldCA9IHZhbHVlcy5zbGljZSgpLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICAgICAgICB2YXIgYURhdGUgPSBhLmdldFRpbWUoKTtcbiAgICAgICAgICAgICAgICB2YXIgYkRhdGUgPSBiLmdldFRpbWUoKTtcbiAgICAgICAgICAgICAgICBpZiAoYURhdGUgPiBiRGF0ZSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgICAgICAgaWYgKGJEYXRlID4gYURhdGUpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuc2NhbGVUeXBlID09PSAnbGluZWFyJykge1xuICAgICAgICAgICAgZG9tYWluID0gW21pbiQkMSwgbWF4JCQxXTtcbiAgICAgICAgICAgIHRoaXMueFNldCA9IHZhbHVlcy5zbGljZSgpLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGEgLSBiOyB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGRvbWFpbiA9IHZhbHVlcztcbiAgICAgICAgICAgIHRoaXMueFNldCA9IHZhbHVlcztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZG9tYWluO1xuICAgIH07XG4gICAgQXJlYUNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZS5nZXRZRG9tYWluID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZG9tYWluID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSB0aGlzLnJlc3VsdHM7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0cyA9IF9hW19pXTtcbiAgICAgICAgICAgIGZvciAodmFyIF9iID0gMCwgX2MgPSByZXN1bHRzLnNlcmllczsgX2IgPCBfYy5sZW5ndGg7IF9iKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgZCA9IF9jW19iXTtcbiAgICAgICAgICAgICAgICBpZiAoIWRvbWFpbi5pbmNsdWRlcyhkLnZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICBkb21haW4ucHVzaChkLnZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHZhbHVlcyA9IGRvbWFpbi5zbGljZSgpO1xuICAgICAgICBpZiAoIXRoaXMuYXV0b1NjYWxlKSB7XG4gICAgICAgICAgICB2YWx1ZXMucHVzaCgwKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5iYXNlVmFsdWUgIT09ICdhdXRvJykge1xuICAgICAgICAgICAgdmFsdWVzLnB1c2godGhpcy5iYXNlVmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBtaW4kJDEgPSB0aGlzLnlTY2FsZU1pbiA/IHRoaXMueVNjYWxlTWluIDogTWF0aC5taW4uYXBwbHkoTWF0aCwgdmFsdWVzKTtcbiAgICAgICAgdmFyIG1heCQkMSA9IHRoaXMueVNjYWxlTWF4ID8gdGhpcy55U2NhbGVNYXggOiBNYXRoLm1heC5hcHBseShNYXRoLCB2YWx1ZXMpO1xuICAgICAgICByZXR1cm4gW21pbiQkMSwgbWF4JCQxXTtcbiAgICB9O1xuICAgIEFyZWFDaGFydENvbXBvbmVudC5wcm90b3R5cGUuZ2V0U2VyaWVzRG9tYWluID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHRzLm1hcChmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC5uYW1lOyB9KTtcbiAgICB9O1xuICAgIEFyZWFDaGFydENvbXBvbmVudC5wcm90b3R5cGUuZ2V0WFNjYWxlID0gZnVuY3Rpb24gKGRvbWFpbiwgd2lkdGgpIHtcbiAgICAgICAgdmFyIHNjYWxlO1xuICAgICAgICBpZiAodGhpcy5zY2FsZVR5cGUgPT09ICd0aW1lJykge1xuICAgICAgICAgICAgc2NhbGUgPSBzY2FsZVRpbWUoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnNjYWxlVHlwZSA9PT0gJ2xpbmVhcicpIHtcbiAgICAgICAgICAgIHNjYWxlID0gc2NhbGVMaW5lYXIoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnNjYWxlVHlwZSA9PT0gJ29yZGluYWwnKSB7XG4gICAgICAgICAgICBzY2FsZSA9IHNjYWxlUG9pbnQoKS5wYWRkaW5nKDAuMSk7XG4gICAgICAgIH1cbiAgICAgICAgc2NhbGUucmFuZ2UoWzAsIHdpZHRoXSkuZG9tYWluKGRvbWFpbik7XG4gICAgICAgIHJldHVybiB0aGlzLnJvdW5kRG9tYWlucyA/IHNjYWxlLm5pY2UoKSA6IHNjYWxlO1xuICAgIH07XG4gICAgQXJlYUNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZS5nZXRZU2NhbGUgPSBmdW5jdGlvbiAoZG9tYWluLCBoZWlnaHQpIHtcbiAgICAgICAgdmFyIHNjYWxlID0gc2NhbGVMaW5lYXIoKVxuICAgICAgICAgICAgLnJhbmdlKFtoZWlnaHQsIDBdKVxuICAgICAgICAgICAgLmRvbWFpbihkb21haW4pO1xuICAgICAgICByZXR1cm4gdGhpcy5yb3VuZERvbWFpbnMgPyBzY2FsZS5uaWNlKCkgOiBzY2FsZTtcbiAgICB9O1xuICAgIEFyZWFDaGFydENvbXBvbmVudC5wcm90b3R5cGUuZ2V0U2NhbGVUeXBlID0gZnVuY3Rpb24gKHZhbHVlcykge1xuICAgICAgICB2YXIgZGF0ZSA9IHRydWU7XG4gICAgICAgIHZhciBudW0gPSB0cnVlO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIHZhbHVlc18xID0gdmFsdWVzOyBfaSA8IHZhbHVlc18xLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gdmFsdWVzXzFbX2ldO1xuICAgICAgICAgICAgaWYgKCF0aGlzLmlzRGF0ZSh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBkYXRlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgIG51bSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gJ3RpbWUnO1xuICAgICAgICB9XG4gICAgICAgIGlmIChudW0pIHtcbiAgICAgICAgICAgIHJldHVybiAnbGluZWFyJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJ29yZGluYWwnO1xuICAgIH07XG4gICAgQXJlYUNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZS5pc0RhdGUgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgQXJlYUNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZS51cGRhdGVEb21haW4gPSBmdW5jdGlvbiAoZG9tYWluKSB7XG4gICAgICAgIHRoaXMuZmlsdGVyZWREb21haW4gPSBkb21haW47XG4gICAgICAgIHRoaXMueERvbWFpbiA9IHRoaXMuZmlsdGVyZWREb21haW47XG4gICAgICAgIHRoaXMueFNjYWxlID0gdGhpcy5nZXRYU2NhbGUodGhpcy54RG9tYWluLCB0aGlzLmRpbXMud2lkdGgpO1xuICAgIH07XG4gICAgQXJlYUNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZS51cGRhdGVIb3ZlcmVkVmVydGljYWwgPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICB0aGlzLmhvdmVyZWRWZXJ0aWNhbCA9IGl0ZW0udmFsdWU7XG4gICAgICAgIHRoaXMuZGVhY3RpdmF0ZUFsbCgpO1xuICAgIH07XG4gICAgQXJlYUNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZS5oaWRlQ2lyY2xlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5ob3ZlcmVkVmVydGljYWwgPSBudWxsO1xuICAgICAgICB0aGlzLmRlYWN0aXZhdGVBbGwoKTtcbiAgICB9O1xuICAgIEFyZWFDaGFydENvbXBvbmVudC5wcm90b3R5cGUub25DbGljayA9IGZ1bmN0aW9uIChkYXRhLCBzZXJpZXMpIHtcbiAgICAgICAgaWYgKHNlcmllcykge1xuICAgICAgICAgICAgZGF0YS5zZXJpZXMgPSBzZXJpZXMubmFtZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNlbGVjdC5lbWl0KGRhdGEpO1xuICAgIH07XG4gICAgQXJlYUNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZS50cmFja0J5ID0gZnVuY3Rpb24gKGluZGV4LCBpdGVtKSB7XG4gICAgICAgIHJldHVybiBpdGVtLm5hbWU7XG4gICAgfTtcbiAgICBBcmVhQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLnNldENvbG9ycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGRvbWFpbjtcbiAgICAgICAgaWYgKHRoaXMuc2NoZW1lVHlwZSA9PT0gJ29yZGluYWwnKSB7XG4gICAgICAgICAgICBkb21haW4gPSB0aGlzLnNlcmllc0RvbWFpbjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGRvbWFpbiA9IHRoaXMueURvbWFpbjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbG9ycyA9IG5ldyBDb2xvckhlbHBlcih0aGlzLnNjaGVtZSwgdGhpcy5zY2hlbWVUeXBlLCBkb21haW4sIHRoaXMuY3VzdG9tQ29sb3JzKTtcbiAgICB9O1xuICAgIEFyZWFDaGFydENvbXBvbmVudC5wcm90b3R5cGUuZ2V0TGVnZW5kT3B0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG9wdHMgPSB7XG4gICAgICAgICAgICBzY2FsZVR5cGU6IHRoaXMuc2NoZW1lVHlwZSxcbiAgICAgICAgICAgIGNvbG9yczogdW5kZWZpbmVkLFxuICAgICAgICAgICAgZG9tYWluOiBbXSxcbiAgICAgICAgICAgIHRpdGxlOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBwb3NpdGlvbjogdGhpcy5sZWdlbmRQb3NpdGlvblxuICAgICAgICB9O1xuICAgICAgICBpZiAob3B0cy5zY2FsZVR5cGUgPT09ICdvcmRpbmFsJykge1xuICAgICAgICAgICAgb3B0cy5kb21haW4gPSB0aGlzLnNlcmllc0RvbWFpbjtcbiAgICAgICAgICAgIG9wdHMuY29sb3JzID0gdGhpcy5jb2xvcnM7XG4gICAgICAgICAgICBvcHRzLnRpdGxlID0gdGhpcy5sZWdlbmRUaXRsZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG9wdHMuZG9tYWluID0gdGhpcy55RG9tYWluO1xuICAgICAgICAgICAgb3B0cy5jb2xvcnMgPSB0aGlzLmNvbG9ycy5zY2FsZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3B0cztcbiAgICB9O1xuICAgIEFyZWFDaGFydENvbXBvbmVudC5wcm90b3R5cGUudXBkYXRlWUF4aXNXaWR0aCA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgd2lkdGggPSBfYS53aWR0aDtcbiAgICAgICAgdGhpcy55QXhpc1dpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfTtcbiAgICBBcmVhQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLnVwZGF0ZVhBeGlzSGVpZ2h0ID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciBoZWlnaHQgPSBfYS5oZWlnaHQ7XG4gICAgICAgIHRoaXMueEF4aXNIZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfTtcbiAgICBBcmVhQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLm9uQWN0aXZhdGUgPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICB2YXIgaWR4ID0gdGhpcy5hY3RpdmVFbnRyaWVzLmZpbmRJbmRleChmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgcmV0dXJuIGQubmFtZSA9PT0gaXRlbS5uYW1lICYmIGQudmFsdWUgPT09IGl0ZW0udmFsdWU7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoaWR4ID4gLTEpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFjdGl2ZUVudHJpZXMgPSBbaXRlbV0uY29uY2F0KHRoaXMuYWN0aXZlRW50cmllcyk7XG4gICAgICAgIHRoaXMuYWN0aXZhdGUuZW1pdCh7IHZhbHVlOiBpdGVtLCBlbnRyaWVzOiB0aGlzLmFjdGl2ZUVudHJpZXMgfSk7XG4gICAgfTtcbiAgICBBcmVhQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLm9uRGVhY3RpdmF0ZSA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHZhciBpZHggPSB0aGlzLmFjdGl2ZUVudHJpZXMuZmluZEluZGV4KGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICByZXR1cm4gZC5uYW1lID09PSBpdGVtLm5hbWUgJiYgZC52YWx1ZSA9PT0gaXRlbS52YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuYWN0aXZlRW50cmllcy5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgdGhpcy5hY3RpdmVFbnRyaWVzID0gdGhpcy5hY3RpdmVFbnRyaWVzLnNsaWNlKCk7XG4gICAgICAgIHRoaXMuZGVhY3RpdmF0ZS5lbWl0KHsgdmFsdWU6IGl0ZW0sIGVudHJpZXM6IHRoaXMuYWN0aXZlRW50cmllcyB9KTtcbiAgICB9O1xuICAgIEFyZWFDaGFydENvbXBvbmVudC5wcm90b3R5cGUuZGVhY3RpdmF0ZUFsbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5hY3RpdmVFbnRyaWVzID0gdGhpcy5hY3RpdmVFbnRyaWVzLnNsaWNlKCk7XG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSB0aGlzLmFjdGl2ZUVudHJpZXM7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgZW50cnkgPSBfYVtfaV07XG4gICAgICAgICAgICB0aGlzLmRlYWN0aXZhdGUuZW1pdCh7IHZhbHVlOiBlbnRyeSwgZW50cmllczogW10gfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hY3RpdmVFbnRyaWVzID0gW107XG4gICAgfTtcbiAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQXJlYUNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJsZWdlbmRcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcbiAgICBdLCBBcmVhQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLCBcImxlZ2VuZFRpdGxlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBTdHJpbmcpXG4gICAgXSwgQXJlYUNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJsZWdlbmRQb3NpdGlvblwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEFyZWFDaGFydENvbXBvbmVudC5wcm90b3R5cGUsIFwic3RhdGVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBBcmVhQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLCBcInhBeGlzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQXJlYUNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJ5QXhpc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEFyZWFDaGFydENvbXBvbmVudC5wcm90b3R5cGUsIFwiYmFzZVZhbHVlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQXJlYUNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJhdXRvU2NhbGVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBBcmVhQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLCBcInNob3dYQXhpc0xhYmVsXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQXJlYUNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJzaG93WUF4aXNMYWJlbFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEFyZWFDaGFydENvbXBvbmVudC5wcm90b3R5cGUsIFwieEF4aXNMYWJlbFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEFyZWFDaGFydENvbXBvbmVudC5wcm90b3R5cGUsIFwieUF4aXNMYWJlbFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEFyZWFDaGFydENvbXBvbmVudC5wcm90b3R5cGUsIFwidGltZWxpbmVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEJvb2xlYW4pXG4gICAgXSwgQXJlYUNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJncmFkaWVudFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbiAgICBdLCBBcmVhQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLCBcInNob3dHcmlkTGluZXNcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBBcmVhQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLCBcImN1cnZlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBBcnJheSlcbiAgICBdLCBBcmVhQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLCBcImFjdGl2ZUVudHJpZXNcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcbiAgICBdLCBBcmVhQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLCBcInNjaGVtZVR5cGVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEJvb2xlYW4pXG4gICAgXSwgQXJlYUNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJ0cmltWEF4aXNUaWNrc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbiAgICBdLCBBcmVhQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLCBcInRyaW1ZQXhpc1RpY2tzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIEFyZWFDaGFydENvbXBvbmVudC5wcm90b3R5cGUsIFwicm90YXRlWEF4aXNUaWNrc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgTnVtYmVyKVxuICAgIF0sIEFyZWFDaGFydENvbXBvbmVudC5wcm90b3R5cGUsIFwibWF4WEF4aXNUaWNrTGVuZ3RoXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBOdW1iZXIpXG4gICAgXSwgQXJlYUNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJtYXhZQXhpc1RpY2tMZW5ndGhcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBBcmVhQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLCBcInhBeGlzVGlja0Zvcm1hdHRpbmdcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBBcmVhQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLCBcInlBeGlzVGlja0Zvcm1hdHRpbmdcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEFycmF5KVxuICAgIF0sIEFyZWFDaGFydENvbXBvbmVudC5wcm90b3R5cGUsIFwieEF4aXNUaWNrc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQXJyYXkpXG4gICAgXSwgQXJlYUNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJ5QXhpc1RpY2tzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIEFyZWFDaGFydENvbXBvbmVudC5wcm90b3R5cGUsIFwicm91bmREb21haW5zXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIEFyZWFDaGFydENvbXBvbmVudC5wcm90b3R5cGUsIFwidG9vbHRpcERpc2FibGVkXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQXJlYUNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJ4U2NhbGVNaW5cIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBBcmVhQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLCBcInhTY2FsZU1heFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgTnVtYmVyKVxuICAgIF0sIEFyZWFDaGFydENvbXBvbmVudC5wcm90b3R5cGUsIFwieVNjYWxlTWluXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBOdW1iZXIpXG4gICAgXSwgQXJlYUNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJ5U2NhbGVNYXhcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgT3V0cHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCB0eXBlb2YgKF9hID0gdHlwZW9mIEV2ZW50RW1pdHRlciAhPT0gXCJ1bmRlZmluZWRcIiAmJiBFdmVudEVtaXR0ZXIpID09PSBcImZ1bmN0aW9uXCIgPyBfYSA6IE9iamVjdClcbiAgICBdLCBBcmVhQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLCBcImFjdGl2YXRlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIE91dHB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgdHlwZW9mIChfYiA9IHR5cGVvZiBFdmVudEVtaXR0ZXIgIT09IFwidW5kZWZpbmVkXCIgJiYgRXZlbnRFbWl0dGVyKSA9PT0gXCJmdW5jdGlvblwiID8gX2IgOiBPYmplY3QpXG4gICAgXSwgQXJlYUNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJkZWFjdGl2YXRlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIENvbnRlbnRDaGlsZCgndG9vbHRpcFRlbXBsYXRlJywgeyBzdGF0aWM6IGZhbHNlIH0pLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgdHlwZW9mIChfYyA9IHR5cGVvZiBUZW1wbGF0ZVJlZiAhPT0gXCJ1bmRlZmluZWRcIiAmJiBUZW1wbGF0ZVJlZikgPT09IFwiZnVuY3Rpb25cIiA/IF9jIDogT2JqZWN0KVxuICAgIF0sIEFyZWFDaGFydENvbXBvbmVudC5wcm90b3R5cGUsIFwidG9vbHRpcFRlbXBsYXRlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIENvbnRlbnRDaGlsZCgnc2VyaWVzVG9vbHRpcFRlbXBsYXRlJywgeyBzdGF0aWM6IGZhbHNlIH0pLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgdHlwZW9mIChfZCA9IHR5cGVvZiBUZW1wbGF0ZVJlZiAhPT0gXCJ1bmRlZmluZWRcIiAmJiBUZW1wbGF0ZVJlZikgPT09IFwiZnVuY3Rpb25cIiA/IF9kIDogT2JqZWN0KVxuICAgIF0sIEFyZWFDaGFydENvbXBvbmVudC5wcm90b3R5cGUsIFwic2VyaWVzVG9vbHRpcFRlbXBsYXRlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIEhvc3RMaXN0ZW5lcignbW91c2VsZWF2ZScpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgRnVuY3Rpb24pLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW10pLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnJldHVybnR5cGVcIiwgdm9pZCAwKVxuICAgIF0sIEFyZWFDaGFydENvbXBvbmVudC5wcm90b3R5cGUsIFwiaGlkZUNpcmNsZXNcIiwgbnVsbCk7XG4gICAgQXJlYUNoYXJ0Q29tcG9uZW50ID0gX19kZWNvcmF0ZShbXG4gICAgICAgIENvbXBvbmVudCh7XG4gICAgICAgICAgICBzZWxlY3RvcjogJ25neC1jaGFydHMtYXJlYS1jaGFydCcsXG4gICAgICAgICAgICB0ZW1wbGF0ZTogXCJcXG4gICAgPG5neC1jaGFydHMtY2hhcnRcXG4gICAgICBbdmlld109XFxcIlt3aWR0aCwgaGVpZ2h0XVxcXCJcXG4gICAgICBbc2hvd0xlZ2VuZF09XFxcImxlZ2VuZFxcXCJcXG4gICAgICBbbGVnZW5kT3B0aW9uc109XFxcImxlZ2VuZE9wdGlvbnNcXFwiXFxuICAgICAgW2FjdGl2ZUVudHJpZXNdPVxcXCJhY3RpdmVFbnRyaWVzXFxcIlxcbiAgICAgIFthbmltYXRpb25zXT1cXFwiYW5pbWF0aW9uc1xcXCJcXG4gICAgICAobGVnZW5kTGFiZWxDbGljayk9XFxcIm9uQ2xpY2soJGV2ZW50KVxcXCJcXG4gICAgICAobGVnZW5kTGFiZWxBY3RpdmF0ZSk9XFxcIm9uQWN0aXZhdGUoJGV2ZW50KVxcXCJcXG4gICAgICAobGVnZW5kTGFiZWxEZWFjdGl2YXRlKT1cXFwib25EZWFjdGl2YXRlKCRldmVudClcXFwiXFxuICAgID5cXG4gICAgICA8c3ZnOmRlZnM+XFxuICAgICAgICA8c3ZnOmNsaXBQYXRoIFthdHRyLmlkXT1cXFwiY2xpcFBhdGhJZFxcXCI+XFxuICAgICAgICAgIDxzdmc6cmVjdFxcbiAgICAgICAgICAgIFthdHRyLndpZHRoXT1cXFwiZGltcy53aWR0aCArIDEwXFxcIlxcbiAgICAgICAgICAgIFthdHRyLmhlaWdodF09XFxcImRpbXMuaGVpZ2h0ICsgMTBcXFwiXFxuICAgICAgICAgICAgW2F0dHIudHJhbnNmb3JtXT1cXFwiJ3RyYW5zbGF0ZSgtNSwgLTUpJ1xcXCJcXG4gICAgICAgICAgLz5cXG4gICAgICAgIDwvc3ZnOmNsaXBQYXRoPlxcbiAgICAgIDwvc3ZnOmRlZnM+XFxuICAgICAgPHN2ZzpnIFthdHRyLnRyYW5zZm9ybV09XFxcInRyYW5zZm9ybVxcXCIgY2xhc3M9XFxcImFyZWEtY2hhcnQgY2hhcnRcXFwiPlxcbiAgICAgICAgPHN2ZzpnXFxuICAgICAgICAgIG5neC1jaGFydHMteC1heGlzXFxuICAgICAgICAgICpuZ0lmPVxcXCJ4QXhpc1xcXCJcXG4gICAgICAgICAgW3hTY2FsZV09XFxcInhTY2FsZVxcXCJcXG4gICAgICAgICAgW2RpbXNdPVxcXCJkaW1zXFxcIlxcbiAgICAgICAgICBbc2hvd0dyaWRMaW5lc109XFxcInNob3dHcmlkTGluZXNcXFwiXFxuICAgICAgICAgIFtzaG93TGFiZWxdPVxcXCJzaG93WEF4aXNMYWJlbFxcXCJcXG4gICAgICAgICAgW2xhYmVsVGV4dF09XFxcInhBeGlzTGFiZWxcXFwiXFxuICAgICAgICAgIFt0cmltVGlja3NdPVxcXCJ0cmltWEF4aXNUaWNrc1xcXCJcXG4gICAgICAgICAgW3JvdGF0ZVRpY2tzXT1cXFwicm90YXRlWEF4aXNUaWNrc1xcXCJcXG4gICAgICAgICAgW21heFRpY2tMZW5ndGhdPVxcXCJtYXhYQXhpc1RpY2tMZW5ndGhcXFwiXFxuICAgICAgICAgIFt0aWNrRm9ybWF0dGluZ109XFxcInhBeGlzVGlja0Zvcm1hdHRpbmdcXFwiXFxuICAgICAgICAgIFt0aWNrc109XFxcInhBeGlzVGlja3NcXFwiXFxuICAgICAgICAgIChkaW1lbnNpb25zQ2hhbmdlZCk9XFxcInVwZGF0ZVhBeGlzSGVpZ2h0KCRldmVudClcXFwiXFxuICAgICAgICA+PC9zdmc6Zz5cXG4gICAgICAgIDxzdmc6Z1xcbiAgICAgICAgICBuZ3gtY2hhcnRzLXktYXhpc1xcbiAgICAgICAgICAqbmdJZj1cXFwieUF4aXNcXFwiXFxuICAgICAgICAgIFt5U2NhbGVdPVxcXCJ5U2NhbGVcXFwiXFxuICAgICAgICAgIFtkaW1zXT1cXFwiZGltc1xcXCJcXG4gICAgICAgICAgW3Nob3dHcmlkTGluZXNdPVxcXCJzaG93R3JpZExpbmVzXFxcIlxcbiAgICAgICAgICBbc2hvd0xhYmVsXT1cXFwic2hvd1lBeGlzTGFiZWxcXFwiXFxuICAgICAgICAgIFtsYWJlbFRleHRdPVxcXCJ5QXhpc0xhYmVsXFxcIlxcbiAgICAgICAgICBbdHJpbVRpY2tzXT1cXFwidHJpbVlBeGlzVGlja3NcXFwiXFxuICAgICAgICAgIFttYXhUaWNrTGVuZ3RoXT1cXFwibWF4WUF4aXNUaWNrTGVuZ3RoXFxcIlxcbiAgICAgICAgICBbdGlja0Zvcm1hdHRpbmddPVxcXCJ5QXhpc1RpY2tGb3JtYXR0aW5nXFxcIlxcbiAgICAgICAgICBbdGlja3NdPVxcXCJ5QXhpc1RpY2tzXFxcIlxcbiAgICAgICAgICAoZGltZW5zaW9uc0NoYW5nZWQpPVxcXCJ1cGRhdGVZQXhpc1dpZHRoKCRldmVudClcXFwiXFxuICAgICAgICA+PC9zdmc6Zz5cXG4gICAgICAgIDxzdmc6ZyBbYXR0ci5jbGlwLXBhdGhdPVxcXCJjbGlwUGF0aFxcXCI+XFxuICAgICAgICAgIDxzdmc6ZyAqbmdGb3I9XFxcImxldCBzZXJpZXMgb2YgcmVzdWx0czsgdHJhY2tCeTogdHJhY2tCeVxcXCI+XFxuICAgICAgICAgICAgPHN2ZzpnXFxuICAgICAgICAgICAgICBuZ3gtY2hhcnRzLWFyZWEtc2VyaWVzXFxuICAgICAgICAgICAgICBbeFNjYWxlXT1cXFwieFNjYWxlXFxcIlxcbiAgICAgICAgICAgICAgW3lTY2FsZV09XFxcInlTY2FsZVxcXCJcXG4gICAgICAgICAgICAgIFtiYXNlVmFsdWVdPVxcXCJiYXNlVmFsdWVcXFwiXFxuICAgICAgICAgICAgICBbY29sb3JzXT1cXFwiY29sb3JzXFxcIlxcbiAgICAgICAgICAgICAgW2RhdGFdPVxcXCJzZXJpZXNcXFwiXFxuICAgICAgICAgICAgICBbYWN0aXZlRW50cmllc109XFxcImFjdGl2ZUVudHJpZXNcXFwiXFxuICAgICAgICAgICAgICBbc2NhbGVUeXBlXT1cXFwic2NhbGVUeXBlXFxcIlxcbiAgICAgICAgICAgICAgW2dyYWRpZW50XT1cXFwiZ3JhZGllbnRcXFwiXFxuICAgICAgICAgICAgICBbY3VydmVdPVxcXCJjdXJ2ZVxcXCJcXG4gICAgICAgICAgICAgIFthbmltYXRpb25zXT1cXFwiYW5pbWF0aW9uc1xcXCJcXG4gICAgICAgICAgICAvPlxcbiAgICAgICAgICA8L3N2ZzpnPlxcblxcbiAgICAgICAgICA8c3ZnOmcgKm5nSWY9XFxcIiF0b29sdGlwRGlzYWJsZWRcXFwiIChtb3VzZWxlYXZlKT1cXFwiaGlkZUNpcmNsZXMoKVxcXCI+XFxuICAgICAgICAgICAgPHN2ZzpnXFxuICAgICAgICAgICAgICBuZ3gtY2hhcnRzLXRvb2x0aXAtYXJlYVxcbiAgICAgICAgICAgICAgW2RpbXNdPVxcXCJkaW1zXFxcIlxcbiAgICAgICAgICAgICAgW3hTZXRdPVxcXCJ4U2V0XFxcIlxcbiAgICAgICAgICAgICAgW3hTY2FsZV09XFxcInhTY2FsZVxcXCJcXG4gICAgICAgICAgICAgIFt5U2NhbGVdPVxcXCJ5U2NhbGVcXFwiXFxuICAgICAgICAgICAgICBbcmVzdWx0c109XFxcInJlc3VsdHNcXFwiXFxuICAgICAgICAgICAgICBbY29sb3JzXT1cXFwiY29sb3JzXFxcIlxcbiAgICAgICAgICAgICAgW3Rvb2x0aXBEaXNhYmxlZF09XFxcInRvb2x0aXBEaXNhYmxlZFxcXCJcXG4gICAgICAgICAgICAgIFt0b29sdGlwVGVtcGxhdGVdPVxcXCJzZXJpZXNUb29sdGlwVGVtcGxhdGVcXFwiXFxuICAgICAgICAgICAgICAoaG92ZXIpPVxcXCJ1cGRhdGVIb3ZlcmVkVmVydGljYWwoJGV2ZW50KVxcXCJcXG4gICAgICAgICAgICAvPlxcblxcbiAgICAgICAgICAgIDxzdmc6ZyAqbmdGb3I9XFxcImxldCBzZXJpZXMgb2YgcmVzdWx0c1xcXCI+XFxuICAgICAgICAgICAgICA8c3ZnOmdcXG4gICAgICAgICAgICAgICAgbmd4LWNoYXJ0cy1jaXJjbGUtc2VyaWVzXFxuICAgICAgICAgICAgICAgIFt4U2NhbGVdPVxcXCJ4U2NhbGVcXFwiXFxuICAgICAgICAgICAgICAgIFt5U2NhbGVdPVxcXCJ5U2NhbGVcXFwiXFxuICAgICAgICAgICAgICAgIFtjb2xvcnNdPVxcXCJjb2xvcnNcXFwiXFxuICAgICAgICAgICAgICAgIFthY3RpdmVFbnRyaWVzXT1cXFwiYWN0aXZlRW50cmllc1xcXCJcXG4gICAgICAgICAgICAgICAgW2RhdGFdPVxcXCJzZXJpZXNcXFwiXFxuICAgICAgICAgICAgICAgIFtzY2FsZVR5cGVdPVxcXCJzY2FsZVR5cGVcXFwiXFxuICAgICAgICAgICAgICAgIFt2aXNpYmxlVmFsdWVdPVxcXCJob3ZlcmVkVmVydGljYWxcXFwiXFxuICAgICAgICAgICAgICAgIFt0b29sdGlwRGlzYWJsZWRdPVxcXCJ0b29sdGlwRGlzYWJsZWRcXFwiXFxuICAgICAgICAgICAgICAgIFt0b29sdGlwVGVtcGxhdGVdPVxcXCJ0b29sdGlwVGVtcGxhdGVcXFwiXFxuICAgICAgICAgICAgICAgIChzZWxlY3QpPVxcXCJvbkNsaWNrKCRldmVudCwgc2VyaWVzKVxcXCJcXG4gICAgICAgICAgICAgICAgKGFjdGl2YXRlKT1cXFwib25BY3RpdmF0ZSgkZXZlbnQpXFxcIlxcbiAgICAgICAgICAgICAgICAoZGVhY3RpdmF0ZSk9XFxcIm9uRGVhY3RpdmF0ZSgkZXZlbnQpXFxcIlxcbiAgICAgICAgICAgICAgLz5cXG4gICAgICAgICAgICA8L3N2ZzpnPlxcbiAgICAgICAgICA8L3N2ZzpnPlxcbiAgICAgICAgPC9zdmc6Zz5cXG4gICAgICA8L3N2ZzpnPlxcbiAgICAgIDxzdmc6Z1xcbiAgICAgICAgbmd4LWNoYXJ0cy10aW1lbGluZVxcbiAgICAgICAgKm5nSWY9XFxcInRpbWVsaW5lICYmIHNjYWxlVHlwZSAhPSAnb3JkaW5hbCdcXFwiXFxuICAgICAgICBbYXR0ci50cmFuc2Zvcm1dPVxcXCJ0aW1lbGluZVRyYW5zZm9ybVxcXCJcXG4gICAgICAgIFtyZXN1bHRzXT1cXFwicmVzdWx0c1xcXCJcXG4gICAgICAgIFt2aWV3XT1cXFwiW3RpbWVsaW5lV2lkdGgsIGhlaWdodF1cXFwiXFxuICAgICAgICBbaGVpZ2h0XT1cXFwidGltZWxpbmVIZWlnaHRcXFwiXFxuICAgICAgICBbc2NoZW1lXT1cXFwic2NoZW1lXFxcIlxcbiAgICAgICAgW2N1c3RvbUNvbG9yc109XFxcImN1c3RvbUNvbG9yc1xcXCJcXG4gICAgICAgIFtsZWdlbmRdPVxcXCJsZWdlbmRcXFwiXFxuICAgICAgICBbc2NhbGVUeXBlXT1cXFwic2NhbGVUeXBlXFxcIlxcbiAgICAgICAgKG9uRG9tYWluQ2hhbmdlKT1cXFwidXBkYXRlRG9tYWluKCRldmVudClcXFwiXFxuICAgICAgPlxcbiAgICAgICAgPHN2ZzpnICpuZ0Zvcj1cXFwibGV0IHNlcmllcyBvZiByZXN1bHRzOyB0cmFja0J5OiB0cmFja0J5XFxcIj5cXG4gICAgICAgICAgPHN2ZzpnXFxuICAgICAgICAgICAgbmd4LWNoYXJ0cy1hcmVhLXNlcmllc1xcbiAgICAgICAgICAgIFt4U2NhbGVdPVxcXCJ0aW1lbGluZVhTY2FsZVxcXCJcXG4gICAgICAgICAgICBbeVNjYWxlXT1cXFwidGltZWxpbmVZU2NhbGVcXFwiXFxuICAgICAgICAgICAgW2Jhc2VWYWx1ZV09XFxcImJhc2VWYWx1ZVxcXCJcXG4gICAgICAgICAgICBbY29sb3JzXT1cXFwiY29sb3JzXFxcIlxcbiAgICAgICAgICAgIFtkYXRhXT1cXFwic2VyaWVzXFxcIlxcbiAgICAgICAgICAgIFtzY2FsZVR5cGVdPVxcXCJzY2FsZVR5cGVcXFwiXFxuICAgICAgICAgICAgW2dyYWRpZW50XT1cXFwiZ3JhZGllbnRcXFwiXFxuICAgICAgICAgICAgW2N1cnZlXT1cXFwiY3VydmVcXFwiXFxuICAgICAgICAgICAgW2FuaW1hdGlvbnNdPVxcXCJhbmltYXRpb25zXFxcIlxcbiAgICAgICAgICAvPlxcbiAgICAgICAgPC9zdmc6Zz5cXG4gICAgICA8L3N2ZzpnPlxcbiAgICA8L25neC1jaGFydHMtY2hhcnQ+XFxuICBcIixcbiAgICAgICAgICAgIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoLFxuICAgICAgICAgICAgc3R5bGVzOiBbXCIubmd4LWNoYXJ0c3tmbG9hdDpsZWZ0O292ZXJmbG93OnZpc2libGV9Lm5neC1jaGFydHMgLmFyYywubmd4LWNoYXJ0cyAuYmFyLC5uZ3gtY2hhcnRzIC5jaXJjbGV7Y3Vyc29yOnBvaW50ZXJ9Lm5neC1jaGFydHMgLmFyYy5hY3RpdmUsLm5neC1jaGFydHMgLmFyYzpob3Zlciwubmd4LWNoYXJ0cyAuYmFyLmFjdGl2ZSwubmd4LWNoYXJ0cyAuYmFyOmhvdmVyLC5uZ3gtY2hhcnRzIC5jYXJkLmFjdGl2ZSwubmd4LWNoYXJ0cyAuY2FyZDpob3Zlciwubmd4LWNoYXJ0cyAuY2VsbC5hY3RpdmUsLm5neC1jaGFydHMgLmNlbGw6aG92ZXJ7b3BhY2l0eTouODt0cmFuc2l0aW9uOm9wYWNpdHkgLjFzIGVhc2UtaW4tb3V0fS5uZ3gtY2hhcnRzIC5hcmM6Zm9jdXMsLm5neC1jaGFydHMgLmJhcjpmb2N1cywubmd4LWNoYXJ0cyAuY2FyZDpmb2N1cywubmd4LWNoYXJ0cyAuY2VsbDpmb2N1c3tvdXRsaW5lOjB9Lm5neC1jaGFydHMgLmFyYy5oaWRkZW4sLm5neC1jaGFydHMgLmJhci5oaWRkZW4sLm5neC1jaGFydHMgLmNhcmQuaGlkZGVuLC5uZ3gtY2hhcnRzIC5jZWxsLmhpZGRlbntkaXNwbGF5Om5vbmV9Lm5neC1jaGFydHMgZzpmb2N1c3tvdXRsaW5lOjB9Lm5neC1jaGFydHMgLmFyZWEtc2VyaWVzLmluYWN0aXZlLC5uZ3gtY2hhcnRzIC5saW5lLXNlcmllcy1yYW5nZS5pbmFjdGl2ZSwubmd4LWNoYXJ0cyAubGluZS1zZXJpZXMuaW5hY3RpdmUsLm5neC1jaGFydHMgLnBvbGFyLXNlcmllcy1hcmVhLmluYWN0aXZlLC5uZ3gtY2hhcnRzIC5wb2xhci1zZXJpZXMtcGF0aC5pbmFjdGl2ZXt0cmFuc2l0aW9uOm9wYWNpdHkgLjFzIGVhc2UtaW4tb3V0O29wYWNpdHk6LjJ9Lm5neC1jaGFydHMgLmxpbmUtaGlnaGxpZ2h0e2Rpc3BsYXk6bm9uZX0ubmd4LWNoYXJ0cyAubGluZS1oaWdobGlnaHQuYWN0aXZle2Rpc3BsYXk6YmxvY2t9Lm5neC1jaGFydHMgLmFyZWF7b3BhY2l0eTouNn0ubmd4LWNoYXJ0cyAuY2lyY2xlOmhvdmVye2N1cnNvcjpwb2ludGVyfS5uZ3gtY2hhcnRzIC5sYWJlbHtmb250LXNpemU6MTJweDtmb250LXdlaWdodDo0MDB9Lm5neC1jaGFydHMgLnRvb2x0aXAtYW5jaG9ye2ZpbGw6IzAwMH0ubmd4LWNoYXJ0cyAuZ3JpZGxpbmUtcGF0aHtzdHJva2U6I2RkZDtzdHJva2Utd2lkdGg6MTtmaWxsOm5vbmV9Lm5neC1jaGFydHMgLnJlZmxpbmUtcGF0aHtzdHJva2U6I2E4YjJjNztzdHJva2Utd2lkdGg6MTtzdHJva2UtZGFzaGFycmF5OjU7c3Ryb2tlLWRhc2hvZmZzZXQ6NX0ubmd4LWNoYXJ0cyAucmVmbGluZS1sYWJlbHtmb250LXNpemU6OXB4fS5uZ3gtY2hhcnRzIC5yZWZlcmVuY2UtYXJlYXtmaWxsLW9wYWNpdHk6LjA1O2ZpbGw6IzAwMH0ubmd4LWNoYXJ0cyAuZ3JpZGxpbmUtcGF0aC1kb3R0ZWR7c3Ryb2tlOiNkZGQ7c3Ryb2tlLXdpZHRoOjE7ZmlsbDpub25lO3N0cm9rZS1kYXNoYXJyYXk6MSwyMDtzdHJva2UtZGFzaG9mZnNldDozfS5uZ3gtY2hhcnRzIC5ncmlkLXBhbmVsIHJlY3R7ZmlsbDpub25lfS5uZ3gtY2hhcnRzIC5ncmlkLXBhbmVsLm9kZCByZWN0e2ZpbGw6cmdiYSgwLDAsMCwuMDUpfVwiXSxcbiAgICAgICAgICAgIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmVcbiAgICAgICAgfSlcbiAgICBdLCBBcmVhQ2hhcnRDb21wb25lbnQpO1xuICAgIHJldHVybiBBcmVhQ2hhcnRDb21wb25lbnQ7XG59KEJhc2VDaGFydENvbXBvbmVudCkpO1xuXG52YXIgQXJlYUNoYXJ0Tm9ybWFsaXplZENvbXBvbmVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQXJlYUNoYXJ0Tm9ybWFsaXplZENvbXBvbmVudCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBcmVhQ2hhcnROb3JtYWxpemVkQ29tcG9uZW50KCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMubGVnZW5kID0gZmFsc2U7XG4gICAgICAgIF90aGlzLmxlZ2VuZFRpdGxlID0gJ0xlZ2VuZCc7XG4gICAgICAgIF90aGlzLmxlZ2VuZFBvc2l0aW9uID0gJ3JpZ2h0JztcbiAgICAgICAgX3RoaXMuc2hvd0dyaWRMaW5lcyA9IHRydWU7XG4gICAgICAgIF90aGlzLmN1cnZlID0gY3VydmVMaW5lYXI7XG4gICAgICAgIF90aGlzLmFjdGl2ZUVudHJpZXMgPSBbXTtcbiAgICAgICAgX3RoaXMudHJpbVhBeGlzVGlja3MgPSB0cnVlO1xuICAgICAgICBfdGhpcy50cmltWUF4aXNUaWNrcyA9IHRydWU7XG4gICAgICAgIF90aGlzLnJvdGF0ZVhBeGlzVGlja3MgPSB0cnVlO1xuICAgICAgICBfdGhpcy5tYXhYQXhpc1RpY2tMZW5ndGggPSAxNjtcbiAgICAgICAgX3RoaXMubWF4WUF4aXNUaWNrTGVuZ3RoID0gMTY7XG4gICAgICAgIF90aGlzLnJvdW5kRG9tYWlucyA9IGZhbHNlO1xuICAgICAgICBfdGhpcy50b29sdGlwRGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuYWN0aXZhdGUgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgICAgIF90aGlzLmRlYWN0aXZhdGUgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgICAgIF90aGlzLm1hcmdpbiA9IFsxMCwgMjAsIDEwLCAyMF07XG4gICAgICAgIF90aGlzLnhBeGlzSGVpZ2h0ID0gMDtcbiAgICAgICAgX3RoaXMueUF4aXNXaWR0aCA9IDA7XG4gICAgICAgIF90aGlzLnRpbWVsaW5lSGVpZ2h0ID0gNTA7XG4gICAgICAgIF90aGlzLnRpbWVsaW5lUGFkZGluZyA9IDEwO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEFyZWFDaGFydE5vcm1hbGl6ZWRDb21wb25lbnQucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS51cGRhdGUuY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5kaW1zID0gY2FsY3VsYXRlVmlld0RpbWVuc2lvbnMoe1xuICAgICAgICAgICAgd2lkdGg6IHRoaXMud2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IHRoaXMuaGVpZ2h0LFxuICAgICAgICAgICAgbWFyZ2luczogdGhpcy5tYXJnaW4sXG4gICAgICAgICAgICBzaG93WEF4aXM6IHRoaXMueEF4aXMsXG4gICAgICAgICAgICBzaG93WUF4aXM6IHRoaXMueUF4aXMsXG4gICAgICAgICAgICB4QXhpc0hlaWdodDogdGhpcy54QXhpc0hlaWdodCxcbiAgICAgICAgICAgIHlBeGlzV2lkdGg6IHRoaXMueUF4aXNXaWR0aCxcbiAgICAgICAgICAgIHNob3dYTGFiZWw6IHRoaXMuc2hvd1hBeGlzTGFiZWwsXG4gICAgICAgICAgICBzaG93WUxhYmVsOiB0aGlzLnNob3dZQXhpc0xhYmVsLFxuICAgICAgICAgICAgc2hvd0xlZ2VuZDogdGhpcy5sZWdlbmQsXG4gICAgICAgICAgICBsZWdlbmRUeXBlOiB0aGlzLnNjaGVtZVR5cGUsXG4gICAgICAgICAgICBsZWdlbmRQb3NpdGlvbjogdGhpcy5sZWdlbmRQb3NpdGlvblxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHRoaXMudGltZWxpbmUpIHtcbiAgICAgICAgICAgIHRoaXMuZGltcy5oZWlnaHQgLT0gdGhpcy50aW1lbGluZUhlaWdodCArIHRoaXMubWFyZ2luWzJdICsgdGhpcy50aW1lbGluZVBhZGRpbmc7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy54RG9tYWluID0gdGhpcy5nZXRYRG9tYWluKCk7XG4gICAgICAgIGlmICh0aGlzLmZpbHRlcmVkRG9tYWluKSB7XG4gICAgICAgICAgICB0aGlzLnhEb21haW4gPSB0aGlzLmZpbHRlcmVkRG9tYWluO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMueURvbWFpbiA9IHRoaXMuZ2V0WURvbWFpbigpO1xuICAgICAgICB0aGlzLnNlcmllc0RvbWFpbiA9IHRoaXMuZ2V0U2VyaWVzRG9tYWluKCk7XG4gICAgICAgIHRoaXMueFNjYWxlID0gdGhpcy5nZXRYU2NhbGUodGhpcy54RG9tYWluLCB0aGlzLmRpbXMud2lkdGgpO1xuICAgICAgICB0aGlzLnlTY2FsZSA9IHRoaXMuZ2V0WVNjYWxlKHRoaXMueURvbWFpbiwgdGhpcy5kaW1zLmhlaWdodCk7XG4gICAgICAgIHZhciBfbG9vcF8xID0gZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgIHZhciB2YWwgPSB0aGlzXzEueFNldFtpXTtcbiAgICAgICAgICAgIHZhciBkMCA9IDA7XG4gICAgICAgICAgICB2YXIgdG90YWwgPSAwO1xuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHRoaXNfMS5yZXN1bHRzOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIHZhciBncm91cCA9IF9hW19pXTtcbiAgICAgICAgICAgICAgICB2YXIgZCA9IGdyb3VwLnNlcmllcy5maW5kKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhID0gaXRlbS5uYW1lO1xuICAgICAgICAgICAgICAgICAgICB2YXIgYiA9IHZhbDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLnNjYWxlVHlwZSA9PT0gJ3RpbWUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhID0gYS52YWx1ZU9mKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBiID0gYi52YWx1ZU9mKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGEgPT09IGI7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKGQpIHtcbiAgICAgICAgICAgICAgICAgICAgdG90YWwgKz0gZC52YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKHZhciBfYiA9IDAsIF9jID0gdGhpc18xLnJlc3VsdHM7IF9iIDwgX2MubGVuZ3RoOyBfYisrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGdyb3VwID0gX2NbX2JdO1xuICAgICAgICAgICAgICAgIHZhciBkID0gZ3JvdXAuc2VyaWVzLmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGEgPSBpdGVtLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgIHZhciBiID0gdmFsO1xuICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMuc2NhbGVUeXBlID09PSAndGltZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGEgPSBhLnZhbHVlT2YoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGIgPSBiLnZhbHVlT2YoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYSA9PT0gYjtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoZCkge1xuICAgICAgICAgICAgICAgICAgICBkLmQwID0gZDA7XG4gICAgICAgICAgICAgICAgICAgIGQuZDEgPSBkMCArIGQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGQwICs9IGQudmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBkID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogdmFsLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBkMDogZDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBkMTogZDBcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXAuc2VyaWVzLnB1c2goZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0b3RhbCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZC5kMCA9IChkLmQwICogMTAwKSAvIHRvdGFsO1xuICAgICAgICAgICAgICAgICAgICBkLmQxID0gKGQuZDEgKiAxMDApIC8gdG90YWw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBkLmQwID0gMDtcbiAgICAgICAgICAgICAgICAgICAgZC5kMSA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB2YXIgdGhpc18xID0gdGhpcztcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnhTZXQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIF9sb29wXzEoaSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51cGRhdGVUaW1lbGluZSgpO1xuICAgICAgICB0aGlzLnNldENvbG9ycygpO1xuICAgICAgICB0aGlzLmxlZ2VuZE9wdGlvbnMgPSB0aGlzLmdldExlZ2VuZE9wdGlvbnMoKTtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0gPSBcInRyYW5zbGF0ZShcIiArIHRoaXMuZGltcy54T2Zmc2V0ICsgXCIgLCBcIiArIHRoaXMubWFyZ2luWzBdICsgXCIpXCI7XG4gICAgICAgIHRoaXMuY2xpcFBhdGhJZCA9ICdjbGlwJyArIGlkKCkudG9TdHJpbmcoKTtcbiAgICAgICAgdGhpcy5jbGlwUGF0aCA9IFwidXJsKCNcIiArIHRoaXMuY2xpcFBhdGhJZCArIFwiKVwiO1xuICAgIH07XG4gICAgQXJlYUNoYXJ0Tm9ybWFsaXplZENvbXBvbmVudC5wcm90b3R5cGUudXBkYXRlVGltZWxpbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnRpbWVsaW5lKSB7XG4gICAgICAgICAgICB0aGlzLnRpbWVsaW5lV2lkdGggPSB0aGlzLmRpbXMud2lkdGg7XG4gICAgICAgICAgICB0aGlzLnRpbWVsaW5lWERvbWFpbiA9IHRoaXMuZ2V0WERvbWFpbigpO1xuICAgICAgICAgICAgdGhpcy50aW1lbGluZVhTY2FsZSA9IHRoaXMuZ2V0WFNjYWxlKHRoaXMudGltZWxpbmVYRG9tYWluLCB0aGlzLnRpbWVsaW5lV2lkdGgpO1xuICAgICAgICAgICAgdGhpcy50aW1lbGluZVlTY2FsZSA9IHRoaXMuZ2V0WVNjYWxlKHRoaXMueURvbWFpbiwgdGhpcy50aW1lbGluZUhlaWdodCk7XG4gICAgICAgICAgICB0aGlzLnRpbWVsaW5lVHJhbnNmb3JtID0gXCJ0cmFuc2xhdGUoXCIgKyB0aGlzLmRpbXMueE9mZnNldCArIFwiLCBcIiArIC10aGlzLm1hcmdpblsyXSArIFwiKVwiO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBBcmVhQ2hhcnROb3JtYWxpemVkQ29tcG9uZW50LnByb3RvdHlwZS5nZXRYRG9tYWluID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdmFsdWVzID0gZ2V0VW5pcXVlWERvbWFpblZhbHVlcyh0aGlzLnJlc3VsdHMpO1xuICAgICAgICB0aGlzLnNjYWxlVHlwZSA9IGdldFNjYWxlVHlwZSh2YWx1ZXMpO1xuICAgICAgICB2YXIgZG9tYWluID0gW107XG4gICAgICAgIGlmICh0aGlzLnNjYWxlVHlwZSA9PT0gJ3RpbWUnKSB7XG4gICAgICAgICAgICB2YXIgbWluJCQxID0gTWF0aC5taW4uYXBwbHkoTWF0aCwgdmFsdWVzKTtcbiAgICAgICAgICAgIHZhciBtYXgkJDEgPSBNYXRoLm1heC5hcHBseShNYXRoLCB2YWx1ZXMpO1xuICAgICAgICAgICAgZG9tYWluID0gW25ldyBEYXRlKG1pbiQkMSksIG5ldyBEYXRlKG1heCQkMSldO1xuICAgICAgICAgICAgdGhpcy54U2V0ID0gdmFsdWVzLnNsaWNlKCkuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgICAgICAgIHZhciBhRGF0ZSA9IGEuZ2V0VGltZSgpO1xuICAgICAgICAgICAgICAgIHZhciBiRGF0ZSA9IGIuZ2V0VGltZSgpO1xuICAgICAgICAgICAgICAgIGlmIChhRGF0ZSA+IGJEYXRlKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICAgICAgICBpZiAoYkRhdGUgPiBhRGF0ZSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5zY2FsZVR5cGUgPT09ICdsaW5lYXInKSB7XG4gICAgICAgICAgICB2YWx1ZXMgPSB2YWx1ZXMubWFwKGZ1bmN0aW9uICh2KSB7IHJldHVybiBOdW1iZXIodik7IH0pO1xuICAgICAgICAgICAgdmFyIG1pbiQkMSA9IE1hdGgubWluLmFwcGx5KE1hdGgsIHZhbHVlcyk7XG4gICAgICAgICAgICB2YXIgbWF4JCQxID0gTWF0aC5tYXguYXBwbHkoTWF0aCwgdmFsdWVzKTtcbiAgICAgICAgICAgIGRvbWFpbiA9IFttaW4kJDEsIG1heCQkMV07XG4gICAgICAgICAgICB0aGlzLnhTZXQgPSB2YWx1ZXMuc2xpY2UoKS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBhIC0gYjsgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkb21haW4gPSB2YWx1ZXM7XG4gICAgICAgICAgICB0aGlzLnhTZXQgPSB2YWx1ZXM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRvbWFpbjtcbiAgICB9O1xuICAgIEFyZWFDaGFydE5vcm1hbGl6ZWRDb21wb25lbnQucHJvdG90eXBlLmdldFlEb21haW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBbMCwgMTAwXTtcbiAgICB9O1xuICAgIEFyZWFDaGFydE5vcm1hbGl6ZWRDb21wb25lbnQucHJvdG90eXBlLmdldFNlcmllc0RvbWFpbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVzdWx0cy5tYXAoZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQubmFtZTsgfSk7XG4gICAgfTtcbiAgICBBcmVhQ2hhcnROb3JtYWxpemVkQ29tcG9uZW50LnByb3RvdHlwZS5nZXRYU2NhbGUgPSBmdW5jdGlvbiAoZG9tYWluLCB3aWR0aCkge1xuICAgICAgICB2YXIgc2NhbGU7XG4gICAgICAgIGlmICh0aGlzLnNjYWxlVHlwZSA9PT0gJ3RpbWUnKSB7XG4gICAgICAgICAgICBzY2FsZSA9IHNjYWxlVGltZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuc2NhbGVUeXBlID09PSAnbGluZWFyJykge1xuICAgICAgICAgICAgc2NhbGUgPSBzY2FsZUxpbmVhcigpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuc2NhbGVUeXBlID09PSAnb3JkaW5hbCcpIHtcbiAgICAgICAgICAgIHNjYWxlID0gc2NhbGVQb2ludCgpLnBhZGRpbmcoMC4xKTtcbiAgICAgICAgfVxuICAgICAgICBzY2FsZS5yYW5nZShbMCwgd2lkdGhdKS5kb21haW4oZG9tYWluKTtcbiAgICAgICAgcmV0dXJuIHRoaXMucm91bmREb21haW5zID8gc2NhbGUubmljZSgpIDogc2NhbGU7XG4gICAgfTtcbiAgICBBcmVhQ2hhcnROb3JtYWxpemVkQ29tcG9uZW50LnByb3RvdHlwZS5nZXRZU2NhbGUgPSBmdW5jdGlvbiAoZG9tYWluLCBoZWlnaHQpIHtcbiAgICAgICAgdmFyIHNjYWxlID0gc2NhbGVMaW5lYXIoKVxuICAgICAgICAgICAgLnJhbmdlKFtoZWlnaHQsIDBdKVxuICAgICAgICAgICAgLmRvbWFpbihkb21haW4pO1xuICAgICAgICByZXR1cm4gdGhpcy5yb3VuZERvbWFpbnMgPyBzY2FsZS5uaWNlKCkgOiBzY2FsZTtcbiAgICB9O1xuICAgIEFyZWFDaGFydE5vcm1hbGl6ZWRDb21wb25lbnQucHJvdG90eXBlLnVwZGF0ZURvbWFpbiA9IGZ1bmN0aW9uIChkb21haW4pIHtcbiAgICAgICAgdGhpcy5maWx0ZXJlZERvbWFpbiA9IGRvbWFpbjtcbiAgICAgICAgdGhpcy54RG9tYWluID0gdGhpcy5maWx0ZXJlZERvbWFpbjtcbiAgICAgICAgdGhpcy54U2NhbGUgPSB0aGlzLmdldFhTY2FsZSh0aGlzLnhEb21haW4sIHRoaXMuZGltcy53aWR0aCk7XG4gICAgfTtcbiAgICBBcmVhQ2hhcnROb3JtYWxpemVkQ29tcG9uZW50LnByb3RvdHlwZS51cGRhdGVIb3ZlcmVkVmVydGljYWwgPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICB0aGlzLmhvdmVyZWRWZXJ0aWNhbCA9IGl0ZW0udmFsdWU7XG4gICAgICAgIHRoaXMuZGVhY3RpdmF0ZUFsbCgpO1xuICAgIH07XG4gICAgQXJlYUNoYXJ0Tm9ybWFsaXplZENvbXBvbmVudC5wcm90b3R5cGUuaGlkZUNpcmNsZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuaG92ZXJlZFZlcnRpY2FsID0gbnVsbDtcbiAgICAgICAgdGhpcy5kZWFjdGl2YXRlQWxsKCk7XG4gICAgfTtcbiAgICBBcmVhQ2hhcnROb3JtYWxpemVkQ29tcG9uZW50LnByb3RvdHlwZS5vbkNsaWNrID0gZnVuY3Rpb24gKGRhdGEsIHNlcmllcykge1xuICAgICAgICBpZiAoc2VyaWVzKSB7XG4gICAgICAgICAgICBkYXRhLnNlcmllcyA9IHNlcmllcy5uYW1lO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2VsZWN0LmVtaXQoZGF0YSk7XG4gICAgfTtcbiAgICBBcmVhQ2hhcnROb3JtYWxpemVkQ29tcG9uZW50LnByb3RvdHlwZS50cmFja0J5ID0gZnVuY3Rpb24gKGluZGV4LCBpdGVtKSB7XG4gICAgICAgIHJldHVybiBpdGVtLm5hbWU7XG4gICAgfTtcbiAgICBBcmVhQ2hhcnROb3JtYWxpemVkQ29tcG9uZW50LnByb3RvdHlwZS5zZXRDb2xvcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkb21haW47XG4gICAgICAgIGlmICh0aGlzLnNjaGVtZVR5cGUgPT09ICdvcmRpbmFsJykge1xuICAgICAgICAgICAgZG9tYWluID0gdGhpcy5zZXJpZXNEb21haW47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkb21haW4gPSB0aGlzLnlEb21haW47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb2xvcnMgPSBuZXcgQ29sb3JIZWxwZXIodGhpcy5zY2hlbWUsIHRoaXMuc2NoZW1lVHlwZSwgZG9tYWluLCB0aGlzLmN1c3RvbUNvbG9ycyk7XG4gICAgfTtcbiAgICBBcmVhQ2hhcnROb3JtYWxpemVkQ29tcG9uZW50LnByb3RvdHlwZS5nZXRMZWdlbmRPcHRpb25zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgb3B0cyA9IHtcbiAgICAgICAgICAgIHNjYWxlVHlwZTogdGhpcy5zY2hlbWVUeXBlLFxuICAgICAgICAgICAgY29sb3JzOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBkb21haW46IFtdLFxuICAgICAgICAgICAgdGl0bGU6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHBvc2l0aW9uOiB0aGlzLmxlZ2VuZFBvc2l0aW9uXG4gICAgICAgIH07XG4gICAgICAgIGlmIChvcHRzLnNjYWxlVHlwZSA9PT0gJ29yZGluYWwnKSB7XG4gICAgICAgICAgICBvcHRzLmRvbWFpbiA9IHRoaXMuc2VyaWVzRG9tYWluO1xuICAgICAgICAgICAgb3B0cy5jb2xvcnMgPSB0aGlzLmNvbG9ycztcbiAgICAgICAgICAgIG9wdHMudGl0bGUgPSB0aGlzLmxlZ2VuZFRpdGxlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb3B0cy5kb21haW4gPSB0aGlzLnlEb21haW47XG4gICAgICAgICAgICBvcHRzLmNvbG9ycyA9IHRoaXMuY29sb3JzLnNjYWxlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvcHRzO1xuICAgIH07XG4gICAgQXJlYUNoYXJ0Tm9ybWFsaXplZENvbXBvbmVudC5wcm90b3R5cGUudXBkYXRlWUF4aXNXaWR0aCA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgd2lkdGggPSBfYS53aWR0aDtcbiAgICAgICAgdGhpcy55QXhpc1dpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfTtcbiAgICBBcmVhQ2hhcnROb3JtYWxpemVkQ29tcG9uZW50LnByb3RvdHlwZS51cGRhdGVYQXhpc0hlaWdodCA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgaGVpZ2h0ID0gX2EuaGVpZ2h0O1xuICAgICAgICB0aGlzLnhBeGlzSGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIH07XG4gICAgQXJlYUNoYXJ0Tm9ybWFsaXplZENvbXBvbmVudC5wcm90b3R5cGUub25BY3RpdmF0ZSA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHZhciBpZHggPSB0aGlzLmFjdGl2ZUVudHJpZXMuZmluZEluZGV4KGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICByZXR1cm4gZC5uYW1lID09PSBpdGVtLm5hbWUgJiYgZC52YWx1ZSA9PT0gaXRlbS52YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChpZHggPiAtMSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWN0aXZlRW50cmllcyA9IFtpdGVtXS5jb25jYXQodGhpcy5hY3RpdmVFbnRyaWVzKTtcbiAgICAgICAgdGhpcy5hY3RpdmF0ZS5lbWl0KHsgdmFsdWU6IGl0ZW0sIGVudHJpZXM6IHRoaXMuYWN0aXZlRW50cmllcyB9KTtcbiAgICB9O1xuICAgIEFyZWFDaGFydE5vcm1hbGl6ZWRDb21wb25lbnQucHJvdG90eXBlLm9uRGVhY3RpdmF0ZSA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHZhciBpZHggPSB0aGlzLmFjdGl2ZUVudHJpZXMuZmluZEluZGV4KGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICByZXR1cm4gZC5uYW1lID09PSBpdGVtLm5hbWUgJiYgZC52YWx1ZSA9PT0gaXRlbS52YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuYWN0aXZlRW50cmllcy5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgdGhpcy5hY3RpdmVFbnRyaWVzID0gdGhpcy5hY3RpdmVFbnRyaWVzLnNsaWNlKCk7XG4gICAgICAgIHRoaXMuZGVhY3RpdmF0ZS5lbWl0KHsgdmFsdWU6IGl0ZW0sIGVudHJpZXM6IHRoaXMuYWN0aXZlRW50cmllcyB9KTtcbiAgICB9O1xuICAgIEFyZWFDaGFydE5vcm1hbGl6ZWRDb21wb25lbnQucHJvdG90eXBlLmRlYWN0aXZhdGVBbGwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuYWN0aXZlRW50cmllcyA9IHRoaXMuYWN0aXZlRW50cmllcy5zbGljZSgpO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gdGhpcy5hY3RpdmVFbnRyaWVzOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIGVudHJ5ID0gX2FbX2ldO1xuICAgICAgICAgICAgdGhpcy5kZWFjdGl2YXRlLmVtaXQoeyB2YWx1ZTogZW50cnksIGVudHJpZXM6IFtdIH0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWN0aXZlRW50cmllcyA9IFtdO1xuICAgIH07XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEFyZWFDaGFydE5vcm1hbGl6ZWRDb21wb25lbnQucHJvdG90eXBlLCBcImxlZ2VuZFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgU3RyaW5nKVxuICAgIF0sIEFyZWFDaGFydE5vcm1hbGl6ZWRDb21wb25lbnQucHJvdG90eXBlLCBcImxlZ2VuZFRpdGxlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBTdHJpbmcpXG4gICAgXSwgQXJlYUNoYXJ0Tm9ybWFsaXplZENvbXBvbmVudC5wcm90b3R5cGUsIFwibGVnZW5kUG9zaXRpb25cIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBBcmVhQ2hhcnROb3JtYWxpemVkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ4QXhpc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEFyZWFDaGFydE5vcm1hbGl6ZWRDb21wb25lbnQucHJvdG90eXBlLCBcInlBeGlzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQXJlYUNoYXJ0Tm9ybWFsaXplZENvbXBvbmVudC5wcm90b3R5cGUsIFwic2hvd1hBeGlzTGFiZWxcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBBcmVhQ2hhcnROb3JtYWxpemVkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJzaG93WUF4aXNMYWJlbFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEFyZWFDaGFydE5vcm1hbGl6ZWRDb21wb25lbnQucHJvdG90eXBlLCBcInhBeGlzTGFiZWxcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBBcmVhQ2hhcnROb3JtYWxpemVkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ5QXhpc0xhYmVsXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQXJlYUNoYXJ0Tm9ybWFsaXplZENvbXBvbmVudC5wcm90b3R5cGUsIFwidGltZWxpbmVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBBcmVhQ2hhcnROb3JtYWxpemVkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJncmFkaWVudFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbiAgICBdLCBBcmVhQ2hhcnROb3JtYWxpemVkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJzaG93R3JpZExpbmVzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQXJlYUNoYXJ0Tm9ybWFsaXplZENvbXBvbmVudC5wcm90b3R5cGUsIFwiY3VydmVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEFycmF5KVxuICAgIF0sIEFyZWFDaGFydE5vcm1hbGl6ZWRDb21wb25lbnQucHJvdG90eXBlLCBcImFjdGl2ZUVudHJpZXNcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcbiAgICBdLCBBcmVhQ2hhcnROb3JtYWxpemVkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJzY2hlbWVUeXBlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIEFyZWFDaGFydE5vcm1hbGl6ZWRDb21wb25lbnQucHJvdG90eXBlLCBcInRyaW1YQXhpc1RpY2tzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIEFyZWFDaGFydE5vcm1hbGl6ZWRDb21wb25lbnQucHJvdG90eXBlLCBcInRyaW1ZQXhpc1RpY2tzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIEFyZWFDaGFydE5vcm1hbGl6ZWRDb21wb25lbnQucHJvdG90eXBlLCBcInJvdGF0ZVhBeGlzVGlja3NcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE51bWJlcilcbiAgICBdLCBBcmVhQ2hhcnROb3JtYWxpemVkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJtYXhYQXhpc1RpY2tMZW5ndGhcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE51bWJlcilcbiAgICBdLCBBcmVhQ2hhcnROb3JtYWxpemVkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJtYXhZQXhpc1RpY2tMZW5ndGhcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBBcmVhQ2hhcnROb3JtYWxpemVkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ4QXhpc1RpY2tGb3JtYXR0aW5nXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQXJlYUNoYXJ0Tm9ybWFsaXplZENvbXBvbmVudC5wcm90b3R5cGUsIFwieUF4aXNUaWNrRm9ybWF0dGluZ1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQXJyYXkpXG4gICAgXSwgQXJlYUNoYXJ0Tm9ybWFsaXplZENvbXBvbmVudC5wcm90b3R5cGUsIFwieEF4aXNUaWNrc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQXJyYXkpXG4gICAgXSwgQXJlYUNoYXJ0Tm9ybWFsaXplZENvbXBvbmVudC5wcm90b3R5cGUsIFwieUF4aXNUaWNrc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbiAgICBdLCBBcmVhQ2hhcnROb3JtYWxpemVkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJyb3VuZERvbWFpbnNcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEJvb2xlYW4pXG4gICAgXSwgQXJlYUNoYXJ0Tm9ybWFsaXplZENvbXBvbmVudC5wcm90b3R5cGUsIFwidG9vbHRpcERpc2FibGVkXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIE91dHB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgdHlwZW9mIChfYSA9IHR5cGVvZiBFdmVudEVtaXR0ZXIgIT09IFwidW5kZWZpbmVkXCIgJiYgRXZlbnRFbWl0dGVyKSA9PT0gXCJmdW5jdGlvblwiID8gX2EgOiBPYmplY3QpXG4gICAgXSwgQXJlYUNoYXJ0Tm9ybWFsaXplZENvbXBvbmVudC5wcm90b3R5cGUsIFwiYWN0aXZhdGVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgT3V0cHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCB0eXBlb2YgKF9iID0gdHlwZW9mIEV2ZW50RW1pdHRlciAhPT0gXCJ1bmRlZmluZWRcIiAmJiBFdmVudEVtaXR0ZXIpID09PSBcImZ1bmN0aW9uXCIgPyBfYiA6IE9iamVjdClcbiAgICBdLCBBcmVhQ2hhcnROb3JtYWxpemVkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJkZWFjdGl2YXRlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIENvbnRlbnRDaGlsZCgndG9vbHRpcFRlbXBsYXRlJywgeyBzdGF0aWM6IGZhbHNlIH0pLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgdHlwZW9mIChfYyA9IHR5cGVvZiBUZW1wbGF0ZVJlZiAhPT0gXCJ1bmRlZmluZWRcIiAmJiBUZW1wbGF0ZVJlZikgPT09IFwiZnVuY3Rpb25cIiA/IF9jIDogT2JqZWN0KVxuICAgIF0sIEFyZWFDaGFydE5vcm1hbGl6ZWRDb21wb25lbnQucHJvdG90eXBlLCBcInRvb2x0aXBUZW1wbGF0ZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBDb250ZW50Q2hpbGQoJ3Nlcmllc1Rvb2x0aXBUZW1wbGF0ZScsIHsgc3RhdGljOiBmYWxzZSB9KSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIHR5cGVvZiAoX2QgPSB0eXBlb2YgVGVtcGxhdGVSZWYgIT09IFwidW5kZWZpbmVkXCIgJiYgVGVtcGxhdGVSZWYpID09PSBcImZ1bmN0aW9uXCIgPyBfZCA6IE9iamVjdClcbiAgICBdLCBBcmVhQ2hhcnROb3JtYWxpemVkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJzZXJpZXNUb29sdGlwVGVtcGxhdGVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSG9zdExpc3RlbmVyKCdtb3VzZWxlYXZlJyksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBGdW5jdGlvbiksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cGFyYW10eXBlc1wiLCBbXSksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cmV0dXJudHlwZVwiLCB2b2lkIDApXG4gICAgXSwgQXJlYUNoYXJ0Tm9ybWFsaXplZENvbXBvbmVudC5wcm90b3R5cGUsIFwiaGlkZUNpcmNsZXNcIiwgbnVsbCk7XG4gICAgQXJlYUNoYXJ0Tm9ybWFsaXplZENvbXBvbmVudCA9IF9fZGVjb3JhdGUoW1xuICAgICAgICBDb21wb25lbnQoe1xuICAgICAgICAgICAgc2VsZWN0b3I6ICduZ3gtY2hhcnRzLWFyZWEtY2hhcnQtbm9ybWFsaXplZCcsXG4gICAgICAgICAgICB0ZW1wbGF0ZTogXCJcXG4gICAgPG5neC1jaGFydHMtY2hhcnRcXG4gICAgICBbdmlld109XFxcIlt3aWR0aCwgaGVpZ2h0XVxcXCJcXG4gICAgICBbc2hvd0xlZ2VuZF09XFxcImxlZ2VuZFxcXCJcXG4gICAgICBbbGVnZW5kT3B0aW9uc109XFxcImxlZ2VuZE9wdGlvbnNcXFwiXFxuICAgICAgW2FjdGl2ZUVudHJpZXNdPVxcXCJhY3RpdmVFbnRyaWVzXFxcIlxcbiAgICAgIFthbmltYXRpb25zXT1cXFwiYW5pbWF0aW9uc1xcXCJcXG4gICAgICAobGVnZW5kTGFiZWxDbGljayk9XFxcIm9uQ2xpY2soJGV2ZW50KVxcXCJcXG4gICAgICAobGVnZW5kTGFiZWxBY3RpdmF0ZSk9XFxcIm9uQWN0aXZhdGUoJGV2ZW50KVxcXCJcXG4gICAgICAobGVnZW5kTGFiZWxEZWFjdGl2YXRlKT1cXFwib25EZWFjdGl2YXRlKCRldmVudClcXFwiXFxuICAgID5cXG4gICAgICA8c3ZnOmRlZnM+XFxuICAgICAgICA8c3ZnOmNsaXBQYXRoIFthdHRyLmlkXT1cXFwiY2xpcFBhdGhJZFxcXCI+XFxuICAgICAgICAgIDxzdmc6cmVjdFxcbiAgICAgICAgICAgIFthdHRyLndpZHRoXT1cXFwiZGltcy53aWR0aCArIDEwXFxcIlxcbiAgICAgICAgICAgIFthdHRyLmhlaWdodF09XFxcImRpbXMuaGVpZ2h0ICsgMTBcXFwiXFxuICAgICAgICAgICAgW2F0dHIudHJhbnNmb3JtXT1cXFwiJ3RyYW5zbGF0ZSgtNSwgLTUpJ1xcXCJcXG4gICAgICAgICAgLz5cXG4gICAgICAgIDwvc3ZnOmNsaXBQYXRoPlxcbiAgICAgIDwvc3ZnOmRlZnM+XFxuICAgICAgPHN2ZzpnIFthdHRyLnRyYW5zZm9ybV09XFxcInRyYW5zZm9ybVxcXCIgY2xhc3M9XFxcImFyZWEtY2hhcnQgY2hhcnRcXFwiPlxcbiAgICAgICAgPHN2ZzpnXFxuICAgICAgICAgIG5neC1jaGFydHMteC1heGlzXFxuICAgICAgICAgICpuZ0lmPVxcXCJ4QXhpc1xcXCJcXG4gICAgICAgICAgW3hTY2FsZV09XFxcInhTY2FsZVxcXCJcXG4gICAgICAgICAgW2RpbXNdPVxcXCJkaW1zXFxcIlxcbiAgICAgICAgICBbc2hvd0dyaWRMaW5lc109XFxcInNob3dHcmlkTGluZXNcXFwiXFxuICAgICAgICAgIFtzaG93TGFiZWxdPVxcXCJzaG93WEF4aXNMYWJlbFxcXCJcXG4gICAgICAgICAgW2xhYmVsVGV4dF09XFxcInhBeGlzTGFiZWxcXFwiXFxuICAgICAgICAgIFt0cmltVGlja3NdPVxcXCJ0cmltWEF4aXNUaWNrc1xcXCJcXG4gICAgICAgICAgW3JvdGF0ZVRpY2tzXT1cXFwicm90YXRlWEF4aXNUaWNrc1xcXCJcXG4gICAgICAgICAgW21heFRpY2tMZW5ndGhdPVxcXCJtYXhYQXhpc1RpY2tMZW5ndGhcXFwiXFxuICAgICAgICAgIFt0aWNrRm9ybWF0dGluZ109XFxcInhBeGlzVGlja0Zvcm1hdHRpbmdcXFwiXFxuICAgICAgICAgIFt0aWNrc109XFxcInhBeGlzVGlja3NcXFwiXFxuICAgICAgICAgIChkaW1lbnNpb25zQ2hhbmdlZCk9XFxcInVwZGF0ZVhBeGlzSGVpZ2h0KCRldmVudClcXFwiXFxuICAgICAgICA+PC9zdmc6Zz5cXG4gICAgICAgIDxzdmc6Z1xcbiAgICAgICAgICBuZ3gtY2hhcnRzLXktYXhpc1xcbiAgICAgICAgICAqbmdJZj1cXFwieUF4aXNcXFwiXFxuICAgICAgICAgIFt5U2NhbGVdPVxcXCJ5U2NhbGVcXFwiXFxuICAgICAgICAgIFtkaW1zXT1cXFwiZGltc1xcXCJcXG4gICAgICAgICAgW3Nob3dHcmlkTGluZXNdPVxcXCJzaG93R3JpZExpbmVzXFxcIlxcbiAgICAgICAgICBbc2hvd0xhYmVsXT1cXFwic2hvd1lBeGlzTGFiZWxcXFwiXFxuICAgICAgICAgIFtsYWJlbFRleHRdPVxcXCJ5QXhpc0xhYmVsXFxcIlxcbiAgICAgICAgICBbdHJpbVRpY2tzXT1cXFwidHJpbVlBeGlzVGlja3NcXFwiXFxuICAgICAgICAgIFttYXhUaWNrTGVuZ3RoXT1cXFwibWF4WUF4aXNUaWNrTGVuZ3RoXFxcIlxcbiAgICAgICAgICBbdGlja0Zvcm1hdHRpbmddPVxcXCJ5QXhpc1RpY2tGb3JtYXR0aW5nXFxcIlxcbiAgICAgICAgICBbdGlja3NdPVxcXCJ5QXhpc1RpY2tzXFxcIlxcbiAgICAgICAgICAoZGltZW5zaW9uc0NoYW5nZWQpPVxcXCJ1cGRhdGVZQXhpc1dpZHRoKCRldmVudClcXFwiXFxuICAgICAgICA+PC9zdmc6Zz5cXG4gICAgICAgIDxzdmc6ZyBbYXR0ci5jbGlwLXBhdGhdPVxcXCJjbGlwUGF0aFxcXCI+XFxuICAgICAgICAgIDxzdmc6ZyAqbmdGb3I9XFxcImxldCBzZXJpZXMgb2YgcmVzdWx0czsgdHJhY2tCeTogdHJhY2tCeVxcXCI+XFxuICAgICAgICAgICAgPHN2ZzpnXFxuICAgICAgICAgICAgICBuZ3gtY2hhcnRzLWFyZWEtc2VyaWVzXFxuICAgICAgICAgICAgICBbeFNjYWxlXT1cXFwieFNjYWxlXFxcIlxcbiAgICAgICAgICAgICAgW3lTY2FsZV09XFxcInlTY2FsZVxcXCJcXG4gICAgICAgICAgICAgIFtjb2xvcnNdPVxcXCJjb2xvcnNcXFwiXFxuICAgICAgICAgICAgICBbZGF0YV09XFxcInNlcmllc1xcXCJcXG4gICAgICAgICAgICAgIFtzY2FsZVR5cGVdPVxcXCJzY2FsZVR5cGVcXFwiXFxuICAgICAgICAgICAgICBbYWN0aXZlRW50cmllc109XFxcImFjdGl2ZUVudHJpZXNcXFwiXFxuICAgICAgICAgICAgICBbZ3JhZGllbnRdPVxcXCJncmFkaWVudFxcXCJcXG4gICAgICAgICAgICAgIG5vcm1hbGl6ZWQ9XFxcInRydWVcXFwiXFxuICAgICAgICAgICAgICBbY3VydmVdPVxcXCJjdXJ2ZVxcXCJcXG4gICAgICAgICAgICAgIFthbmltYXRpb25zXT1cXFwiYW5pbWF0aW9uc1xcXCJcXG4gICAgICAgICAgICAvPlxcbiAgICAgICAgICA8L3N2ZzpnPlxcblxcbiAgICAgICAgICA8c3ZnOmcgKm5nSWY9XFxcIiF0b29sdGlwRGlzYWJsZWRcXFwiIChtb3VzZWxlYXZlKT1cXFwiaGlkZUNpcmNsZXMoKVxcXCI+XFxuICAgICAgICAgICAgPHN2ZzpnXFxuICAgICAgICAgICAgICBuZ3gtY2hhcnRzLXRvb2x0aXAtYXJlYVxcbiAgICAgICAgICAgICAgW2RpbXNdPVxcXCJkaW1zXFxcIlxcbiAgICAgICAgICAgICAgW3hTZXRdPVxcXCJ4U2V0XFxcIlxcbiAgICAgICAgICAgICAgW3hTY2FsZV09XFxcInhTY2FsZVxcXCJcXG4gICAgICAgICAgICAgIFt5U2NhbGVdPVxcXCJ5U2NhbGVcXFwiXFxuICAgICAgICAgICAgICBbcmVzdWx0c109XFxcInJlc3VsdHNcXFwiXFxuICAgICAgICAgICAgICBbY29sb3JzXT1cXFwiY29sb3JzXFxcIlxcbiAgICAgICAgICAgICAgW3Nob3dQZXJjZW50YWdlXT1cXFwidHJ1ZVxcXCJcXG4gICAgICAgICAgICAgIFt0b29sdGlwRGlzYWJsZWRdPVxcXCJ0b29sdGlwRGlzYWJsZWRcXFwiXFxuICAgICAgICAgICAgICBbdG9vbHRpcFRlbXBsYXRlXT1cXFwic2VyaWVzVG9vbHRpcFRlbXBsYXRlXFxcIlxcbiAgICAgICAgICAgICAgKGhvdmVyKT1cXFwidXBkYXRlSG92ZXJlZFZlcnRpY2FsKCRldmVudClcXFwiXFxuICAgICAgICAgICAgLz5cXG5cXG4gICAgICAgICAgICA8c3ZnOmcgKm5nRm9yPVxcXCJsZXQgc2VyaWVzIG9mIHJlc3VsdHNcXFwiPlxcbiAgICAgICAgICAgICAgPHN2ZzpnXFxuICAgICAgICAgICAgICAgIG5neC1jaGFydHMtY2lyY2xlLXNlcmllc1xcbiAgICAgICAgICAgICAgICB0eXBlPVxcXCJzdGFja2VkXFxcIlxcbiAgICAgICAgICAgICAgICBbeFNjYWxlXT1cXFwieFNjYWxlXFxcIlxcbiAgICAgICAgICAgICAgICBbeVNjYWxlXT1cXFwieVNjYWxlXFxcIlxcbiAgICAgICAgICAgICAgICBbY29sb3JzXT1cXFwiY29sb3JzXFxcIlxcbiAgICAgICAgICAgICAgICBbYWN0aXZlRW50cmllc109XFxcImFjdGl2ZUVudHJpZXNcXFwiXFxuICAgICAgICAgICAgICAgIFtkYXRhXT1cXFwic2VyaWVzXFxcIlxcbiAgICAgICAgICAgICAgICBbc2NhbGVUeXBlXT1cXFwic2NhbGVUeXBlXFxcIlxcbiAgICAgICAgICAgICAgICBbdmlzaWJsZVZhbHVlXT1cXFwiaG92ZXJlZFZlcnRpY2FsXFxcIlxcbiAgICAgICAgICAgICAgICBbdG9vbHRpcERpc2FibGVkXT1cXFwidG9vbHRpcERpc2FibGVkXFxcIlxcbiAgICAgICAgICAgICAgICBbdG9vbHRpcFRlbXBsYXRlXT1cXFwidG9vbHRpcFRlbXBsYXRlXFxcIlxcbiAgICAgICAgICAgICAgICAoc2VsZWN0KT1cXFwib25DbGljaygkZXZlbnQsIHNlcmllcylcXFwiXFxuICAgICAgICAgICAgICAgIChhY3RpdmF0ZSk9XFxcIm9uQWN0aXZhdGUoJGV2ZW50KVxcXCJcXG4gICAgICAgICAgICAgICAgKGRlYWN0aXZhdGUpPVxcXCJvbkRlYWN0aXZhdGUoJGV2ZW50KVxcXCJcXG4gICAgICAgICAgICAgIC8+XFxuICAgICAgICAgICAgPC9zdmc6Zz5cXG4gICAgICAgICAgPC9zdmc6Zz5cXG4gICAgICAgIDwvc3ZnOmc+XFxuICAgICAgPC9zdmc6Zz5cXG4gICAgICA8c3ZnOmdcXG4gICAgICAgIG5neC1jaGFydHMtdGltZWxpbmVcXG4gICAgICAgICpuZ0lmPVxcXCJ0aW1lbGluZSAmJiBzY2FsZVR5cGUgIT0gJ29yZGluYWwnXFxcIlxcbiAgICAgICAgW2F0dHIudHJhbnNmb3JtXT1cXFwidGltZWxpbmVUcmFuc2Zvcm1cXFwiXFxuICAgICAgICBbcmVzdWx0c109XFxcInJlc3VsdHNcXFwiXFxuICAgICAgICBbdmlld109XFxcIlt0aW1lbGluZVdpZHRoLCBoZWlnaHRdXFxcIlxcbiAgICAgICAgW2hlaWdodF09XFxcInRpbWVsaW5lSGVpZ2h0XFxcIlxcbiAgICAgICAgW3NjaGVtZV09XFxcInNjaGVtZVxcXCJcXG4gICAgICAgIFtjdXN0b21Db2xvcnNdPVxcXCJjdXN0b21Db2xvcnNcXFwiXFxuICAgICAgICBbbGVnZW5kXT1cXFwibGVnZW5kXFxcIlxcbiAgICAgICAgW3NjYWxlVHlwZV09XFxcInNjYWxlVHlwZVxcXCJcXG4gICAgICAgIChvbkRvbWFpbkNoYW5nZSk9XFxcInVwZGF0ZURvbWFpbigkZXZlbnQpXFxcIlxcbiAgICAgID5cXG4gICAgICAgIDxzdmc6ZyAqbmdGb3I9XFxcImxldCBzZXJpZXMgb2YgcmVzdWx0czsgdHJhY2tCeTogdHJhY2tCeVxcXCI+XFxuICAgICAgICAgIDxzdmc6Z1xcbiAgICAgICAgICAgIG5neC1jaGFydHMtYXJlYS1zZXJpZXNcXG4gICAgICAgICAgICBbeFNjYWxlXT1cXFwidGltZWxpbmVYU2NhbGVcXFwiXFxuICAgICAgICAgICAgW3lTY2FsZV09XFxcInRpbWVsaW5lWVNjYWxlXFxcIlxcbiAgICAgICAgICAgIFtjb2xvcnNdPVxcXCJjb2xvcnNcXFwiXFxuICAgICAgICAgICAgW2RhdGFdPVxcXCJzZXJpZXNcXFwiXFxuICAgICAgICAgICAgW3NjYWxlVHlwZV09XFxcInNjYWxlVHlwZVxcXCJcXG4gICAgICAgICAgICBbZ3JhZGllbnRdPVxcXCJncmFkaWVudFxcXCJcXG4gICAgICAgICAgICBub3JtYWxpemVkPVxcXCJ0cnVlXFxcIlxcbiAgICAgICAgICAgIFtjdXJ2ZV09XFxcImN1cnZlXFxcIlxcbiAgICAgICAgICAgIFthbmltYXRpb25zXT1cXFwiYW5pbWF0aW9uc1xcXCJcXG4gICAgICAgICAgLz5cXG4gICAgICAgIDwvc3ZnOmc+XFxuICAgICAgPC9zdmc6Zz5cXG4gICAgPC9uZ3gtY2hhcnRzLWNoYXJ0PlxcbiAgXCIsXG4gICAgICAgICAgICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcbiAgICAgICAgICAgIHN0eWxlczogW1wiLm5neC1jaGFydHN7ZmxvYXQ6bGVmdDtvdmVyZmxvdzp2aXNpYmxlfS5uZ3gtY2hhcnRzIC5hcmMsLm5neC1jaGFydHMgLmJhciwubmd4LWNoYXJ0cyAuY2lyY2xle2N1cnNvcjpwb2ludGVyfS5uZ3gtY2hhcnRzIC5hcmMuYWN0aXZlLC5uZ3gtY2hhcnRzIC5hcmM6aG92ZXIsLm5neC1jaGFydHMgLmJhci5hY3RpdmUsLm5neC1jaGFydHMgLmJhcjpob3Zlciwubmd4LWNoYXJ0cyAuY2FyZC5hY3RpdmUsLm5neC1jaGFydHMgLmNhcmQ6aG92ZXIsLm5neC1jaGFydHMgLmNlbGwuYWN0aXZlLC5uZ3gtY2hhcnRzIC5jZWxsOmhvdmVye29wYWNpdHk6Ljg7dHJhbnNpdGlvbjpvcGFjaXR5IC4xcyBlYXNlLWluLW91dH0ubmd4LWNoYXJ0cyAuYXJjOmZvY3VzLC5uZ3gtY2hhcnRzIC5iYXI6Zm9jdXMsLm5neC1jaGFydHMgLmNhcmQ6Zm9jdXMsLm5neC1jaGFydHMgLmNlbGw6Zm9jdXN7b3V0bGluZTowfS5uZ3gtY2hhcnRzIC5hcmMuaGlkZGVuLC5uZ3gtY2hhcnRzIC5iYXIuaGlkZGVuLC5uZ3gtY2hhcnRzIC5jYXJkLmhpZGRlbiwubmd4LWNoYXJ0cyAuY2VsbC5oaWRkZW57ZGlzcGxheTpub25lfS5uZ3gtY2hhcnRzIGc6Zm9jdXN7b3V0bGluZTowfS5uZ3gtY2hhcnRzIC5hcmVhLXNlcmllcy5pbmFjdGl2ZSwubmd4LWNoYXJ0cyAubGluZS1zZXJpZXMtcmFuZ2UuaW5hY3RpdmUsLm5neC1jaGFydHMgLmxpbmUtc2VyaWVzLmluYWN0aXZlLC5uZ3gtY2hhcnRzIC5wb2xhci1zZXJpZXMtYXJlYS5pbmFjdGl2ZSwubmd4LWNoYXJ0cyAucG9sYXItc2VyaWVzLXBhdGguaW5hY3RpdmV7dHJhbnNpdGlvbjpvcGFjaXR5IC4xcyBlYXNlLWluLW91dDtvcGFjaXR5Oi4yfS5uZ3gtY2hhcnRzIC5saW5lLWhpZ2hsaWdodHtkaXNwbGF5Om5vbmV9Lm5neC1jaGFydHMgLmxpbmUtaGlnaGxpZ2h0LmFjdGl2ZXtkaXNwbGF5OmJsb2NrfS5uZ3gtY2hhcnRzIC5hcmVhe29wYWNpdHk6LjZ9Lm5neC1jaGFydHMgLmNpcmNsZTpob3ZlcntjdXJzb3I6cG9pbnRlcn0ubmd4LWNoYXJ0cyAubGFiZWx7Zm9udC1zaXplOjEycHg7Zm9udC13ZWlnaHQ6NDAwfS5uZ3gtY2hhcnRzIC50b29sdGlwLWFuY2hvcntmaWxsOiMwMDB9Lm5neC1jaGFydHMgLmdyaWRsaW5lLXBhdGh7c3Ryb2tlOiNkZGQ7c3Ryb2tlLXdpZHRoOjE7ZmlsbDpub25lfS5uZ3gtY2hhcnRzIC5yZWZsaW5lLXBhdGh7c3Ryb2tlOiNhOGIyYzc7c3Ryb2tlLXdpZHRoOjE7c3Ryb2tlLWRhc2hhcnJheTo1O3N0cm9rZS1kYXNob2Zmc2V0OjV9Lm5neC1jaGFydHMgLnJlZmxpbmUtbGFiZWx7Zm9udC1zaXplOjlweH0ubmd4LWNoYXJ0cyAucmVmZXJlbmNlLWFyZWF7ZmlsbC1vcGFjaXR5Oi4wNTtmaWxsOiMwMDB9Lm5neC1jaGFydHMgLmdyaWRsaW5lLXBhdGgtZG90dGVke3N0cm9rZTojZGRkO3N0cm9rZS13aWR0aDoxO2ZpbGw6bm9uZTtzdHJva2UtZGFzaGFycmF5OjEsMjA7c3Ryb2tlLWRhc2hvZmZzZXQ6M30ubmd4LWNoYXJ0cyAuZ3JpZC1wYW5lbCByZWN0e2ZpbGw6bm9uZX0ubmd4LWNoYXJ0cyAuZ3JpZC1wYW5lbC5vZGQgcmVjdHtmaWxsOnJnYmEoMCwwLDAsLjA1KX1cIl0sXG4gICAgICAgICAgICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lXG4gICAgICAgIH0pXG4gICAgXSwgQXJlYUNoYXJ0Tm9ybWFsaXplZENvbXBvbmVudCk7XG4gICAgcmV0dXJuIEFyZWFDaGFydE5vcm1hbGl6ZWRDb21wb25lbnQ7XG59KEJhc2VDaGFydENvbXBvbmVudCkpO1xuXG52YXIgQXJlYUNoYXJ0U3RhY2tlZENvbXBvbmVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQXJlYUNoYXJ0U3RhY2tlZENvbXBvbmVudCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBcmVhQ2hhcnRTdGFja2VkQ29tcG9uZW50KCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMubGVnZW5kID0gZmFsc2U7XG4gICAgICAgIF90aGlzLmxlZ2VuZFRpdGxlID0gJ0xlZ2VuZCc7XG4gICAgICAgIF90aGlzLmxlZ2VuZFBvc2l0aW9uID0gJ3JpZ2h0JztcbiAgICAgICAgX3RoaXMuc2hvd0dyaWRMaW5lcyA9IHRydWU7XG4gICAgICAgIF90aGlzLmN1cnZlID0gY3VydmVMaW5lYXI7XG4gICAgICAgIF90aGlzLmFjdGl2ZUVudHJpZXMgPSBbXTtcbiAgICAgICAgX3RoaXMudHJpbVhBeGlzVGlja3MgPSB0cnVlO1xuICAgICAgICBfdGhpcy50cmltWUF4aXNUaWNrcyA9IHRydWU7XG4gICAgICAgIF90aGlzLnJvdGF0ZVhBeGlzVGlja3MgPSB0cnVlO1xuICAgICAgICBfdGhpcy5tYXhYQXhpc1RpY2tMZW5ndGggPSAxNjtcbiAgICAgICAgX3RoaXMubWF4WUF4aXNUaWNrTGVuZ3RoID0gMTY7XG4gICAgICAgIF90aGlzLnJvdW5kRG9tYWlucyA9IGZhbHNlO1xuICAgICAgICBfdGhpcy50b29sdGlwRGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuYWN0aXZhdGUgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgICAgIF90aGlzLmRlYWN0aXZhdGUgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgICAgIF90aGlzLm1hcmdpbiA9IFsxMCwgMjAsIDEwLCAyMF07XG4gICAgICAgIF90aGlzLnhBeGlzSGVpZ2h0ID0gMDtcbiAgICAgICAgX3RoaXMueUF4aXNXaWR0aCA9IDA7XG4gICAgICAgIF90aGlzLnRpbWVsaW5lSGVpZ2h0ID0gNTA7XG4gICAgICAgIF90aGlzLnRpbWVsaW5lUGFkZGluZyA9IDEwO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEFyZWFDaGFydFN0YWNrZWRDb21wb25lbnQucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS51cGRhdGUuY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5kaW1zID0gY2FsY3VsYXRlVmlld0RpbWVuc2lvbnMoe1xuICAgICAgICAgICAgd2lkdGg6IHRoaXMud2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IHRoaXMuaGVpZ2h0LFxuICAgICAgICAgICAgbWFyZ2luczogdGhpcy5tYXJnaW4sXG4gICAgICAgICAgICBzaG93WEF4aXM6IHRoaXMueEF4aXMsXG4gICAgICAgICAgICBzaG93WUF4aXM6IHRoaXMueUF4aXMsXG4gICAgICAgICAgICB4QXhpc0hlaWdodDogdGhpcy54QXhpc0hlaWdodCxcbiAgICAgICAgICAgIHlBeGlzV2lkdGg6IHRoaXMueUF4aXNXaWR0aCxcbiAgICAgICAgICAgIHNob3dYTGFiZWw6IHRoaXMuc2hvd1hBeGlzTGFiZWwsXG4gICAgICAgICAgICBzaG93WUxhYmVsOiB0aGlzLnNob3dZQXhpc0xhYmVsLFxuICAgICAgICAgICAgc2hvd0xlZ2VuZDogdGhpcy5sZWdlbmQsXG4gICAgICAgICAgICBsZWdlbmRUeXBlOiB0aGlzLnNjaGVtZVR5cGUsXG4gICAgICAgICAgICBsZWdlbmRQb3NpdGlvbjogdGhpcy5sZWdlbmRQb3NpdGlvblxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHRoaXMudGltZWxpbmUpIHtcbiAgICAgICAgICAgIHRoaXMuZGltcy5oZWlnaHQgLT0gdGhpcy50aW1lbGluZUhlaWdodCArIHRoaXMubWFyZ2luWzJdICsgdGhpcy50aW1lbGluZVBhZGRpbmc7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy54RG9tYWluID0gdGhpcy5nZXRYRG9tYWluKCk7XG4gICAgICAgIGlmICh0aGlzLmZpbHRlcmVkRG9tYWluKSB7XG4gICAgICAgICAgICB0aGlzLnhEb21haW4gPSB0aGlzLmZpbHRlcmVkRG9tYWluO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMueURvbWFpbiA9IHRoaXMuZ2V0WURvbWFpbigpO1xuICAgICAgICB0aGlzLnNlcmllc0RvbWFpbiA9IHRoaXMuZ2V0U2VyaWVzRG9tYWluKCk7XG4gICAgICAgIHRoaXMueFNjYWxlID0gdGhpcy5nZXRYU2NhbGUodGhpcy54RG9tYWluLCB0aGlzLmRpbXMud2lkdGgpO1xuICAgICAgICB0aGlzLnlTY2FsZSA9IHRoaXMuZ2V0WVNjYWxlKHRoaXMueURvbWFpbiwgdGhpcy5kaW1zLmhlaWdodCk7XG4gICAgICAgIHZhciBfbG9vcF8xID0gZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgIHZhciB2YWwgPSB0aGlzXzEueFNldFtpXTtcbiAgICAgICAgICAgIHZhciBkMCA9IDA7XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gdGhpc18xLnJlc3VsdHM7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGdyb3VwID0gX2FbX2ldO1xuICAgICAgICAgICAgICAgIHZhciBkID0gZ3JvdXAuc2VyaWVzLmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGEgPSBpdGVtLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgIHZhciBiID0gdmFsO1xuICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMuc2NhbGVUeXBlID09PSAndGltZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGEgPSBhLnZhbHVlT2YoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGIgPSBiLnZhbHVlT2YoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYSA9PT0gYjtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoZCkge1xuICAgICAgICAgICAgICAgICAgICBkLmQwID0gZDA7XG4gICAgICAgICAgICAgICAgICAgIGQuZDEgPSBkMCArIGQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGQwICs9IGQudmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBkID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogdmFsLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBkMDogZDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBkMTogZDBcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXAuc2VyaWVzLnB1c2goZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB2YXIgdGhpc18xID0gdGhpcztcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnhTZXQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIF9sb29wXzEoaSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51cGRhdGVUaW1lbGluZSgpO1xuICAgICAgICB0aGlzLnNldENvbG9ycygpO1xuICAgICAgICB0aGlzLmxlZ2VuZE9wdGlvbnMgPSB0aGlzLmdldExlZ2VuZE9wdGlvbnMoKTtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0gPSBcInRyYW5zbGF0ZShcIiArIHRoaXMuZGltcy54T2Zmc2V0ICsgXCIgLCBcIiArIHRoaXMubWFyZ2luWzBdICsgXCIpXCI7XG4gICAgICAgIHRoaXMuY2xpcFBhdGhJZCA9ICdjbGlwJyArIGlkKCkudG9TdHJpbmcoKTtcbiAgICAgICAgdGhpcy5jbGlwUGF0aCA9IFwidXJsKCNcIiArIHRoaXMuY2xpcFBhdGhJZCArIFwiKVwiO1xuICAgIH07XG4gICAgQXJlYUNoYXJ0U3RhY2tlZENvbXBvbmVudC5wcm90b3R5cGUudXBkYXRlVGltZWxpbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnRpbWVsaW5lKSB7XG4gICAgICAgICAgICB0aGlzLnRpbWVsaW5lV2lkdGggPSB0aGlzLmRpbXMud2lkdGg7XG4gICAgICAgICAgICB0aGlzLnRpbWVsaW5lWERvbWFpbiA9IHRoaXMuZ2V0WERvbWFpbigpO1xuICAgICAgICAgICAgdGhpcy50aW1lbGluZVhTY2FsZSA9IHRoaXMuZ2V0WFNjYWxlKHRoaXMudGltZWxpbmVYRG9tYWluLCB0aGlzLnRpbWVsaW5lV2lkdGgpO1xuICAgICAgICAgICAgdGhpcy50aW1lbGluZVlTY2FsZSA9IHRoaXMuZ2V0WVNjYWxlKHRoaXMueURvbWFpbiwgdGhpcy50aW1lbGluZUhlaWdodCk7XG4gICAgICAgICAgICB0aGlzLnRpbWVsaW5lVHJhbnNmb3JtID0gXCJ0cmFuc2xhdGUoXCIgKyB0aGlzLmRpbXMueE9mZnNldCArIFwiLCBcIiArIC10aGlzLm1hcmdpblsyXSArIFwiKVwiO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBBcmVhQ2hhcnRTdGFja2VkQ29tcG9uZW50LnByb3RvdHlwZS5nZXRYRG9tYWluID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdmFsdWVzID0gZ2V0VW5pcXVlWERvbWFpblZhbHVlcyh0aGlzLnJlc3VsdHMpO1xuICAgICAgICB0aGlzLnNjYWxlVHlwZSA9IGdldFNjYWxlVHlwZSh2YWx1ZXMpO1xuICAgICAgICB2YXIgZG9tYWluID0gW107XG4gICAgICAgIGlmICh0aGlzLnNjYWxlVHlwZSA9PT0gJ2xpbmVhcicpIHtcbiAgICAgICAgICAgIHZhbHVlcyA9IHZhbHVlcy5tYXAoZnVuY3Rpb24gKHYpIHsgcmV0dXJuIE51bWJlcih2KTsgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG1pbiQkMTtcbiAgICAgICAgdmFyIG1heCQkMTtcbiAgICAgICAgaWYgKHRoaXMuc2NhbGVUeXBlID09PSAndGltZScgfHwgdGhpcy5zY2FsZVR5cGUgPT09ICdsaW5lYXInKSB7XG4gICAgICAgICAgICBtaW4kJDEgPSB0aGlzLnhTY2FsZU1pbiA/IHRoaXMueFNjYWxlTWluIDogTWF0aC5taW4uYXBwbHkoTWF0aCwgdmFsdWVzKTtcbiAgICAgICAgICAgIG1heCQkMSA9IHRoaXMueFNjYWxlTWF4ID8gdGhpcy54U2NhbGVNYXggOiBNYXRoLm1heC5hcHBseShNYXRoLCB2YWx1ZXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnNjYWxlVHlwZSA9PT0gJ3RpbWUnKSB7XG4gICAgICAgICAgICBkb21haW4gPSBbbmV3IERhdGUobWluJCQxKSwgbmV3IERhdGUobWF4JCQxKV07XG4gICAgICAgICAgICB0aGlzLnhTZXQgPSB2YWx1ZXMuc2xpY2UoKS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFEYXRlID0gYS5nZXRUaW1lKCk7XG4gICAgICAgICAgICAgICAgdmFyIGJEYXRlID0gYi5nZXRUaW1lKCk7XG4gICAgICAgICAgICAgICAgaWYgKGFEYXRlID4gYkRhdGUpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgICAgICAgIGlmIChiRGF0ZSA+IGFEYXRlKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnNjYWxlVHlwZSA9PT0gJ2xpbmVhcicpIHtcbiAgICAgICAgICAgIGRvbWFpbiA9IFttaW4kJDEsIG1heCQkMV07XG4gICAgICAgICAgICB0aGlzLnhTZXQgPSB2YWx1ZXMuc2xpY2UoKS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBhIC0gYjsgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkb21haW4gPSB2YWx1ZXM7XG4gICAgICAgICAgICB0aGlzLnhTZXQgPSB2YWx1ZXM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRvbWFpbjtcbiAgICB9O1xuICAgIEFyZWFDaGFydFN0YWNrZWRDb21wb25lbnQucHJvdG90eXBlLmdldFlEb21haW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBkb21haW4gPSBbXTtcbiAgICAgICAgdmFyIF9sb29wXzIgPSBmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgdmFyIHZhbCA9IHRoaXNfMi54U2V0W2ldO1xuICAgICAgICAgICAgdmFyIHN1bSA9IDA7XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gdGhpc18yLnJlc3VsdHM7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGdyb3VwID0gX2FbX2ldO1xuICAgICAgICAgICAgICAgIHZhciBkID0gZ3JvdXAuc2VyaWVzLmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGEgPSBpdGVtLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgIHZhciBiID0gdmFsO1xuICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMuc2NhbGVUeXBlID09PSAndGltZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGEgPSBhLnZhbHVlT2YoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGIgPSBiLnZhbHVlT2YoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYSA9PT0gYjtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoZCkge1xuICAgICAgICAgICAgICAgICAgICBzdW0gKz0gZC52YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkb21haW4ucHVzaChzdW0pO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgdGhpc18yID0gdGhpcztcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnhTZXQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIF9sb29wXzIoaSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG1pbiQkMSA9IHRoaXMueVNjYWxlTWluID8gdGhpcy55U2NhbGVNaW4gOiBNYXRoLm1pbi5hcHBseShNYXRoLCBbMF0uY29uY2F0KGRvbWFpbikpO1xuICAgICAgICB2YXIgbWF4JCQxID0gdGhpcy55U2NhbGVNYXggPyB0aGlzLnlTY2FsZU1heCA6IE1hdGgubWF4LmFwcGx5KE1hdGgsIGRvbWFpbik7XG4gICAgICAgIHJldHVybiBbbWluJCQxLCBtYXgkJDFdO1xuICAgIH07XG4gICAgQXJlYUNoYXJ0U3RhY2tlZENvbXBvbmVudC5wcm90b3R5cGUuZ2V0U2VyaWVzRG9tYWluID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHRzLm1hcChmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC5uYW1lOyB9KTtcbiAgICB9O1xuICAgIEFyZWFDaGFydFN0YWNrZWRDb21wb25lbnQucHJvdG90eXBlLmdldFhTY2FsZSA9IGZ1bmN0aW9uIChkb21haW4sIHdpZHRoKSB7XG4gICAgICAgIHZhciBzY2FsZTtcbiAgICAgICAgaWYgKHRoaXMuc2NhbGVUeXBlID09PSAndGltZScpIHtcbiAgICAgICAgICAgIHNjYWxlID0gc2NhbGVUaW1lKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5zY2FsZVR5cGUgPT09ICdsaW5lYXInKSB7XG4gICAgICAgICAgICBzY2FsZSA9IHNjYWxlTGluZWFyKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5zY2FsZVR5cGUgPT09ICdvcmRpbmFsJykge1xuICAgICAgICAgICAgc2NhbGUgPSBzY2FsZVBvaW50KCkucGFkZGluZygwLjEpO1xuICAgICAgICB9XG4gICAgICAgIHNjYWxlLnJhbmdlKFswLCB3aWR0aF0pLmRvbWFpbihkb21haW4pO1xuICAgICAgICByZXR1cm4gdGhpcy5yb3VuZERvbWFpbnMgPyBzY2FsZS5uaWNlKCkgOiBzY2FsZTtcbiAgICB9O1xuICAgIEFyZWFDaGFydFN0YWNrZWRDb21wb25lbnQucHJvdG90eXBlLmdldFlTY2FsZSA9IGZ1bmN0aW9uIChkb21haW4sIGhlaWdodCkge1xuICAgICAgICB2YXIgc2NhbGUgPSBzY2FsZUxpbmVhcigpXG4gICAgICAgICAgICAucmFuZ2UoW2hlaWdodCwgMF0pXG4gICAgICAgICAgICAuZG9tYWluKGRvbWFpbik7XG4gICAgICAgIHJldHVybiB0aGlzLnJvdW5kRG9tYWlucyA/IHNjYWxlLm5pY2UoKSA6IHNjYWxlO1xuICAgIH07XG4gICAgQXJlYUNoYXJ0U3RhY2tlZENvbXBvbmVudC5wcm90b3R5cGUudXBkYXRlRG9tYWluID0gZnVuY3Rpb24gKGRvbWFpbikge1xuICAgICAgICB0aGlzLmZpbHRlcmVkRG9tYWluID0gZG9tYWluO1xuICAgICAgICB0aGlzLnhEb21haW4gPSB0aGlzLmZpbHRlcmVkRG9tYWluO1xuICAgICAgICB0aGlzLnhTY2FsZSA9IHRoaXMuZ2V0WFNjYWxlKHRoaXMueERvbWFpbiwgdGhpcy5kaW1zLndpZHRoKTtcbiAgICB9O1xuICAgIEFyZWFDaGFydFN0YWNrZWRDb21wb25lbnQucHJvdG90eXBlLnVwZGF0ZUhvdmVyZWRWZXJ0aWNhbCA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHRoaXMuaG92ZXJlZFZlcnRpY2FsID0gaXRlbS52YWx1ZTtcbiAgICAgICAgdGhpcy5kZWFjdGl2YXRlQWxsKCk7XG4gICAgfTtcbiAgICBBcmVhQ2hhcnRTdGFja2VkQ29tcG9uZW50LnByb3RvdHlwZS5oaWRlQ2lyY2xlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5ob3ZlcmVkVmVydGljYWwgPSBudWxsO1xuICAgICAgICB0aGlzLmRlYWN0aXZhdGVBbGwoKTtcbiAgICB9O1xuICAgIEFyZWFDaGFydFN0YWNrZWRDb21wb25lbnQucHJvdG90eXBlLm9uQ2xpY2sgPSBmdW5jdGlvbiAoZGF0YSwgc2VyaWVzKSB7XG4gICAgICAgIGlmIChzZXJpZXMpIHtcbiAgICAgICAgICAgIGRhdGEuc2VyaWVzID0gc2VyaWVzLm5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZWxlY3QuZW1pdChkYXRhKTtcbiAgICB9O1xuICAgIEFyZWFDaGFydFN0YWNrZWRDb21wb25lbnQucHJvdG90eXBlLnRyYWNrQnkgPSBmdW5jdGlvbiAoaW5kZXgsIGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIGl0ZW0ubmFtZTtcbiAgICB9O1xuICAgIEFyZWFDaGFydFN0YWNrZWRDb21wb25lbnQucHJvdG90eXBlLnNldENvbG9ycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGRvbWFpbjtcbiAgICAgICAgaWYgKHRoaXMuc2NoZW1lVHlwZSA9PT0gJ29yZGluYWwnKSB7XG4gICAgICAgICAgICBkb21haW4gPSB0aGlzLnNlcmllc0RvbWFpbjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGRvbWFpbiA9IHRoaXMueURvbWFpbjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbG9ycyA9IG5ldyBDb2xvckhlbHBlcih0aGlzLnNjaGVtZSwgdGhpcy5zY2hlbWVUeXBlLCBkb21haW4sIHRoaXMuY3VzdG9tQ29sb3JzKTtcbiAgICB9O1xuICAgIEFyZWFDaGFydFN0YWNrZWRDb21wb25lbnQucHJvdG90eXBlLmdldExlZ2VuZE9wdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvcHRzID0ge1xuICAgICAgICAgICAgc2NhbGVUeXBlOiB0aGlzLnNjaGVtZVR5cGUsXG4gICAgICAgICAgICBjb2xvcnM6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGRvbWFpbjogW10sXG4gICAgICAgICAgICB0aXRsZTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgcG9zaXRpb246IHRoaXMubGVnZW5kUG9zaXRpb25cbiAgICAgICAgfTtcbiAgICAgICAgaWYgKG9wdHMuc2NhbGVUeXBlID09PSAnb3JkaW5hbCcpIHtcbiAgICAgICAgICAgIG9wdHMuZG9tYWluID0gdGhpcy5zZXJpZXNEb21haW47XG4gICAgICAgICAgICBvcHRzLmNvbG9ycyA9IHRoaXMuY29sb3JzO1xuICAgICAgICAgICAgb3B0cy50aXRsZSA9IHRoaXMubGVnZW5kVGl0bGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvcHRzLmRvbWFpbiA9IHRoaXMueURvbWFpbjtcbiAgICAgICAgICAgIG9wdHMuY29sb3JzID0gdGhpcy5jb2xvcnMuc2NhbGU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9wdHM7XG4gICAgfTtcbiAgICBBcmVhQ2hhcnRTdGFja2VkQ29tcG9uZW50LnByb3RvdHlwZS51cGRhdGVZQXhpc1dpZHRoID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciB3aWR0aCA9IF9hLndpZHRoO1xuICAgICAgICB0aGlzLnlBeGlzV2lkdGggPSB3aWR0aDtcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICB9O1xuICAgIEFyZWFDaGFydFN0YWNrZWRDb21wb25lbnQucHJvdG90eXBlLnVwZGF0ZVhBeGlzSGVpZ2h0ID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciBoZWlnaHQgPSBfYS5oZWlnaHQ7XG4gICAgICAgIHRoaXMueEF4aXNIZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfTtcbiAgICBBcmVhQ2hhcnRTdGFja2VkQ29tcG9uZW50LnByb3RvdHlwZS5vbkFjdGl2YXRlID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgdmFyIGlkeCA9IHRoaXMuYWN0aXZlRW50cmllcy5maW5kSW5kZXgoZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgIHJldHVybiBkLm5hbWUgPT09IGl0ZW0ubmFtZSAmJiBkLnZhbHVlID09PSBpdGVtLnZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGlkeCA+IC0xKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hY3RpdmVFbnRyaWVzID0gW2l0ZW1dLmNvbmNhdCh0aGlzLmFjdGl2ZUVudHJpZXMpO1xuICAgICAgICB0aGlzLmFjdGl2YXRlLmVtaXQoeyB2YWx1ZTogaXRlbSwgZW50cmllczogdGhpcy5hY3RpdmVFbnRyaWVzIH0pO1xuICAgIH07XG4gICAgQXJlYUNoYXJ0U3RhY2tlZENvbXBvbmVudC5wcm90b3R5cGUub25EZWFjdGl2YXRlID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgdmFyIGlkeCA9IHRoaXMuYWN0aXZlRW50cmllcy5maW5kSW5kZXgoZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgIHJldHVybiBkLm5hbWUgPT09IGl0ZW0ubmFtZSAmJiBkLnZhbHVlID09PSBpdGVtLnZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5hY3RpdmVFbnRyaWVzLnNwbGljZShpZHgsIDEpO1xuICAgICAgICB0aGlzLmFjdGl2ZUVudHJpZXMgPSB0aGlzLmFjdGl2ZUVudHJpZXMuc2xpY2UoKTtcbiAgICAgICAgdGhpcy5kZWFjdGl2YXRlLmVtaXQoeyB2YWx1ZTogaXRlbSwgZW50cmllczogdGhpcy5hY3RpdmVFbnRyaWVzIH0pO1xuICAgIH07XG4gICAgQXJlYUNoYXJ0U3RhY2tlZENvbXBvbmVudC5wcm90b3R5cGUuZGVhY3RpdmF0ZUFsbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5hY3RpdmVFbnRyaWVzID0gdGhpcy5hY3RpdmVFbnRyaWVzLnNsaWNlKCk7XG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSB0aGlzLmFjdGl2ZUVudHJpZXM7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgZW50cnkgPSBfYVtfaV07XG4gICAgICAgICAgICB0aGlzLmRlYWN0aXZhdGUuZW1pdCh7IHZhbHVlOiBlbnRyeSwgZW50cmllczogW10gfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hY3RpdmVFbnRyaWVzID0gW107XG4gICAgfTtcbiAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQXJlYUNoYXJ0U3RhY2tlZENvbXBvbmVudC5wcm90b3R5cGUsIFwibGVnZW5kXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBTdHJpbmcpXG4gICAgXSwgQXJlYUNoYXJ0U3RhY2tlZENvbXBvbmVudC5wcm90b3R5cGUsIFwibGVnZW5kVGl0bGVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcbiAgICBdLCBBcmVhQ2hhcnRTdGFja2VkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJsZWdlbmRQb3NpdGlvblwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEFyZWFDaGFydFN0YWNrZWRDb21wb25lbnQucHJvdG90eXBlLCBcInhBeGlzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQXJlYUNoYXJ0U3RhY2tlZENvbXBvbmVudC5wcm90b3R5cGUsIFwieUF4aXNcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBBcmVhQ2hhcnRTdGFja2VkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJzaG93WEF4aXNMYWJlbFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEFyZWFDaGFydFN0YWNrZWRDb21wb25lbnQucHJvdG90eXBlLCBcInNob3dZQXhpc0xhYmVsXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQXJlYUNoYXJ0U3RhY2tlZENvbXBvbmVudC5wcm90b3R5cGUsIFwieEF4aXNMYWJlbFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEFyZWFDaGFydFN0YWNrZWRDb21wb25lbnQucHJvdG90eXBlLCBcInlBeGlzTGFiZWxcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBBcmVhQ2hhcnRTdGFja2VkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ0aW1lbGluZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEFyZWFDaGFydFN0YWNrZWRDb21wb25lbnQucHJvdG90eXBlLCBcImdyYWRpZW50XCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIEFyZWFDaGFydFN0YWNrZWRDb21wb25lbnQucHJvdG90eXBlLCBcInNob3dHcmlkTGluZXNcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBBcmVhQ2hhcnRTdGFja2VkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJjdXJ2ZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQXJyYXkpXG4gICAgXSwgQXJlYUNoYXJ0U3RhY2tlZENvbXBvbmVudC5wcm90b3R5cGUsIFwiYWN0aXZlRW50cmllc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgU3RyaW5nKVxuICAgIF0sIEFyZWFDaGFydFN0YWNrZWRDb21wb25lbnQucHJvdG90eXBlLCBcInNjaGVtZVR5cGVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEJvb2xlYW4pXG4gICAgXSwgQXJlYUNoYXJ0U3RhY2tlZENvbXBvbmVudC5wcm90b3R5cGUsIFwidHJpbVhBeGlzVGlja3NcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEJvb2xlYW4pXG4gICAgXSwgQXJlYUNoYXJ0U3RhY2tlZENvbXBvbmVudC5wcm90b3R5cGUsIFwidHJpbVlBeGlzVGlja3NcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEJvb2xlYW4pXG4gICAgXSwgQXJlYUNoYXJ0U3RhY2tlZENvbXBvbmVudC5wcm90b3R5cGUsIFwicm90YXRlWEF4aXNUaWNrc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgTnVtYmVyKVxuICAgIF0sIEFyZWFDaGFydFN0YWNrZWRDb21wb25lbnQucHJvdG90eXBlLCBcIm1heFhBeGlzVGlja0xlbmd0aFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgTnVtYmVyKVxuICAgIF0sIEFyZWFDaGFydFN0YWNrZWRDb21wb25lbnQucHJvdG90eXBlLCBcIm1heFlBeGlzVGlja0xlbmd0aFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEFyZWFDaGFydFN0YWNrZWRDb21wb25lbnQucHJvdG90eXBlLCBcInhBeGlzVGlja0Zvcm1hdHRpbmdcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBBcmVhQ2hhcnRTdGFja2VkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ5QXhpc1RpY2tGb3JtYXR0aW5nXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBBcnJheSlcbiAgICBdLCBBcmVhQ2hhcnRTdGFja2VkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ4QXhpc1RpY2tzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBBcnJheSlcbiAgICBdLCBBcmVhQ2hhcnRTdGFja2VkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ5QXhpc1RpY2tzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIEFyZWFDaGFydFN0YWNrZWRDb21wb25lbnQucHJvdG90eXBlLCBcInJvdW5kRG9tYWluc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbiAgICBdLCBBcmVhQ2hhcnRTdGFja2VkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ0b29sdGlwRGlzYWJsZWRcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBBcmVhQ2hhcnRTdGFja2VkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ4U2NhbGVNaW5cIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBBcmVhQ2hhcnRTdGFja2VkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ4U2NhbGVNYXhcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE51bWJlcilcbiAgICBdLCBBcmVhQ2hhcnRTdGFja2VkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ5U2NhbGVNaW5cIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE51bWJlcilcbiAgICBdLCBBcmVhQ2hhcnRTdGFja2VkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ5U2NhbGVNYXhcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgT3V0cHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCB0eXBlb2YgKF9hID0gdHlwZW9mIEV2ZW50RW1pdHRlciAhPT0gXCJ1bmRlZmluZWRcIiAmJiBFdmVudEVtaXR0ZXIpID09PSBcImZ1bmN0aW9uXCIgPyBfYSA6IE9iamVjdClcbiAgICBdLCBBcmVhQ2hhcnRTdGFja2VkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJhY3RpdmF0ZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBPdXRwdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIHR5cGVvZiAoX2IgPSB0eXBlb2YgRXZlbnRFbWl0dGVyICE9PSBcInVuZGVmaW5lZFwiICYmIEV2ZW50RW1pdHRlcikgPT09IFwiZnVuY3Rpb25cIiA/IF9iIDogT2JqZWN0KVxuICAgIF0sIEFyZWFDaGFydFN0YWNrZWRDb21wb25lbnQucHJvdG90eXBlLCBcImRlYWN0aXZhdGVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgQ29udGVudENoaWxkKCd0b29sdGlwVGVtcGxhdGUnLCB7IHN0YXRpYzogZmFsc2UgfSksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCB0eXBlb2YgKF9jID0gdHlwZW9mIFRlbXBsYXRlUmVmICE9PSBcInVuZGVmaW5lZFwiICYmIFRlbXBsYXRlUmVmKSA9PT0gXCJmdW5jdGlvblwiID8gX2MgOiBPYmplY3QpXG4gICAgXSwgQXJlYUNoYXJ0U3RhY2tlZENvbXBvbmVudC5wcm90b3R5cGUsIFwidG9vbHRpcFRlbXBsYXRlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIENvbnRlbnRDaGlsZCgnc2VyaWVzVG9vbHRpcFRlbXBsYXRlJywgeyBzdGF0aWM6IGZhbHNlIH0pLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgdHlwZW9mIChfZCA9IHR5cGVvZiBUZW1wbGF0ZVJlZiAhPT0gXCJ1bmRlZmluZWRcIiAmJiBUZW1wbGF0ZVJlZikgPT09IFwiZnVuY3Rpb25cIiA/IF9kIDogT2JqZWN0KVxuICAgIF0sIEFyZWFDaGFydFN0YWNrZWRDb21wb25lbnQucHJvdG90eXBlLCBcInNlcmllc1Rvb2x0aXBUZW1wbGF0ZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBIb3N0TGlzdGVuZXIoJ21vdXNlbGVhdmUnKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEZ1bmN0aW9uKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjpwYXJhbXR5cGVzXCIsIFtdKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjpyZXR1cm50eXBlXCIsIHZvaWQgMClcbiAgICBdLCBBcmVhQ2hhcnRTdGFja2VkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJoaWRlQ2lyY2xlc1wiLCBudWxsKTtcbiAgICBBcmVhQ2hhcnRTdGFja2VkQ29tcG9uZW50ID0gX19kZWNvcmF0ZShbXG4gICAgICAgIENvbXBvbmVudCh7XG4gICAgICAgICAgICBzZWxlY3RvcjogJ25neC1jaGFydHMtYXJlYS1jaGFydC1zdGFja2VkJyxcbiAgICAgICAgICAgIHRlbXBsYXRlOiBcIlxcbiAgICA8bmd4LWNoYXJ0cy1jaGFydFxcbiAgICAgIFt2aWV3XT1cXFwiW3dpZHRoLCBoZWlnaHRdXFxcIlxcbiAgICAgIFtzaG93TGVnZW5kXT1cXFwibGVnZW5kXFxcIlxcbiAgICAgIFtsZWdlbmRPcHRpb25zXT1cXFwibGVnZW5kT3B0aW9uc1xcXCJcXG4gICAgICBbYWN0aXZlRW50cmllc109XFxcImFjdGl2ZUVudHJpZXNcXFwiXFxuICAgICAgW2FuaW1hdGlvbnNdPVxcXCJhbmltYXRpb25zXFxcIlxcbiAgICAgIChsZWdlbmRMYWJlbENsaWNrKT1cXFwib25DbGljaygkZXZlbnQpXFxcIlxcbiAgICAgIChsZWdlbmRMYWJlbEFjdGl2YXRlKT1cXFwib25BY3RpdmF0ZSgkZXZlbnQpXFxcIlxcbiAgICAgIChsZWdlbmRMYWJlbERlYWN0aXZhdGUpPVxcXCJvbkRlYWN0aXZhdGUoJGV2ZW50KVxcXCJcXG4gICAgPlxcbiAgICAgIDxzdmc6ZGVmcz5cXG4gICAgICAgIDxzdmc6Y2xpcFBhdGggW2F0dHIuaWRdPVxcXCJjbGlwUGF0aElkXFxcIj5cXG4gICAgICAgICAgPHN2ZzpyZWN0XFxuICAgICAgICAgICAgW2F0dHIud2lkdGhdPVxcXCJkaW1zLndpZHRoICsgMTBcXFwiXFxuICAgICAgICAgICAgW2F0dHIuaGVpZ2h0XT1cXFwiZGltcy5oZWlnaHQgKyAxMFxcXCJcXG4gICAgICAgICAgICBbYXR0ci50cmFuc2Zvcm1dPVxcXCIndHJhbnNsYXRlKC01LCAtNSknXFxcIlxcbiAgICAgICAgICAvPlxcbiAgICAgICAgPC9zdmc6Y2xpcFBhdGg+XFxuICAgICAgPC9zdmc6ZGVmcz5cXG4gICAgICA8c3ZnOmcgW2F0dHIudHJhbnNmb3JtXT1cXFwidHJhbnNmb3JtXFxcIiBjbGFzcz1cXFwiYXJlYS1jaGFydCBjaGFydFxcXCI+XFxuICAgICAgICA8c3ZnOmdcXG4gICAgICAgICAgbmd4LWNoYXJ0cy14LWF4aXNcXG4gICAgICAgICAgKm5nSWY9XFxcInhBeGlzXFxcIlxcbiAgICAgICAgICBbeFNjYWxlXT1cXFwieFNjYWxlXFxcIlxcbiAgICAgICAgICBbZGltc109XFxcImRpbXNcXFwiXFxuICAgICAgICAgIFtzaG93R3JpZExpbmVzXT1cXFwic2hvd0dyaWRMaW5lc1xcXCJcXG4gICAgICAgICAgW3Nob3dMYWJlbF09XFxcInNob3dYQXhpc0xhYmVsXFxcIlxcbiAgICAgICAgICBbbGFiZWxUZXh0XT1cXFwieEF4aXNMYWJlbFxcXCJcXG4gICAgICAgICAgW3RyaW1UaWNrc109XFxcInRyaW1YQXhpc1RpY2tzXFxcIlxcbiAgICAgICAgICBbcm90YXRlVGlja3NdPVxcXCJyb3RhdGVYQXhpc1RpY2tzXFxcIlxcbiAgICAgICAgICBbbWF4VGlja0xlbmd0aF09XFxcIm1heFhBeGlzVGlja0xlbmd0aFxcXCJcXG4gICAgICAgICAgW3RpY2tGb3JtYXR0aW5nXT1cXFwieEF4aXNUaWNrRm9ybWF0dGluZ1xcXCJcXG4gICAgICAgICAgW3RpY2tzXT1cXFwieEF4aXNUaWNrc1xcXCJcXG4gICAgICAgICAgKGRpbWVuc2lvbnNDaGFuZ2VkKT1cXFwidXBkYXRlWEF4aXNIZWlnaHQoJGV2ZW50KVxcXCJcXG4gICAgICAgID48L3N2ZzpnPlxcbiAgICAgICAgPHN2ZzpnXFxuICAgICAgICAgIG5neC1jaGFydHMteS1heGlzXFxuICAgICAgICAgICpuZ0lmPVxcXCJ5QXhpc1xcXCJcXG4gICAgICAgICAgW3lTY2FsZV09XFxcInlTY2FsZVxcXCJcXG4gICAgICAgICAgW2RpbXNdPVxcXCJkaW1zXFxcIlxcbiAgICAgICAgICBbc2hvd0dyaWRMaW5lc109XFxcInNob3dHcmlkTGluZXNcXFwiXFxuICAgICAgICAgIFtzaG93TGFiZWxdPVxcXCJzaG93WUF4aXNMYWJlbFxcXCJcXG4gICAgICAgICAgW2xhYmVsVGV4dF09XFxcInlBeGlzTGFiZWxcXFwiXFxuICAgICAgICAgIFt0cmltVGlja3NdPVxcXCJ0cmltWUF4aXNUaWNrc1xcXCJcXG4gICAgICAgICAgW21heFRpY2tMZW5ndGhdPVxcXCJtYXhZQXhpc1RpY2tMZW5ndGhcXFwiXFxuICAgICAgICAgIFt0aWNrRm9ybWF0dGluZ109XFxcInlBeGlzVGlja0Zvcm1hdHRpbmdcXFwiXFxuICAgICAgICAgIFt0aWNrc109XFxcInlBeGlzVGlja3NcXFwiXFxuICAgICAgICAgIChkaW1lbnNpb25zQ2hhbmdlZCk9XFxcInVwZGF0ZVlBeGlzV2lkdGgoJGV2ZW50KVxcXCJcXG4gICAgICAgID48L3N2ZzpnPlxcbiAgICAgICAgPHN2ZzpnIFthdHRyLmNsaXAtcGF0aF09XFxcImNsaXBQYXRoXFxcIj5cXG4gICAgICAgICAgPHN2ZzpnICpuZ0Zvcj1cXFwibGV0IHNlcmllcyBvZiByZXN1bHRzOyB0cmFja0J5OiB0cmFja0J5XFxcIj5cXG4gICAgICAgICAgICA8c3ZnOmdcXG4gICAgICAgICAgICAgIG5neC1jaGFydHMtYXJlYS1zZXJpZXNcXG4gICAgICAgICAgICAgIFt4U2NhbGVdPVxcXCJ4U2NhbGVcXFwiXFxuICAgICAgICAgICAgICBbeVNjYWxlXT1cXFwieVNjYWxlXFxcIlxcbiAgICAgICAgICAgICAgW2NvbG9yc109XFxcImNvbG9yc1xcXCJcXG4gICAgICAgICAgICAgIFtkYXRhXT1cXFwic2VyaWVzXFxcIlxcbiAgICAgICAgICAgICAgW3NjYWxlVHlwZV09XFxcInNjYWxlVHlwZVxcXCJcXG4gICAgICAgICAgICAgIFtncmFkaWVudF09XFxcImdyYWRpZW50XFxcIlxcbiAgICAgICAgICAgICAgW2FjdGl2ZUVudHJpZXNdPVxcXCJhY3RpdmVFbnRyaWVzXFxcIlxcbiAgICAgICAgICAgICAgc3RhY2tlZD1cXFwidHJ1ZVxcXCJcXG4gICAgICAgICAgICAgIFtjdXJ2ZV09XFxcImN1cnZlXFxcIlxcbiAgICAgICAgICAgICAgW2FuaW1hdGlvbnNdPVxcXCJhbmltYXRpb25zXFxcIlxcbiAgICAgICAgICAgIC8+XFxuICAgICAgICAgIDwvc3ZnOmc+XFxuXFxuICAgICAgICAgIDxzdmc6ZyAqbmdJZj1cXFwiIXRvb2x0aXBEaXNhYmxlZFxcXCIgKG1vdXNlbGVhdmUpPVxcXCJoaWRlQ2lyY2xlcygpXFxcIj5cXG4gICAgICAgICAgICA8c3ZnOmdcXG4gICAgICAgICAgICAgIG5neC1jaGFydHMtdG9vbHRpcC1hcmVhXFxuICAgICAgICAgICAgICBbZGltc109XFxcImRpbXNcXFwiXFxuICAgICAgICAgICAgICBbeFNldF09XFxcInhTZXRcXFwiXFxuICAgICAgICAgICAgICBbeFNjYWxlXT1cXFwieFNjYWxlXFxcIlxcbiAgICAgICAgICAgICAgW3lTY2FsZV09XFxcInlTY2FsZVxcXCJcXG4gICAgICAgICAgICAgIFtyZXN1bHRzXT1cXFwicmVzdWx0c1xcXCJcXG4gICAgICAgICAgICAgIFtjb2xvcnNdPVxcXCJjb2xvcnNcXFwiXFxuICAgICAgICAgICAgICBbdG9vbHRpcERpc2FibGVkXT1cXFwidG9vbHRpcERpc2FibGVkXFxcIlxcbiAgICAgICAgICAgICAgW3Rvb2x0aXBUZW1wbGF0ZV09XFxcInNlcmllc1Rvb2x0aXBUZW1wbGF0ZVxcXCJcXG4gICAgICAgICAgICAgIChob3Zlcik9XFxcInVwZGF0ZUhvdmVyZWRWZXJ0aWNhbCgkZXZlbnQpXFxcIlxcbiAgICAgICAgICAgIC8+XFxuXFxuICAgICAgICAgICAgPHN2ZzpnICpuZ0Zvcj1cXFwibGV0IHNlcmllcyBvZiByZXN1bHRzOyB0cmFja0J5OiB0cmFja0J5XFxcIj5cXG4gICAgICAgICAgICAgIDxzdmc6Z1xcbiAgICAgICAgICAgICAgICBuZ3gtY2hhcnRzLWNpcmNsZS1zZXJpZXNcXG4gICAgICAgICAgICAgICAgdHlwZT1cXFwic3RhY2tlZFxcXCJcXG4gICAgICAgICAgICAgICAgW3hTY2FsZV09XFxcInhTY2FsZVxcXCJcXG4gICAgICAgICAgICAgICAgW3lTY2FsZV09XFxcInlTY2FsZVxcXCJcXG4gICAgICAgICAgICAgICAgW2NvbG9yc109XFxcImNvbG9yc1xcXCJcXG4gICAgICAgICAgICAgICAgW2FjdGl2ZUVudHJpZXNdPVxcXCJhY3RpdmVFbnRyaWVzXFxcIlxcbiAgICAgICAgICAgICAgICBbZGF0YV09XFxcInNlcmllc1xcXCJcXG4gICAgICAgICAgICAgICAgW3NjYWxlVHlwZV09XFxcInNjYWxlVHlwZVxcXCJcXG4gICAgICAgICAgICAgICAgW3Zpc2libGVWYWx1ZV09XFxcImhvdmVyZWRWZXJ0aWNhbFxcXCJcXG4gICAgICAgICAgICAgICAgW3Rvb2x0aXBEaXNhYmxlZF09XFxcInRvb2x0aXBEaXNhYmxlZFxcXCJcXG4gICAgICAgICAgICAgICAgW3Rvb2x0aXBUZW1wbGF0ZV09XFxcInRvb2x0aXBUZW1wbGF0ZVxcXCJcXG4gICAgICAgICAgICAgICAgKHNlbGVjdCk9XFxcIm9uQ2xpY2soJGV2ZW50LCBzZXJpZXMpXFxcIlxcbiAgICAgICAgICAgICAgICAoYWN0aXZhdGUpPVxcXCJvbkFjdGl2YXRlKCRldmVudClcXFwiXFxuICAgICAgICAgICAgICAgIChkZWFjdGl2YXRlKT1cXFwib25EZWFjdGl2YXRlKCRldmVudClcXFwiXFxuICAgICAgICAgICAgICAvPlxcbiAgICAgICAgICAgIDwvc3ZnOmc+XFxuICAgICAgICAgIDwvc3ZnOmc+XFxuICAgICAgICA8L3N2ZzpnPlxcbiAgICAgIDwvc3ZnOmc+XFxuICAgICAgPHN2ZzpnXFxuICAgICAgICBuZ3gtY2hhcnRzLXRpbWVsaW5lXFxuICAgICAgICAqbmdJZj1cXFwidGltZWxpbmUgJiYgc2NhbGVUeXBlICE9ICdvcmRpbmFsJ1xcXCJcXG4gICAgICAgIFthdHRyLnRyYW5zZm9ybV09XFxcInRpbWVsaW5lVHJhbnNmb3JtXFxcIlxcbiAgICAgICAgW3Jlc3VsdHNdPVxcXCJyZXN1bHRzXFxcIlxcbiAgICAgICAgW3ZpZXddPVxcXCJbdGltZWxpbmVXaWR0aCwgaGVpZ2h0XVxcXCJcXG4gICAgICAgIFtoZWlnaHRdPVxcXCJ0aW1lbGluZUhlaWdodFxcXCJcXG4gICAgICAgIFtzY2hlbWVdPVxcXCJzY2hlbWVcXFwiXFxuICAgICAgICBbY3VzdG9tQ29sb3JzXT1cXFwiY3VzdG9tQ29sb3JzXFxcIlxcbiAgICAgICAgW2xlZ2VuZF09XFxcImxlZ2VuZFxcXCJcXG4gICAgICAgIFtzY2FsZVR5cGVdPVxcXCJzY2FsZVR5cGVcXFwiXFxuICAgICAgICAob25Eb21haW5DaGFuZ2UpPVxcXCJ1cGRhdGVEb21haW4oJGV2ZW50KVxcXCJcXG4gICAgICA+XFxuICAgICAgICA8c3ZnOmcgKm5nRm9yPVxcXCJsZXQgc2VyaWVzIG9mIHJlc3VsdHM7IHRyYWNrQnk6IHRyYWNrQnlcXFwiPlxcbiAgICAgICAgICA8c3ZnOmdcXG4gICAgICAgICAgICBuZ3gtY2hhcnRzLWFyZWEtc2VyaWVzXFxuICAgICAgICAgICAgW3hTY2FsZV09XFxcInRpbWVsaW5lWFNjYWxlXFxcIlxcbiAgICAgICAgICAgIFt5U2NhbGVdPVxcXCJ0aW1lbGluZVlTY2FsZVxcXCJcXG4gICAgICAgICAgICBbY29sb3JzXT1cXFwiY29sb3JzXFxcIlxcbiAgICAgICAgICAgIFtkYXRhXT1cXFwic2VyaWVzXFxcIlxcbiAgICAgICAgICAgIFtzY2FsZVR5cGVdPVxcXCJzY2FsZVR5cGVcXFwiXFxuICAgICAgICAgICAgW2dyYWRpZW50XT1cXFwiZ3JhZGllbnRcXFwiXFxuICAgICAgICAgICAgc3RhY2tlZD1cXFwidHJ1ZVxcXCJcXG4gICAgICAgICAgICBbY3VydmVdPVxcXCJjdXJ2ZVxcXCJcXG4gICAgICAgICAgICBbYW5pbWF0aW9uc109XFxcImFuaW1hdGlvbnNcXFwiXFxuICAgICAgICAgIC8+XFxuICAgICAgICA8L3N2ZzpnPlxcbiAgICAgIDwvc3ZnOmc+XFxuICAgIDwvbmd4LWNoYXJ0cy1jaGFydD5cXG4gIFwiLFxuICAgICAgICAgICAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXG4gICAgICAgICAgICBzdHlsZXM6IFtcIi5uZ3gtY2hhcnRze2Zsb2F0OmxlZnQ7b3ZlcmZsb3c6dmlzaWJsZX0ubmd4LWNoYXJ0cyAuYXJjLC5uZ3gtY2hhcnRzIC5iYXIsLm5neC1jaGFydHMgLmNpcmNsZXtjdXJzb3I6cG9pbnRlcn0ubmd4LWNoYXJ0cyAuYXJjLmFjdGl2ZSwubmd4LWNoYXJ0cyAuYXJjOmhvdmVyLC5uZ3gtY2hhcnRzIC5iYXIuYWN0aXZlLC5uZ3gtY2hhcnRzIC5iYXI6aG92ZXIsLm5neC1jaGFydHMgLmNhcmQuYWN0aXZlLC5uZ3gtY2hhcnRzIC5jYXJkOmhvdmVyLC5uZ3gtY2hhcnRzIC5jZWxsLmFjdGl2ZSwubmd4LWNoYXJ0cyAuY2VsbDpob3ZlcntvcGFjaXR5Oi44O3RyYW5zaXRpb246b3BhY2l0eSAuMXMgZWFzZS1pbi1vdXR9Lm5neC1jaGFydHMgLmFyYzpmb2N1cywubmd4LWNoYXJ0cyAuYmFyOmZvY3VzLC5uZ3gtY2hhcnRzIC5jYXJkOmZvY3VzLC5uZ3gtY2hhcnRzIC5jZWxsOmZvY3Vze291dGxpbmU6MH0ubmd4LWNoYXJ0cyAuYXJjLmhpZGRlbiwubmd4LWNoYXJ0cyAuYmFyLmhpZGRlbiwubmd4LWNoYXJ0cyAuY2FyZC5oaWRkZW4sLm5neC1jaGFydHMgLmNlbGwuaGlkZGVue2Rpc3BsYXk6bm9uZX0ubmd4LWNoYXJ0cyBnOmZvY3Vze291dGxpbmU6MH0ubmd4LWNoYXJ0cyAuYXJlYS1zZXJpZXMuaW5hY3RpdmUsLm5neC1jaGFydHMgLmxpbmUtc2VyaWVzLXJhbmdlLmluYWN0aXZlLC5uZ3gtY2hhcnRzIC5saW5lLXNlcmllcy5pbmFjdGl2ZSwubmd4LWNoYXJ0cyAucG9sYXItc2VyaWVzLWFyZWEuaW5hY3RpdmUsLm5neC1jaGFydHMgLnBvbGFyLXNlcmllcy1wYXRoLmluYWN0aXZle3RyYW5zaXRpb246b3BhY2l0eSAuMXMgZWFzZS1pbi1vdXQ7b3BhY2l0eTouMn0ubmd4LWNoYXJ0cyAubGluZS1oaWdobGlnaHR7ZGlzcGxheTpub25lfS5uZ3gtY2hhcnRzIC5saW5lLWhpZ2hsaWdodC5hY3RpdmV7ZGlzcGxheTpibG9ja30ubmd4LWNoYXJ0cyAuYXJlYXtvcGFjaXR5Oi42fS5uZ3gtY2hhcnRzIC5jaXJjbGU6aG92ZXJ7Y3Vyc29yOnBvaW50ZXJ9Lm5neC1jaGFydHMgLmxhYmVse2ZvbnQtc2l6ZToxMnB4O2ZvbnQtd2VpZ2h0OjQwMH0ubmd4LWNoYXJ0cyAudG9vbHRpcC1hbmNob3J7ZmlsbDojMDAwfS5uZ3gtY2hhcnRzIC5ncmlkbGluZS1wYXRoe3N0cm9rZTojZGRkO3N0cm9rZS13aWR0aDoxO2ZpbGw6bm9uZX0ubmd4LWNoYXJ0cyAucmVmbGluZS1wYXRoe3N0cm9rZTojYThiMmM3O3N0cm9rZS13aWR0aDoxO3N0cm9rZS1kYXNoYXJyYXk6NTtzdHJva2UtZGFzaG9mZnNldDo1fS5uZ3gtY2hhcnRzIC5yZWZsaW5lLWxhYmVse2ZvbnQtc2l6ZTo5cHh9Lm5neC1jaGFydHMgLnJlZmVyZW5jZS1hcmVhe2ZpbGwtb3BhY2l0eTouMDU7ZmlsbDojMDAwfS5uZ3gtY2hhcnRzIC5ncmlkbGluZS1wYXRoLWRvdHRlZHtzdHJva2U6I2RkZDtzdHJva2Utd2lkdGg6MTtmaWxsOm5vbmU7c3Ryb2tlLWRhc2hhcnJheToxLDIwO3N0cm9rZS1kYXNob2Zmc2V0OjN9Lm5neC1jaGFydHMgLmdyaWQtcGFuZWwgcmVjdHtmaWxsOm5vbmV9Lm5neC1jaGFydHMgLmdyaWQtcGFuZWwub2RkIHJlY3R7ZmlsbDpyZ2JhKDAsMCwwLC4wNSl9XCJdLFxuICAgICAgICAgICAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZVxuICAgICAgICB9KVxuICAgIF0sIEFyZWFDaGFydFN0YWNrZWRDb21wb25lbnQpO1xuICAgIHJldHVybiBBcmVhQ2hhcnRTdGFja2VkQ29tcG9uZW50O1xufShCYXNlQ2hhcnRDb21wb25lbnQpKTtcblxudmFyIEFyZWFTZXJpZXNDb21wb25lbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQXJlYVNlcmllc0NvbXBvbmVudCgpIHtcbiAgICAgICAgdGhpcy5iYXNlVmFsdWUgPSAnYXV0byc7XG4gICAgICAgIHRoaXMuc3RhY2tlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLm5vcm1hbGl6ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5hbmltYXRpb25zID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zZWxlY3QgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgfVxuICAgIEFyZWFTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLm5nT25DaGFuZ2VzID0gZnVuY3Rpb24gKGNoYW5nZXMpIHtcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICB9O1xuICAgIEFyZWFTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy51cGRhdGVHcmFkaWVudCgpO1xuICAgICAgICB2YXIgY3VycmVudEFyZWE7XG4gICAgICAgIHZhciBzdGFydGluZ0FyZWE7XG4gICAgICAgIHZhciB4UHJvcGVydHkgPSBmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgdmFyIGxhYmVsID0gZC5uYW1lO1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLnhTY2FsZShsYWJlbCk7XG4gICAgICAgIH07XG4gICAgICAgIGlmICh0aGlzLnN0YWNrZWQgfHwgdGhpcy5ub3JtYWxpemVkKSB7XG4gICAgICAgICAgICBjdXJyZW50QXJlYSA9IGFyZWEoKVxuICAgICAgICAgICAgICAgIC54KHhQcm9wZXJ0eSlcbiAgICAgICAgICAgICAgICAueTAoZnVuY3Rpb24gKGQsIGkpIHsgcmV0dXJuIF90aGlzLnlTY2FsZShkLmQwKTsgfSlcbiAgICAgICAgICAgICAgICAueTEoZnVuY3Rpb24gKGQsIGkpIHsgcmV0dXJuIF90aGlzLnlTY2FsZShkLmQxKTsgfSk7XG4gICAgICAgICAgICBzdGFydGluZ0FyZWEgPSBhcmVhKClcbiAgICAgICAgICAgICAgICAueCh4UHJvcGVydHkpXG4gICAgICAgICAgICAgICAgLnkwKGZ1bmN0aW9uIChkKSB7IHJldHVybiBfdGhpcy55U2NhbGUucmFuZ2UoKVswXTsgfSlcbiAgICAgICAgICAgICAgICAueTEoZnVuY3Rpb24gKGQpIHsgcmV0dXJuIF90aGlzLnlTY2FsZS5yYW5nZSgpWzBdOyB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGN1cnJlbnRBcmVhID0gYXJlYSgpXG4gICAgICAgICAgICAgICAgLngoeFByb3BlcnR5KVxuICAgICAgICAgICAgICAgIC55MChmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5iYXNlVmFsdWUgPT09ICdhdXRvJyA/IF90aGlzLnlTY2FsZS5yYW5nZSgpWzBdIDogX3RoaXMueVNjYWxlKF90aGlzLmJhc2VWYWx1ZSk7IH0pXG4gICAgICAgICAgICAgICAgLnkxKGZ1bmN0aW9uIChkKSB7IHJldHVybiBfdGhpcy55U2NhbGUoZC52YWx1ZSk7IH0pO1xuICAgICAgICAgICAgc3RhcnRpbmdBcmVhID0gYXJlYSgpXG4gICAgICAgICAgICAgICAgLngoeFByb3BlcnR5KVxuICAgICAgICAgICAgICAgIC55MChmdW5jdGlvbiAoZCkgeyByZXR1cm4gX3RoaXMuYmFzZVZhbHVlID09PSAnYXV0bycgPyBfdGhpcy55U2NhbGUucmFuZ2UoKVswXSA6IF90aGlzLnlTY2FsZShfdGhpcy5iYXNlVmFsdWUpOyB9KVxuICAgICAgICAgICAgICAgIC55MShmdW5jdGlvbiAoZCkgeyByZXR1cm4gX3RoaXMuYmFzZVZhbHVlID09PSAnYXV0bycgPyBfdGhpcy55U2NhbGUucmFuZ2UoKVswXSA6IF90aGlzLnlTY2FsZShfdGhpcy5iYXNlVmFsdWUpOyB9KTtcbiAgICAgICAgfVxuICAgICAgICBjdXJyZW50QXJlYS5jdXJ2ZSh0aGlzLmN1cnZlKTtcbiAgICAgICAgc3RhcnRpbmdBcmVhLmN1cnZlKHRoaXMuY3VydmUpO1xuICAgICAgICB0aGlzLm9wYWNpdHkgPSAuODtcbiAgICAgICAgdmFyIGRhdGEgPSB0aGlzLmRhdGEuc2VyaWVzO1xuICAgICAgICBpZiAodGhpcy5zY2FsZVR5cGUgPT09ICdsaW5lYXInKSB7XG4gICAgICAgICAgICBkYXRhID0gc29ydExpbmVhcihkYXRhLCAnbmFtZScpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuc2NhbGVUeXBlID09PSAndGltZScpIHtcbiAgICAgICAgICAgIGRhdGEgPSBzb3J0QnlUaW1lKGRhdGEsICduYW1lJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkYXRhID0gc29ydEJ5RG9tYWluKGRhdGEsICduYW1lJywgJ2FzYycsIHRoaXMueFNjYWxlLmRvbWFpbigpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBhdGggPSBjdXJyZW50QXJlYShkYXRhKTtcbiAgICAgICAgdGhpcy5zdGFydGluZ1BhdGggPSBzdGFydGluZ0FyZWEoZGF0YSk7XG4gICAgfTtcbiAgICBBcmVhU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZS51cGRhdGVHcmFkaWVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuY29sb3JzLnNjYWxlVHlwZSA9PT0gJ2xpbmVhcicpIHtcbiAgICAgICAgICAgIHRoaXMuaGFzR3JhZGllbnQgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKHRoaXMuc3RhY2tlZCB8fCB0aGlzLm5vcm1hbGl6ZWQpIHtcbiAgICAgICAgICAgICAgICB2YXIgZDB2YWx1ZXMgPSB0aGlzLmRhdGEuc2VyaWVzLm1hcChmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC5kMDsgfSk7XG4gICAgICAgICAgICAgICAgdmFyIGQxdmFsdWVzID0gdGhpcy5kYXRhLnNlcmllcy5tYXAoZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQuZDE7IH0pO1xuICAgICAgICAgICAgICAgIHZhciBtYXgkJDEgPSBNYXRoLm1heC5hcHBseShNYXRoLCBkMXZhbHVlcyk7XG4gICAgICAgICAgICAgICAgdmFyIG1pbiQkMSA9IE1hdGgubWluLmFwcGx5KE1hdGgsIGQwdmFsdWVzKTtcbiAgICAgICAgICAgICAgICB0aGlzLmdyYWRpZW50U3RvcHMgPSB0aGlzLmNvbG9ycy5nZXRMaW5lYXJHcmFkaWVudFN0b3BzKG1heCQkMSwgbWluJCQxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZXMgPSB0aGlzLmRhdGEuc2VyaWVzLm1hcChmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC52YWx1ZTsgfSk7XG4gICAgICAgICAgICAgICAgdmFyIG1heCQkMSA9IE1hdGgubWF4LmFwcGx5KE1hdGgsIHZhbHVlcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5ncmFkaWVudFN0b3BzID0gdGhpcy5jb2xvcnMuZ2V0TGluZWFyR3JhZGllbnRTdG9wcyhtYXgkJDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5oYXNHcmFkaWVudCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5ncmFkaWVudFN0b3BzID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBBcmVhU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZS5pc0FjdGl2ZSA9IGZ1bmN0aW9uIChlbnRyeSkge1xuICAgICAgICBpZiAoIXRoaXMuYWN0aXZlRW50cmllcylcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgdmFyIGl0ZW0gPSB0aGlzLmFjdGl2ZUVudHJpZXMuZmluZChmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgcmV0dXJuIGVudHJ5Lm5hbWUgPT09IGQubmFtZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBpdGVtICE9PSB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICBBcmVhU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZS5pc0luYWN0aXZlID0gZnVuY3Rpb24gKGVudHJ5KSB7XG4gICAgICAgIGlmICghdGhpcy5hY3RpdmVFbnRyaWVzIHx8IHRoaXMuYWN0aXZlRW50cmllcy5sZW5ndGggPT09IDApXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIHZhciBpdGVtID0gdGhpcy5hY3RpdmVFbnRyaWVzLmZpbmQoZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgIHJldHVybiBlbnRyeS5uYW1lID09PSBkLm5hbWU7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gaXRlbSA9PT0gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQXJlYVNlcmllc0NvbXBvbmVudC5wcm90b3R5cGUsIFwiZGF0YVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEFyZWFTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLCBcInhTY2FsZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEFyZWFTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLCBcInlTY2FsZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEFyZWFTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLCBcImJhc2VWYWx1ZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEFyZWFTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLCBcImNvbG9yc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEFyZWFTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLCBcInNjYWxlVHlwZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbiAgICBdLCBBcmVhU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJzdGFja2VkXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIEFyZWFTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLCBcIm5vcm1hbGl6ZWRcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBBcmVhU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJncmFkaWVudFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEFyZWFTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLCBcImN1cnZlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBBcnJheSlcbiAgICBdLCBBcmVhU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJhY3RpdmVFbnRyaWVzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIEFyZWFTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLCBcImFuaW1hdGlvbnNcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgT3V0cHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQXJlYVNlcmllc0NvbXBvbmVudC5wcm90b3R5cGUsIFwic2VsZWN0XCIsIHZvaWQgMCk7XG4gICAgQXJlYVNlcmllc0NvbXBvbmVudCA9IF9fZGVjb3JhdGUoW1xuICAgICAgICBDb21wb25lbnQoe1xuICAgICAgICAgICAgc2VsZWN0b3I6ICdnW25neC1jaGFydHMtYXJlYS1zZXJpZXNdJyxcbiAgICAgICAgICAgIHRlbXBsYXRlOiBcIlxcbiAgICA8c3ZnOmcgbmd4LWNoYXJ0cy1hcmVhXFxuICAgICAgY2xhc3M9XFxcImFyZWEtc2VyaWVzXFxcIlxcbiAgICAgIFtkYXRhXT1cXFwiZGF0YVxcXCJcXG4gICAgICBbcGF0aF09XFxcInBhdGhcXFwiXFxuICAgICAgW2ZpbGxdPVxcXCJjb2xvcnMuZ2V0Q29sb3IoZGF0YS5uYW1lKVxcXCJcXG4gICAgICBbc3RvcHNdPVxcXCJncmFkaWVudFN0b3BzXFxcIlxcbiAgICAgIFtzdGFydGluZ1BhdGhdPVxcXCJzdGFydGluZ1BhdGhcXFwiXFxuICAgICAgW29wYWNpdHldPVxcXCJvcGFjaXR5XFxcIlxcbiAgICAgIFtncmFkaWVudF09XFxcImdyYWRpZW50IHx8IGhhc0dyYWRpZW50XFxcIlxcbiAgICAgIFthbmltYXRpb25zXT1cXFwiYW5pbWF0aW9uc1xcXCJcXG4gICAgICBbY2xhc3MuYWN0aXZlXT1cXFwiaXNBY3RpdmUoZGF0YSlcXFwiXFxuICAgICAgW2NsYXNzLmluYWN0aXZlXT1cXFwiaXNJbmFjdGl2ZShkYXRhKVxcXCJcXG4gICAgLz5cXG4gIFwiLFxuICAgICAgICAgICAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2hcbiAgICAgICAgfSlcbiAgICBdLCBBcmVhU2VyaWVzQ29tcG9uZW50KTtcbiAgICByZXR1cm4gQXJlYVNlcmllc0NvbXBvbmVudDtcbn0oKSk7XG5cbnZhciBBcmVhQ2hhcnRNb2R1bGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQXJlYUNoYXJ0TW9kdWxlKCkge1xuICAgIH1cbiAgICBBcmVhQ2hhcnRNb2R1bGUgPSBfX2RlY29yYXRlKFtcbiAgICAgICAgTmdNb2R1bGUoe1xuICAgICAgICAgICAgaW1wb3J0czogW0NoYXJ0Q29tbW9uTW9kdWxlXSxcbiAgICAgICAgICAgIGRlY2xhcmF0aW9uczogW1xuICAgICAgICAgICAgICAgIEFyZWFDaGFydENvbXBvbmVudCxcbiAgICAgICAgICAgICAgICBBcmVhQ2hhcnROb3JtYWxpemVkQ29tcG9uZW50LFxuICAgICAgICAgICAgICAgIEFyZWFDaGFydFN0YWNrZWRDb21wb25lbnQsXG4gICAgICAgICAgICAgICAgQXJlYVNlcmllc0NvbXBvbmVudFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIGV4cG9ydHM6IFtcbiAgICAgICAgICAgICAgICBBcmVhQ2hhcnRDb21wb25lbnQsXG4gICAgICAgICAgICAgICAgQXJlYUNoYXJ0Tm9ybWFsaXplZENvbXBvbmVudCxcbiAgICAgICAgICAgICAgICBBcmVhQ2hhcnRTdGFja2VkQ29tcG9uZW50LFxuICAgICAgICAgICAgICAgIEFyZWFTZXJpZXNDb21wb25lbnRcbiAgICAgICAgICAgIF1cbiAgICAgICAgfSlcbiAgICBdLCBBcmVhQ2hhcnRNb2R1bGUpO1xuICAgIHJldHVybiBBcmVhQ2hhcnRNb2R1bGU7XG59KCkpO1xuXG52YXIgQmFyQ29tcG9uZW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEJhckNvbXBvbmVudChlbGVtZW50KSB7XG4gICAgICAgIHRoaXMucm91bmRFZGdlcyA9IHRydWU7XG4gICAgICAgIHRoaXMuZ3JhZGllbnQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5vZmZzZXQgPSAwO1xuICAgICAgICB0aGlzLmlzQWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucyA9IHRydWU7XG4gICAgICAgIHRoaXMubm9CYXJXaGVuWmVybyA9IHRydWU7XG4gICAgICAgIHRoaXMuc2VsZWN0ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICB0aGlzLmFjdGl2YXRlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICB0aGlzLmRlYWN0aXZhdGUgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5oYXNHcmFkaWVudCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmhpZGVCYXIgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudC5uYXRpdmVFbGVtZW50O1xuICAgIH1cbiAgICBCYXJDb21wb25lbnQucHJvdG90eXBlLm5nT25DaGFuZ2VzID0gZnVuY3Rpb24gKGNoYW5nZXMpIHtcbiAgICAgICAgaWYgKCF0aGlzLmluaXRpYWxpemVkKSB7XG4gICAgICAgICAgICB0aGlzLmxvYWRBbmltYXRpb24oKTtcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQmFyQ29tcG9uZW50LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZ3JhZGllbnRJZCA9ICdncmFkJyArIGlkKCkudG9TdHJpbmcoKTtcbiAgICAgICAgdGhpcy5ncmFkaWVudEZpbGwgPSBcInVybCgjXCIgKyB0aGlzLmdyYWRpZW50SWQgKyBcIilcIjtcbiAgICAgICAgaWYgKHRoaXMuZ3JhZGllbnQgfHwgdGhpcy5zdG9wcykge1xuICAgICAgICAgICAgdGhpcy5ncmFkaWVudFN0b3BzID0gdGhpcy5nZXRHcmFkaWVudCgpO1xuICAgICAgICAgICAgdGhpcy5oYXNHcmFkaWVudCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmhhc0dyYWRpZW50ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51cGRhdGVQYXRoRWwoKTtcbiAgICAgICAgdGhpcy5jaGVja1RvSGlkZUJhcigpO1xuICAgIH07XG4gICAgQmFyQ29tcG9uZW50LnByb3RvdHlwZS5sb2FkQW5pbWF0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnBhdGggPSB0aGlzLmdldFN0YXJ0aW5nUGF0aCgpO1xuICAgICAgICBzZXRUaW1lb3V0KHRoaXMudXBkYXRlLmJpbmQodGhpcyksIDEwMCk7XG4gICAgfTtcbiAgICBCYXJDb21wb25lbnQucHJvdG90eXBlLnVwZGF0ZVBhdGhFbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG5vZGUgPSBzZWxlY3QodGhpcy5lbGVtZW50KS5zZWxlY3QoJy5iYXInKTtcbiAgICAgICAgdmFyIHBhdGggPSB0aGlzLmdldFBhdGgoKTtcbiAgICAgICAgaWYgKHRoaXMuYW5pbWF0aW9ucykge1xuICAgICAgICAgICAgbm9kZVxuICAgICAgICAgICAgICAgIC50cmFuc2l0aW9uKClcbiAgICAgICAgICAgICAgICAuZHVyYXRpb24oNTAwKVxuICAgICAgICAgICAgICAgIC5hdHRyKCdkJywgcGF0aCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBub2RlLmF0dHIoJ2QnLCBwYXRoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQmFyQ29tcG9uZW50LnByb3RvdHlwZS5nZXRHcmFkaWVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RvcHMpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnN0b3BzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgb2Zmc2V0OiAwLFxuICAgICAgICAgICAgICAgIGNvbG9yOiB0aGlzLmZpbGwsXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogdGhpcy5nZXRTdGFydE9wYWNpdHkoKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IDEwMCxcbiAgICAgICAgICAgICAgICBjb2xvcjogdGhpcy5maWxsLFxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IDFcbiAgICAgICAgICAgIH1cbiAgICAgICAgXTtcbiAgICB9O1xuICAgIEJhckNvbXBvbmVudC5wcm90b3R5cGUuZ2V0U3RhcnRpbmdQYXRoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuYW5pbWF0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0UGF0aCgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciByYWRpdXMgPSB0aGlzLmdldFJhZGl1cygpO1xuICAgICAgICB2YXIgcGF0aDtcbiAgICAgICAgaWYgKHRoaXMucm91bmRFZGdlcykge1xuICAgICAgICAgICAgaWYgKHRoaXMub3JpZW50YXRpb24gPT09ICd2ZXJ0aWNhbCcpIHtcbiAgICAgICAgICAgICAgICByYWRpdXMgPSBNYXRoLm1pbih0aGlzLmhlaWdodCwgcmFkaXVzKTtcbiAgICAgICAgICAgICAgICBwYXRoID0gcm91bmRlZFJlY3QodGhpcy54LCB0aGlzLnkgKyB0aGlzLmhlaWdodCwgdGhpcy53aWR0aCwgMSwgMCwgdGhpcy5lZGdlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLm9yaWVudGF0aW9uID09PSAnaG9yaXpvbnRhbCcpIHtcbiAgICAgICAgICAgICAgICByYWRpdXMgPSBNYXRoLm1pbih0aGlzLndpZHRoLCByYWRpdXMpO1xuICAgICAgICAgICAgICAgIHBhdGggPSByb3VuZGVkUmVjdCh0aGlzLngsIHRoaXMueSwgMSwgdGhpcy5oZWlnaHQsIDAsIHRoaXMuZWRnZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRoaXMub3JpZW50YXRpb24gPT09ICd2ZXJ0aWNhbCcpIHtcbiAgICAgICAgICAgICAgICBwYXRoID0gcm91bmRlZFJlY3QodGhpcy54LCB0aGlzLnkgKyB0aGlzLmhlaWdodCwgdGhpcy53aWR0aCwgMSwgMCwgdGhpcy5lZGdlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLm9yaWVudGF0aW9uID09PSAnaG9yaXpvbnRhbCcpIHtcbiAgICAgICAgICAgICAgICBwYXRoID0gcm91bmRlZFJlY3QodGhpcy54LCB0aGlzLnksIDEsIHRoaXMuaGVpZ2h0LCAwLCB0aGlzLmVkZ2VzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGF0aDtcbiAgICB9O1xuICAgIEJhckNvbXBvbmVudC5wcm90b3R5cGUuZ2V0UGF0aCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHJhZGl1cyA9IHRoaXMuZ2V0UmFkaXVzKCk7XG4gICAgICAgIHZhciBwYXRoO1xuICAgICAgICBpZiAodGhpcy5yb3VuZEVkZ2VzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5vcmllbnRhdGlvbiA9PT0gJ3ZlcnRpY2FsJykge1xuICAgICAgICAgICAgICAgIHJhZGl1cyA9IE1hdGgubWluKHRoaXMuaGVpZ2h0LCByYWRpdXMpO1xuICAgICAgICAgICAgICAgIHBhdGggPSByb3VuZGVkUmVjdCh0aGlzLngsIHRoaXMueSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQsIHJhZGl1cywgdGhpcy5lZGdlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLm9yaWVudGF0aW9uID09PSAnaG9yaXpvbnRhbCcpIHtcbiAgICAgICAgICAgICAgICByYWRpdXMgPSBNYXRoLm1pbih0aGlzLndpZHRoLCByYWRpdXMpO1xuICAgICAgICAgICAgICAgIHBhdGggPSByb3VuZGVkUmVjdCh0aGlzLngsIHRoaXMueSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQsIHJhZGl1cywgdGhpcy5lZGdlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwYXRoID0gcm91bmRlZFJlY3QodGhpcy54LCB0aGlzLnksIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCByYWRpdXMsIHRoaXMuZWRnZXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXRoO1xuICAgIH07XG4gICAgQmFyQ29tcG9uZW50LnByb3RvdHlwZS5nZXRSYWRpdXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciByYWRpdXMgPSAwO1xuICAgICAgICBpZiAodGhpcy5yb3VuZEVkZ2VzICYmIHRoaXMuaGVpZ2h0ID4gNSAmJiB0aGlzLndpZHRoID4gNSkge1xuICAgICAgICAgICAgcmFkaXVzID0gTWF0aC5mbG9vcihNYXRoLm1pbig1LCB0aGlzLmhlaWdodCAvIDIsIHRoaXMud2lkdGggLyAyKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJhZGl1cztcbiAgICB9O1xuICAgIEJhckNvbXBvbmVudC5wcm90b3R5cGUuZ2V0U3RhcnRPcGFjaXR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5yb3VuZEVkZ2VzKSB7XG4gICAgICAgICAgICByZXR1cm4gMC4yO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIDAuNTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJhckNvbXBvbmVudC5wcm90b3R5cGUsIFwiZWRnZXNcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBlZGdlcyA9IFtmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZV07XG4gICAgICAgICAgICBpZiAodGhpcy5yb3VuZEVkZ2VzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3JpZW50YXRpb24gPT09ICd2ZXJ0aWNhbCcpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZGF0YS52YWx1ZSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVkZ2VzID0gW3RydWUsIHRydWUsIGZhbHNlLCBmYWxzZV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlZGdlcyA9IFtmYWxzZSwgZmFsc2UsIHRydWUsIHRydWVdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMub3JpZW50YXRpb24gPT09ICdob3Jpem9udGFsJykge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5kYXRhLnZhbHVlID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWRnZXMgPSBbZmFsc2UsIHRydWUsIGZhbHNlLCB0cnVlXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVkZ2VzID0gW3RydWUsIGZhbHNlLCB0cnVlLCBmYWxzZV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZWRnZXM7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIEJhckNvbXBvbmVudC5wcm90b3R5cGUub25Nb3VzZUVudGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmFjdGl2YXRlLmVtaXQodGhpcy5kYXRhKTtcbiAgICB9O1xuICAgIEJhckNvbXBvbmVudC5wcm90b3R5cGUub25Nb3VzZUxlYXZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRlYWN0aXZhdGUuZW1pdCh0aGlzLmRhdGEpO1xuICAgIH07XG4gICAgQmFyQ29tcG9uZW50LnByb3RvdHlwZS5jaGVja1RvSGlkZUJhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5oaWRlQmFyID1cbiAgICAgICAgICAgIHRoaXMubm9CYXJXaGVuWmVybyAmJlxuICAgICAgICAgICAgICAgICgodGhpcy5vcmllbnRhdGlvbiA9PT0gJ3ZlcnRpY2FsJyAmJiB0aGlzLmhlaWdodCA9PT0gMCkgfHxcbiAgICAgICAgICAgICAgICAgICAgKHRoaXMub3JpZW50YXRpb24gPT09ICdob3Jpem9udGFsJyAmJiB0aGlzLndpZHRoID09PSAwKSk7XG4gICAgfTtcbiAgICB2YXIgX2E7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQmFyQ29tcG9uZW50LnByb3RvdHlwZSwgXCJmaWxsXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQmFyQ29tcG9uZW50LnByb3RvdHlwZSwgXCJkYXRhXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBOdW1iZXIpXG4gICAgXSwgQmFyQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ3aWR0aFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgTnVtYmVyKVxuICAgIF0sIEJhckNvbXBvbmVudC5wcm90b3R5cGUsIFwiaGVpZ2h0XCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBOdW1iZXIpXG4gICAgXSwgQmFyQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ4XCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBOdW1iZXIpXG4gICAgXSwgQmFyQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ5XCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQmFyQ29tcG9uZW50LnByb3RvdHlwZSwgXCJvcmllbnRhdGlvblwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbiAgICBdLCBCYXJDb21wb25lbnQucHJvdG90eXBlLCBcInJvdW5kRWRnZXNcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEJvb2xlYW4pXG4gICAgXSwgQmFyQ29tcG9uZW50LnByb3RvdHlwZSwgXCJncmFkaWVudFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEJhckNvbXBvbmVudC5wcm90b3R5cGUsIFwib2Zmc2V0XCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIEJhckNvbXBvbmVudC5wcm90b3R5cGUsIFwiaXNBY3RpdmVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEFycmF5KVxuICAgIF0sIEJhckNvbXBvbmVudC5wcm90b3R5cGUsIFwic3RvcHNcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEJvb2xlYW4pXG4gICAgXSwgQmFyQ29tcG9uZW50LnByb3RvdHlwZSwgXCJhbmltYXRpb25zXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBTdHJpbmcpXG4gICAgXSwgQmFyQ29tcG9uZW50LnByb3RvdHlwZSwgXCJhcmlhTGFiZWxcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEJvb2xlYW4pXG4gICAgXSwgQmFyQ29tcG9uZW50LnByb3RvdHlwZSwgXCJub0JhcldoZW5aZXJvXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIE91dHB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEJhckNvbXBvbmVudC5wcm90b3R5cGUsIFwic2VsZWN0XCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIE91dHB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEJhckNvbXBvbmVudC5wcm90b3R5cGUsIFwiYWN0aXZhdGVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgT3V0cHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQmFyQ29tcG9uZW50LnByb3RvdHlwZSwgXCJkZWFjdGl2YXRlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIEhvc3RMaXN0ZW5lcignbW91c2VlbnRlcicpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgRnVuY3Rpb24pLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW10pLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnJldHVybnR5cGVcIiwgdm9pZCAwKVxuICAgIF0sIEJhckNvbXBvbmVudC5wcm90b3R5cGUsIFwib25Nb3VzZUVudGVyXCIsIG51bGwpO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBIb3N0TGlzdGVuZXIoJ21vdXNlbGVhdmUnKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEZ1bmN0aW9uKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjpwYXJhbXR5cGVzXCIsIFtdKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjpyZXR1cm50eXBlXCIsIHZvaWQgMClcbiAgICBdLCBCYXJDb21wb25lbnQucHJvdG90eXBlLCBcIm9uTW91c2VMZWF2ZVwiLCBudWxsKTtcbiAgICBCYXJDb21wb25lbnQgPSBfX2RlY29yYXRlKFtcbiAgICAgICAgQ29tcG9uZW50KHtcbiAgICAgICAgICAgIHNlbGVjdG9yOiAnZ1tuZ3gtY2hhcnRzLWJhcl0nLFxuICAgICAgICAgICAgdGVtcGxhdGU6IFwiXFxuICAgIDxzdmc6ZGVmcyAqbmdJZj1cXFwiaGFzR3JhZGllbnRcXFwiPlxcbiAgICAgIDxzdmc6ZyBuZ3gtY2hhcnRzLXN2Zy1saW5lYXItZ3JhZGllbnQgW29yaWVudGF0aW9uXT1cXFwib3JpZW50YXRpb25cXFwiIFtuYW1lXT1cXFwiZ3JhZGllbnRJZFxcXCIgW3N0b3BzXT1cXFwiZ3JhZGllbnRTdG9wc1xcXCIgLz5cXG4gICAgPC9zdmc6ZGVmcz5cXG4gICAgPHN2ZzpwYXRoXFxuICAgICAgY2xhc3M9XFxcImJhclxcXCJcXG4gICAgICBzdHJva2U9XFxcIm5vbmVcXFwiXFxuICAgICAgcm9sZT1cXFwiaW1nXFxcIlxcbiAgICAgIHRhYkluZGV4PVxcXCItMVxcXCJcXG4gICAgICBbY2xhc3MuYWN0aXZlXT1cXFwiaXNBY3RpdmVcXFwiXFxuICAgICAgW2NsYXNzLmhpZGRlbl09XFxcImhpZGVCYXJcXFwiXFxuICAgICAgW2F0dHIuZF09XFxcInBhdGhcXFwiXFxuICAgICAgW2F0dHIuYXJpYS1sYWJlbF09XFxcImFyaWFMYWJlbFxcXCJcXG4gICAgICBbYXR0ci5maWxsXT1cXFwiaGFzR3JhZGllbnQgPyBncmFkaWVudEZpbGwgOiBmaWxsXFxcIlxcbiAgICAgIChjbGljayk9XFxcInNlbGVjdC5lbWl0KGRhdGEpXFxcIlxcbiAgICAvPlxcbiAgXCIsXG4gICAgICAgICAgICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaFxuICAgICAgICB9KSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjpwYXJhbXR5cGVzXCIsIFt0eXBlb2YgKF9hID0gdHlwZW9mIEVsZW1lbnRSZWYgIT09IFwidW5kZWZpbmVkXCIgJiYgRWxlbWVudFJlZikgPT09IFwiZnVuY3Rpb25cIiA/IF9hIDogT2JqZWN0XSlcbiAgICBdLCBCYXJDb21wb25lbnQpO1xuICAgIHJldHVybiBCYXJDb21wb25lbnQ7XG59KCkpO1xuXG52YXIgQmFySG9yaXpvbnRhbENvbXBvbmVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQmFySG9yaXpvbnRhbENvbXBvbmVudCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBCYXJIb3Jpem9udGFsQ29tcG9uZW50KCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMubGVnZW5kID0gZmFsc2U7XG4gICAgICAgIF90aGlzLmxlZ2VuZFRpdGxlID0gJ0xlZ2VuZCc7XG4gICAgICAgIF90aGlzLmxlZ2VuZFBvc2l0aW9uID0gJ3JpZ2h0JztcbiAgICAgICAgX3RoaXMudG9vbHRpcERpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIF90aGlzLnNob3dHcmlkTGluZXMgPSB0cnVlO1xuICAgICAgICBfdGhpcy5hY3RpdmVFbnRyaWVzID0gW107XG4gICAgICAgIF90aGlzLnRyaW1YQXhpc1RpY2tzID0gdHJ1ZTtcbiAgICAgICAgX3RoaXMudHJpbVlBeGlzVGlja3MgPSB0cnVlO1xuICAgICAgICBfdGhpcy5yb3RhdGVYQXhpc1RpY2tzID0gdHJ1ZTtcbiAgICAgICAgX3RoaXMubWF4WEF4aXNUaWNrTGVuZ3RoID0gMTY7XG4gICAgICAgIF90aGlzLm1heFlBeGlzVGlja0xlbmd0aCA9IDE2O1xuICAgICAgICBfdGhpcy5iYXJQYWRkaW5nID0gODtcbiAgICAgICAgX3RoaXMucm91bmREb21haW5zID0gZmFsc2U7XG4gICAgICAgIF90aGlzLnJvdW5kRWRnZXMgPSB0cnVlO1xuICAgICAgICBfdGhpcy5zaG93RGF0YUxhYmVsID0gZmFsc2U7XG4gICAgICAgIF90aGlzLm5vQmFyV2hlblplcm8gPSB0cnVlO1xuICAgICAgICBfdGhpcy5hY3RpdmF0ZSA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICAgICAgX3RoaXMuZGVhY3RpdmF0ZSA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICAgICAgX3RoaXMubWFyZ2luID0gWzEwLCAyMCwgMTAsIDIwXTtcbiAgICAgICAgX3RoaXMueEF4aXNIZWlnaHQgPSAwO1xuICAgICAgICBfdGhpcy55QXhpc1dpZHRoID0gMDtcbiAgICAgICAgX3RoaXMuZGF0YUxhYmVsTWF4V2lkdGggPSB7IG5lZ2F0aXZlOiAwLCBwb3NpdGl2ZTogMCB9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEJhckhvcml6b250YWxDb21wb25lbnQucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS51cGRhdGUuY2FsbCh0aGlzKTtcbiAgICAgICAgaWYgKCF0aGlzLnNob3dEYXRhTGFiZWwpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YUxhYmVsTWF4V2lkdGggPSB7IG5lZ2F0aXZlOiAwLCBwb3NpdGl2ZTogMCB9O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubWFyZ2luID0gWzEwLCAyMCArIHRoaXMuZGF0YUxhYmVsTWF4V2lkdGgucG9zaXRpdmUsIDEwLCAyMCArIHRoaXMuZGF0YUxhYmVsTWF4V2lkdGgubmVnYXRpdmVdO1xuICAgICAgICB0aGlzLmRpbXMgPSBjYWxjdWxhdGVWaWV3RGltZW5zaW9ucyh7XG4gICAgICAgICAgICB3aWR0aDogdGhpcy53aWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogdGhpcy5oZWlnaHQsXG4gICAgICAgICAgICBtYXJnaW5zOiB0aGlzLm1hcmdpbixcbiAgICAgICAgICAgIHNob3dYQXhpczogdGhpcy54QXhpcyxcbiAgICAgICAgICAgIHNob3dZQXhpczogdGhpcy55QXhpcyxcbiAgICAgICAgICAgIHhBeGlzSGVpZ2h0OiB0aGlzLnhBeGlzSGVpZ2h0LFxuICAgICAgICAgICAgeUF4aXNXaWR0aDogdGhpcy55QXhpc1dpZHRoLFxuICAgICAgICAgICAgc2hvd1hMYWJlbDogdGhpcy5zaG93WEF4aXNMYWJlbCxcbiAgICAgICAgICAgIHNob3dZTGFiZWw6IHRoaXMuc2hvd1lBeGlzTGFiZWwsXG4gICAgICAgICAgICBzaG93TGVnZW5kOiB0aGlzLmxlZ2VuZCxcbiAgICAgICAgICAgIGxlZ2VuZFR5cGU6IHRoaXMuc2NoZW1lVHlwZSxcbiAgICAgICAgICAgIGxlZ2VuZFBvc2l0aW9uOiB0aGlzLmxlZ2VuZFBvc2l0aW9uXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmZvcm1hdERhdGVzKCk7XG4gICAgICAgIHRoaXMueFNjYWxlID0gdGhpcy5nZXRYU2NhbGUoKTtcbiAgICAgICAgdGhpcy55U2NhbGUgPSB0aGlzLmdldFlTY2FsZSgpO1xuICAgICAgICB0aGlzLnNldENvbG9ycygpO1xuICAgICAgICB0aGlzLmxlZ2VuZE9wdGlvbnMgPSB0aGlzLmdldExlZ2VuZE9wdGlvbnMoKTtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0gPSBcInRyYW5zbGF0ZShcIiArIHRoaXMuZGltcy54T2Zmc2V0ICsgXCIgLCBcIiArIHRoaXMubWFyZ2luWzBdICsgXCIpXCI7XG4gICAgfTtcbiAgICBCYXJIb3Jpem9udGFsQ29tcG9uZW50LnByb3RvdHlwZS5nZXRYU2NhbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMueERvbWFpbiA9IHRoaXMuZ2V0WERvbWFpbigpO1xuICAgICAgICB2YXIgc2NhbGUgPSBzY2FsZUxpbmVhcigpXG4gICAgICAgICAgICAucmFuZ2UoWzAsIHRoaXMuZGltcy53aWR0aF0pXG4gICAgICAgICAgICAuZG9tYWluKHRoaXMueERvbWFpbik7XG4gICAgICAgIHJldHVybiB0aGlzLnJvdW5kRG9tYWlucyA/IHNjYWxlLm5pY2UoKSA6IHNjYWxlO1xuICAgIH07XG4gICAgQmFySG9yaXpvbnRhbENvbXBvbmVudC5wcm90b3R5cGUuZ2V0WVNjYWxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnlEb21haW4gPSB0aGlzLmdldFlEb21haW4oKTtcbiAgICAgICAgdmFyIHNwYWNpbmcgPSB0aGlzLnlEb21haW4ubGVuZ3RoIC8gKHRoaXMuZGltcy5oZWlnaHQgLyB0aGlzLmJhclBhZGRpbmcgKyAxKTtcbiAgICAgICAgcmV0dXJuIHNjYWxlQmFuZCgpXG4gICAgICAgICAgICAucmFuZ2VSb3VuZChbMCwgdGhpcy5kaW1zLmhlaWdodF0pXG4gICAgICAgICAgICAucGFkZGluZ0lubmVyKHNwYWNpbmcpXG4gICAgICAgICAgICAuZG9tYWluKHRoaXMueURvbWFpbik7XG4gICAgfTtcbiAgICBCYXJIb3Jpem9udGFsQ29tcG9uZW50LnByb3RvdHlwZS5nZXRYRG9tYWluID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdmFsdWVzID0gdGhpcy5yZXN1bHRzLm1hcChmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC52YWx1ZTsgfSk7XG4gICAgICAgIHZhciBtaW4kJDEgPSB0aGlzLnhTY2FsZU1pbiA/IE1hdGgubWluLmFwcGx5KE1hdGgsIFt0aGlzLnhTY2FsZU1pbl0uY29uY2F0KHZhbHVlcykpIDogTWF0aC5taW4uYXBwbHkoTWF0aCwgWzBdLmNvbmNhdCh2YWx1ZXMpKTtcbiAgICAgICAgdmFyIG1heCQkMSA9IHRoaXMueFNjYWxlTWF4ID8gTWF0aC5tYXguYXBwbHkoTWF0aCwgW3RoaXMueFNjYWxlTWF4XS5jb25jYXQodmFsdWVzKSkgOiBNYXRoLm1heC5hcHBseShNYXRoLCBbMF0uY29uY2F0KHZhbHVlcykpO1xuICAgICAgICByZXR1cm4gW21pbiQkMSwgbWF4JCQxXTtcbiAgICB9O1xuICAgIEJhckhvcml6b250YWxDb21wb25lbnQucHJvdG90eXBlLmdldFlEb21haW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlc3VsdHMubWFwKGZ1bmN0aW9uIChkKSB7IHJldHVybiBkLmxhYmVsOyB9KTtcbiAgICB9O1xuICAgIEJhckhvcml6b250YWxDb21wb25lbnQucHJvdG90eXBlLm9uQ2xpY2sgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB0aGlzLnNlbGVjdC5lbWl0KGRhdGEpO1xuICAgIH07XG4gICAgQmFySG9yaXpvbnRhbENvbXBvbmVudC5wcm90b3R5cGUuc2V0Q29sb3JzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZG9tYWluO1xuICAgICAgICBpZiAodGhpcy5zY2hlbWVUeXBlID09PSAnb3JkaW5hbCcpIHtcbiAgICAgICAgICAgIGRvbWFpbiA9IHRoaXMueURvbWFpbjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGRvbWFpbiA9IHRoaXMueERvbWFpbjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbG9ycyA9IG5ldyBDb2xvckhlbHBlcih0aGlzLnNjaGVtZSwgdGhpcy5zY2hlbWVUeXBlLCBkb21haW4sIHRoaXMuY3VzdG9tQ29sb3JzKTtcbiAgICB9O1xuICAgIEJhckhvcml6b250YWxDb21wb25lbnQucHJvdG90eXBlLmdldExlZ2VuZE9wdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvcHRzID0ge1xuICAgICAgICAgICAgc2NhbGVUeXBlOiB0aGlzLnNjaGVtZVR5cGUsXG4gICAgICAgICAgICBjb2xvcnM6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGRvbWFpbjogW10sXG4gICAgICAgICAgICB0aXRsZTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgcG9zaXRpb246IHRoaXMubGVnZW5kUG9zaXRpb25cbiAgICAgICAgfTtcbiAgICAgICAgaWYgKG9wdHMuc2NhbGVUeXBlID09PSAnb3JkaW5hbCcpIHtcbiAgICAgICAgICAgIG9wdHMuZG9tYWluID0gdGhpcy55RG9tYWluO1xuICAgICAgICAgICAgb3B0cy5jb2xvcnMgPSB0aGlzLmNvbG9ycztcbiAgICAgICAgICAgIG9wdHMudGl0bGUgPSB0aGlzLmxlZ2VuZFRpdGxlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb3B0cy5kb21haW4gPSB0aGlzLnhEb21haW47XG4gICAgICAgICAgICBvcHRzLmNvbG9ycyA9IHRoaXMuY29sb3JzLnNjYWxlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvcHRzO1xuICAgIH07XG4gICAgQmFySG9yaXpvbnRhbENvbXBvbmVudC5wcm90b3R5cGUudXBkYXRlWUF4aXNXaWR0aCA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgd2lkdGggPSBfYS53aWR0aDtcbiAgICAgICAgdGhpcy55QXhpc1dpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfTtcbiAgICBCYXJIb3Jpem9udGFsQ29tcG9uZW50LnByb3RvdHlwZS51cGRhdGVYQXhpc0hlaWdodCA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgaGVpZ2h0ID0gX2EuaGVpZ2h0O1xuICAgICAgICB0aGlzLnhBeGlzSGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIH07XG4gICAgQmFySG9yaXpvbnRhbENvbXBvbmVudC5wcm90b3R5cGUub25EYXRhTGFiZWxNYXhXaWR0aENoYW5nZWQgPSBmdW5jdGlvbiAoZXZlbnQkJDEpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKGV2ZW50JCQxLnNpemUubmVnYXRpdmUpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YUxhYmVsTWF4V2lkdGgubmVnYXRpdmUgPSBNYXRoLm1heCh0aGlzLmRhdGFMYWJlbE1heFdpZHRoLm5lZ2F0aXZlLCBldmVudCQkMS5zaXplLndpZHRoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YUxhYmVsTWF4V2lkdGgucG9zaXRpdmUgPSBNYXRoLm1heCh0aGlzLmRhdGFMYWJlbE1heFdpZHRoLnBvc2l0aXZlLCBldmVudCQkMS5zaXplLndpZHRoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXZlbnQkJDEuaW5kZXggPT09IHRoaXMucmVzdWx0cy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLnVwZGF0ZSgpOyB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQmFySG9yaXpvbnRhbENvbXBvbmVudC5wcm90b3R5cGUub25BY3RpdmF0ZSA9IGZ1bmN0aW9uIChpdGVtLCBmcm9tTGVnZW5kKSB7XG4gICAgICAgIGlmIChmcm9tTGVnZW5kID09PSB2b2lkIDApIHsgZnJvbUxlZ2VuZCA9IGZhbHNlOyB9XG4gICAgICAgIGl0ZW0gPSB0aGlzLnJlc3VsdHMuZmluZChmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgaWYgKGZyb21MZWdlbmQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZC5sYWJlbCA9PT0gaXRlbS5uYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGQubmFtZSA9PT0gaXRlbS5uYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGlkeCA9IHRoaXMuYWN0aXZlRW50cmllcy5maW5kSW5kZXgoZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgIHJldHVybiBkLm5hbWUgPT09IGl0ZW0ubmFtZSAmJiBkLnZhbHVlID09PSBpdGVtLnZhbHVlICYmIGQuc2VyaWVzID09PSBpdGVtLnNlcmllcztcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChpZHggPiAtMSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWN0aXZlRW50cmllcyA9IFtpdGVtXS5jb25jYXQodGhpcy5hY3RpdmVFbnRyaWVzKTtcbiAgICAgICAgdGhpcy5hY3RpdmF0ZS5lbWl0KHsgdmFsdWU6IGl0ZW0sIGVudHJpZXM6IHRoaXMuYWN0aXZlRW50cmllcyB9KTtcbiAgICB9O1xuICAgIEJhckhvcml6b250YWxDb21wb25lbnQucHJvdG90eXBlLm9uRGVhY3RpdmF0ZSA9IGZ1bmN0aW9uIChpdGVtLCBmcm9tTGVnZW5kKSB7XG4gICAgICAgIGlmIChmcm9tTGVnZW5kID09PSB2b2lkIDApIHsgZnJvbUxlZ2VuZCA9IGZhbHNlOyB9XG4gICAgICAgIGl0ZW0gPSB0aGlzLnJlc3VsdHMuZmluZChmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgaWYgKGZyb21MZWdlbmQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZC5sYWJlbCA9PT0gaXRlbS5uYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGQubmFtZSA9PT0gaXRlbS5uYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGlkeCA9IHRoaXMuYWN0aXZlRW50cmllcy5maW5kSW5kZXgoZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgIHJldHVybiBkLm5hbWUgPT09IGl0ZW0ubmFtZSAmJiBkLnZhbHVlID09PSBpdGVtLnZhbHVlICYmIGQuc2VyaWVzID09PSBpdGVtLnNlcmllcztcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuYWN0aXZlRW50cmllcy5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgdGhpcy5hY3RpdmVFbnRyaWVzID0gdGhpcy5hY3RpdmVFbnRyaWVzLnNsaWNlKCk7XG4gICAgICAgIHRoaXMuZGVhY3RpdmF0ZS5lbWl0KHsgdmFsdWU6IGl0ZW0sIGVudHJpZXM6IHRoaXMuYWN0aXZlRW50cmllcyB9KTtcbiAgICB9O1xuICAgIHZhciBfYSwgX2IsIF9jO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEJhckhvcml6b250YWxDb21wb25lbnQucHJvdG90eXBlLCBcImxlZ2VuZFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgU3RyaW5nKVxuICAgIF0sIEJhckhvcml6b250YWxDb21wb25lbnQucHJvdG90eXBlLCBcImxlZ2VuZFRpdGxlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBTdHJpbmcpXG4gICAgXSwgQmFySG9yaXpvbnRhbENvbXBvbmVudC5wcm90b3R5cGUsIFwibGVnZW5kUG9zaXRpb25cIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBCYXJIb3Jpem9udGFsQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ4QXhpc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEJhckhvcml6b250YWxDb21wb25lbnQucHJvdG90eXBlLCBcInlBeGlzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQmFySG9yaXpvbnRhbENvbXBvbmVudC5wcm90b3R5cGUsIFwic2hvd1hBeGlzTGFiZWxcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBCYXJIb3Jpem9udGFsQ29tcG9uZW50LnByb3RvdHlwZSwgXCJzaG93WUF4aXNMYWJlbFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEJhckhvcml6b250YWxDb21wb25lbnQucHJvdG90eXBlLCBcInhBeGlzTGFiZWxcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBCYXJIb3Jpem9udGFsQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ5QXhpc0xhYmVsXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIEJhckhvcml6b250YWxDb21wb25lbnQucHJvdG90eXBlLCBcInRvb2x0aXBEaXNhYmxlZFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbiAgICBdLCBCYXJIb3Jpem9udGFsQ29tcG9uZW50LnByb3RvdHlwZSwgXCJncmFkaWVudFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbiAgICBdLCBCYXJIb3Jpem9udGFsQ29tcG9uZW50LnByb3RvdHlwZSwgXCJzaG93R3JpZExpbmVzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBBcnJheSlcbiAgICBdLCBCYXJIb3Jpem9udGFsQ29tcG9uZW50LnByb3RvdHlwZSwgXCJhY3RpdmVFbnRyaWVzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBTdHJpbmcpXG4gICAgXSwgQmFySG9yaXpvbnRhbENvbXBvbmVudC5wcm90b3R5cGUsIFwic2NoZW1lVHlwZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbiAgICBdLCBCYXJIb3Jpem9udGFsQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ0cmltWEF4aXNUaWNrc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbiAgICBdLCBCYXJIb3Jpem9udGFsQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ0cmltWUF4aXNUaWNrc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbiAgICBdLCBCYXJIb3Jpem9udGFsQ29tcG9uZW50LnByb3RvdHlwZSwgXCJyb3RhdGVYQXhpc1RpY2tzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBOdW1iZXIpXG4gICAgXSwgQmFySG9yaXpvbnRhbENvbXBvbmVudC5wcm90b3R5cGUsIFwibWF4WEF4aXNUaWNrTGVuZ3RoXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBOdW1iZXIpXG4gICAgXSwgQmFySG9yaXpvbnRhbENvbXBvbmVudC5wcm90b3R5cGUsIFwibWF4WUF4aXNUaWNrTGVuZ3RoXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQmFySG9yaXpvbnRhbENvbXBvbmVudC5wcm90b3R5cGUsIFwieEF4aXNUaWNrRm9ybWF0dGluZ1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEJhckhvcml6b250YWxDb21wb25lbnQucHJvdG90eXBlLCBcInlBeGlzVGlja0Zvcm1hdHRpbmdcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEFycmF5KVxuICAgIF0sIEJhckhvcml6b250YWxDb21wb25lbnQucHJvdG90eXBlLCBcInhBeGlzVGlja3NcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEFycmF5KVxuICAgIF0sIEJhckhvcml6b250YWxDb21wb25lbnQucHJvdG90eXBlLCBcInlBeGlzVGlja3NcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBCYXJIb3Jpem9udGFsQ29tcG9uZW50LnByb3RvdHlwZSwgXCJiYXJQYWRkaW5nXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIEJhckhvcml6b250YWxDb21wb25lbnQucHJvdG90eXBlLCBcInJvdW5kRG9tYWluc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbiAgICBdLCBCYXJIb3Jpem9udGFsQ29tcG9uZW50LnByb3RvdHlwZSwgXCJyb3VuZEVkZ2VzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBOdW1iZXIpXG4gICAgXSwgQmFySG9yaXpvbnRhbENvbXBvbmVudC5wcm90b3R5cGUsIFwieFNjYWxlTWF4XCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBOdW1iZXIpXG4gICAgXSwgQmFySG9yaXpvbnRhbENvbXBvbmVudC5wcm90b3R5cGUsIFwieFNjYWxlTWluXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIEJhckhvcml6b250YWxDb21wb25lbnQucHJvdG90eXBlLCBcInNob3dEYXRhTGFiZWxcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBCYXJIb3Jpem9udGFsQ29tcG9uZW50LnByb3RvdHlwZSwgXCJkYXRhTGFiZWxGb3JtYXR0aW5nXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIEJhckhvcml6b250YWxDb21wb25lbnQucHJvdG90eXBlLCBcIm5vQmFyV2hlblplcm9cIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgT3V0cHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCB0eXBlb2YgKF9hID0gdHlwZW9mIEV2ZW50RW1pdHRlciAhPT0gXCJ1bmRlZmluZWRcIiAmJiBFdmVudEVtaXR0ZXIpID09PSBcImZ1bmN0aW9uXCIgPyBfYSA6IE9iamVjdClcbiAgICBdLCBCYXJIb3Jpem9udGFsQ29tcG9uZW50LnByb3RvdHlwZSwgXCJhY3RpdmF0ZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBPdXRwdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIHR5cGVvZiAoX2IgPSB0eXBlb2YgRXZlbnRFbWl0dGVyICE9PSBcInVuZGVmaW5lZFwiICYmIEV2ZW50RW1pdHRlcikgPT09IFwiZnVuY3Rpb25cIiA/IF9iIDogT2JqZWN0KVxuICAgIF0sIEJhckhvcml6b250YWxDb21wb25lbnQucHJvdG90eXBlLCBcImRlYWN0aXZhdGVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgQ29udGVudENoaWxkKCd0b29sdGlwVGVtcGxhdGUnLCB7IHN0YXRpYzogZmFsc2UgfSksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCB0eXBlb2YgKF9jID0gdHlwZW9mIFRlbXBsYXRlUmVmICE9PSBcInVuZGVmaW5lZFwiICYmIFRlbXBsYXRlUmVmKSA9PT0gXCJmdW5jdGlvblwiID8gX2MgOiBPYmplY3QpXG4gICAgXSwgQmFySG9yaXpvbnRhbENvbXBvbmVudC5wcm90b3R5cGUsIFwidG9vbHRpcFRlbXBsYXRlXCIsIHZvaWQgMCk7XG4gICAgQmFySG9yaXpvbnRhbENvbXBvbmVudCA9IF9fZGVjb3JhdGUoW1xuICAgICAgICBDb21wb25lbnQoe1xuICAgICAgICAgICAgc2VsZWN0b3I6ICduZ3gtY2hhcnRzLWJhci1ob3Jpem9udGFsJyxcbiAgICAgICAgICAgIHRlbXBsYXRlOiBcIlxcbiAgICA8bmd4LWNoYXJ0cy1jaGFydFxcbiAgICAgIFt2aWV3XT1cXFwiW3dpZHRoLCBoZWlnaHRdXFxcIlxcbiAgICAgIFtzaG93TGVnZW5kXT1cXFwibGVnZW5kXFxcIlxcbiAgICAgIFtsZWdlbmRPcHRpb25zXT1cXFwibGVnZW5kT3B0aW9uc1xcXCJcXG4gICAgICBbYWN0aXZlRW50cmllc109XFxcImFjdGl2ZUVudHJpZXNcXFwiXFxuICAgICAgW2FuaW1hdGlvbnNdPVxcXCJhbmltYXRpb25zXFxcIlxcbiAgICAgIChsZWdlbmRMYWJlbENsaWNrKT1cXFwib25DbGljaygkZXZlbnQpXFxcIlxcbiAgICAgIChsZWdlbmRMYWJlbEFjdGl2YXRlKT1cXFwib25BY3RpdmF0ZSgkZXZlbnQsIHRydWUpXFxcIlxcbiAgICAgIChsZWdlbmRMYWJlbERlYWN0aXZhdGUpPVxcXCJvbkRlYWN0aXZhdGUoJGV2ZW50LCB0cnVlKVxcXCJcXG4gICAgPlxcbiAgICAgIDxzdmc6ZyBbYXR0ci50cmFuc2Zvcm1dPVxcXCJ0cmFuc2Zvcm1cXFwiIGNsYXNzPVxcXCJiYXItY2hhcnQgY2hhcnRcXFwiPlxcbiAgICAgICAgPHN2ZzpnXFxuICAgICAgICAgIG5neC1jaGFydHMteC1heGlzXFxuICAgICAgICAgICpuZ0lmPVxcXCJ4QXhpc1xcXCJcXG4gICAgICAgICAgW3hTY2FsZV09XFxcInhTY2FsZVxcXCJcXG4gICAgICAgICAgW2RpbXNdPVxcXCJkaW1zXFxcIlxcbiAgICAgICAgICBbc2hvd0dyaWRMaW5lc109XFxcInNob3dHcmlkTGluZXNcXFwiXFxuICAgICAgICAgIFtzaG93TGFiZWxdPVxcXCJzaG93WEF4aXNMYWJlbFxcXCJcXG4gICAgICAgICAgW2xhYmVsVGV4dF09XFxcInhBeGlzTGFiZWxcXFwiXFxuICAgICAgICAgIFt0cmltVGlja3NdPVxcXCJ0cmltWEF4aXNUaWNrc1xcXCJcXG4gICAgICAgICAgW3JvdGF0ZVRpY2tzXT1cXFwicm90YXRlWEF4aXNUaWNrc1xcXCJcXG4gICAgICAgICAgW21heFRpY2tMZW5ndGhdPVxcXCJtYXhYQXhpc1RpY2tMZW5ndGhcXFwiXFxuICAgICAgICAgIFt0aWNrRm9ybWF0dGluZ109XFxcInhBeGlzVGlja0Zvcm1hdHRpbmdcXFwiXFxuICAgICAgICAgIFt0aWNrc109XFxcInhBeGlzVGlja3NcXFwiXFxuICAgICAgICAgIChkaW1lbnNpb25zQ2hhbmdlZCk9XFxcInVwZGF0ZVhBeGlzSGVpZ2h0KCRldmVudClcXFwiXFxuICAgICAgICA+PC9zdmc6Zz5cXG4gICAgICAgIDxzdmc6Z1xcbiAgICAgICAgICBuZ3gtY2hhcnRzLXktYXhpc1xcbiAgICAgICAgICAqbmdJZj1cXFwieUF4aXNcXFwiXFxuICAgICAgICAgIFt5U2NhbGVdPVxcXCJ5U2NhbGVcXFwiXFxuICAgICAgICAgIFtkaW1zXT1cXFwiZGltc1xcXCJcXG4gICAgICAgICAgW3Nob3dMYWJlbF09XFxcInNob3dZQXhpc0xhYmVsXFxcIlxcbiAgICAgICAgICBbbGFiZWxUZXh0XT1cXFwieUF4aXNMYWJlbFxcXCJcXG4gICAgICAgICAgW3RyaW1UaWNrc109XFxcInRyaW1ZQXhpc1RpY2tzXFxcIlxcbiAgICAgICAgICBbbWF4VGlja0xlbmd0aF09XFxcIm1heFlBeGlzVGlja0xlbmd0aFxcXCJcXG4gICAgICAgICAgW3RpY2tGb3JtYXR0aW5nXT1cXFwieUF4aXNUaWNrRm9ybWF0dGluZ1xcXCJcXG4gICAgICAgICAgW3RpY2tzXT1cXFwieUF4aXNUaWNrc1xcXCJcXG4gICAgICAgICAgW3lBeGlzT2Zmc2V0XT1cXFwiZGF0YUxhYmVsTWF4V2lkdGgubmVnYXRpdmVcXFwiXFxuICAgICAgICAgIChkaW1lbnNpb25zQ2hhbmdlZCk9XFxcInVwZGF0ZVlBeGlzV2lkdGgoJGV2ZW50KVxcXCJcXG4gICAgICAgID48L3N2ZzpnPlxcbiAgICAgICAgPHN2ZzpnXFxuICAgICAgICAgIG5neC1jaGFydHMtc2VyaWVzLWhvcml6b250YWxcXG4gICAgICAgICAgW3hTY2FsZV09XFxcInhTY2FsZVxcXCJcXG4gICAgICAgICAgW3lTY2FsZV09XFxcInlTY2FsZVxcXCJcXG4gICAgICAgICAgW2NvbG9yc109XFxcImNvbG9yc1xcXCJcXG4gICAgICAgICAgW3Nlcmllc109XFxcInJlc3VsdHNcXFwiXFxuICAgICAgICAgIFtkaW1zXT1cXFwiZGltc1xcXCJcXG4gICAgICAgICAgW2dyYWRpZW50XT1cXFwiZ3JhZGllbnRcXFwiXFxuICAgICAgICAgIFt0b29sdGlwRGlzYWJsZWRdPVxcXCJ0b29sdGlwRGlzYWJsZWRcXFwiXFxuICAgICAgICAgIFt0b29sdGlwVGVtcGxhdGVdPVxcXCJ0b29sdGlwVGVtcGxhdGVcXFwiXFxuICAgICAgICAgIFthY3RpdmVFbnRyaWVzXT1cXFwiYWN0aXZlRW50cmllc1xcXCJcXG4gICAgICAgICAgW3JvdW5kRWRnZXNdPVxcXCJyb3VuZEVkZ2VzXFxcIlxcbiAgICAgICAgICBbYW5pbWF0aW9uc109XFxcImFuaW1hdGlvbnNcXFwiXFxuICAgICAgICAgIFtzaG93RGF0YUxhYmVsXT1cXFwic2hvd0RhdGFMYWJlbFxcXCJcXG4gICAgICAgICAgW2RhdGFMYWJlbEZvcm1hdHRpbmddPVxcXCJkYXRhTGFiZWxGb3JtYXR0aW5nXFxcIlxcbiAgICAgICAgICBbbm9CYXJXaGVuWmVyb109XFxcIm5vQmFyV2hlblplcm9cXFwiXFxuICAgICAgICAgIChzZWxlY3QpPVxcXCJvbkNsaWNrKCRldmVudClcXFwiXFxuICAgICAgICAgIChhY3RpdmF0ZSk9XFxcIm9uQWN0aXZhdGUoJGV2ZW50KVxcXCJcXG4gICAgICAgICAgKGRlYWN0aXZhdGUpPVxcXCJvbkRlYWN0aXZhdGUoJGV2ZW50KVxcXCJcXG4gICAgICAgICAgKGRhdGFMYWJlbFdpZHRoQ2hhbmdlZCk9XFxcIm9uRGF0YUxhYmVsTWF4V2lkdGhDaGFuZ2VkKCRldmVudClcXFwiXFxuICAgICAgICA+PC9zdmc6Zz5cXG4gICAgICA8L3N2ZzpnPlxcbiAgICA8L25neC1jaGFydHMtY2hhcnQ+XFxuICBcIixcbiAgICAgICAgICAgIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoLFxuICAgICAgICAgICAgc3R5bGVzOiBbXCIubmd4LWNoYXJ0c3tmbG9hdDpsZWZ0O292ZXJmbG93OnZpc2libGV9Lm5neC1jaGFydHMgLmFyYywubmd4LWNoYXJ0cyAuYmFyLC5uZ3gtY2hhcnRzIC5jaXJjbGV7Y3Vyc29yOnBvaW50ZXJ9Lm5neC1jaGFydHMgLmFyYy5hY3RpdmUsLm5neC1jaGFydHMgLmFyYzpob3Zlciwubmd4LWNoYXJ0cyAuYmFyLmFjdGl2ZSwubmd4LWNoYXJ0cyAuYmFyOmhvdmVyLC5uZ3gtY2hhcnRzIC5jYXJkLmFjdGl2ZSwubmd4LWNoYXJ0cyAuY2FyZDpob3Zlciwubmd4LWNoYXJ0cyAuY2VsbC5hY3RpdmUsLm5neC1jaGFydHMgLmNlbGw6aG92ZXJ7b3BhY2l0eTouODt0cmFuc2l0aW9uOm9wYWNpdHkgLjFzIGVhc2UtaW4tb3V0fS5uZ3gtY2hhcnRzIC5hcmM6Zm9jdXMsLm5neC1jaGFydHMgLmJhcjpmb2N1cywubmd4LWNoYXJ0cyAuY2FyZDpmb2N1cywubmd4LWNoYXJ0cyAuY2VsbDpmb2N1c3tvdXRsaW5lOjB9Lm5neC1jaGFydHMgLmFyYy5oaWRkZW4sLm5neC1jaGFydHMgLmJhci5oaWRkZW4sLm5neC1jaGFydHMgLmNhcmQuaGlkZGVuLC5uZ3gtY2hhcnRzIC5jZWxsLmhpZGRlbntkaXNwbGF5Om5vbmV9Lm5neC1jaGFydHMgZzpmb2N1c3tvdXRsaW5lOjB9Lm5neC1jaGFydHMgLmFyZWEtc2VyaWVzLmluYWN0aXZlLC5uZ3gtY2hhcnRzIC5saW5lLXNlcmllcy1yYW5nZS5pbmFjdGl2ZSwubmd4LWNoYXJ0cyAubGluZS1zZXJpZXMuaW5hY3RpdmUsLm5neC1jaGFydHMgLnBvbGFyLXNlcmllcy1hcmVhLmluYWN0aXZlLC5uZ3gtY2hhcnRzIC5wb2xhci1zZXJpZXMtcGF0aC5pbmFjdGl2ZXt0cmFuc2l0aW9uOm9wYWNpdHkgLjFzIGVhc2UtaW4tb3V0O29wYWNpdHk6LjJ9Lm5neC1jaGFydHMgLmxpbmUtaGlnaGxpZ2h0e2Rpc3BsYXk6bm9uZX0ubmd4LWNoYXJ0cyAubGluZS1oaWdobGlnaHQuYWN0aXZle2Rpc3BsYXk6YmxvY2t9Lm5neC1jaGFydHMgLmFyZWF7b3BhY2l0eTouNn0ubmd4LWNoYXJ0cyAuY2lyY2xlOmhvdmVye2N1cnNvcjpwb2ludGVyfS5uZ3gtY2hhcnRzIC5sYWJlbHtmb250LXNpemU6MTJweDtmb250LXdlaWdodDo0MDB9Lm5neC1jaGFydHMgLnRvb2x0aXAtYW5jaG9ye2ZpbGw6IzAwMH0ubmd4LWNoYXJ0cyAuZ3JpZGxpbmUtcGF0aHtzdHJva2U6I2RkZDtzdHJva2Utd2lkdGg6MTtmaWxsOm5vbmV9Lm5neC1jaGFydHMgLnJlZmxpbmUtcGF0aHtzdHJva2U6I2E4YjJjNztzdHJva2Utd2lkdGg6MTtzdHJva2UtZGFzaGFycmF5OjU7c3Ryb2tlLWRhc2hvZmZzZXQ6NX0ubmd4LWNoYXJ0cyAucmVmbGluZS1sYWJlbHtmb250LXNpemU6OXB4fS5uZ3gtY2hhcnRzIC5yZWZlcmVuY2UtYXJlYXtmaWxsLW9wYWNpdHk6LjA1O2ZpbGw6IzAwMH0ubmd4LWNoYXJ0cyAuZ3JpZGxpbmUtcGF0aC1kb3R0ZWR7c3Ryb2tlOiNkZGQ7c3Ryb2tlLXdpZHRoOjE7ZmlsbDpub25lO3N0cm9rZS1kYXNoYXJyYXk6MSwyMDtzdHJva2UtZGFzaG9mZnNldDozfS5uZ3gtY2hhcnRzIC5ncmlkLXBhbmVsIHJlY3R7ZmlsbDpub25lfS5uZ3gtY2hhcnRzIC5ncmlkLXBhbmVsLm9kZCByZWN0e2ZpbGw6cmdiYSgwLDAsMCwuMDUpfVwiXSxcbiAgICAgICAgICAgIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmVcbiAgICAgICAgfSlcbiAgICBdLCBCYXJIb3Jpem9udGFsQ29tcG9uZW50KTtcbiAgICByZXR1cm4gQmFySG9yaXpvbnRhbENvbXBvbmVudDtcbn0oQmFzZUNoYXJ0Q29tcG9uZW50KSk7XG5cbnZhciBCYXJIb3Jpem9udGFsMkRDb21wb25lbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEJhckhvcml6b250YWwyRENvbXBvbmVudCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBCYXJIb3Jpem9udGFsMkRDb21wb25lbnQoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5sZWdlbmQgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMubGVnZW5kVGl0bGUgPSAnTGVnZW5kJztcbiAgICAgICAgX3RoaXMubGVnZW5kUG9zaXRpb24gPSAncmlnaHQnO1xuICAgICAgICBfdGhpcy50b29sdGlwRGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuc2hvd0dyaWRMaW5lcyA9IHRydWU7XG4gICAgICAgIF90aGlzLmFjdGl2ZUVudHJpZXMgPSBbXTtcbiAgICAgICAgX3RoaXMudHJpbVhBeGlzVGlja3MgPSB0cnVlO1xuICAgICAgICBfdGhpcy50cmltWUF4aXNUaWNrcyA9IHRydWU7XG4gICAgICAgIF90aGlzLnJvdGF0ZVhBeGlzVGlja3MgPSB0cnVlO1xuICAgICAgICBfdGhpcy5tYXhYQXhpc1RpY2tMZW5ndGggPSAxNjtcbiAgICAgICAgX3RoaXMubWF4WUF4aXNUaWNrTGVuZ3RoID0gMTY7XG4gICAgICAgIF90aGlzLmdyb3VwUGFkZGluZyA9IDE2O1xuICAgICAgICBfdGhpcy5iYXJQYWRkaW5nID0gODtcbiAgICAgICAgX3RoaXMucm91bmREb21haW5zID0gZmFsc2U7XG4gICAgICAgIF90aGlzLnJvdW5kRWRnZXMgPSB0cnVlO1xuICAgICAgICBfdGhpcy5zaG93RGF0YUxhYmVsID0gZmFsc2U7XG4gICAgICAgIF90aGlzLm5vQmFyV2hlblplcm8gPSB0cnVlO1xuICAgICAgICBfdGhpcy5hY3RpdmF0ZSA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICAgICAgX3RoaXMuZGVhY3RpdmF0ZSA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICAgICAgX3RoaXMubWFyZ2luID0gWzEwLCAyMCwgMTAsIDIwXTtcbiAgICAgICAgX3RoaXMueEF4aXNIZWlnaHQgPSAwO1xuICAgICAgICBfdGhpcy55QXhpc1dpZHRoID0gMDtcbiAgICAgICAgX3RoaXMuZGF0YUxhYmVsTWF4V2lkdGggPSB7IG5lZ2F0aXZlOiAwLCBwb3NpdGl2ZTogMCB9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEJhckhvcml6b250YWwyRENvbXBvbmVudC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLnVwZGF0ZS5jYWxsKHRoaXMpO1xuICAgICAgICBpZiAoIXRoaXMuc2hvd0RhdGFMYWJlbCkge1xuICAgICAgICAgICAgdGhpcy5kYXRhTGFiZWxNYXhXaWR0aCA9IHsgbmVnYXRpdmU6IDAsIHBvc2l0aXZlOiAwIH07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tYXJnaW4gPSBbMTAsIDIwICsgdGhpcy5kYXRhTGFiZWxNYXhXaWR0aC5wb3NpdGl2ZSwgMTAsIDIwICsgdGhpcy5kYXRhTGFiZWxNYXhXaWR0aC5uZWdhdGl2ZV07XG4gICAgICAgIHRoaXMuZGltcyA9IGNhbGN1bGF0ZVZpZXdEaW1lbnNpb25zKHtcbiAgICAgICAgICAgIHdpZHRoOiB0aGlzLndpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLmhlaWdodCxcbiAgICAgICAgICAgIG1hcmdpbnM6IHRoaXMubWFyZ2luLFxuICAgICAgICAgICAgc2hvd1hBeGlzOiB0aGlzLnhBeGlzLFxuICAgICAgICAgICAgc2hvd1lBeGlzOiB0aGlzLnlBeGlzLFxuICAgICAgICAgICAgeEF4aXNIZWlnaHQ6IHRoaXMueEF4aXNIZWlnaHQsXG4gICAgICAgICAgICB5QXhpc1dpZHRoOiB0aGlzLnlBeGlzV2lkdGgsXG4gICAgICAgICAgICBzaG93WExhYmVsOiB0aGlzLnNob3dYQXhpc0xhYmVsLFxuICAgICAgICAgICAgc2hvd1lMYWJlbDogdGhpcy5zaG93WUF4aXNMYWJlbCxcbiAgICAgICAgICAgIHNob3dMZWdlbmQ6IHRoaXMubGVnZW5kLFxuICAgICAgICAgICAgbGVnZW5kVHlwZTogdGhpcy5zY2hlbWVUeXBlLFxuICAgICAgICAgICAgbGVnZW5kUG9zaXRpb246IHRoaXMubGVnZW5kUG9zaXRpb25cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZm9ybWF0RGF0ZXMoKTtcbiAgICAgICAgdGhpcy5ncm91cERvbWFpbiA9IHRoaXMuZ2V0R3JvdXBEb21haW4oKTtcbiAgICAgICAgdGhpcy5pbm5lckRvbWFpbiA9IHRoaXMuZ2V0SW5uZXJEb21haW4oKTtcbiAgICAgICAgdGhpcy52YWx1ZXNEb21haW4gPSB0aGlzLmdldFZhbHVlRG9tYWluKCk7XG4gICAgICAgIHRoaXMuZ3JvdXBTY2FsZSA9IHRoaXMuZ2V0R3JvdXBTY2FsZSgpO1xuICAgICAgICB0aGlzLmlubmVyU2NhbGUgPSB0aGlzLmdldElubmVyU2NhbGUoKTtcbiAgICAgICAgdGhpcy52YWx1ZVNjYWxlID0gdGhpcy5nZXRWYWx1ZVNjYWxlKCk7XG4gICAgICAgIHRoaXMuc2V0Q29sb3JzKCk7XG4gICAgICAgIHRoaXMubGVnZW5kT3B0aW9ucyA9IHRoaXMuZ2V0TGVnZW5kT3B0aW9ucygpO1xuICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IFwidHJhbnNsYXRlKFwiICsgdGhpcy5kaW1zLnhPZmZzZXQgKyBcIiAsIFwiICsgdGhpcy5tYXJnaW5bMF0gKyBcIilcIjtcbiAgICB9O1xuICAgIEJhckhvcml6b250YWwyRENvbXBvbmVudC5wcm90b3R5cGUuZ2V0R3JvdXBTY2FsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNwYWNpbmcgPSB0aGlzLmdyb3VwRG9tYWluLmxlbmd0aCAvICh0aGlzLmRpbXMuaGVpZ2h0IC8gdGhpcy5ncm91cFBhZGRpbmcgKyAxKTtcbiAgICAgICAgcmV0dXJuIHNjYWxlQmFuZCgpXG4gICAgICAgICAgICAucmFuZ2VSb3VuZChbMCwgdGhpcy5kaW1zLmhlaWdodF0pXG4gICAgICAgICAgICAucGFkZGluZ0lubmVyKHNwYWNpbmcpXG4gICAgICAgICAgICAucGFkZGluZ091dGVyKHNwYWNpbmcgLyAyKVxuICAgICAgICAgICAgLmRvbWFpbih0aGlzLmdyb3VwRG9tYWluKTtcbiAgICB9O1xuICAgIEJhckhvcml6b250YWwyRENvbXBvbmVudC5wcm90b3R5cGUuZ2V0SW5uZXJTY2FsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGhlaWdodCA9IHRoaXMuZ3JvdXBTY2FsZS5iYW5kd2lkdGgoKTtcbiAgICAgICAgdmFyIHNwYWNpbmcgPSB0aGlzLmlubmVyRG9tYWluLmxlbmd0aCAvIChoZWlnaHQgLyB0aGlzLmJhclBhZGRpbmcgKyAxKTtcbiAgICAgICAgcmV0dXJuIHNjYWxlQmFuZCgpXG4gICAgICAgICAgICAucmFuZ2VSb3VuZChbMCwgaGVpZ2h0XSlcbiAgICAgICAgICAgIC5wYWRkaW5nSW5uZXIoc3BhY2luZylcbiAgICAgICAgICAgIC5kb21haW4odGhpcy5pbm5lckRvbWFpbik7XG4gICAgfTtcbiAgICBCYXJIb3Jpem9udGFsMkRDb21wb25lbnQucHJvdG90eXBlLmdldFZhbHVlU2NhbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzY2FsZSA9IHNjYWxlTGluZWFyKClcbiAgICAgICAgICAgIC5yYW5nZShbMCwgdGhpcy5kaW1zLndpZHRoXSlcbiAgICAgICAgICAgIC5kb21haW4odGhpcy52YWx1ZXNEb21haW4pO1xuICAgICAgICByZXR1cm4gdGhpcy5yb3VuZERvbWFpbnMgPyBzY2FsZS5uaWNlKCkgOiBzY2FsZTtcbiAgICB9O1xuICAgIEJhckhvcml6b250YWwyRENvbXBvbmVudC5wcm90b3R5cGUuZ2V0R3JvdXBEb21haW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkb21haW4gPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHRoaXMucmVzdWx0czsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHZhciBncm91cCA9IF9hW19pXTtcbiAgICAgICAgICAgIGlmICghZG9tYWluLmluY2x1ZGVzKGdyb3VwLmxhYmVsKSkge1xuICAgICAgICAgICAgICAgIGRvbWFpbi5wdXNoKGdyb3VwLmxhYmVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZG9tYWluO1xuICAgIH07XG4gICAgQmFySG9yaXpvbnRhbDJEQ29tcG9uZW50LnByb3RvdHlwZS5nZXRJbm5lckRvbWFpbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGRvbWFpbiA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gdGhpcy5yZXN1bHRzOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIGdyb3VwID0gX2FbX2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgX2IgPSAwLCBfYyA9IGdyb3VwLnNlcmllczsgX2IgPCBfYy5sZW5ndGg7IF9iKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgZCA9IF9jW19iXTtcbiAgICAgICAgICAgICAgICBpZiAoIWRvbWFpbi5pbmNsdWRlcyhkLmxhYmVsKSkge1xuICAgICAgICAgICAgICAgICAgICBkb21haW4ucHVzaChkLmxhYmVsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRvbWFpbjtcbiAgICB9O1xuICAgIEJhckhvcml6b250YWwyRENvbXBvbmVudC5wcm90b3R5cGUuZ2V0VmFsdWVEb21haW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkb21haW4gPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHRoaXMucmVzdWx0czsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHZhciBncm91cCA9IF9hW19pXTtcbiAgICAgICAgICAgIGZvciAodmFyIF9iID0gMCwgX2MgPSBncm91cC5zZXJpZXM7IF9iIDwgX2MubGVuZ3RoOyBfYisrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGQgPSBfY1tfYl07XG4gICAgICAgICAgICAgICAgaWYgKCFkb21haW4uaW5jbHVkZXMoZC52YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZG9tYWluLnB1c2goZC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBtaW4kJDEgPSBNYXRoLm1pbi5hcHBseShNYXRoLCBbMF0uY29uY2F0KGRvbWFpbikpO1xuICAgICAgICB2YXIgbWF4JCQxID0gdGhpcy54U2NhbGVNYXggPyBNYXRoLm1heC5hcHBseShNYXRoLCBbdGhpcy54U2NhbGVNYXhdLmNvbmNhdChkb21haW4pKSA6IE1hdGgubWF4LmFwcGx5KE1hdGgsIFswXS5jb25jYXQoZG9tYWluKSk7XG4gICAgICAgIHJldHVybiBbbWluJCQxLCBtYXgkJDFdO1xuICAgIH07XG4gICAgQmFySG9yaXpvbnRhbDJEQ29tcG9uZW50LnByb3RvdHlwZS5ncm91cFRyYW5zZm9ybSA9IGZ1bmN0aW9uIChncm91cCkge1xuICAgICAgICByZXR1cm4gXCJ0cmFuc2xhdGUoMCwgXCIgKyB0aGlzLmdyb3VwU2NhbGUoZ3JvdXAubGFiZWwpICsgXCIpXCI7XG4gICAgfTtcbiAgICBCYXJIb3Jpem9udGFsMkRDb21wb25lbnQucHJvdG90eXBlLm9uQ2xpY2sgPSBmdW5jdGlvbiAoZGF0YSwgZ3JvdXApIHtcbiAgICAgICAgaWYgKGdyb3VwKSB7XG4gICAgICAgICAgICBkYXRhLnNlcmllcyA9IGdyb3VwLm5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZWxlY3QuZW1pdChkYXRhKTtcbiAgICB9O1xuICAgIEJhckhvcml6b250YWwyRENvbXBvbmVudC5wcm90b3R5cGUudHJhY2tCeSA9IGZ1bmN0aW9uIChpbmRleCwgaXRlbSkge1xuICAgICAgICByZXR1cm4gaXRlbS5uYW1lO1xuICAgIH07XG4gICAgQmFySG9yaXpvbnRhbDJEQ29tcG9uZW50LnByb3RvdHlwZS5zZXRDb2xvcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkb21haW47XG4gICAgICAgIGlmICh0aGlzLnNjaGVtZVR5cGUgPT09ICdvcmRpbmFsJykge1xuICAgICAgICAgICAgZG9tYWluID0gdGhpcy5pbm5lckRvbWFpbjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGRvbWFpbiA9IHRoaXMudmFsdWVzRG9tYWluO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29sb3JzID0gbmV3IENvbG9ySGVscGVyKHRoaXMuc2NoZW1lLCB0aGlzLnNjaGVtZVR5cGUsIGRvbWFpbiwgdGhpcy5jdXN0b21Db2xvcnMpO1xuICAgIH07XG4gICAgQmFySG9yaXpvbnRhbDJEQ29tcG9uZW50LnByb3RvdHlwZS5nZXRMZWdlbmRPcHRpb25zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgb3B0cyA9IHtcbiAgICAgICAgICAgIHNjYWxlVHlwZTogdGhpcy5zY2hlbWVUeXBlLFxuICAgICAgICAgICAgY29sb3JzOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBkb21haW46IFtdLFxuICAgICAgICAgICAgdGl0bGU6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHBvc2l0aW9uOiB0aGlzLmxlZ2VuZFBvc2l0aW9uXG4gICAgICAgIH07XG4gICAgICAgIGlmIChvcHRzLnNjYWxlVHlwZSA9PT0gJ29yZGluYWwnKSB7XG4gICAgICAgICAgICBvcHRzLmRvbWFpbiA9IHRoaXMuaW5uZXJEb21haW47XG4gICAgICAgICAgICBvcHRzLmNvbG9ycyA9IHRoaXMuY29sb3JzO1xuICAgICAgICAgICAgb3B0cy50aXRsZSA9IHRoaXMubGVnZW5kVGl0bGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvcHRzLmRvbWFpbiA9IHRoaXMudmFsdWVzRG9tYWluO1xuICAgICAgICAgICAgb3B0cy5jb2xvcnMgPSB0aGlzLmNvbG9ycy5zY2FsZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3B0cztcbiAgICB9O1xuICAgIEJhckhvcml6b250YWwyRENvbXBvbmVudC5wcm90b3R5cGUudXBkYXRlWUF4aXNXaWR0aCA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgd2lkdGggPSBfYS53aWR0aDtcbiAgICAgICAgdGhpcy55QXhpc1dpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfTtcbiAgICBCYXJIb3Jpem9udGFsMkRDb21wb25lbnQucHJvdG90eXBlLnVwZGF0ZVhBeGlzSGVpZ2h0ID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciBoZWlnaHQgPSBfYS5oZWlnaHQ7XG4gICAgICAgIHRoaXMueEF4aXNIZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfTtcbiAgICBCYXJIb3Jpem9udGFsMkRDb21wb25lbnQucHJvdG90eXBlLm9uRGF0YUxhYmVsTWF4V2lkdGhDaGFuZ2VkID0gZnVuY3Rpb24gKGV2ZW50JCQxLCBncm91cEluZGV4KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmIChldmVudCQkMS5zaXplLm5lZ2F0aXZlKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGFMYWJlbE1heFdpZHRoLm5lZ2F0aXZlID0gTWF0aC5tYXgodGhpcy5kYXRhTGFiZWxNYXhXaWR0aC5uZWdhdGl2ZSwgZXZlbnQkJDEuc2l6ZS53aWR0aCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmRhdGFMYWJlbE1heFdpZHRoLnBvc2l0aXZlID0gTWF0aC5tYXgodGhpcy5kYXRhTGFiZWxNYXhXaWR0aC5wb3NpdGl2ZSwgZXZlbnQkJDEuc2l6ZS53aWR0aCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdyb3VwSW5kZXggPT09IHRoaXMucmVzdWx0cy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLnVwZGF0ZSgpOyB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQmFySG9yaXpvbnRhbDJEQ29tcG9uZW50LnByb3RvdHlwZS5vbkFjdGl2YXRlID0gZnVuY3Rpb24gKGV2ZW50JCQxLCBncm91cCwgZnJvbUxlZ2VuZCkge1xuICAgICAgICBpZiAoZnJvbUxlZ2VuZCA9PT0gdm9pZCAwKSB7IGZyb21MZWdlbmQgPSBmYWxzZTsgfVxuICAgICAgICB2YXIgaXRlbSA9IE9iamVjdC5hc3NpZ24oe30sIGV2ZW50JCQxKTtcbiAgICAgICAgaWYgKGdyb3VwKSB7XG4gICAgICAgICAgICBpdGVtLnNlcmllcyA9IGdyb3VwLm5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGl0ZW1zID0gdGhpcy5yZXN1bHRzXG4gICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChnKSB7IHJldHVybiBnLnNlcmllczsgfSlcbiAgICAgICAgICAgIC5mbGF0KClcbiAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgIGlmIChmcm9tTGVnZW5kKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGkubGFiZWwgPT09IGl0ZW0ubmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBpLm5hbWUgPT09IGl0ZW0ubmFtZSAmJiBpLnNlcmllcyA9PT0gaXRlbS5zZXJpZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmFjdGl2ZUVudHJpZXMgPSBpdGVtcy5zbGljZSgpO1xuICAgICAgICB0aGlzLmFjdGl2YXRlLmVtaXQoeyB2YWx1ZTogaXRlbSwgZW50cmllczogdGhpcy5hY3RpdmVFbnRyaWVzIH0pO1xuICAgIH07XG4gICAgQmFySG9yaXpvbnRhbDJEQ29tcG9uZW50LnByb3RvdHlwZS5vbkRlYWN0aXZhdGUgPSBmdW5jdGlvbiAoZXZlbnQkJDEsIGdyb3VwLCBmcm9tTGVnZW5kKSB7XG4gICAgICAgIGlmIChmcm9tTGVnZW5kID09PSB2b2lkIDApIHsgZnJvbUxlZ2VuZCA9IGZhbHNlOyB9XG4gICAgICAgIHZhciBpdGVtID0gT2JqZWN0LmFzc2lnbih7fSwgZXZlbnQkJDEpO1xuICAgICAgICBpZiAoZ3JvdXApIHtcbiAgICAgICAgICAgIGl0ZW0uc2VyaWVzID0gZ3JvdXAubmFtZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFjdGl2ZUVudHJpZXMgPSB0aGlzLmFjdGl2ZUVudHJpZXMuZmlsdGVyKGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICBpZiAoZnJvbUxlZ2VuZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpLmxhYmVsICE9PSBpdGVtLm5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gIShpLm5hbWUgPT09IGl0ZW0ubmFtZSAmJiBpLnNlcmllcyA9PT0gaXRlbS5zZXJpZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5kZWFjdGl2YXRlLmVtaXQoeyB2YWx1ZTogaXRlbSwgZW50cmllczogdGhpcy5hY3RpdmVFbnRyaWVzIH0pO1xuICAgIH07XG4gICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQmFySG9yaXpvbnRhbDJEQ29tcG9uZW50LnByb3RvdHlwZSwgXCJsZWdlbmRcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcbiAgICBdLCBCYXJIb3Jpem9udGFsMkRDb21wb25lbnQucHJvdG90eXBlLCBcImxlZ2VuZFRpdGxlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBTdHJpbmcpXG4gICAgXSwgQmFySG9yaXpvbnRhbDJEQ29tcG9uZW50LnByb3RvdHlwZSwgXCJsZWdlbmRQb3NpdGlvblwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEJhckhvcml6b250YWwyRENvbXBvbmVudC5wcm90b3R5cGUsIFwieEF4aXNcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBCYXJIb3Jpem9udGFsMkRDb21wb25lbnQucHJvdG90eXBlLCBcInlBeGlzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQmFySG9yaXpvbnRhbDJEQ29tcG9uZW50LnByb3RvdHlwZSwgXCJzaG93WEF4aXNMYWJlbFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEJhckhvcml6b250YWwyRENvbXBvbmVudC5wcm90b3R5cGUsIFwic2hvd1lBeGlzTGFiZWxcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBCYXJIb3Jpem9udGFsMkRDb21wb25lbnQucHJvdG90eXBlLCBcInhBeGlzTGFiZWxcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBCYXJIb3Jpem9udGFsMkRDb21wb25lbnQucHJvdG90eXBlLCBcInlBeGlzTGFiZWxcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEJvb2xlYW4pXG4gICAgXSwgQmFySG9yaXpvbnRhbDJEQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ0b29sdGlwRGlzYWJsZWRcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEJvb2xlYW4pXG4gICAgXSwgQmFySG9yaXpvbnRhbDJEQ29tcG9uZW50LnByb3RvdHlwZSwgXCJncmFkaWVudFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbiAgICBdLCBCYXJIb3Jpem9udGFsMkRDb21wb25lbnQucHJvdG90eXBlLCBcInNob3dHcmlkTGluZXNcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEFycmF5KVxuICAgIF0sIEJhckhvcml6b250YWwyRENvbXBvbmVudC5wcm90b3R5cGUsIFwiYWN0aXZlRW50cmllc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgU3RyaW5nKVxuICAgIF0sIEJhckhvcml6b250YWwyRENvbXBvbmVudC5wcm90b3R5cGUsIFwic2NoZW1lVHlwZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbiAgICBdLCBCYXJIb3Jpem9udGFsMkRDb21wb25lbnQucHJvdG90eXBlLCBcInRyaW1YQXhpc1RpY2tzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIEJhckhvcml6b250YWwyRENvbXBvbmVudC5wcm90b3R5cGUsIFwidHJpbVlBeGlzVGlja3NcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEJvb2xlYW4pXG4gICAgXSwgQmFySG9yaXpvbnRhbDJEQ29tcG9uZW50LnByb3RvdHlwZSwgXCJyb3RhdGVYQXhpc1RpY2tzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBOdW1iZXIpXG4gICAgXSwgQmFySG9yaXpvbnRhbDJEQ29tcG9uZW50LnByb3RvdHlwZSwgXCJtYXhYQXhpc1RpY2tMZW5ndGhcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE51bWJlcilcbiAgICBdLCBCYXJIb3Jpem9udGFsMkRDb21wb25lbnQucHJvdG90eXBlLCBcIm1heFlBeGlzVGlja0xlbmd0aFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEJhckhvcml6b250YWwyRENvbXBvbmVudC5wcm90b3R5cGUsIFwieEF4aXNUaWNrRm9ybWF0dGluZ1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEJhckhvcml6b250YWwyRENvbXBvbmVudC5wcm90b3R5cGUsIFwieUF4aXNUaWNrRm9ybWF0dGluZ1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQXJyYXkpXG4gICAgXSwgQmFySG9yaXpvbnRhbDJEQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ4QXhpc1RpY2tzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBBcnJheSlcbiAgICBdLCBCYXJIb3Jpem9udGFsMkRDb21wb25lbnQucHJvdG90eXBlLCBcInlBeGlzVGlja3NcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBCYXJIb3Jpem9udGFsMkRDb21wb25lbnQucHJvdG90eXBlLCBcImdyb3VwUGFkZGluZ1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEJhckhvcml6b250YWwyRENvbXBvbmVudC5wcm90b3R5cGUsIFwiYmFyUGFkZGluZ1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbiAgICBdLCBCYXJIb3Jpem9udGFsMkRDb21wb25lbnQucHJvdG90eXBlLCBcInJvdW5kRG9tYWluc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbiAgICBdLCBCYXJIb3Jpem9udGFsMkRDb21wb25lbnQucHJvdG90eXBlLCBcInJvdW5kRWRnZXNcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE51bWJlcilcbiAgICBdLCBCYXJIb3Jpem9udGFsMkRDb21wb25lbnQucHJvdG90eXBlLCBcInhTY2FsZU1heFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbiAgICBdLCBCYXJIb3Jpem9udGFsMkRDb21wb25lbnQucHJvdG90eXBlLCBcInNob3dEYXRhTGFiZWxcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBCYXJIb3Jpem9udGFsMkRDb21wb25lbnQucHJvdG90eXBlLCBcImRhdGFMYWJlbEZvcm1hdHRpbmdcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEJvb2xlYW4pXG4gICAgXSwgQmFySG9yaXpvbnRhbDJEQ29tcG9uZW50LnByb3RvdHlwZSwgXCJub0JhcldoZW5aZXJvXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIE91dHB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgdHlwZW9mIChfYSA9IHR5cGVvZiBFdmVudEVtaXR0ZXIgIT09IFwidW5kZWZpbmVkXCIgJiYgRXZlbnRFbWl0dGVyKSA9PT0gXCJmdW5jdGlvblwiID8gX2EgOiBPYmplY3QpXG4gICAgXSwgQmFySG9yaXpvbnRhbDJEQ29tcG9uZW50LnByb3RvdHlwZSwgXCJhY3RpdmF0ZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBPdXRwdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIHR5cGVvZiAoX2IgPSB0eXBlb2YgRXZlbnRFbWl0dGVyICE9PSBcInVuZGVmaW5lZFwiICYmIEV2ZW50RW1pdHRlcikgPT09IFwiZnVuY3Rpb25cIiA/IF9iIDogT2JqZWN0KVxuICAgIF0sIEJhckhvcml6b250YWwyRENvbXBvbmVudC5wcm90b3R5cGUsIFwiZGVhY3RpdmF0ZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBDb250ZW50Q2hpbGQoJ3Rvb2x0aXBUZW1wbGF0ZScsIHsgc3RhdGljOiBmYWxzZSB9KSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIHR5cGVvZiAoX2MgPSB0eXBlb2YgVGVtcGxhdGVSZWYgIT09IFwidW5kZWZpbmVkXCIgJiYgVGVtcGxhdGVSZWYpID09PSBcImZ1bmN0aW9uXCIgPyBfYyA6IE9iamVjdClcbiAgICBdLCBCYXJIb3Jpem9udGFsMkRDb21wb25lbnQucHJvdG90eXBlLCBcInRvb2x0aXBUZW1wbGF0ZVwiLCB2b2lkIDApO1xuICAgIEJhckhvcml6b250YWwyRENvbXBvbmVudCA9IF9fZGVjb3JhdGUoW1xuICAgICAgICBDb21wb25lbnQoe1xuICAgICAgICAgICAgc2VsZWN0b3I6ICduZ3gtY2hhcnRzLWJhci1ob3Jpem9udGFsLTJkJyxcbiAgICAgICAgICAgIHRlbXBsYXRlOiBcIlxcbiAgICA8bmd4LWNoYXJ0cy1jaGFydFxcbiAgICAgIFt2aWV3XT1cXFwiW3dpZHRoLCBoZWlnaHRdXFxcIlxcbiAgICAgIFtzaG93TGVnZW5kXT1cXFwibGVnZW5kXFxcIlxcbiAgICAgIFtsZWdlbmRPcHRpb25zXT1cXFwibGVnZW5kT3B0aW9uc1xcXCJcXG4gICAgICBbYWN0aXZlRW50cmllc109XFxcImFjdGl2ZUVudHJpZXNcXFwiXFxuICAgICAgW2FuaW1hdGlvbnNdPVxcXCJhbmltYXRpb25zXFxcIlxcbiAgICAgIChsZWdlbmRMYWJlbEFjdGl2YXRlKT1cXFwib25BY3RpdmF0ZSgkZXZlbnQsIHVuZGVmaW5lZCwgdHJ1ZSlcXFwiXFxuICAgICAgKGxlZ2VuZExhYmVsRGVhY3RpdmF0ZSk9XFxcIm9uRGVhY3RpdmF0ZSgkZXZlbnQsIHVuZGVmaW5lZCwgdHJ1ZSlcXFwiXFxuICAgICAgKGxlZ2VuZExhYmVsQ2xpY2spPVxcXCJvbkNsaWNrKCRldmVudClcXFwiXFxuICAgID5cXG4gICAgICA8c3ZnOmcgW2F0dHIudHJhbnNmb3JtXT1cXFwidHJhbnNmb3JtXFxcIiBjbGFzcz1cXFwiYmFyLWNoYXJ0IGNoYXJ0XFxcIj5cXG4gICAgICAgIDxzdmc6Z1xcbiAgICAgICAgICBuZ3gtY2hhcnRzLWdyaWQtcGFuZWwtc2VyaWVzXFxuICAgICAgICAgIFt4U2NhbGVdPVxcXCJ2YWx1ZVNjYWxlXFxcIlxcbiAgICAgICAgICBbeVNjYWxlXT1cXFwiZ3JvdXBTY2FsZVxcXCJcXG4gICAgICAgICAgW2RhdGFdPVxcXCJyZXN1bHRzXFxcIlxcbiAgICAgICAgICBbZGltc109XFxcImRpbXNcXFwiXFxuICAgICAgICAgIG9yaWVudD1cXFwiaG9yaXpvbnRhbFxcXCJcXG4gICAgICAgID48L3N2ZzpnPlxcbiAgICAgICAgPHN2ZzpnXFxuICAgICAgICAgIG5neC1jaGFydHMteC1heGlzXFxuICAgICAgICAgICpuZ0lmPVxcXCJ4QXhpc1xcXCJcXG4gICAgICAgICAgW3hTY2FsZV09XFxcInZhbHVlU2NhbGVcXFwiXFxuICAgICAgICAgIFtkaW1zXT1cXFwiZGltc1xcXCJcXG4gICAgICAgICAgW3Nob3dHcmlkTGluZXNdPVxcXCJzaG93R3JpZExpbmVzXFxcIlxcbiAgICAgICAgICBbc2hvd0xhYmVsXT1cXFwic2hvd1hBeGlzTGFiZWxcXFwiXFxuICAgICAgICAgIFtsYWJlbFRleHRdPVxcXCJ4QXhpc0xhYmVsXFxcIlxcbiAgICAgICAgICBbdHJpbVRpY2tzXT1cXFwidHJpbVhBeGlzVGlja3NcXFwiXFxuICAgICAgICAgIFtyb3RhdGVUaWNrc109XFxcInJvdGF0ZVhBeGlzVGlja3NcXFwiXFxuICAgICAgICAgIFttYXhUaWNrTGVuZ3RoXT1cXFwibWF4WEF4aXNUaWNrTGVuZ3RoXFxcIlxcbiAgICAgICAgICBbdGlja0Zvcm1hdHRpbmddPVxcXCJ4QXhpc1RpY2tGb3JtYXR0aW5nXFxcIlxcbiAgICAgICAgICBbdGlja3NdPVxcXCJ4QXhpc1RpY2tzXFxcIlxcbiAgICAgICAgICAoZGltZW5zaW9uc0NoYW5nZWQpPVxcXCJ1cGRhdGVYQXhpc0hlaWdodCgkZXZlbnQpXFxcIlxcbiAgICAgICAgPjwvc3ZnOmc+XFxuICAgICAgICA8c3ZnOmdcXG4gICAgICAgICAgbmd4LWNoYXJ0cy15LWF4aXNcXG4gICAgICAgICAgKm5nSWY9XFxcInlBeGlzXFxcIlxcbiAgICAgICAgICBbeVNjYWxlXT1cXFwiZ3JvdXBTY2FsZVxcXCJcXG4gICAgICAgICAgW2RpbXNdPVxcXCJkaW1zXFxcIlxcbiAgICAgICAgICBbc2hvd0xhYmVsXT1cXFwic2hvd1lBeGlzTGFiZWxcXFwiXFxuICAgICAgICAgIFtsYWJlbFRleHRdPVxcXCJ5QXhpc0xhYmVsXFxcIlxcbiAgICAgICAgICBbdHJpbVRpY2tzXT1cXFwidHJpbVlBeGlzVGlja3NcXFwiXFxuICAgICAgICAgIFttYXhUaWNrTGVuZ3RoXT1cXFwibWF4WUF4aXNUaWNrTGVuZ3RoXFxcIlxcbiAgICAgICAgICBbdGlja0Zvcm1hdHRpbmddPVxcXCJ5QXhpc1RpY2tGb3JtYXR0aW5nXFxcIlxcbiAgICAgICAgICBbdGlja3NdPVxcXCJ5QXhpc1RpY2tzXFxcIlxcbiAgICAgICAgICBbeUF4aXNPZmZzZXRdPVxcXCJkYXRhTGFiZWxNYXhXaWR0aC5uZWdhdGl2ZVxcXCJcXG4gICAgICAgICAgKGRpbWVuc2lvbnNDaGFuZ2VkKT1cXFwidXBkYXRlWUF4aXNXaWR0aCgkZXZlbnQpXFxcIlxcbiAgICAgICAgPjwvc3ZnOmc+XFxuICAgICAgICA8c3ZnOmdcXG4gICAgICAgICAgKm5nRm9yPVxcXCJsZXQgZ3JvdXAgb2YgcmVzdWx0czsgbGV0IGluZGV4ID0gaW5kZXg7IHRyYWNrQnk6IHRyYWNrQnlcXFwiXFxuICAgICAgICAgIFtAYW5pbWF0aW9uU3RhdGVdPVxcXCInYWN0aXZlJ1xcXCJcXG4gICAgICAgICAgW2F0dHIudHJhbnNmb3JtXT1cXFwiZ3JvdXBUcmFuc2Zvcm0oZ3JvdXApXFxcIlxcbiAgICAgICAgPlxcbiAgICAgICAgICA8c3ZnOmdcXG4gICAgICAgICAgICBuZ3gtY2hhcnRzLXNlcmllcy1ob3Jpem9udGFsXFxuICAgICAgICAgICAgW3hTY2FsZV09XFxcInZhbHVlU2NhbGVcXFwiXFxuICAgICAgICAgICAgW2FjdGl2ZUVudHJpZXNdPVxcXCJhY3RpdmVFbnRyaWVzXFxcIlxcbiAgICAgICAgICAgIFt5U2NhbGVdPVxcXCJpbm5lclNjYWxlXFxcIlxcbiAgICAgICAgICAgIFtjb2xvcnNdPVxcXCJjb2xvcnNcXFwiXFxuICAgICAgICAgICAgW3Nlcmllc109XFxcImdyb3VwLnNlcmllc1xcXCJcXG4gICAgICAgICAgICBbZGltc109XFxcImRpbXNcXFwiXFxuICAgICAgICAgICAgW2dyYWRpZW50XT1cXFwiZ3JhZGllbnRcXFwiXFxuICAgICAgICAgICAgW3Rvb2x0aXBEaXNhYmxlZF09XFxcInRvb2x0aXBEaXNhYmxlZFxcXCJcXG4gICAgICAgICAgICBbdG9vbHRpcFRlbXBsYXRlXT1cXFwidG9vbHRpcFRlbXBsYXRlXFxcIlxcbiAgICAgICAgICAgIFtzZXJpZXNOYW1lXT1cXFwiZ3JvdXAubmFtZVxcXCJcXG4gICAgICAgICAgICBbcm91bmRFZGdlc109XFxcInJvdW5kRWRnZXNcXFwiXFxuICAgICAgICAgICAgW2FuaW1hdGlvbnNdPVxcXCJhbmltYXRpb25zXFxcIlxcbiAgICAgICAgICAgIFtzaG93RGF0YUxhYmVsXT1cXFwic2hvd0RhdGFMYWJlbFxcXCJcXG4gICAgICAgICAgICBbZGF0YUxhYmVsRm9ybWF0dGluZ109XFxcImRhdGFMYWJlbEZvcm1hdHRpbmdcXFwiXFxuICAgICAgICAgICAgW25vQmFyV2hlblplcm9dPVxcXCJub0JhcldoZW5aZXJvXFxcIlxcbiAgICAgICAgICAgIChzZWxlY3QpPVxcXCJvbkNsaWNrKCRldmVudCwgZ3JvdXApXFxcIlxcbiAgICAgICAgICAgIChhY3RpdmF0ZSk9XFxcIm9uQWN0aXZhdGUoJGV2ZW50LCBncm91cClcXFwiXFxuICAgICAgICAgICAgKGRlYWN0aXZhdGUpPVxcXCJvbkRlYWN0aXZhdGUoJGV2ZW50LCBncm91cClcXFwiXFxuICAgICAgICAgICAgKGRhdGFMYWJlbFdpZHRoQ2hhbmdlZCk9XFxcIm9uRGF0YUxhYmVsTWF4V2lkdGhDaGFuZ2VkKCRldmVudCwgaW5kZXgpXFxcIlxcbiAgICAgICAgICAvPlxcbiAgICAgICAgPC9zdmc6Zz5cXG4gICAgICA8L3N2ZzpnPlxcbiAgICA8L25neC1jaGFydHMtY2hhcnQ+XFxuICBcIixcbiAgICAgICAgICAgIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoLFxuICAgICAgICAgICAgc3R5bGVzOiBbXCIubmd4LWNoYXJ0c3tmbG9hdDpsZWZ0O292ZXJmbG93OnZpc2libGV9Lm5neC1jaGFydHMgLmFyYywubmd4LWNoYXJ0cyAuYmFyLC5uZ3gtY2hhcnRzIC5jaXJjbGV7Y3Vyc29yOnBvaW50ZXJ9Lm5neC1jaGFydHMgLmFyYy5hY3RpdmUsLm5neC1jaGFydHMgLmFyYzpob3Zlciwubmd4LWNoYXJ0cyAuYmFyLmFjdGl2ZSwubmd4LWNoYXJ0cyAuYmFyOmhvdmVyLC5uZ3gtY2hhcnRzIC5jYXJkLmFjdGl2ZSwubmd4LWNoYXJ0cyAuY2FyZDpob3Zlciwubmd4LWNoYXJ0cyAuY2VsbC5hY3RpdmUsLm5neC1jaGFydHMgLmNlbGw6aG92ZXJ7b3BhY2l0eTouODt0cmFuc2l0aW9uOm9wYWNpdHkgLjFzIGVhc2UtaW4tb3V0fS5uZ3gtY2hhcnRzIC5hcmM6Zm9jdXMsLm5neC1jaGFydHMgLmJhcjpmb2N1cywubmd4LWNoYXJ0cyAuY2FyZDpmb2N1cywubmd4LWNoYXJ0cyAuY2VsbDpmb2N1c3tvdXRsaW5lOjB9Lm5neC1jaGFydHMgLmFyYy5oaWRkZW4sLm5neC1jaGFydHMgLmJhci5oaWRkZW4sLm5neC1jaGFydHMgLmNhcmQuaGlkZGVuLC5uZ3gtY2hhcnRzIC5jZWxsLmhpZGRlbntkaXNwbGF5Om5vbmV9Lm5neC1jaGFydHMgZzpmb2N1c3tvdXRsaW5lOjB9Lm5neC1jaGFydHMgLmFyZWEtc2VyaWVzLmluYWN0aXZlLC5uZ3gtY2hhcnRzIC5saW5lLXNlcmllcy1yYW5nZS5pbmFjdGl2ZSwubmd4LWNoYXJ0cyAubGluZS1zZXJpZXMuaW5hY3RpdmUsLm5neC1jaGFydHMgLnBvbGFyLXNlcmllcy1hcmVhLmluYWN0aXZlLC5uZ3gtY2hhcnRzIC5wb2xhci1zZXJpZXMtcGF0aC5pbmFjdGl2ZXt0cmFuc2l0aW9uOm9wYWNpdHkgLjFzIGVhc2UtaW4tb3V0O29wYWNpdHk6LjJ9Lm5neC1jaGFydHMgLmxpbmUtaGlnaGxpZ2h0e2Rpc3BsYXk6bm9uZX0ubmd4LWNoYXJ0cyAubGluZS1oaWdobGlnaHQuYWN0aXZle2Rpc3BsYXk6YmxvY2t9Lm5neC1jaGFydHMgLmFyZWF7b3BhY2l0eTouNn0ubmd4LWNoYXJ0cyAuY2lyY2xlOmhvdmVye2N1cnNvcjpwb2ludGVyfS5uZ3gtY2hhcnRzIC5sYWJlbHtmb250LXNpemU6MTJweDtmb250LXdlaWdodDo0MDB9Lm5neC1jaGFydHMgLnRvb2x0aXAtYW5jaG9ye2ZpbGw6IzAwMH0ubmd4LWNoYXJ0cyAuZ3JpZGxpbmUtcGF0aHtzdHJva2U6I2RkZDtzdHJva2Utd2lkdGg6MTtmaWxsOm5vbmV9Lm5neC1jaGFydHMgLnJlZmxpbmUtcGF0aHtzdHJva2U6I2E4YjJjNztzdHJva2Utd2lkdGg6MTtzdHJva2UtZGFzaGFycmF5OjU7c3Ryb2tlLWRhc2hvZmZzZXQ6NX0ubmd4LWNoYXJ0cyAucmVmbGluZS1sYWJlbHtmb250LXNpemU6OXB4fS5uZ3gtY2hhcnRzIC5yZWZlcmVuY2UtYXJlYXtmaWxsLW9wYWNpdHk6LjA1O2ZpbGw6IzAwMH0ubmd4LWNoYXJ0cyAuZ3JpZGxpbmUtcGF0aC1kb3R0ZWR7c3Ryb2tlOiNkZGQ7c3Ryb2tlLXdpZHRoOjE7ZmlsbDpub25lO3N0cm9rZS1kYXNoYXJyYXk6MSwyMDtzdHJva2UtZGFzaG9mZnNldDozfS5uZ3gtY2hhcnRzIC5ncmlkLXBhbmVsIHJlY3R7ZmlsbDpub25lfS5uZ3gtY2hhcnRzIC5ncmlkLXBhbmVsLm9kZCByZWN0e2ZpbGw6cmdiYSgwLDAsMCwuMDUpfVwiXSxcbiAgICAgICAgICAgIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmUsXG4gICAgICAgICAgICBhbmltYXRpb25zOiBbXG4gICAgICAgICAgICAgICAgdHJpZ2dlcignYW5pbWF0aW9uU3RhdGUnLCBbXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb24oJzpsZWF2ZScsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogJyonXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGUoNTAwLCBzdHlsZSh7IG9wYWNpdHk6IDAsIHRyYW5zZm9ybTogJ3NjYWxlKDApJyB9KSlcbiAgICAgICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgXVxuICAgICAgICB9KVxuICAgIF0sIEJhckhvcml6b250YWwyRENvbXBvbmVudCk7XG4gICAgcmV0dXJuIEJhckhvcml6b250YWwyRENvbXBvbmVudDtcbn0oQmFzZUNoYXJ0Q29tcG9uZW50KSk7XG5cbnZhciBCYXJIb3Jpem9udGFsTm9ybWFsaXplZENvbXBvbmVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQmFySG9yaXpvbnRhbE5vcm1hbGl6ZWRDb21wb25lbnQsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQmFySG9yaXpvbnRhbE5vcm1hbGl6ZWRDb21wb25lbnQoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5sZWdlbmQgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMubGVnZW5kVGl0bGUgPSAnTGVnZW5kJztcbiAgICAgICAgX3RoaXMubGVnZW5kUG9zaXRpb24gPSAncmlnaHQnO1xuICAgICAgICBfdGhpcy50b29sdGlwRGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuc2hvd0dyaWRMaW5lcyA9IHRydWU7XG4gICAgICAgIF90aGlzLmFjdGl2ZUVudHJpZXMgPSBbXTtcbiAgICAgICAgX3RoaXMudHJpbVhBeGlzVGlja3MgPSB0cnVlO1xuICAgICAgICBfdGhpcy50cmltWUF4aXNUaWNrcyA9IHRydWU7XG4gICAgICAgIF90aGlzLnJvdGF0ZVhBeGlzVGlja3MgPSB0cnVlO1xuICAgICAgICBfdGhpcy5tYXhYQXhpc1RpY2tMZW5ndGggPSAxNjtcbiAgICAgICAgX3RoaXMubWF4WUF4aXNUaWNrTGVuZ3RoID0gMTY7XG4gICAgICAgIF90aGlzLmJhclBhZGRpbmcgPSA4O1xuICAgICAgICBfdGhpcy5yb3VuZERvbWFpbnMgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMubm9CYXJXaGVuWmVybyA9IHRydWU7XG4gICAgICAgIF90aGlzLmFjdGl2YXRlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICBfdGhpcy5kZWFjdGl2YXRlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICBfdGhpcy5tYXJnaW4gPSBbMTAsIDIwLCAxMCwgMjBdO1xuICAgICAgICBfdGhpcy54QXhpc0hlaWdodCA9IDA7XG4gICAgICAgIF90aGlzLnlBeGlzV2lkdGggPSAwO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEJhckhvcml6b250YWxOb3JtYWxpemVkQ29tcG9uZW50LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUudXBkYXRlLmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMuZGltcyA9IGNhbGN1bGF0ZVZpZXdEaW1lbnNpb25zKHtcbiAgICAgICAgICAgIHdpZHRoOiB0aGlzLndpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLmhlaWdodCxcbiAgICAgICAgICAgIG1hcmdpbnM6IHRoaXMubWFyZ2luLFxuICAgICAgICAgICAgc2hvd1hBeGlzOiB0aGlzLnhBeGlzLFxuICAgICAgICAgICAgc2hvd1lBeGlzOiB0aGlzLnlBeGlzLFxuICAgICAgICAgICAgeEF4aXNIZWlnaHQ6IHRoaXMueEF4aXNIZWlnaHQsXG4gICAgICAgICAgICB5QXhpc1dpZHRoOiB0aGlzLnlBeGlzV2lkdGgsXG4gICAgICAgICAgICBzaG93WExhYmVsOiB0aGlzLnNob3dYQXhpc0xhYmVsLFxuICAgICAgICAgICAgc2hvd1lMYWJlbDogdGhpcy5zaG93WUF4aXNMYWJlbCxcbiAgICAgICAgICAgIHNob3dMZWdlbmQ6IHRoaXMubGVnZW5kLFxuICAgICAgICAgICAgbGVnZW5kVHlwZTogdGhpcy5zY2hlbWVUeXBlLFxuICAgICAgICAgICAgbGVnZW5kUG9zaXRpb246IHRoaXMubGVnZW5kUG9zaXRpb25cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZm9ybWF0RGF0ZXMoKTtcbiAgICAgICAgdGhpcy5ncm91cERvbWFpbiA9IHRoaXMuZ2V0R3JvdXBEb21haW4oKTtcbiAgICAgICAgdGhpcy5pbm5lckRvbWFpbiA9IHRoaXMuZ2V0SW5uZXJEb21haW4oKTtcbiAgICAgICAgdGhpcy52YWx1ZURvbWFpbiA9IHRoaXMuZ2V0VmFsdWVEb21haW4oKTtcbiAgICAgICAgdGhpcy54U2NhbGUgPSB0aGlzLmdldFhTY2FsZSgpO1xuICAgICAgICB0aGlzLnlTY2FsZSA9IHRoaXMuZ2V0WVNjYWxlKCk7XG4gICAgICAgIHRoaXMuc2V0Q29sb3JzKCk7XG4gICAgICAgIHRoaXMubGVnZW5kT3B0aW9ucyA9IHRoaXMuZ2V0TGVnZW5kT3B0aW9ucygpO1xuICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IFwidHJhbnNsYXRlKFwiICsgdGhpcy5kaW1zLnhPZmZzZXQgKyBcIiAsIFwiICsgdGhpcy5tYXJnaW5bMF0gKyBcIilcIjtcbiAgICB9O1xuICAgIEJhckhvcml6b250YWxOb3JtYWxpemVkQ29tcG9uZW50LnByb3RvdHlwZS5nZXRHcm91cERvbWFpbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGRvbWFpbiA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gdGhpcy5yZXN1bHRzOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIGdyb3VwID0gX2FbX2ldO1xuICAgICAgICAgICAgaWYgKCFkb21haW4uaW5jbHVkZXMoZ3JvdXAubGFiZWwpKSB7XG4gICAgICAgICAgICAgICAgZG9tYWluLnB1c2goZ3JvdXAubGFiZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkb21haW47XG4gICAgfTtcbiAgICBCYXJIb3Jpem9udGFsTm9ybWFsaXplZENvbXBvbmVudC5wcm90b3R5cGUuZ2V0SW5uZXJEb21haW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkb21haW4gPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHRoaXMucmVzdWx0czsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHZhciBncm91cCA9IF9hW19pXTtcbiAgICAgICAgICAgIGZvciAodmFyIF9iID0gMCwgX2MgPSBncm91cC5zZXJpZXM7IF9iIDwgX2MubGVuZ3RoOyBfYisrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGQgPSBfY1tfYl07XG4gICAgICAgICAgICAgICAgaWYgKCFkb21haW4uaW5jbHVkZXMoZC5sYWJlbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgZG9tYWluLnB1c2goZC5sYWJlbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkb21haW47XG4gICAgfTtcbiAgICBCYXJIb3Jpem9udGFsTm9ybWFsaXplZENvbXBvbmVudC5wcm90b3R5cGUuZ2V0VmFsdWVEb21haW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBbMCwgMTAwXTtcbiAgICB9O1xuICAgIEJhckhvcml6b250YWxOb3JtYWxpemVkQ29tcG9uZW50LnByb3RvdHlwZS5nZXRZU2NhbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzcGFjaW5nID0gdGhpcy5ncm91cERvbWFpbi5sZW5ndGggLyAodGhpcy5kaW1zLmhlaWdodCAvIHRoaXMuYmFyUGFkZGluZyArIDEpO1xuICAgICAgICByZXR1cm4gc2NhbGVCYW5kKClcbiAgICAgICAgICAgIC5yYW5nZVJvdW5kKFswLCB0aGlzLmRpbXMuaGVpZ2h0XSlcbiAgICAgICAgICAgIC5wYWRkaW5nSW5uZXIoc3BhY2luZylcbiAgICAgICAgICAgIC5kb21haW4odGhpcy5ncm91cERvbWFpbik7XG4gICAgfTtcbiAgICBCYXJIb3Jpem9udGFsTm9ybWFsaXplZENvbXBvbmVudC5wcm90b3R5cGUuZ2V0WFNjYWxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2NhbGUgPSBzY2FsZUxpbmVhcigpXG4gICAgICAgICAgICAucmFuZ2UoWzAsIHRoaXMuZGltcy53aWR0aF0pXG4gICAgICAgICAgICAuZG9tYWluKHRoaXMudmFsdWVEb21haW4pO1xuICAgICAgICByZXR1cm4gdGhpcy5yb3VuZERvbWFpbnMgPyBzY2FsZS5uaWNlKCkgOiBzY2FsZTtcbiAgICB9O1xuICAgIEJhckhvcml6b250YWxOb3JtYWxpemVkQ29tcG9uZW50LnByb3RvdHlwZS5ncm91cFRyYW5zZm9ybSA9IGZ1bmN0aW9uIChncm91cCkge1xuICAgICAgICByZXR1cm4gXCJ0cmFuc2xhdGUoMCwgXCIgKyB0aGlzLnlTY2FsZShncm91cC5uYW1lKSArIFwiKVwiO1xuICAgIH07XG4gICAgQmFySG9yaXpvbnRhbE5vcm1hbGl6ZWRDb21wb25lbnQucHJvdG90eXBlLm9uQ2xpY2sgPSBmdW5jdGlvbiAoZGF0YSwgZ3JvdXApIHtcbiAgICAgICAgaWYgKGdyb3VwKSB7XG4gICAgICAgICAgICBkYXRhLnNlcmllcyA9IGdyb3VwLm5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZWxlY3QuZW1pdChkYXRhKTtcbiAgICB9O1xuICAgIEJhckhvcml6b250YWxOb3JtYWxpemVkQ29tcG9uZW50LnByb3RvdHlwZS50cmFja0J5ID0gZnVuY3Rpb24gKGluZGV4LCBpdGVtKSB7XG4gICAgICAgIHJldHVybiBpdGVtLm5hbWU7XG4gICAgfTtcbiAgICBCYXJIb3Jpem9udGFsTm9ybWFsaXplZENvbXBvbmVudC5wcm90b3R5cGUuc2V0Q29sb3JzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZG9tYWluO1xuICAgICAgICBpZiAodGhpcy5zY2hlbWVUeXBlID09PSAnb3JkaW5hbCcpIHtcbiAgICAgICAgICAgIGRvbWFpbiA9IHRoaXMuaW5uZXJEb21haW47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkb21haW4gPSB0aGlzLnZhbHVlRG9tYWluO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29sb3JzID0gbmV3IENvbG9ySGVscGVyKHRoaXMuc2NoZW1lLCB0aGlzLnNjaGVtZVR5cGUsIGRvbWFpbiwgdGhpcy5jdXN0b21Db2xvcnMpO1xuICAgIH07XG4gICAgQmFySG9yaXpvbnRhbE5vcm1hbGl6ZWRDb21wb25lbnQucHJvdG90eXBlLmdldExlZ2VuZE9wdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvcHRzID0ge1xuICAgICAgICAgICAgc2NhbGVUeXBlOiB0aGlzLnNjaGVtZVR5cGUsXG4gICAgICAgICAgICBjb2xvcnM6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGRvbWFpbjogW10sXG4gICAgICAgICAgICB0aXRsZTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgcG9zaXRpb246IHRoaXMubGVnZW5kUG9zaXRpb25cbiAgICAgICAgfTtcbiAgICAgICAgaWYgKG9wdHMuc2NhbGVUeXBlID09PSAnb3JkaW5hbCcpIHtcbiAgICAgICAgICAgIG9wdHMuZG9tYWluID0gdGhpcy5pbm5lckRvbWFpbjtcbiAgICAgICAgICAgIG9wdHMuY29sb3JzID0gdGhpcy5jb2xvcnM7XG4gICAgICAgICAgICBvcHRzLnRpdGxlID0gdGhpcy5sZWdlbmRUaXRsZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG9wdHMuZG9tYWluID0gdGhpcy52YWx1ZURvbWFpbjtcbiAgICAgICAgICAgIG9wdHMuY29sb3JzID0gdGhpcy5jb2xvcnMuc2NhbGU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9wdHM7XG4gICAgfTtcbiAgICBCYXJIb3Jpem9udGFsTm9ybWFsaXplZENvbXBvbmVudC5wcm90b3R5cGUudXBkYXRlWUF4aXNXaWR0aCA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgd2lkdGggPSBfYS53aWR0aDtcbiAgICAgICAgdGhpcy55QXhpc1dpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfTtcbiAgICBCYXJIb3Jpem9udGFsTm9ybWFsaXplZENvbXBvbmVudC5wcm90b3R5cGUudXBkYXRlWEF4aXNIZWlnaHQgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIGhlaWdodCA9IF9hLmhlaWdodDtcbiAgICAgICAgdGhpcy54QXhpc0hlaWdodCA9IGhlaWdodDtcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICB9O1xuICAgIEJhckhvcml6b250YWxOb3JtYWxpemVkQ29tcG9uZW50LnByb3RvdHlwZS5vbkFjdGl2YXRlID0gZnVuY3Rpb24gKGV2ZW50JCQxLCBncm91cCwgZnJvbUxlZ2VuZCkge1xuICAgICAgICBpZiAoZnJvbUxlZ2VuZCA9PT0gdm9pZCAwKSB7IGZyb21MZWdlbmQgPSBmYWxzZTsgfVxuICAgICAgICB2YXIgaXRlbSA9IE9iamVjdC5hc3NpZ24oe30sIGV2ZW50JCQxKTtcbiAgICAgICAgaWYgKGdyb3VwKSB7XG4gICAgICAgICAgICBpdGVtLnNlcmllcyA9IGdyb3VwLm5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGl0ZW1zID0gdGhpcy5yZXN1bHRzXG4gICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChnKSB7IHJldHVybiBnLnNlcmllczsgfSlcbiAgICAgICAgICAgIC5mbGF0KClcbiAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgIGlmIChmcm9tTGVnZW5kKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGkubGFiZWwgPT09IGl0ZW0ubmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBpLm5hbWUgPT09IGl0ZW0ubmFtZSAmJiBpLnNlcmllcyA9PT0gaXRlbS5zZXJpZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmFjdGl2ZUVudHJpZXMgPSBpdGVtcy5zbGljZSgpO1xuICAgICAgICB0aGlzLmFjdGl2YXRlLmVtaXQoeyB2YWx1ZTogaXRlbSwgZW50cmllczogdGhpcy5hY3RpdmVFbnRyaWVzIH0pO1xuICAgIH07XG4gICAgQmFySG9yaXpvbnRhbE5vcm1hbGl6ZWRDb21wb25lbnQucHJvdG90eXBlLm9uRGVhY3RpdmF0ZSA9IGZ1bmN0aW9uIChldmVudCQkMSwgZ3JvdXAsIGZyb21MZWdlbmQpIHtcbiAgICAgICAgaWYgKGZyb21MZWdlbmQgPT09IHZvaWQgMCkgeyBmcm9tTGVnZW5kID0gZmFsc2U7IH1cbiAgICAgICAgdmFyIGl0ZW0gPSBPYmplY3QuYXNzaWduKHt9LCBldmVudCQkMSk7XG4gICAgICAgIGlmIChncm91cCkge1xuICAgICAgICAgICAgaXRlbS5zZXJpZXMgPSBncm91cC5uYW1lO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWN0aXZlRW50cmllcyA9IHRoaXMuYWN0aXZlRW50cmllcy5maWx0ZXIoZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgIGlmIChmcm9tTGVnZW5kKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGkubGFiZWwgIT09IGl0ZW0ubmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiAhKGkubmFtZSA9PT0gaXRlbS5uYW1lICYmIGkuc2VyaWVzID09PSBpdGVtLnNlcmllcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmRlYWN0aXZhdGUuZW1pdCh7IHZhbHVlOiBpdGVtLCBlbnRyaWVzOiB0aGlzLmFjdGl2ZUVudHJpZXMgfSk7XG4gICAgfTtcbiAgICB2YXIgX2EsIF9iLCBfYztcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBCYXJIb3Jpem9udGFsTm9ybWFsaXplZENvbXBvbmVudC5wcm90b3R5cGUsIFwibGVnZW5kXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBTdHJpbmcpXG4gICAgXSwgQmFySG9yaXpvbnRhbE5vcm1hbGl6ZWRDb21wb25lbnQucHJvdG90eXBlLCBcImxlZ2VuZFRpdGxlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBTdHJpbmcpXG4gICAgXSwgQmFySG9yaXpvbnRhbE5vcm1hbGl6ZWRDb21wb25lbnQucHJvdG90eXBlLCBcImxlZ2VuZFBvc2l0aW9uXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQmFySG9yaXpvbnRhbE5vcm1hbGl6ZWRDb21wb25lbnQucHJvdG90eXBlLCBcInhBeGlzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQmFySG9yaXpvbnRhbE5vcm1hbGl6ZWRDb21wb25lbnQucHJvdG90eXBlLCBcInlBeGlzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQmFySG9yaXpvbnRhbE5vcm1hbGl6ZWRDb21wb25lbnQucHJvdG90eXBlLCBcInNob3dYQXhpc0xhYmVsXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQmFySG9yaXpvbnRhbE5vcm1hbGl6ZWRDb21wb25lbnQucHJvdG90eXBlLCBcInNob3dZQXhpc0xhYmVsXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQmFySG9yaXpvbnRhbE5vcm1hbGl6ZWRDb21wb25lbnQucHJvdG90eXBlLCBcInhBeGlzTGFiZWxcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBCYXJIb3Jpem9udGFsTm9ybWFsaXplZENvbXBvbmVudC5wcm90b3R5cGUsIFwieUF4aXNMYWJlbFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbiAgICBdLCBCYXJIb3Jpem9udGFsTm9ybWFsaXplZENvbXBvbmVudC5wcm90b3R5cGUsIFwidG9vbHRpcERpc2FibGVkXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIEJhckhvcml6b250YWxOb3JtYWxpemVkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJncmFkaWVudFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbiAgICBdLCBCYXJIb3Jpem9udGFsTm9ybWFsaXplZENvbXBvbmVudC5wcm90b3R5cGUsIFwic2hvd0dyaWRMaW5lc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQXJyYXkpXG4gICAgXSwgQmFySG9yaXpvbnRhbE5vcm1hbGl6ZWRDb21wb25lbnQucHJvdG90eXBlLCBcImFjdGl2ZUVudHJpZXNcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcbiAgICBdLCBCYXJIb3Jpem9udGFsTm9ybWFsaXplZENvbXBvbmVudC5wcm90b3R5cGUsIFwic2NoZW1lVHlwZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbiAgICBdLCBCYXJIb3Jpem9udGFsTm9ybWFsaXplZENvbXBvbmVudC5wcm90b3R5cGUsIFwidHJpbVhBeGlzVGlja3NcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEJvb2xlYW4pXG4gICAgXSwgQmFySG9yaXpvbnRhbE5vcm1hbGl6ZWRDb21wb25lbnQucHJvdG90eXBlLCBcInRyaW1ZQXhpc1RpY2tzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIEJhckhvcml6b250YWxOb3JtYWxpemVkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJyb3RhdGVYQXhpc1RpY2tzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBOdW1iZXIpXG4gICAgXSwgQmFySG9yaXpvbnRhbE5vcm1hbGl6ZWRDb21wb25lbnQucHJvdG90eXBlLCBcIm1heFhBeGlzVGlja0xlbmd0aFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgTnVtYmVyKVxuICAgIF0sIEJhckhvcml6b250YWxOb3JtYWxpemVkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJtYXhZQXhpc1RpY2tMZW5ndGhcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBCYXJIb3Jpem9udGFsTm9ybWFsaXplZENvbXBvbmVudC5wcm90b3R5cGUsIFwieEF4aXNUaWNrRm9ybWF0dGluZ1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEJhckhvcml6b250YWxOb3JtYWxpemVkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ5QXhpc1RpY2tGb3JtYXR0aW5nXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBBcnJheSlcbiAgICBdLCBCYXJIb3Jpem9udGFsTm9ybWFsaXplZENvbXBvbmVudC5wcm90b3R5cGUsIFwieEF4aXNUaWNrc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQXJyYXkpXG4gICAgXSwgQmFySG9yaXpvbnRhbE5vcm1hbGl6ZWRDb21wb25lbnQucHJvdG90eXBlLCBcInlBeGlzVGlja3NcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBCYXJIb3Jpem9udGFsTm9ybWFsaXplZENvbXBvbmVudC5wcm90b3R5cGUsIFwiYmFyUGFkZGluZ1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbiAgICBdLCBCYXJIb3Jpem9udGFsTm9ybWFsaXplZENvbXBvbmVudC5wcm90b3R5cGUsIFwicm91bmREb21haW5zXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIEJhckhvcml6b250YWxOb3JtYWxpemVkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJub0JhcldoZW5aZXJvXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIE91dHB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgdHlwZW9mIChfYSA9IHR5cGVvZiBFdmVudEVtaXR0ZXIgIT09IFwidW5kZWZpbmVkXCIgJiYgRXZlbnRFbWl0dGVyKSA9PT0gXCJmdW5jdGlvblwiID8gX2EgOiBPYmplY3QpXG4gICAgXSwgQmFySG9yaXpvbnRhbE5vcm1hbGl6ZWRDb21wb25lbnQucHJvdG90eXBlLCBcImFjdGl2YXRlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIE91dHB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgdHlwZW9mIChfYiA9IHR5cGVvZiBFdmVudEVtaXR0ZXIgIT09IFwidW5kZWZpbmVkXCIgJiYgRXZlbnRFbWl0dGVyKSA9PT0gXCJmdW5jdGlvblwiID8gX2IgOiBPYmplY3QpXG4gICAgXSwgQmFySG9yaXpvbnRhbE5vcm1hbGl6ZWRDb21wb25lbnQucHJvdG90eXBlLCBcImRlYWN0aXZhdGVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgQ29udGVudENoaWxkKCd0b29sdGlwVGVtcGxhdGUnLCB7IHN0YXRpYzogZmFsc2UgfSksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCB0eXBlb2YgKF9jID0gdHlwZW9mIFRlbXBsYXRlUmVmICE9PSBcInVuZGVmaW5lZFwiICYmIFRlbXBsYXRlUmVmKSA9PT0gXCJmdW5jdGlvblwiID8gX2MgOiBPYmplY3QpXG4gICAgXSwgQmFySG9yaXpvbnRhbE5vcm1hbGl6ZWRDb21wb25lbnQucHJvdG90eXBlLCBcInRvb2x0aXBUZW1wbGF0ZVwiLCB2b2lkIDApO1xuICAgIEJhckhvcml6b250YWxOb3JtYWxpemVkQ29tcG9uZW50ID0gX19kZWNvcmF0ZShbXG4gICAgICAgIENvbXBvbmVudCh7XG4gICAgICAgICAgICBzZWxlY3RvcjogJ25neC1jaGFydHMtYmFyLWhvcml6b250YWwtbm9ybWFsaXplZCcsXG4gICAgICAgICAgICB0ZW1wbGF0ZTogXCJcXG4gICAgPG5neC1jaGFydHMtY2hhcnRcXG4gICAgICBbdmlld109XFxcIlt3aWR0aCwgaGVpZ2h0XVxcXCJcXG4gICAgICBbc2hvd0xlZ2VuZF09XFxcImxlZ2VuZFxcXCJcXG4gICAgICBbbGVnZW5kT3B0aW9uc109XFxcImxlZ2VuZE9wdGlvbnNcXFwiXFxuICAgICAgW2FjdGl2ZUVudHJpZXNdPVxcXCJhY3RpdmVFbnRyaWVzXFxcIlxcbiAgICAgIFthbmltYXRpb25zXT1cXFwiYW5pbWF0aW9uc1xcXCJcXG4gICAgICAobGVnZW5kTGFiZWxBY3RpdmF0ZSk9XFxcIm9uQWN0aXZhdGUoJGV2ZW50LCB1bmRlZmluZWQsIHRydWUpXFxcIlxcbiAgICAgIChsZWdlbmRMYWJlbERlYWN0aXZhdGUpPVxcXCJvbkRlYWN0aXZhdGUoJGV2ZW50LCB1bmRlZmluZWQsIHRydWUpXFxcIlxcbiAgICAgIChsZWdlbmRMYWJlbENsaWNrKT1cXFwib25DbGljaygkZXZlbnQpXFxcIlxcbiAgICA+XFxuICAgICAgPHN2ZzpnIFthdHRyLnRyYW5zZm9ybV09XFxcInRyYW5zZm9ybVxcXCIgY2xhc3M9XFxcImJhci1jaGFydCBjaGFydFxcXCI+XFxuICAgICAgICA8c3ZnOmdcXG4gICAgICAgICAgbmd4LWNoYXJ0cy14LWF4aXNcXG4gICAgICAgICAgKm5nSWY9XFxcInhBeGlzXFxcIlxcbiAgICAgICAgICBbeFNjYWxlXT1cXFwieFNjYWxlXFxcIlxcbiAgICAgICAgICBbZGltc109XFxcImRpbXNcXFwiXFxuICAgICAgICAgIFtzaG93R3JpZExpbmVzXT1cXFwic2hvd0dyaWRMaW5lc1xcXCJcXG4gICAgICAgICAgW3Nob3dMYWJlbF09XFxcInNob3dYQXhpc0xhYmVsXFxcIlxcbiAgICAgICAgICBbbGFiZWxUZXh0XT1cXFwieEF4aXNMYWJlbFxcXCJcXG4gICAgICAgICAgW3RyaW1UaWNrc109XFxcInRyaW1YQXhpc1RpY2tzXFxcIlxcbiAgICAgICAgICBbcm90YXRlVGlja3NdPVxcXCJyb3RhdGVYQXhpc1RpY2tzXFxcIlxcbiAgICAgICAgICBbbWF4VGlja0xlbmd0aF09XFxcIm1heFhBeGlzVGlja0xlbmd0aFxcXCJcXG4gICAgICAgICAgW3RpY2tGb3JtYXR0aW5nXT1cXFwieEF4aXNUaWNrRm9ybWF0dGluZ1xcXCJcXG4gICAgICAgICAgW3RpY2tzXT1cXFwieEF4aXNUaWNrc1xcXCJcXG4gICAgICAgICAgKGRpbWVuc2lvbnNDaGFuZ2VkKT1cXFwidXBkYXRlWEF4aXNIZWlnaHQoJGV2ZW50KVxcXCJcXG4gICAgICAgID48L3N2ZzpnPlxcbiAgICAgICAgPHN2ZzpnXFxuICAgICAgICAgIG5neC1jaGFydHMteS1heGlzXFxuICAgICAgICAgICpuZ0lmPVxcXCJ5QXhpc1xcXCJcXG4gICAgICAgICAgW3lTY2FsZV09XFxcInlTY2FsZVxcXCJcXG4gICAgICAgICAgW2RpbXNdPVxcXCJkaW1zXFxcIlxcbiAgICAgICAgICBbc2hvd0xhYmVsXT1cXFwic2hvd1lBeGlzTGFiZWxcXFwiXFxuICAgICAgICAgIFtsYWJlbFRleHRdPVxcXCJ5QXhpc0xhYmVsXFxcIlxcbiAgICAgICAgICBbdHJpbVRpY2tzXT1cXFwidHJpbVlBeGlzVGlja3NcXFwiXFxuICAgICAgICAgIFttYXhUaWNrTGVuZ3RoXT1cXFwibWF4WUF4aXNUaWNrTGVuZ3RoXFxcIlxcbiAgICAgICAgICBbdGlja0Zvcm1hdHRpbmddPVxcXCJ5QXhpc1RpY2tGb3JtYXR0aW5nXFxcIlxcbiAgICAgICAgICBbdGlja3NdPVxcXCJ5QXhpc1RpY2tzXFxcIlxcbiAgICAgICAgICAoZGltZW5zaW9uc0NoYW5nZWQpPVxcXCJ1cGRhdGVZQXhpc1dpZHRoKCRldmVudClcXFwiXFxuICAgICAgICA+PC9zdmc6Zz5cXG4gICAgICAgIDxzdmc6Z1xcbiAgICAgICAgICAqbmdGb3I9XFxcImxldCBncm91cCBvZiByZXN1bHRzOyB0cmFja0J5OiB0cmFja0J5XFxcIlxcbiAgICAgICAgICBbQGFuaW1hdGlvblN0YXRlXT1cXFwiJ2FjdGl2ZSdcXFwiXFxuICAgICAgICAgIFthdHRyLnRyYW5zZm9ybV09XFxcImdyb3VwVHJhbnNmb3JtKGdyb3VwKVxcXCJcXG4gICAgICAgID5cXG4gICAgICAgICAgPHN2ZzpnXFxuICAgICAgICAgICAgbmd4LWNoYXJ0cy1zZXJpZXMtaG9yaXpvbnRhbFxcbiAgICAgICAgICAgIHR5cGU9XFxcIm5vcm1hbGl6ZWRcXFwiXFxuICAgICAgICAgICAgW3hTY2FsZV09XFxcInhTY2FsZVxcXCJcXG4gICAgICAgICAgICBbeVNjYWxlXT1cXFwieVNjYWxlXFxcIlxcbiAgICAgICAgICAgIFthY3RpdmVFbnRyaWVzXT1cXFwiYWN0aXZlRW50cmllc1xcXCJcXG4gICAgICAgICAgICBbY29sb3JzXT1cXFwiY29sb3JzXFxcIlxcbiAgICAgICAgICAgIFtzZXJpZXNdPVxcXCJncm91cC5zZXJpZXNcXFwiXFxuICAgICAgICAgICAgW2RpbXNdPVxcXCJkaW1zXFxcIlxcbiAgICAgICAgICAgIFtncmFkaWVudF09XFxcImdyYWRpZW50XFxcIlxcbiAgICAgICAgICAgIFt0b29sdGlwRGlzYWJsZWRdPVxcXCJ0b29sdGlwRGlzYWJsZWRcXFwiXFxuICAgICAgICAgICAgW3Rvb2x0aXBUZW1wbGF0ZV09XFxcInRvb2x0aXBUZW1wbGF0ZVxcXCJcXG4gICAgICAgICAgICBbc2VyaWVzTmFtZV09XFxcImdyb3VwLm5hbWVcXFwiXFxuICAgICAgICAgICAgW2FuaW1hdGlvbnNdPVxcXCJhbmltYXRpb25zXFxcIlxcbiAgICAgICAgICAgIChzZWxlY3QpPVxcXCJvbkNsaWNrKCRldmVudCwgZ3JvdXApXFxcIlxcbiAgICAgICAgICAgIChhY3RpdmF0ZSk9XFxcIm9uQWN0aXZhdGUoJGV2ZW50LCBncm91cClcXFwiXFxuICAgICAgICAgICAgKGRlYWN0aXZhdGUpPVxcXCJvbkRlYWN0aXZhdGUoJGV2ZW50LCBncm91cClcXFwiXFxuICAgICAgICAgICAgW25vQmFyV2hlblplcm9dPVxcXCJub0JhcldoZW5aZXJvXFxcIlxcbiAgICAgICAgICAvPlxcbiAgICAgICAgPC9zdmc6Zz5cXG4gICAgICA8L3N2ZzpnPlxcbiAgICA8L25neC1jaGFydHMtY2hhcnQ+XFxuICBcIixcbiAgICAgICAgICAgIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoLFxuICAgICAgICAgICAgc3R5bGVzOiBbXCIubmd4LWNoYXJ0c3tmbG9hdDpsZWZ0O292ZXJmbG93OnZpc2libGV9Lm5neC1jaGFydHMgLmFyYywubmd4LWNoYXJ0cyAuYmFyLC5uZ3gtY2hhcnRzIC5jaXJjbGV7Y3Vyc29yOnBvaW50ZXJ9Lm5neC1jaGFydHMgLmFyYy5hY3RpdmUsLm5neC1jaGFydHMgLmFyYzpob3Zlciwubmd4LWNoYXJ0cyAuYmFyLmFjdGl2ZSwubmd4LWNoYXJ0cyAuYmFyOmhvdmVyLC5uZ3gtY2hhcnRzIC5jYXJkLmFjdGl2ZSwubmd4LWNoYXJ0cyAuY2FyZDpob3Zlciwubmd4LWNoYXJ0cyAuY2VsbC5hY3RpdmUsLm5neC1jaGFydHMgLmNlbGw6aG92ZXJ7b3BhY2l0eTouODt0cmFuc2l0aW9uOm9wYWNpdHkgLjFzIGVhc2UtaW4tb3V0fS5uZ3gtY2hhcnRzIC5hcmM6Zm9jdXMsLm5neC1jaGFydHMgLmJhcjpmb2N1cywubmd4LWNoYXJ0cyAuY2FyZDpmb2N1cywubmd4LWNoYXJ0cyAuY2VsbDpmb2N1c3tvdXRsaW5lOjB9Lm5neC1jaGFydHMgLmFyYy5oaWRkZW4sLm5neC1jaGFydHMgLmJhci5oaWRkZW4sLm5neC1jaGFydHMgLmNhcmQuaGlkZGVuLC5uZ3gtY2hhcnRzIC5jZWxsLmhpZGRlbntkaXNwbGF5Om5vbmV9Lm5neC1jaGFydHMgZzpmb2N1c3tvdXRsaW5lOjB9Lm5neC1jaGFydHMgLmFyZWEtc2VyaWVzLmluYWN0aXZlLC5uZ3gtY2hhcnRzIC5saW5lLXNlcmllcy1yYW5nZS5pbmFjdGl2ZSwubmd4LWNoYXJ0cyAubGluZS1zZXJpZXMuaW5hY3RpdmUsLm5neC1jaGFydHMgLnBvbGFyLXNlcmllcy1hcmVhLmluYWN0aXZlLC5uZ3gtY2hhcnRzIC5wb2xhci1zZXJpZXMtcGF0aC5pbmFjdGl2ZXt0cmFuc2l0aW9uOm9wYWNpdHkgLjFzIGVhc2UtaW4tb3V0O29wYWNpdHk6LjJ9Lm5neC1jaGFydHMgLmxpbmUtaGlnaGxpZ2h0e2Rpc3BsYXk6bm9uZX0ubmd4LWNoYXJ0cyAubGluZS1oaWdobGlnaHQuYWN0aXZle2Rpc3BsYXk6YmxvY2t9Lm5neC1jaGFydHMgLmFyZWF7b3BhY2l0eTouNn0ubmd4LWNoYXJ0cyAuY2lyY2xlOmhvdmVye2N1cnNvcjpwb2ludGVyfS5uZ3gtY2hhcnRzIC5sYWJlbHtmb250LXNpemU6MTJweDtmb250LXdlaWdodDo0MDB9Lm5neC1jaGFydHMgLnRvb2x0aXAtYW5jaG9ye2ZpbGw6IzAwMH0ubmd4LWNoYXJ0cyAuZ3JpZGxpbmUtcGF0aHtzdHJva2U6I2RkZDtzdHJva2Utd2lkdGg6MTtmaWxsOm5vbmV9Lm5neC1jaGFydHMgLnJlZmxpbmUtcGF0aHtzdHJva2U6I2E4YjJjNztzdHJva2Utd2lkdGg6MTtzdHJva2UtZGFzaGFycmF5OjU7c3Ryb2tlLWRhc2hvZmZzZXQ6NX0ubmd4LWNoYXJ0cyAucmVmbGluZS1sYWJlbHtmb250LXNpemU6OXB4fS5uZ3gtY2hhcnRzIC5yZWZlcmVuY2UtYXJlYXtmaWxsLW9wYWNpdHk6LjA1O2ZpbGw6IzAwMH0ubmd4LWNoYXJ0cyAuZ3JpZGxpbmUtcGF0aC1kb3R0ZWR7c3Ryb2tlOiNkZGQ7c3Ryb2tlLXdpZHRoOjE7ZmlsbDpub25lO3N0cm9rZS1kYXNoYXJyYXk6MSwyMDtzdHJva2UtZGFzaG9mZnNldDozfS5uZ3gtY2hhcnRzIC5ncmlkLXBhbmVsIHJlY3R7ZmlsbDpub25lfS5uZ3gtY2hhcnRzIC5ncmlkLXBhbmVsLm9kZCByZWN0e2ZpbGw6cmdiYSgwLDAsMCwuMDUpfVwiXSxcbiAgICAgICAgICAgIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmUsXG4gICAgICAgICAgICBhbmltYXRpb25zOiBbXG4gICAgICAgICAgICAgICAgdHJpZ2dlcignYW5pbWF0aW9uU3RhdGUnLCBbXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb24oJzpsZWF2ZScsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogJyonXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGUoNTAwLCBzdHlsZSh7IG9wYWNpdHk6IDAsIHRyYW5zZm9ybTogJ3NjYWxlKDApJyB9KSlcbiAgICAgICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgXVxuICAgICAgICB9KVxuICAgIF0sIEJhckhvcml6b250YWxOb3JtYWxpemVkQ29tcG9uZW50KTtcbiAgICByZXR1cm4gQmFySG9yaXpvbnRhbE5vcm1hbGl6ZWRDb21wb25lbnQ7XG59KEJhc2VDaGFydENvbXBvbmVudCkpO1xuXG52YXIgQmFySG9yaXpvbnRhbFN0YWNrZWRDb21wb25lbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEJhckhvcml6b250YWxTdGFja2VkQ29tcG9uZW50LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEJhckhvcml6b250YWxTdGFja2VkQ29tcG9uZW50KCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMubGVnZW5kID0gZmFsc2U7XG4gICAgICAgIF90aGlzLmxlZ2VuZFRpdGxlID0gJ0xlZ2VuZCc7XG4gICAgICAgIF90aGlzLmxlZ2VuZFBvc2l0aW9uID0gJ3JpZ2h0JztcbiAgICAgICAgX3RoaXMudG9vbHRpcERpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIF90aGlzLnNob3dHcmlkTGluZXMgPSB0cnVlO1xuICAgICAgICBfdGhpcy5hY3RpdmVFbnRyaWVzID0gW107XG4gICAgICAgIF90aGlzLnRyaW1YQXhpc1RpY2tzID0gdHJ1ZTtcbiAgICAgICAgX3RoaXMudHJpbVlBeGlzVGlja3MgPSB0cnVlO1xuICAgICAgICBfdGhpcy5yb3RhdGVYQXhpc1RpY2tzID0gdHJ1ZTtcbiAgICAgICAgX3RoaXMubWF4WEF4aXNUaWNrTGVuZ3RoID0gMTY7XG4gICAgICAgIF90aGlzLm1heFlBeGlzVGlja0xlbmd0aCA9IDE2O1xuICAgICAgICBfdGhpcy5iYXJQYWRkaW5nID0gODtcbiAgICAgICAgX3RoaXMucm91bmREb21haW5zID0gZmFsc2U7XG4gICAgICAgIF90aGlzLnNob3dEYXRhTGFiZWwgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMubm9CYXJXaGVuWmVybyA9IHRydWU7XG4gICAgICAgIF90aGlzLmFjdGl2YXRlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICBfdGhpcy5kZWFjdGl2YXRlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICBfdGhpcy5tYXJnaW4gPSBbMTAsIDIwLCAxMCwgMjBdO1xuICAgICAgICBfdGhpcy54QXhpc0hlaWdodCA9IDA7XG4gICAgICAgIF90aGlzLnlBeGlzV2lkdGggPSAwO1xuICAgICAgICBfdGhpcy5kYXRhTGFiZWxNYXhXaWR0aCA9IHsgbmVnYXRpdmU6IDAsIHBvc2l0aXZlOiAwIH07XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgQmFySG9yaXpvbnRhbFN0YWNrZWRDb21wb25lbnQucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS51cGRhdGUuY2FsbCh0aGlzKTtcbiAgICAgICAgaWYgKCF0aGlzLnNob3dEYXRhTGFiZWwpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YUxhYmVsTWF4V2lkdGggPSB7IG5lZ2F0aXZlOiAwLCBwb3NpdGl2ZTogMCB9O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubWFyZ2luID0gWzEwLCAyMCArIHRoaXMuZGF0YUxhYmVsTWF4V2lkdGgucG9zaXRpdmUsIDEwLCAyMCArIHRoaXMuZGF0YUxhYmVsTWF4V2lkdGgubmVnYXRpdmVdO1xuICAgICAgICB0aGlzLmRpbXMgPSBjYWxjdWxhdGVWaWV3RGltZW5zaW9ucyh7XG4gICAgICAgICAgICB3aWR0aDogdGhpcy53aWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogdGhpcy5oZWlnaHQsXG4gICAgICAgICAgICBtYXJnaW5zOiB0aGlzLm1hcmdpbixcbiAgICAgICAgICAgIHNob3dYQXhpczogdGhpcy54QXhpcyxcbiAgICAgICAgICAgIHNob3dZQXhpczogdGhpcy55QXhpcyxcbiAgICAgICAgICAgIHhBeGlzSGVpZ2h0OiB0aGlzLnhBeGlzSGVpZ2h0LFxuICAgICAgICAgICAgeUF4aXNXaWR0aDogdGhpcy55QXhpc1dpZHRoLFxuICAgICAgICAgICAgc2hvd1hMYWJlbDogdGhpcy5zaG93WEF4aXNMYWJlbCxcbiAgICAgICAgICAgIHNob3dZTGFiZWw6IHRoaXMuc2hvd1lBeGlzTGFiZWwsXG4gICAgICAgICAgICBzaG93TGVnZW5kOiB0aGlzLmxlZ2VuZCxcbiAgICAgICAgICAgIGxlZ2VuZFR5cGU6IHRoaXMuc2NoZW1lVHlwZSxcbiAgICAgICAgICAgIGxlZ2VuZFBvc2l0aW9uOiB0aGlzLmxlZ2VuZFBvc2l0aW9uXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmZvcm1hdERhdGVzKCk7XG4gICAgICAgIHRoaXMuZ3JvdXBEb21haW4gPSB0aGlzLmdldEdyb3VwRG9tYWluKCk7XG4gICAgICAgIHRoaXMuaW5uZXJEb21haW4gPSB0aGlzLmdldElubmVyRG9tYWluKCk7XG4gICAgICAgIHRoaXMudmFsdWVEb21haW4gPSB0aGlzLmdldFZhbHVlRG9tYWluKCk7XG4gICAgICAgIHRoaXMueFNjYWxlID0gdGhpcy5nZXRYU2NhbGUoKTtcbiAgICAgICAgdGhpcy55U2NhbGUgPSB0aGlzLmdldFlTY2FsZSgpO1xuICAgICAgICB0aGlzLnNldENvbG9ycygpO1xuICAgICAgICB0aGlzLmxlZ2VuZE9wdGlvbnMgPSB0aGlzLmdldExlZ2VuZE9wdGlvbnMoKTtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0gPSBcInRyYW5zbGF0ZShcIiArIHRoaXMuZGltcy54T2Zmc2V0ICsgXCIgLCBcIiArIHRoaXMubWFyZ2luWzBdICsgXCIpXCI7XG4gICAgfTtcbiAgICBCYXJIb3Jpem9udGFsU3RhY2tlZENvbXBvbmVudC5wcm90b3R5cGUuZ2V0R3JvdXBEb21haW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkb21haW4gPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHRoaXMucmVzdWx0czsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHZhciBncm91cCA9IF9hW19pXTtcbiAgICAgICAgICAgIGlmICghZG9tYWluLmluY2x1ZGVzKGdyb3VwLmxhYmVsKSkge1xuICAgICAgICAgICAgICAgIGRvbWFpbi5wdXNoKGdyb3VwLmxhYmVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZG9tYWluO1xuICAgIH07XG4gICAgQmFySG9yaXpvbnRhbFN0YWNrZWRDb21wb25lbnQucHJvdG90eXBlLmdldElubmVyRG9tYWluID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZG9tYWluID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSB0aGlzLnJlc3VsdHM7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgZ3JvdXAgPSBfYVtfaV07XG4gICAgICAgICAgICBmb3IgKHZhciBfYiA9IDAsIF9jID0gZ3JvdXAuc2VyaWVzOyBfYiA8IF9jLmxlbmd0aDsgX2IrKykge1xuICAgICAgICAgICAgICAgIHZhciBkID0gX2NbX2JdO1xuICAgICAgICAgICAgICAgIGlmICghZG9tYWluLmluY2x1ZGVzKGQubGFiZWwpKSB7XG4gICAgICAgICAgICAgICAgICAgIGRvbWFpbi5wdXNoKGQubGFiZWwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZG9tYWluO1xuICAgIH07XG4gICAgQmFySG9yaXpvbnRhbFN0YWNrZWRDb21wb25lbnQucHJvdG90eXBlLmdldFZhbHVlRG9tYWluID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZG9tYWluID0gW107XG4gICAgICAgIHZhciBzbWFsbGVzdCA9IDA7XG4gICAgICAgIHZhciBiaWdnZXN0ID0gMDtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHRoaXMucmVzdWx0czsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHZhciBncm91cCA9IF9hW19pXTtcbiAgICAgICAgICAgIHZhciBzbWFsbGVzdFN1bSA9IDA7XG4gICAgICAgICAgICB2YXIgYmlnZ2VzdFN1bSA9IDA7XG4gICAgICAgICAgICBmb3IgKHZhciBfYiA9IDAsIF9jID0gZ3JvdXAuc2VyaWVzOyBfYiA8IF9jLmxlbmd0aDsgX2IrKykge1xuICAgICAgICAgICAgICAgIHZhciBkID0gX2NbX2JdO1xuICAgICAgICAgICAgICAgIGlmIChkLnZhbHVlIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICBzbWFsbGVzdFN1bSArPSBkLnZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYmlnZ2VzdFN1bSArPSBkLnZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzbWFsbGVzdCA9IGQudmFsdWUgPCBzbWFsbGVzdCA/IGQudmFsdWUgOiBzbWFsbGVzdDtcbiAgICAgICAgICAgICAgICBiaWdnZXN0ID0gZC52YWx1ZSA+IGJpZ2dlc3QgPyBkLnZhbHVlIDogYmlnZ2VzdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRvbWFpbi5wdXNoKHNtYWxsZXN0U3VtKTtcbiAgICAgICAgICAgIGRvbWFpbi5wdXNoKGJpZ2dlc3RTdW0pO1xuICAgICAgICB9XG4gICAgICAgIGRvbWFpbi5wdXNoKHNtYWxsZXN0KTtcbiAgICAgICAgZG9tYWluLnB1c2goYmlnZ2VzdCk7XG4gICAgICAgIHZhciBtaW4kJDEgPSBNYXRoLm1pbi5hcHBseShNYXRoLCBbMF0uY29uY2F0KGRvbWFpbikpO1xuICAgICAgICB2YXIgbWF4JCQxID0gdGhpcy54U2NhbGVNYXggPyBNYXRoLm1heC5hcHBseShNYXRoLCBbdGhpcy54U2NhbGVNYXhdLmNvbmNhdChkb21haW4pKSA6IE1hdGgubWF4LmFwcGx5KE1hdGgsIGRvbWFpbik7XG4gICAgICAgIHJldHVybiBbbWluJCQxLCBtYXgkJDFdO1xuICAgIH07XG4gICAgQmFySG9yaXpvbnRhbFN0YWNrZWRDb21wb25lbnQucHJvdG90eXBlLmdldFlTY2FsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNwYWNpbmcgPSB0aGlzLmdyb3VwRG9tYWluLmxlbmd0aCAvICh0aGlzLmRpbXMuaGVpZ2h0IC8gdGhpcy5iYXJQYWRkaW5nICsgMSk7XG4gICAgICAgIHJldHVybiBzY2FsZUJhbmQoKVxuICAgICAgICAgICAgLnJhbmdlUm91bmQoWzAsIHRoaXMuZGltcy5oZWlnaHRdKVxuICAgICAgICAgICAgLnBhZGRpbmdJbm5lcihzcGFjaW5nKVxuICAgICAgICAgICAgLmRvbWFpbih0aGlzLmdyb3VwRG9tYWluKTtcbiAgICB9O1xuICAgIEJhckhvcml6b250YWxTdGFja2VkQ29tcG9uZW50LnByb3RvdHlwZS5nZXRYU2NhbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzY2FsZSA9IHNjYWxlTGluZWFyKClcbiAgICAgICAgICAgIC5yYW5nZShbMCwgdGhpcy5kaW1zLndpZHRoXSlcbiAgICAgICAgICAgIC5kb21haW4odGhpcy52YWx1ZURvbWFpbik7XG4gICAgICAgIHJldHVybiB0aGlzLnJvdW5kRG9tYWlucyA/IHNjYWxlLm5pY2UoKSA6IHNjYWxlO1xuICAgIH07XG4gICAgQmFySG9yaXpvbnRhbFN0YWNrZWRDb21wb25lbnQucHJvdG90eXBlLmdyb3VwVHJhbnNmb3JtID0gZnVuY3Rpb24gKGdyb3VwKSB7XG4gICAgICAgIHJldHVybiBcInRyYW5zbGF0ZSgwLCBcIiArIHRoaXMueVNjYWxlKGdyb3VwLm5hbWUpICsgXCIpXCI7XG4gICAgfTtcbiAgICBCYXJIb3Jpem9udGFsU3RhY2tlZENvbXBvbmVudC5wcm90b3R5cGUub25DbGljayA9IGZ1bmN0aW9uIChkYXRhLCBncm91cCkge1xuICAgICAgICBpZiAoZ3JvdXApIHtcbiAgICAgICAgICAgIGRhdGEuc2VyaWVzID0gZ3JvdXAubmFtZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNlbGVjdC5lbWl0KGRhdGEpO1xuICAgIH07XG4gICAgQmFySG9yaXpvbnRhbFN0YWNrZWRDb21wb25lbnQucHJvdG90eXBlLnRyYWNrQnkgPSBmdW5jdGlvbiAoaW5kZXgsIGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIGl0ZW0ubmFtZTtcbiAgICB9O1xuICAgIEJhckhvcml6b250YWxTdGFja2VkQ29tcG9uZW50LnByb3RvdHlwZS5zZXRDb2xvcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkb21haW47XG4gICAgICAgIGlmICh0aGlzLnNjaGVtZVR5cGUgPT09ICdvcmRpbmFsJykge1xuICAgICAgICAgICAgZG9tYWluID0gdGhpcy5pbm5lckRvbWFpbjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGRvbWFpbiA9IHRoaXMudmFsdWVEb21haW47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb2xvcnMgPSBuZXcgQ29sb3JIZWxwZXIodGhpcy5zY2hlbWUsIHRoaXMuc2NoZW1lVHlwZSwgZG9tYWluLCB0aGlzLmN1c3RvbUNvbG9ycyk7XG4gICAgfTtcbiAgICBCYXJIb3Jpem9udGFsU3RhY2tlZENvbXBvbmVudC5wcm90b3R5cGUuZ2V0TGVnZW5kT3B0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG9wdHMgPSB7XG4gICAgICAgICAgICBzY2FsZVR5cGU6IHRoaXMuc2NoZW1lVHlwZSxcbiAgICAgICAgICAgIGNvbG9yczogdW5kZWZpbmVkLFxuICAgICAgICAgICAgZG9tYWluOiBbXSxcbiAgICAgICAgICAgIHRpdGxlOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBwb3NpdGlvbjogdGhpcy5sZWdlbmRQb3NpdGlvblxuICAgICAgICB9O1xuICAgICAgICBpZiAob3B0cy5zY2FsZVR5cGUgPT09ICdvcmRpbmFsJykge1xuICAgICAgICAgICAgb3B0cy5kb21haW4gPSB0aGlzLmlubmVyRG9tYWluO1xuICAgICAgICAgICAgb3B0cy5jb2xvcnMgPSB0aGlzLmNvbG9ycztcbiAgICAgICAgICAgIG9wdHMudGl0bGUgPSB0aGlzLmxlZ2VuZFRpdGxlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb3B0cy5kb21haW4gPSB0aGlzLnZhbHVlRG9tYWluO1xuICAgICAgICAgICAgb3B0cy5jb2xvcnMgPSB0aGlzLmNvbG9ycy5zY2FsZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3B0cztcbiAgICB9O1xuICAgIEJhckhvcml6b250YWxTdGFja2VkQ29tcG9uZW50LnByb3RvdHlwZS51cGRhdGVZQXhpc1dpZHRoID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciB3aWR0aCA9IF9hLndpZHRoO1xuICAgICAgICB0aGlzLnlBeGlzV2lkdGggPSB3aWR0aDtcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICB9O1xuICAgIEJhckhvcml6b250YWxTdGFja2VkQ29tcG9uZW50LnByb3RvdHlwZS51cGRhdGVYQXhpc0hlaWdodCA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgaGVpZ2h0ID0gX2EuaGVpZ2h0O1xuICAgICAgICB0aGlzLnhBeGlzSGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIH07XG4gICAgQmFySG9yaXpvbnRhbFN0YWNrZWRDb21wb25lbnQucHJvdG90eXBlLm9uRGF0YUxhYmVsTWF4V2lkdGhDaGFuZ2VkID0gZnVuY3Rpb24gKGV2ZW50JCQxLCBncm91cEluZGV4KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmIChldmVudCQkMS5zaXplLm5lZ2F0aXZlKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGFMYWJlbE1heFdpZHRoLm5lZ2F0aXZlID0gTWF0aC5tYXgodGhpcy5kYXRhTGFiZWxNYXhXaWR0aC5uZWdhdGl2ZSwgZXZlbnQkJDEuc2l6ZS53aWR0aCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmRhdGFMYWJlbE1heFdpZHRoLnBvc2l0aXZlID0gTWF0aC5tYXgodGhpcy5kYXRhTGFiZWxNYXhXaWR0aC5wb3NpdGl2ZSwgZXZlbnQkJDEuc2l6ZS53aWR0aCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdyb3VwSW5kZXggPT09IHRoaXMucmVzdWx0cy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLnVwZGF0ZSgpOyB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQmFySG9yaXpvbnRhbFN0YWNrZWRDb21wb25lbnQucHJvdG90eXBlLm9uQWN0aXZhdGUgPSBmdW5jdGlvbiAoZXZlbnQkJDEsIGdyb3VwLCBmcm9tTGVnZW5kKSB7XG4gICAgICAgIGlmIChmcm9tTGVnZW5kID09PSB2b2lkIDApIHsgZnJvbUxlZ2VuZCA9IGZhbHNlOyB9XG4gICAgICAgIHZhciBpdGVtID0gT2JqZWN0LmFzc2lnbih7fSwgZXZlbnQkJDEpO1xuICAgICAgICBpZiAoZ3JvdXApIHtcbiAgICAgICAgICAgIGl0ZW0uc2VyaWVzID0gZ3JvdXAubmFtZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaXRlbXMgPSB0aGlzLnJlc3VsdHNcbiAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKGcpIHsgcmV0dXJuIGcuc2VyaWVzOyB9KVxuICAgICAgICAgICAgLmZsYXQoKVxuICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgaWYgKGZyb21MZWdlbmQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaS5sYWJlbCA9PT0gaXRlbS5uYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGkubmFtZSA9PT0gaXRlbS5uYW1lICYmIGkuc2VyaWVzID09PSBpdGVtLnNlcmllcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuYWN0aXZlRW50cmllcyA9IGl0ZW1zLnNsaWNlKCk7XG4gICAgICAgIHRoaXMuYWN0aXZhdGUuZW1pdCh7IHZhbHVlOiBpdGVtLCBlbnRyaWVzOiB0aGlzLmFjdGl2ZUVudHJpZXMgfSk7XG4gICAgfTtcbiAgICBCYXJIb3Jpem9udGFsU3RhY2tlZENvbXBvbmVudC5wcm90b3R5cGUub25EZWFjdGl2YXRlID0gZnVuY3Rpb24gKGV2ZW50JCQxLCBncm91cCwgZnJvbUxlZ2VuZCkge1xuICAgICAgICBpZiAoZnJvbUxlZ2VuZCA9PT0gdm9pZCAwKSB7IGZyb21MZWdlbmQgPSBmYWxzZTsgfVxuICAgICAgICB2YXIgaXRlbSA9IE9iamVjdC5hc3NpZ24oe30sIGV2ZW50JCQxKTtcbiAgICAgICAgaWYgKGdyb3VwKSB7XG4gICAgICAgICAgICBpdGVtLnNlcmllcyA9IGdyb3VwLm5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hY3RpdmVFbnRyaWVzID0gdGhpcy5hY3RpdmVFbnRyaWVzLmZpbHRlcihmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgaWYgKGZyb21MZWdlbmQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaS5sYWJlbCAhPT0gaXRlbS5uYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICEoaS5uYW1lID09PSBpdGVtLm5hbWUgJiYgaS5zZXJpZXMgPT09IGl0ZW0uc2VyaWVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZGVhY3RpdmF0ZS5lbWl0KHsgdmFsdWU6IGl0ZW0sIGVudHJpZXM6IHRoaXMuYWN0aXZlRW50cmllcyB9KTtcbiAgICB9O1xuICAgIHZhciBfYSwgX2IsIF9jO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEJhckhvcml6b250YWxTdGFja2VkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJsZWdlbmRcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcbiAgICBdLCBCYXJIb3Jpem9udGFsU3RhY2tlZENvbXBvbmVudC5wcm90b3R5cGUsIFwibGVnZW5kVGl0bGVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcbiAgICBdLCBCYXJIb3Jpem9udGFsU3RhY2tlZENvbXBvbmVudC5wcm90b3R5cGUsIFwibGVnZW5kUG9zaXRpb25cIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBCYXJIb3Jpem9udGFsU3RhY2tlZENvbXBvbmVudC5wcm90b3R5cGUsIFwieEF4aXNcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBCYXJIb3Jpem9udGFsU3RhY2tlZENvbXBvbmVudC5wcm90b3R5cGUsIFwieUF4aXNcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBCYXJIb3Jpem9udGFsU3RhY2tlZENvbXBvbmVudC5wcm90b3R5cGUsIFwic2hvd1hBeGlzTGFiZWxcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBCYXJIb3Jpem9udGFsU3RhY2tlZENvbXBvbmVudC5wcm90b3R5cGUsIFwic2hvd1lBeGlzTGFiZWxcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBCYXJIb3Jpem9udGFsU3RhY2tlZENvbXBvbmVudC5wcm90b3R5cGUsIFwieEF4aXNMYWJlbFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEJhckhvcml6b250YWxTdGFja2VkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ5QXhpc0xhYmVsXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIEJhckhvcml6b250YWxTdGFja2VkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ0b29sdGlwRGlzYWJsZWRcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEJvb2xlYW4pXG4gICAgXSwgQmFySG9yaXpvbnRhbFN0YWNrZWRDb21wb25lbnQucHJvdG90eXBlLCBcImdyYWRpZW50XCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIEJhckhvcml6b250YWxTdGFja2VkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJzaG93R3JpZExpbmVzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBBcnJheSlcbiAgICBdLCBCYXJIb3Jpem9udGFsU3RhY2tlZENvbXBvbmVudC5wcm90b3R5cGUsIFwiYWN0aXZlRW50cmllc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgU3RyaW5nKVxuICAgIF0sIEJhckhvcml6b250YWxTdGFja2VkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJzY2hlbWVUeXBlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIEJhckhvcml6b250YWxTdGFja2VkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ0cmltWEF4aXNUaWNrc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbiAgICBdLCBCYXJIb3Jpem9udGFsU3RhY2tlZENvbXBvbmVudC5wcm90b3R5cGUsIFwidHJpbVlBeGlzVGlja3NcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEJvb2xlYW4pXG4gICAgXSwgQmFySG9yaXpvbnRhbFN0YWNrZWRDb21wb25lbnQucHJvdG90eXBlLCBcInJvdGF0ZVhBeGlzVGlja3NcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE51bWJlcilcbiAgICBdLCBCYXJIb3Jpem9udGFsU3RhY2tlZENvbXBvbmVudC5wcm90b3R5cGUsIFwibWF4WEF4aXNUaWNrTGVuZ3RoXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBOdW1iZXIpXG4gICAgXSwgQmFySG9yaXpvbnRhbFN0YWNrZWRDb21wb25lbnQucHJvdG90eXBlLCBcIm1heFlBeGlzVGlja0xlbmd0aFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEJhckhvcml6b250YWxTdGFja2VkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ4QXhpc1RpY2tGb3JtYXR0aW5nXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQmFySG9yaXpvbnRhbFN0YWNrZWRDb21wb25lbnQucHJvdG90eXBlLCBcInlBeGlzVGlja0Zvcm1hdHRpbmdcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEFycmF5KVxuICAgIF0sIEJhckhvcml6b250YWxTdGFja2VkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ4QXhpc1RpY2tzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBBcnJheSlcbiAgICBdLCBCYXJIb3Jpem9udGFsU3RhY2tlZENvbXBvbmVudC5wcm90b3R5cGUsIFwieUF4aXNUaWNrc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEJhckhvcml6b250YWxTdGFja2VkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJiYXJQYWRkaW5nXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIEJhckhvcml6b250YWxTdGFja2VkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJyb3VuZERvbWFpbnNcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE51bWJlcilcbiAgICBdLCBCYXJIb3Jpem9udGFsU3RhY2tlZENvbXBvbmVudC5wcm90b3R5cGUsIFwieFNjYWxlTWF4XCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIEJhckhvcml6b250YWxTdGFja2VkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJzaG93RGF0YUxhYmVsXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQmFySG9yaXpvbnRhbFN0YWNrZWRDb21wb25lbnQucHJvdG90eXBlLCBcImRhdGFMYWJlbEZvcm1hdHRpbmdcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEJvb2xlYW4pXG4gICAgXSwgQmFySG9yaXpvbnRhbFN0YWNrZWRDb21wb25lbnQucHJvdG90eXBlLCBcIm5vQmFyV2hlblplcm9cIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgT3V0cHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCB0eXBlb2YgKF9hID0gdHlwZW9mIEV2ZW50RW1pdHRlciAhPT0gXCJ1bmRlZmluZWRcIiAmJiBFdmVudEVtaXR0ZXIpID09PSBcImZ1bmN0aW9uXCIgPyBfYSA6IE9iamVjdClcbiAgICBdLCBCYXJIb3Jpem9udGFsU3RhY2tlZENvbXBvbmVudC5wcm90b3R5cGUsIFwiYWN0aXZhdGVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgT3V0cHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCB0eXBlb2YgKF9iID0gdHlwZW9mIEV2ZW50RW1pdHRlciAhPT0gXCJ1bmRlZmluZWRcIiAmJiBFdmVudEVtaXR0ZXIpID09PSBcImZ1bmN0aW9uXCIgPyBfYiA6IE9iamVjdClcbiAgICBdLCBCYXJIb3Jpem9udGFsU3RhY2tlZENvbXBvbmVudC5wcm90b3R5cGUsIFwiZGVhY3RpdmF0ZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBDb250ZW50Q2hpbGQoJ3Rvb2x0aXBUZW1wbGF0ZScsIHsgc3RhdGljOiBmYWxzZSB9KSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIHR5cGVvZiAoX2MgPSB0eXBlb2YgVGVtcGxhdGVSZWYgIT09IFwidW5kZWZpbmVkXCIgJiYgVGVtcGxhdGVSZWYpID09PSBcImZ1bmN0aW9uXCIgPyBfYyA6IE9iamVjdClcbiAgICBdLCBCYXJIb3Jpem9udGFsU3RhY2tlZENvbXBvbmVudC5wcm90b3R5cGUsIFwidG9vbHRpcFRlbXBsYXRlXCIsIHZvaWQgMCk7XG4gICAgQmFySG9yaXpvbnRhbFN0YWNrZWRDb21wb25lbnQgPSBfX2RlY29yYXRlKFtcbiAgICAgICAgQ29tcG9uZW50KHtcbiAgICAgICAgICAgIHNlbGVjdG9yOiAnbmd4LWNoYXJ0cy1iYXItaG9yaXpvbnRhbC1zdGFja2VkJyxcbiAgICAgICAgICAgIHRlbXBsYXRlOiBcIlxcbiAgICA8bmd4LWNoYXJ0cy1jaGFydFxcbiAgICAgIFt2aWV3XT1cXFwiW3dpZHRoLCBoZWlnaHRdXFxcIlxcbiAgICAgIFtzaG93TGVnZW5kXT1cXFwibGVnZW5kXFxcIlxcbiAgICAgIFtsZWdlbmRPcHRpb25zXT1cXFwibGVnZW5kT3B0aW9uc1xcXCJcXG4gICAgICBbYWN0aXZlRW50cmllc109XFxcImFjdGl2ZUVudHJpZXNcXFwiXFxuICAgICAgW2FuaW1hdGlvbnNdPVxcXCJhbmltYXRpb25zXFxcIlxcbiAgICAgIChsZWdlbmRMYWJlbEFjdGl2YXRlKT1cXFwib25BY3RpdmF0ZSgkZXZlbnQsIHVuZGVmaW5lZCwgdHJ1ZSlcXFwiXFxuICAgICAgKGxlZ2VuZExhYmVsRGVhY3RpdmF0ZSk9XFxcIm9uRGVhY3RpdmF0ZSgkZXZlbnQsIHVuZGVmaW5lZCwgdHJ1ZSlcXFwiXFxuICAgICAgKGxlZ2VuZExhYmVsQ2xpY2spPVxcXCJvbkNsaWNrKCRldmVudClcXFwiXFxuICAgID5cXG4gICAgICA8c3ZnOmcgW2F0dHIudHJhbnNmb3JtXT1cXFwidHJhbnNmb3JtXFxcIiBjbGFzcz1cXFwiYmFyLWNoYXJ0IGNoYXJ0XFxcIj5cXG4gICAgICAgIDxzdmc6Z1xcbiAgICAgICAgICBuZ3gtY2hhcnRzLXgtYXhpc1xcbiAgICAgICAgICAqbmdJZj1cXFwieEF4aXNcXFwiXFxuICAgICAgICAgIFt4U2NhbGVdPVxcXCJ4U2NhbGVcXFwiXFxuICAgICAgICAgIFtkaW1zXT1cXFwiZGltc1xcXCJcXG4gICAgICAgICAgW3Nob3dHcmlkTGluZXNdPVxcXCJzaG93R3JpZExpbmVzXFxcIlxcbiAgICAgICAgICBbc2hvd0xhYmVsXT1cXFwic2hvd1hBeGlzTGFiZWxcXFwiXFxuICAgICAgICAgIFtsYWJlbFRleHRdPVxcXCJ4QXhpc0xhYmVsXFxcIlxcbiAgICAgICAgICBbdHJpbVRpY2tzXT1cXFwidHJpbVhBeGlzVGlja3NcXFwiXFxuICAgICAgICAgIFtyb3RhdGVUaWNrc109XFxcInJvdGF0ZVhBeGlzVGlja3NcXFwiXFxuICAgICAgICAgIFttYXhUaWNrTGVuZ3RoXT1cXFwibWF4WEF4aXNUaWNrTGVuZ3RoXFxcIlxcbiAgICAgICAgICBbdGlja0Zvcm1hdHRpbmddPVxcXCJ4QXhpc1RpY2tGb3JtYXR0aW5nXFxcIlxcbiAgICAgICAgICBbdGlja3NdPVxcXCJ4QXhpc1RpY2tzXFxcIlxcbiAgICAgICAgICAoZGltZW5zaW9uc0NoYW5nZWQpPVxcXCJ1cGRhdGVYQXhpc0hlaWdodCgkZXZlbnQpXFxcIlxcbiAgICAgICAgPjwvc3ZnOmc+XFxuICAgICAgICA8c3ZnOmdcXG4gICAgICAgICAgbmd4LWNoYXJ0cy15LWF4aXNcXG4gICAgICAgICAgKm5nSWY9XFxcInlBeGlzXFxcIlxcbiAgICAgICAgICBbeVNjYWxlXT1cXFwieVNjYWxlXFxcIlxcbiAgICAgICAgICBbZGltc109XFxcImRpbXNcXFwiXFxuICAgICAgICAgIFtzaG93TGFiZWxdPVxcXCJzaG93WUF4aXNMYWJlbFxcXCJcXG4gICAgICAgICAgW2xhYmVsVGV4dF09XFxcInlBeGlzTGFiZWxcXFwiXFxuICAgICAgICAgIFt0cmltVGlja3NdPVxcXCJ0cmltWUF4aXNUaWNrc1xcXCJcXG4gICAgICAgICAgW21heFRpY2tMZW5ndGhdPVxcXCJtYXhZQXhpc1RpY2tMZW5ndGhcXFwiXFxuICAgICAgICAgIFt0aWNrRm9ybWF0dGluZ109XFxcInlBeGlzVGlja0Zvcm1hdHRpbmdcXFwiXFxuICAgICAgICAgIFt0aWNrc109XFxcInlBeGlzVGlja3NcXFwiXFxuICAgICAgICAgIFt5QXhpc09mZnNldF09XFxcImRhdGFMYWJlbE1heFdpZHRoLm5lZ2F0aXZlXFxcIlxcbiAgICAgICAgICAoZGltZW5zaW9uc0NoYW5nZWQpPVxcXCJ1cGRhdGVZQXhpc1dpZHRoKCRldmVudClcXFwiXFxuICAgICAgICA+PC9zdmc6Zz5cXG4gICAgICAgIDxzdmc6Z1xcbiAgICAgICAgICAqbmdGb3I9XFxcImxldCBncm91cCBvZiByZXN1bHRzOyBsZXQgaW5kZXggPSBpbmRleDsgdHJhY2tCeTogdHJhY2tCeVxcXCJcXG4gICAgICAgICAgW0BhbmltYXRpb25TdGF0ZV09XFxcIidhY3RpdmUnXFxcIlxcbiAgICAgICAgICBbYXR0ci50cmFuc2Zvcm1dPVxcXCJncm91cFRyYW5zZm9ybShncm91cClcXFwiXFxuICAgICAgICA+XFxuICAgICAgICAgIDxzdmc6Z1xcbiAgICAgICAgICAgIG5neC1jaGFydHMtc2VyaWVzLWhvcml6b250YWxcXG4gICAgICAgICAgICB0eXBlPVxcXCJzdGFja2VkXFxcIlxcbiAgICAgICAgICAgIFt4U2NhbGVdPVxcXCJ4U2NhbGVcXFwiXFxuICAgICAgICAgICAgW3lTY2FsZV09XFxcInlTY2FsZVxcXCJcXG4gICAgICAgICAgICBbY29sb3JzXT1cXFwiY29sb3JzXFxcIlxcbiAgICAgICAgICAgIFtzZXJpZXNdPVxcXCJncm91cC5zZXJpZXNcXFwiXFxuICAgICAgICAgICAgW2FjdGl2ZUVudHJpZXNdPVxcXCJhY3RpdmVFbnRyaWVzXFxcIlxcbiAgICAgICAgICAgIFtkaW1zXT1cXFwiZGltc1xcXCJcXG4gICAgICAgICAgICBbZ3JhZGllbnRdPVxcXCJncmFkaWVudFxcXCJcXG4gICAgICAgICAgICBbdG9vbHRpcERpc2FibGVkXT1cXFwidG9vbHRpcERpc2FibGVkXFxcIlxcbiAgICAgICAgICAgIFt0b29sdGlwVGVtcGxhdGVdPVxcXCJ0b29sdGlwVGVtcGxhdGVcXFwiXFxuICAgICAgICAgICAgW3Nlcmllc05hbWVdPVxcXCJncm91cC5uYW1lXFxcIlxcbiAgICAgICAgICAgIFthbmltYXRpb25zXT1cXFwiYW5pbWF0aW9uc1xcXCJcXG4gICAgICAgICAgICBbc2hvd0RhdGFMYWJlbF09XFxcInNob3dEYXRhTGFiZWxcXFwiXFxuICAgICAgICAgICAgW2RhdGFMYWJlbEZvcm1hdHRpbmddPVxcXCJkYXRhTGFiZWxGb3JtYXR0aW5nXFxcIlxcbiAgICAgICAgICAgIFtub0JhcldoZW5aZXJvXT1cXFwibm9CYXJXaGVuWmVyb1xcXCJcXG4gICAgICAgICAgICAoc2VsZWN0KT1cXFwib25DbGljaygkZXZlbnQsIGdyb3VwKVxcXCJcXG4gICAgICAgICAgICAoYWN0aXZhdGUpPVxcXCJvbkFjdGl2YXRlKCRldmVudCwgZ3JvdXApXFxcIlxcbiAgICAgICAgICAgIChkZWFjdGl2YXRlKT1cXFwib25EZWFjdGl2YXRlKCRldmVudCwgZ3JvdXApXFxcIlxcbiAgICAgICAgICAgIChkYXRhTGFiZWxXaWR0aENoYW5nZWQpPVxcXCJvbkRhdGFMYWJlbE1heFdpZHRoQ2hhbmdlZCgkZXZlbnQsIGluZGV4KVxcXCJcXG4gICAgICAgICAgLz5cXG4gICAgICAgIDwvc3ZnOmc+XFxuICAgICAgPC9zdmc6Zz5cXG4gICAgPC9uZ3gtY2hhcnRzLWNoYXJ0PlxcbiAgXCIsXG4gICAgICAgICAgICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcbiAgICAgICAgICAgIHN0eWxlczogW1wiLm5neC1jaGFydHN7ZmxvYXQ6bGVmdDtvdmVyZmxvdzp2aXNpYmxlfS5uZ3gtY2hhcnRzIC5hcmMsLm5neC1jaGFydHMgLmJhciwubmd4LWNoYXJ0cyAuY2lyY2xle2N1cnNvcjpwb2ludGVyfS5uZ3gtY2hhcnRzIC5hcmMuYWN0aXZlLC5uZ3gtY2hhcnRzIC5hcmM6aG92ZXIsLm5neC1jaGFydHMgLmJhci5hY3RpdmUsLm5neC1jaGFydHMgLmJhcjpob3Zlciwubmd4LWNoYXJ0cyAuY2FyZC5hY3RpdmUsLm5neC1jaGFydHMgLmNhcmQ6aG92ZXIsLm5neC1jaGFydHMgLmNlbGwuYWN0aXZlLC5uZ3gtY2hhcnRzIC5jZWxsOmhvdmVye29wYWNpdHk6Ljg7dHJhbnNpdGlvbjpvcGFjaXR5IC4xcyBlYXNlLWluLW91dH0ubmd4LWNoYXJ0cyAuYXJjOmZvY3VzLC5uZ3gtY2hhcnRzIC5iYXI6Zm9jdXMsLm5neC1jaGFydHMgLmNhcmQ6Zm9jdXMsLm5neC1jaGFydHMgLmNlbGw6Zm9jdXN7b3V0bGluZTowfS5uZ3gtY2hhcnRzIC5hcmMuaGlkZGVuLC5uZ3gtY2hhcnRzIC5iYXIuaGlkZGVuLC5uZ3gtY2hhcnRzIC5jYXJkLmhpZGRlbiwubmd4LWNoYXJ0cyAuY2VsbC5oaWRkZW57ZGlzcGxheTpub25lfS5uZ3gtY2hhcnRzIGc6Zm9jdXN7b3V0bGluZTowfS5uZ3gtY2hhcnRzIC5hcmVhLXNlcmllcy5pbmFjdGl2ZSwubmd4LWNoYXJ0cyAubGluZS1zZXJpZXMtcmFuZ2UuaW5hY3RpdmUsLm5neC1jaGFydHMgLmxpbmUtc2VyaWVzLmluYWN0aXZlLC5uZ3gtY2hhcnRzIC5wb2xhci1zZXJpZXMtYXJlYS5pbmFjdGl2ZSwubmd4LWNoYXJ0cyAucG9sYXItc2VyaWVzLXBhdGguaW5hY3RpdmV7dHJhbnNpdGlvbjpvcGFjaXR5IC4xcyBlYXNlLWluLW91dDtvcGFjaXR5Oi4yfS5uZ3gtY2hhcnRzIC5saW5lLWhpZ2hsaWdodHtkaXNwbGF5Om5vbmV9Lm5neC1jaGFydHMgLmxpbmUtaGlnaGxpZ2h0LmFjdGl2ZXtkaXNwbGF5OmJsb2NrfS5uZ3gtY2hhcnRzIC5hcmVhe29wYWNpdHk6LjZ9Lm5neC1jaGFydHMgLmNpcmNsZTpob3ZlcntjdXJzb3I6cG9pbnRlcn0ubmd4LWNoYXJ0cyAubGFiZWx7Zm9udC1zaXplOjEycHg7Zm9udC13ZWlnaHQ6NDAwfS5uZ3gtY2hhcnRzIC50b29sdGlwLWFuY2hvcntmaWxsOiMwMDB9Lm5neC1jaGFydHMgLmdyaWRsaW5lLXBhdGh7c3Ryb2tlOiNkZGQ7c3Ryb2tlLXdpZHRoOjE7ZmlsbDpub25lfS5uZ3gtY2hhcnRzIC5yZWZsaW5lLXBhdGh7c3Ryb2tlOiNhOGIyYzc7c3Ryb2tlLXdpZHRoOjE7c3Ryb2tlLWRhc2hhcnJheTo1O3N0cm9rZS1kYXNob2Zmc2V0OjV9Lm5neC1jaGFydHMgLnJlZmxpbmUtbGFiZWx7Zm9udC1zaXplOjlweH0ubmd4LWNoYXJ0cyAucmVmZXJlbmNlLWFyZWF7ZmlsbC1vcGFjaXR5Oi4wNTtmaWxsOiMwMDB9Lm5neC1jaGFydHMgLmdyaWRsaW5lLXBhdGgtZG90dGVke3N0cm9rZTojZGRkO3N0cm9rZS13aWR0aDoxO2ZpbGw6bm9uZTtzdHJva2UtZGFzaGFycmF5OjEsMjA7c3Ryb2tlLWRhc2hvZmZzZXQ6M30ubmd4LWNoYXJ0cyAuZ3JpZC1wYW5lbCByZWN0e2ZpbGw6bm9uZX0ubmd4LWNoYXJ0cyAuZ3JpZC1wYW5lbC5vZGQgcmVjdHtmaWxsOnJnYmEoMCwwLDAsLjA1KX1cIl0sXG4gICAgICAgICAgICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lLFxuICAgICAgICAgICAgYW5pbWF0aW9uczogW1xuICAgICAgICAgICAgICAgIHRyaWdnZXIoJ2FuaW1hdGlvblN0YXRlJywgW1xuICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uKCc6bGVhdmUnLCBbXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06ICcqJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRlKDUwMCwgc3R5bGUoeyBvcGFjaXR5OiAwLCB0cmFuc2Zvcm06ICdzY2FsZSgwKScgfSkpXG4gICAgICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgIF1cbiAgICAgICAgfSlcbiAgICBdLCBCYXJIb3Jpem9udGFsU3RhY2tlZENvbXBvbmVudCk7XG4gICAgcmV0dXJuIEJhckhvcml6b250YWxTdGFja2VkQ29tcG9uZW50O1xufShCYXNlQ2hhcnRDb21wb25lbnQpKTtcblxudmFyIEJhclZlcnRpY2FsQ29tcG9uZW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhCYXJWZXJ0aWNhbENvbXBvbmVudCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBCYXJWZXJ0aWNhbENvbXBvbmVudCgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmxlZ2VuZCA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5sZWdlbmRUaXRsZSA9ICdMZWdlbmQnO1xuICAgICAgICBfdGhpcy5sZWdlbmRQb3NpdGlvbiA9ICdyaWdodCc7XG4gICAgICAgIF90aGlzLnRvb2x0aXBEaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5zaG93R3JpZExpbmVzID0gdHJ1ZTtcbiAgICAgICAgX3RoaXMuYWN0aXZlRW50cmllcyA9IFtdO1xuICAgICAgICBfdGhpcy50cmltWEF4aXNUaWNrcyA9IHRydWU7XG4gICAgICAgIF90aGlzLnRyaW1ZQXhpc1RpY2tzID0gdHJ1ZTtcbiAgICAgICAgX3RoaXMucm90YXRlWEF4aXNUaWNrcyA9IHRydWU7XG4gICAgICAgIF90aGlzLm1heFhBeGlzVGlja0xlbmd0aCA9IDE2O1xuICAgICAgICBfdGhpcy5tYXhZQXhpc1RpY2tMZW5ndGggPSAxNjtcbiAgICAgICAgX3RoaXMuYmFyUGFkZGluZyA9IDg7XG4gICAgICAgIF90aGlzLnJvdW5kRG9tYWlucyA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5yb3VuZEVkZ2VzID0gdHJ1ZTtcbiAgICAgICAgX3RoaXMuc2hvd0RhdGFMYWJlbCA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5ub0JhcldoZW5aZXJvID0gdHJ1ZTtcbiAgICAgICAgX3RoaXMuYWN0aXZhdGUgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgICAgIF90aGlzLmRlYWN0aXZhdGUgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgICAgIF90aGlzLm1hcmdpbiA9IFsxMCwgMjAsIDEwLCAyMF07XG4gICAgICAgIF90aGlzLnhBeGlzSGVpZ2h0ID0gMDtcbiAgICAgICAgX3RoaXMueUF4aXNXaWR0aCA9IDA7XG4gICAgICAgIF90aGlzLmRhdGFMYWJlbE1heEhlaWdodCA9IHsgbmVnYXRpdmU6IDAsIHBvc2l0aXZlOiAwIH07XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgQmFyVmVydGljYWxDb21wb25lbnQucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS51cGRhdGUuY2FsbCh0aGlzKTtcbiAgICAgICAgaWYgKCF0aGlzLnNob3dEYXRhTGFiZWwpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YUxhYmVsTWF4SGVpZ2h0ID0geyBuZWdhdGl2ZTogMCwgcG9zaXRpdmU6IDAgfTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1hcmdpbiA9IFsxMCArIHRoaXMuZGF0YUxhYmVsTWF4SGVpZ2h0LnBvc2l0aXZlLCAyMCwgMTAgKyB0aGlzLmRhdGFMYWJlbE1heEhlaWdodC5uZWdhdGl2ZSwgMjBdO1xuICAgICAgICB0aGlzLmRpbXMgPSBjYWxjdWxhdGVWaWV3RGltZW5zaW9ucyh7XG4gICAgICAgICAgICB3aWR0aDogdGhpcy53aWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogdGhpcy5oZWlnaHQsXG4gICAgICAgICAgICBtYXJnaW5zOiB0aGlzLm1hcmdpbixcbiAgICAgICAgICAgIHNob3dYQXhpczogdGhpcy54QXhpcyxcbiAgICAgICAgICAgIHNob3dZQXhpczogdGhpcy55QXhpcyxcbiAgICAgICAgICAgIHhBeGlzSGVpZ2h0OiB0aGlzLnhBeGlzSGVpZ2h0LFxuICAgICAgICAgICAgeUF4aXNXaWR0aDogdGhpcy55QXhpc1dpZHRoLFxuICAgICAgICAgICAgc2hvd1hMYWJlbDogdGhpcy5zaG93WEF4aXNMYWJlbCxcbiAgICAgICAgICAgIHNob3dZTGFiZWw6IHRoaXMuc2hvd1lBeGlzTGFiZWwsXG4gICAgICAgICAgICBzaG93TGVnZW5kOiB0aGlzLmxlZ2VuZCxcbiAgICAgICAgICAgIGxlZ2VuZFR5cGU6IHRoaXMuc2NoZW1lVHlwZSxcbiAgICAgICAgICAgIGxlZ2VuZFBvc2l0aW9uOiB0aGlzLmxlZ2VuZFBvc2l0aW9uXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmZvcm1hdERhdGVzKCk7XG4gICAgICAgIGlmICh0aGlzLnNob3dEYXRhTGFiZWwpIHtcbiAgICAgICAgICAgIHRoaXMuZGltcy5oZWlnaHQgLT0gdGhpcy5kYXRhTGFiZWxNYXhIZWlnaHQubmVnYXRpdmU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy54U2NhbGUgPSB0aGlzLmdldFhTY2FsZSgpO1xuICAgICAgICB0aGlzLnlTY2FsZSA9IHRoaXMuZ2V0WVNjYWxlKCk7XG4gICAgICAgIHRoaXMuc2V0Q29sb3JzKCk7XG4gICAgICAgIHRoaXMubGVnZW5kT3B0aW9ucyA9IHRoaXMuZ2V0TGVnZW5kT3B0aW9ucygpO1xuICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IFwidHJhbnNsYXRlKFwiICsgdGhpcy5kaW1zLnhPZmZzZXQgKyBcIiAsIFwiICsgKHRoaXMubWFyZ2luWzBdICsgdGhpcy5kYXRhTGFiZWxNYXhIZWlnaHQubmVnYXRpdmUpICsgXCIpXCI7XG4gICAgfTtcbiAgICBCYXJWZXJ0aWNhbENvbXBvbmVudC5wcm90b3R5cGUuZ2V0WFNjYWxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnhEb21haW4gPSB0aGlzLmdldFhEb21haW4oKTtcbiAgICAgICAgdmFyIHNwYWNpbmcgPSB0aGlzLnhEb21haW4ubGVuZ3RoIC8gKHRoaXMuZGltcy53aWR0aCAvIHRoaXMuYmFyUGFkZGluZyArIDEpO1xuICAgICAgICByZXR1cm4gc2NhbGVCYW5kKClcbiAgICAgICAgICAgIC5yYW5nZShbMCwgdGhpcy5kaW1zLndpZHRoXSlcbiAgICAgICAgICAgIC5wYWRkaW5nSW5uZXIoc3BhY2luZylcbiAgICAgICAgICAgIC5kb21haW4odGhpcy54RG9tYWluKTtcbiAgICB9O1xuICAgIEJhclZlcnRpY2FsQ29tcG9uZW50LnByb3RvdHlwZS5nZXRZU2NhbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMueURvbWFpbiA9IHRoaXMuZ2V0WURvbWFpbigpO1xuICAgICAgICB2YXIgc2NhbGUgPSBzY2FsZUxpbmVhcigpXG4gICAgICAgICAgICAucmFuZ2UoW3RoaXMuZGltcy5oZWlnaHQsIDBdKVxuICAgICAgICAgICAgLmRvbWFpbih0aGlzLnlEb21haW4pO1xuICAgICAgICByZXR1cm4gdGhpcy5yb3VuZERvbWFpbnMgPyBzY2FsZS5uaWNlKCkgOiBzY2FsZTtcbiAgICB9O1xuICAgIEJhclZlcnRpY2FsQ29tcG9uZW50LnByb3RvdHlwZS5nZXRYRG9tYWluID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHRzLm1hcChmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC5sYWJlbDsgfSk7XG4gICAgfTtcbiAgICBCYXJWZXJ0aWNhbENvbXBvbmVudC5wcm90b3R5cGUuZ2V0WURvbWFpbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHZhbHVlcyA9IHRoaXMucmVzdWx0cy5tYXAoZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQudmFsdWU7IH0pO1xuICAgICAgICB2YXIgbWluJCQxID0gdGhpcy55U2NhbGVNaW4gPyBNYXRoLm1pbi5hcHBseShNYXRoLCBbdGhpcy55U2NhbGVNaW5dLmNvbmNhdCh2YWx1ZXMpKSA6IE1hdGgubWluLmFwcGx5KE1hdGgsIFswXS5jb25jYXQodmFsdWVzKSk7XG4gICAgICAgIGlmICh0aGlzLnlBeGlzVGlja3MgJiYgIXRoaXMueUF4aXNUaWNrcy5zb21lKGlzTmFOKSkge1xuICAgICAgICAgICAgbWluJCQxID0gTWF0aC5taW4uYXBwbHkoTWF0aCwgW21pbiQkMV0uY29uY2F0KHRoaXMueUF4aXNUaWNrcykpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBtYXgkJDEgPSB0aGlzLnlTY2FsZU1heCA/IE1hdGgubWF4LmFwcGx5KE1hdGgsIFt0aGlzLnlTY2FsZU1heF0uY29uY2F0KHZhbHVlcykpIDogTWF0aC5tYXguYXBwbHkoTWF0aCwgWzBdLmNvbmNhdCh2YWx1ZXMpKTtcbiAgICAgICAgaWYgKHRoaXMueUF4aXNUaWNrcyAmJiAhdGhpcy55QXhpc1RpY2tzLnNvbWUoaXNOYU4pKSB7XG4gICAgICAgICAgICBtYXgkJDEgPSBNYXRoLm1heC5hcHBseShNYXRoLCBbbWF4JCQxXS5jb25jYXQodGhpcy55QXhpc1RpY2tzKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFttaW4kJDEsIG1heCQkMV07XG4gICAgfTtcbiAgICBCYXJWZXJ0aWNhbENvbXBvbmVudC5wcm90b3R5cGUub25DbGljayA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0LmVtaXQoZGF0YSk7XG4gICAgfTtcbiAgICBCYXJWZXJ0aWNhbENvbXBvbmVudC5wcm90b3R5cGUuc2V0Q29sb3JzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZG9tYWluO1xuICAgICAgICBpZiAodGhpcy5zY2hlbWVUeXBlID09PSAnb3JkaW5hbCcpIHtcbiAgICAgICAgICAgIGRvbWFpbiA9IHRoaXMueERvbWFpbjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGRvbWFpbiA9IHRoaXMueURvbWFpbjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbG9ycyA9IG5ldyBDb2xvckhlbHBlcih0aGlzLnNjaGVtZSwgdGhpcy5zY2hlbWVUeXBlLCBkb21haW4sIHRoaXMuY3VzdG9tQ29sb3JzKTtcbiAgICB9O1xuICAgIEJhclZlcnRpY2FsQ29tcG9uZW50LnByb3RvdHlwZS5nZXRMZWdlbmRPcHRpb25zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgb3B0cyA9IHtcbiAgICAgICAgICAgIHNjYWxlVHlwZTogdGhpcy5zY2hlbWVUeXBlLFxuICAgICAgICAgICAgY29sb3JzOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBkb21haW46IFtdLFxuICAgICAgICAgICAgdGl0bGU6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHBvc2l0aW9uOiB0aGlzLmxlZ2VuZFBvc2l0aW9uXG4gICAgICAgIH07XG4gICAgICAgIGlmIChvcHRzLnNjYWxlVHlwZSA9PT0gJ29yZGluYWwnKSB7XG4gICAgICAgICAgICBvcHRzLmRvbWFpbiA9IHRoaXMueERvbWFpbjtcbiAgICAgICAgICAgIG9wdHMuY29sb3JzID0gdGhpcy5jb2xvcnM7XG4gICAgICAgICAgICBvcHRzLnRpdGxlID0gdGhpcy5sZWdlbmRUaXRsZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG9wdHMuZG9tYWluID0gdGhpcy55RG9tYWluO1xuICAgICAgICAgICAgb3B0cy5jb2xvcnMgPSB0aGlzLmNvbG9ycy5zY2FsZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3B0cztcbiAgICB9O1xuICAgIEJhclZlcnRpY2FsQ29tcG9uZW50LnByb3RvdHlwZS51cGRhdGVZQXhpc1dpZHRoID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciB3aWR0aCA9IF9hLndpZHRoO1xuICAgICAgICB0aGlzLnlBeGlzV2lkdGggPSB3aWR0aDtcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICB9O1xuICAgIEJhclZlcnRpY2FsQ29tcG9uZW50LnByb3RvdHlwZS51cGRhdGVYQXhpc0hlaWdodCA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgaGVpZ2h0ID0gX2EuaGVpZ2h0O1xuICAgICAgICB0aGlzLnhBeGlzSGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIH07XG4gICAgQmFyVmVydGljYWxDb21wb25lbnQucHJvdG90eXBlLm9uRGF0YUxhYmVsTWF4SGVpZ2h0Q2hhbmdlZCA9IGZ1bmN0aW9uIChldmVudCQkMSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoZXZlbnQkJDEuc2l6ZS5uZWdhdGl2ZSkge1xuICAgICAgICAgICAgdGhpcy5kYXRhTGFiZWxNYXhIZWlnaHQubmVnYXRpdmUgPSBNYXRoLm1heCh0aGlzLmRhdGFMYWJlbE1heEhlaWdodC5uZWdhdGl2ZSwgZXZlbnQkJDEuc2l6ZS5oZWlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5kYXRhTGFiZWxNYXhIZWlnaHQucG9zaXRpdmUgPSBNYXRoLm1heCh0aGlzLmRhdGFMYWJlbE1heEhlaWdodC5wb3NpdGl2ZSwgZXZlbnQkJDEuc2l6ZS5oZWlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChldmVudCQkMS5pbmRleCA9PT0gdGhpcy5yZXN1bHRzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMudXBkYXRlKCk7IH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBCYXJWZXJ0aWNhbENvbXBvbmVudC5wcm90b3R5cGUub25BY3RpdmF0ZSA9IGZ1bmN0aW9uIChpdGVtLCBmcm9tTGVnZW5kKSB7XG4gICAgICAgIGlmIChmcm9tTGVnZW5kID09PSB2b2lkIDApIHsgZnJvbUxlZ2VuZCA9IGZhbHNlOyB9XG4gICAgICAgIGl0ZW0gPSB0aGlzLnJlc3VsdHMuZmluZChmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgaWYgKGZyb21MZWdlbmQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZC5sYWJlbCA9PT0gaXRlbS5uYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGQubmFtZSA9PT0gaXRlbS5uYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGlkeCA9IHRoaXMuYWN0aXZlRW50cmllcy5maW5kSW5kZXgoZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgIHJldHVybiBkLm5hbWUgPT09IGl0ZW0ubmFtZSAmJiBkLnZhbHVlID09PSBpdGVtLnZhbHVlICYmIGQuc2VyaWVzID09PSBpdGVtLnNlcmllcztcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChpZHggPiAtMSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWN0aXZlRW50cmllcyA9IFtpdGVtXS5jb25jYXQodGhpcy5hY3RpdmVFbnRyaWVzKTtcbiAgICAgICAgdGhpcy5hY3RpdmF0ZS5lbWl0KHsgdmFsdWU6IGl0ZW0sIGVudHJpZXM6IHRoaXMuYWN0aXZlRW50cmllcyB9KTtcbiAgICB9O1xuICAgIEJhclZlcnRpY2FsQ29tcG9uZW50LnByb3RvdHlwZS5vbkRlYWN0aXZhdGUgPSBmdW5jdGlvbiAoaXRlbSwgZnJvbUxlZ2VuZCkge1xuICAgICAgICBpZiAoZnJvbUxlZ2VuZCA9PT0gdm9pZCAwKSB7IGZyb21MZWdlbmQgPSBmYWxzZTsgfVxuICAgICAgICBpdGVtID0gdGhpcy5yZXN1bHRzLmZpbmQoZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgIGlmIChmcm9tTGVnZW5kKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGQubGFiZWwgPT09IGl0ZW0ubmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBkLm5hbWUgPT09IGl0ZW0ubmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBpZHggPSB0aGlzLmFjdGl2ZUVudHJpZXMuZmluZEluZGV4KGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICByZXR1cm4gZC5uYW1lID09PSBpdGVtLm5hbWUgJiYgZC52YWx1ZSA9PT0gaXRlbS52YWx1ZSAmJiBkLnNlcmllcyA9PT0gaXRlbS5zZXJpZXM7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmFjdGl2ZUVudHJpZXMuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgIHRoaXMuYWN0aXZlRW50cmllcyA9IHRoaXMuYWN0aXZlRW50cmllcy5zbGljZSgpO1xuICAgICAgICB0aGlzLmRlYWN0aXZhdGUuZW1pdCh7IHZhbHVlOiBpdGVtLCBlbnRyaWVzOiB0aGlzLmFjdGl2ZUVudHJpZXMgfSk7XG4gICAgfTtcbiAgICB2YXIgX2EsIF9iLCBfYztcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBCYXJWZXJ0aWNhbENvbXBvbmVudC5wcm90b3R5cGUsIFwibGVnZW5kXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBTdHJpbmcpXG4gICAgXSwgQmFyVmVydGljYWxDb21wb25lbnQucHJvdG90eXBlLCBcImxlZ2VuZFRpdGxlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBTdHJpbmcpXG4gICAgXSwgQmFyVmVydGljYWxDb21wb25lbnQucHJvdG90eXBlLCBcImxlZ2VuZFBvc2l0aW9uXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQmFyVmVydGljYWxDb21wb25lbnQucHJvdG90eXBlLCBcInhBeGlzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQmFyVmVydGljYWxDb21wb25lbnQucHJvdG90eXBlLCBcInlBeGlzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQmFyVmVydGljYWxDb21wb25lbnQucHJvdG90eXBlLCBcInNob3dYQXhpc0xhYmVsXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQmFyVmVydGljYWxDb21wb25lbnQucHJvdG90eXBlLCBcInNob3dZQXhpc0xhYmVsXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQmFyVmVydGljYWxDb21wb25lbnQucHJvdG90eXBlLCBcInhBeGlzTGFiZWxcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBCYXJWZXJ0aWNhbENvbXBvbmVudC5wcm90b3R5cGUsIFwieUF4aXNMYWJlbFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbiAgICBdLCBCYXJWZXJ0aWNhbENvbXBvbmVudC5wcm90b3R5cGUsIFwidG9vbHRpcERpc2FibGVkXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIEJhclZlcnRpY2FsQ29tcG9uZW50LnByb3RvdHlwZSwgXCJncmFkaWVudFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbiAgICBdLCBCYXJWZXJ0aWNhbENvbXBvbmVudC5wcm90b3R5cGUsIFwic2hvd0dyaWRMaW5lc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQXJyYXkpXG4gICAgXSwgQmFyVmVydGljYWxDb21wb25lbnQucHJvdG90eXBlLCBcImFjdGl2ZUVudHJpZXNcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcbiAgICBdLCBCYXJWZXJ0aWNhbENvbXBvbmVudC5wcm90b3R5cGUsIFwic2NoZW1lVHlwZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbiAgICBdLCBCYXJWZXJ0aWNhbENvbXBvbmVudC5wcm90b3R5cGUsIFwidHJpbVhBeGlzVGlja3NcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEJvb2xlYW4pXG4gICAgXSwgQmFyVmVydGljYWxDb21wb25lbnQucHJvdG90eXBlLCBcInRyaW1ZQXhpc1RpY2tzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIEJhclZlcnRpY2FsQ29tcG9uZW50LnByb3RvdHlwZSwgXCJyb3RhdGVYQXhpc1RpY2tzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBOdW1iZXIpXG4gICAgXSwgQmFyVmVydGljYWxDb21wb25lbnQucHJvdG90eXBlLCBcIm1heFhBeGlzVGlja0xlbmd0aFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgTnVtYmVyKVxuICAgIF0sIEJhclZlcnRpY2FsQ29tcG9uZW50LnByb3RvdHlwZSwgXCJtYXhZQXhpc1RpY2tMZW5ndGhcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBCYXJWZXJ0aWNhbENvbXBvbmVudC5wcm90b3R5cGUsIFwieEF4aXNUaWNrRm9ybWF0dGluZ1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEJhclZlcnRpY2FsQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ5QXhpc1RpY2tGb3JtYXR0aW5nXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBBcnJheSlcbiAgICBdLCBCYXJWZXJ0aWNhbENvbXBvbmVudC5wcm90b3R5cGUsIFwieEF4aXNUaWNrc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQXJyYXkpXG4gICAgXSwgQmFyVmVydGljYWxDb21wb25lbnQucHJvdG90eXBlLCBcInlBeGlzVGlja3NcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBCYXJWZXJ0aWNhbENvbXBvbmVudC5wcm90b3R5cGUsIFwiYmFyUGFkZGluZ1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbiAgICBdLCBCYXJWZXJ0aWNhbENvbXBvbmVudC5wcm90b3R5cGUsIFwicm91bmREb21haW5zXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIEJhclZlcnRpY2FsQ29tcG9uZW50LnByb3RvdHlwZSwgXCJyb3VuZEVkZ2VzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBOdW1iZXIpXG4gICAgXSwgQmFyVmVydGljYWxDb21wb25lbnQucHJvdG90eXBlLCBcInlTY2FsZU1heFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgTnVtYmVyKVxuICAgIF0sIEJhclZlcnRpY2FsQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ5U2NhbGVNaW5cIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEJvb2xlYW4pXG4gICAgXSwgQmFyVmVydGljYWxDb21wb25lbnQucHJvdG90eXBlLCBcInNob3dEYXRhTGFiZWxcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBCYXJWZXJ0aWNhbENvbXBvbmVudC5wcm90b3R5cGUsIFwiZGF0YUxhYmVsRm9ybWF0dGluZ1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbiAgICBdLCBCYXJWZXJ0aWNhbENvbXBvbmVudC5wcm90b3R5cGUsIFwibm9CYXJXaGVuWmVyb1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBPdXRwdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIHR5cGVvZiAoX2EgPSB0eXBlb2YgRXZlbnRFbWl0dGVyICE9PSBcInVuZGVmaW5lZFwiICYmIEV2ZW50RW1pdHRlcikgPT09IFwiZnVuY3Rpb25cIiA/IF9hIDogT2JqZWN0KVxuICAgIF0sIEJhclZlcnRpY2FsQ29tcG9uZW50LnByb3RvdHlwZSwgXCJhY3RpdmF0ZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBPdXRwdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIHR5cGVvZiAoX2IgPSB0eXBlb2YgRXZlbnRFbWl0dGVyICE9PSBcInVuZGVmaW5lZFwiICYmIEV2ZW50RW1pdHRlcikgPT09IFwiZnVuY3Rpb25cIiA/IF9iIDogT2JqZWN0KVxuICAgIF0sIEJhclZlcnRpY2FsQ29tcG9uZW50LnByb3RvdHlwZSwgXCJkZWFjdGl2YXRlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIENvbnRlbnRDaGlsZCgndG9vbHRpcFRlbXBsYXRlJywgeyBzdGF0aWM6IGZhbHNlIH0pLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgdHlwZW9mIChfYyA9IHR5cGVvZiBUZW1wbGF0ZVJlZiAhPT0gXCJ1bmRlZmluZWRcIiAmJiBUZW1wbGF0ZVJlZikgPT09IFwiZnVuY3Rpb25cIiA/IF9jIDogT2JqZWN0KVxuICAgIF0sIEJhclZlcnRpY2FsQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ0b29sdGlwVGVtcGxhdGVcIiwgdm9pZCAwKTtcbiAgICBCYXJWZXJ0aWNhbENvbXBvbmVudCA9IF9fZGVjb3JhdGUoW1xuICAgICAgICBDb21wb25lbnQoe1xuICAgICAgICAgICAgc2VsZWN0b3I6ICduZ3gtY2hhcnRzLWJhci12ZXJ0aWNhbCcsXG4gICAgICAgICAgICB0ZW1wbGF0ZTogXCJcXG4gICAgPG5neC1jaGFydHMtY2hhcnRcXG4gICAgICBbdmlld109XFxcIlt3aWR0aCwgaGVpZ2h0XVxcXCJcXG4gICAgICBbc2hvd0xlZ2VuZF09XFxcImxlZ2VuZFxcXCJcXG4gICAgICBbbGVnZW5kT3B0aW9uc109XFxcImxlZ2VuZE9wdGlvbnNcXFwiXFxuICAgICAgW2FjdGl2ZUVudHJpZXNdPVxcXCJhY3RpdmVFbnRyaWVzXFxcIlxcbiAgICAgIFthbmltYXRpb25zXT1cXFwiYW5pbWF0aW9uc1xcXCJcXG4gICAgICAobGVnZW5kTGFiZWxDbGljayk9XFxcIm9uQ2xpY2soJGV2ZW50KVxcXCJcXG4gICAgICAobGVnZW5kTGFiZWxBY3RpdmF0ZSk9XFxcIm9uQWN0aXZhdGUoJGV2ZW50LCB0cnVlKVxcXCJcXG4gICAgICAobGVnZW5kTGFiZWxEZWFjdGl2YXRlKT1cXFwib25EZWFjdGl2YXRlKCRldmVudCwgdHJ1ZSlcXFwiXFxuICAgID5cXG4gICAgICA8c3ZnOmcgW2F0dHIudHJhbnNmb3JtXT1cXFwidHJhbnNmb3JtXFxcIiBjbGFzcz1cXFwiYmFyLWNoYXJ0IGNoYXJ0XFxcIj5cXG4gICAgICAgIDxzdmc6Z1xcbiAgICAgICAgICBuZ3gtY2hhcnRzLXgtYXhpc1xcbiAgICAgICAgICAqbmdJZj1cXFwieEF4aXNcXFwiXFxuICAgICAgICAgIFt4U2NhbGVdPVxcXCJ4U2NhbGVcXFwiXFxuICAgICAgICAgIFtkaW1zXT1cXFwiZGltc1xcXCJcXG4gICAgICAgICAgW3Nob3dMYWJlbF09XFxcInNob3dYQXhpc0xhYmVsXFxcIlxcbiAgICAgICAgICBbbGFiZWxUZXh0XT1cXFwieEF4aXNMYWJlbFxcXCJcXG4gICAgICAgICAgW3RyaW1UaWNrc109XFxcInRyaW1YQXhpc1RpY2tzXFxcIlxcbiAgICAgICAgICBbcm90YXRlVGlja3NdPVxcXCJyb3RhdGVYQXhpc1RpY2tzXFxcIlxcbiAgICAgICAgICBbbWF4VGlja0xlbmd0aF09XFxcIm1heFhBeGlzVGlja0xlbmd0aFxcXCJcXG4gICAgICAgICAgW3RpY2tGb3JtYXR0aW5nXT1cXFwieEF4aXNUaWNrRm9ybWF0dGluZ1xcXCJcXG4gICAgICAgICAgW3RpY2tzXT1cXFwieEF4aXNUaWNrc1xcXCJcXG4gICAgICAgICAgW3hBeGlzT2Zmc2V0XT1cXFwiZGF0YUxhYmVsTWF4SGVpZ2h0Lm5lZ2F0aXZlXFxcIlxcbiAgICAgICAgICAoZGltZW5zaW9uc0NoYW5nZWQpPVxcXCJ1cGRhdGVYQXhpc0hlaWdodCgkZXZlbnQpXFxcIlxcbiAgICAgICAgPjwvc3ZnOmc+XFxuICAgICAgICA8c3ZnOmdcXG4gICAgICAgICAgbmd4LWNoYXJ0cy15LWF4aXNcXG4gICAgICAgICAgKm5nSWY9XFxcInlBeGlzXFxcIlxcbiAgICAgICAgICBbeVNjYWxlXT1cXFwieVNjYWxlXFxcIlxcbiAgICAgICAgICBbZGltc109XFxcImRpbXNcXFwiXFxuICAgICAgICAgIFtzaG93R3JpZExpbmVzXT1cXFwic2hvd0dyaWRMaW5lc1xcXCJcXG4gICAgICAgICAgW3Nob3dMYWJlbF09XFxcInNob3dZQXhpc0xhYmVsXFxcIlxcbiAgICAgICAgICBbbGFiZWxUZXh0XT1cXFwieUF4aXNMYWJlbFxcXCJcXG4gICAgICAgICAgW3RyaW1UaWNrc109XFxcInRyaW1ZQXhpc1RpY2tzXFxcIlxcbiAgICAgICAgICBbbWF4VGlja0xlbmd0aF09XFxcIm1heFlBeGlzVGlja0xlbmd0aFxcXCJcXG4gICAgICAgICAgW3RpY2tGb3JtYXR0aW5nXT1cXFwieUF4aXNUaWNrRm9ybWF0dGluZ1xcXCJcXG4gICAgICAgICAgW3RpY2tzXT1cXFwieUF4aXNUaWNrc1xcXCJcXG4gICAgICAgICAgKGRpbWVuc2lvbnNDaGFuZ2VkKT1cXFwidXBkYXRlWUF4aXNXaWR0aCgkZXZlbnQpXFxcIlxcbiAgICAgICAgPjwvc3ZnOmc+XFxuICAgICAgICA8c3ZnOmdcXG4gICAgICAgICAgbmd4LWNoYXJ0cy1zZXJpZXMtdmVydGljYWxcXG4gICAgICAgICAgW3hTY2FsZV09XFxcInhTY2FsZVxcXCJcXG4gICAgICAgICAgW3lTY2FsZV09XFxcInlTY2FsZVxcXCJcXG4gICAgICAgICAgW2NvbG9yc109XFxcImNvbG9yc1xcXCJcXG4gICAgICAgICAgW3Nlcmllc109XFxcInJlc3VsdHNcXFwiXFxuICAgICAgICAgIFtkaW1zXT1cXFwiZGltc1xcXCJcXG4gICAgICAgICAgW2dyYWRpZW50XT1cXFwiZ3JhZGllbnRcXFwiXFxuICAgICAgICAgIFt0b29sdGlwRGlzYWJsZWRdPVxcXCJ0b29sdGlwRGlzYWJsZWRcXFwiXFxuICAgICAgICAgIFt0b29sdGlwVGVtcGxhdGVdPVxcXCJ0b29sdGlwVGVtcGxhdGVcXFwiXFxuICAgICAgICAgIFtzaG93RGF0YUxhYmVsXT1cXFwic2hvd0RhdGFMYWJlbFxcXCJcXG4gICAgICAgICAgW2RhdGFMYWJlbEZvcm1hdHRpbmddPVxcXCJkYXRhTGFiZWxGb3JtYXR0aW5nXFxcIlxcbiAgICAgICAgICBbYWN0aXZlRW50cmllc109XFxcImFjdGl2ZUVudHJpZXNcXFwiXFxuICAgICAgICAgIFtyb3VuZEVkZ2VzXT1cXFwicm91bmRFZGdlc1xcXCJcXG4gICAgICAgICAgW2FuaW1hdGlvbnNdPVxcXCJhbmltYXRpb25zXFxcIlxcbiAgICAgICAgICBbbm9CYXJXaGVuWmVyb109XFxcIm5vQmFyV2hlblplcm9cXFwiXFxuICAgICAgICAgIChhY3RpdmF0ZSk9XFxcIm9uQWN0aXZhdGUoJGV2ZW50KVxcXCJcXG4gICAgICAgICAgKGRlYWN0aXZhdGUpPVxcXCJvbkRlYWN0aXZhdGUoJGV2ZW50KVxcXCJcXG4gICAgICAgICAgKHNlbGVjdCk9XFxcIm9uQ2xpY2soJGV2ZW50KVxcXCJcXG4gICAgICAgICAgKGRhdGFMYWJlbEhlaWdodENoYW5nZWQpPVxcXCJvbkRhdGFMYWJlbE1heEhlaWdodENoYW5nZWQoJGV2ZW50KVxcXCJcXG4gICAgICAgID48L3N2ZzpnPlxcbiAgICAgIDwvc3ZnOmc+XFxuICAgIDwvbmd4LWNoYXJ0cy1jaGFydD5cXG4gIFwiLFxuICAgICAgICAgICAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXG4gICAgICAgICAgICBzdHlsZXM6IFtcIi5uZ3gtY2hhcnRze2Zsb2F0OmxlZnQ7b3ZlcmZsb3c6dmlzaWJsZX0ubmd4LWNoYXJ0cyAuYXJjLC5uZ3gtY2hhcnRzIC5iYXIsLm5neC1jaGFydHMgLmNpcmNsZXtjdXJzb3I6cG9pbnRlcn0ubmd4LWNoYXJ0cyAuYXJjLmFjdGl2ZSwubmd4LWNoYXJ0cyAuYXJjOmhvdmVyLC5uZ3gtY2hhcnRzIC5iYXIuYWN0aXZlLC5uZ3gtY2hhcnRzIC5iYXI6aG92ZXIsLm5neC1jaGFydHMgLmNhcmQuYWN0aXZlLC5uZ3gtY2hhcnRzIC5jYXJkOmhvdmVyLC5uZ3gtY2hhcnRzIC5jZWxsLmFjdGl2ZSwubmd4LWNoYXJ0cyAuY2VsbDpob3ZlcntvcGFjaXR5Oi44O3RyYW5zaXRpb246b3BhY2l0eSAuMXMgZWFzZS1pbi1vdXR9Lm5neC1jaGFydHMgLmFyYzpmb2N1cywubmd4LWNoYXJ0cyAuYmFyOmZvY3VzLC5uZ3gtY2hhcnRzIC5jYXJkOmZvY3VzLC5uZ3gtY2hhcnRzIC5jZWxsOmZvY3Vze291dGxpbmU6MH0ubmd4LWNoYXJ0cyAuYXJjLmhpZGRlbiwubmd4LWNoYXJ0cyAuYmFyLmhpZGRlbiwubmd4LWNoYXJ0cyAuY2FyZC5oaWRkZW4sLm5neC1jaGFydHMgLmNlbGwuaGlkZGVue2Rpc3BsYXk6bm9uZX0ubmd4LWNoYXJ0cyBnOmZvY3Vze291dGxpbmU6MH0ubmd4LWNoYXJ0cyAuYXJlYS1zZXJpZXMuaW5hY3RpdmUsLm5neC1jaGFydHMgLmxpbmUtc2VyaWVzLXJhbmdlLmluYWN0aXZlLC5uZ3gtY2hhcnRzIC5saW5lLXNlcmllcy5pbmFjdGl2ZSwubmd4LWNoYXJ0cyAucG9sYXItc2VyaWVzLWFyZWEuaW5hY3RpdmUsLm5neC1jaGFydHMgLnBvbGFyLXNlcmllcy1wYXRoLmluYWN0aXZle3RyYW5zaXRpb246b3BhY2l0eSAuMXMgZWFzZS1pbi1vdXQ7b3BhY2l0eTouMn0ubmd4LWNoYXJ0cyAubGluZS1oaWdobGlnaHR7ZGlzcGxheTpub25lfS5uZ3gtY2hhcnRzIC5saW5lLWhpZ2hsaWdodC5hY3RpdmV7ZGlzcGxheTpibG9ja30ubmd4LWNoYXJ0cyAuYXJlYXtvcGFjaXR5Oi42fS5uZ3gtY2hhcnRzIC5jaXJjbGU6aG92ZXJ7Y3Vyc29yOnBvaW50ZXJ9Lm5neC1jaGFydHMgLmxhYmVse2ZvbnQtc2l6ZToxMnB4O2ZvbnQtd2VpZ2h0OjQwMH0ubmd4LWNoYXJ0cyAudG9vbHRpcC1hbmNob3J7ZmlsbDojMDAwfS5uZ3gtY2hhcnRzIC5ncmlkbGluZS1wYXRoe3N0cm9rZTojZGRkO3N0cm9rZS13aWR0aDoxO2ZpbGw6bm9uZX0ubmd4LWNoYXJ0cyAucmVmbGluZS1wYXRoe3N0cm9rZTojYThiMmM3O3N0cm9rZS13aWR0aDoxO3N0cm9rZS1kYXNoYXJyYXk6NTtzdHJva2UtZGFzaG9mZnNldDo1fS5uZ3gtY2hhcnRzIC5yZWZsaW5lLWxhYmVse2ZvbnQtc2l6ZTo5cHh9Lm5neC1jaGFydHMgLnJlZmVyZW5jZS1hcmVhe2ZpbGwtb3BhY2l0eTouMDU7ZmlsbDojMDAwfS5uZ3gtY2hhcnRzIC5ncmlkbGluZS1wYXRoLWRvdHRlZHtzdHJva2U6I2RkZDtzdHJva2Utd2lkdGg6MTtmaWxsOm5vbmU7c3Ryb2tlLWRhc2hhcnJheToxLDIwO3N0cm9rZS1kYXNob2Zmc2V0OjN9Lm5neC1jaGFydHMgLmdyaWQtcGFuZWwgcmVjdHtmaWxsOm5vbmV9Lm5neC1jaGFydHMgLmdyaWQtcGFuZWwub2RkIHJlY3R7ZmlsbDpyZ2JhKDAsMCwwLC4wNSl9XCJdLFxuICAgICAgICAgICAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZVxuICAgICAgICB9KVxuICAgIF0sIEJhclZlcnRpY2FsQ29tcG9uZW50KTtcbiAgICByZXR1cm4gQmFyVmVydGljYWxDb21wb25lbnQ7XG59KEJhc2VDaGFydENvbXBvbmVudCkpO1xuXG52YXIgQmFyVmVydGljYWwyRENvbXBvbmVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQmFyVmVydGljYWwyRENvbXBvbmVudCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBCYXJWZXJ0aWNhbDJEQ29tcG9uZW50KCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMubGVnZW5kID0gZmFsc2U7XG4gICAgICAgIF90aGlzLmxlZ2VuZFRpdGxlID0gJ0xlZ2VuZCc7XG4gICAgICAgIF90aGlzLmxlZ2VuZFBvc2l0aW9uID0gJ3JpZ2h0JztcbiAgICAgICAgX3RoaXMudG9vbHRpcERpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIF90aGlzLnNjYWxlVHlwZSA9ICdvcmRpbmFsJztcbiAgICAgICAgX3RoaXMuc2hvd0dyaWRMaW5lcyA9IHRydWU7XG4gICAgICAgIF90aGlzLmFjdGl2ZUVudHJpZXMgPSBbXTtcbiAgICAgICAgX3RoaXMudHJpbVhBeGlzVGlja3MgPSB0cnVlO1xuICAgICAgICBfdGhpcy50cmltWUF4aXNUaWNrcyA9IHRydWU7XG4gICAgICAgIF90aGlzLnJvdGF0ZVhBeGlzVGlja3MgPSB0cnVlO1xuICAgICAgICBfdGhpcy5tYXhYQXhpc1RpY2tMZW5ndGggPSAxNjtcbiAgICAgICAgX3RoaXMubWF4WUF4aXNUaWNrTGVuZ3RoID0gMTY7XG4gICAgICAgIF90aGlzLmdyb3VwUGFkZGluZyA9IDE2O1xuICAgICAgICBfdGhpcy5iYXJQYWRkaW5nID0gODtcbiAgICAgICAgX3RoaXMucm91bmREb21haW5zID0gZmFsc2U7XG4gICAgICAgIF90aGlzLnJvdW5kRWRnZXMgPSB0cnVlO1xuICAgICAgICBfdGhpcy5zaG93RGF0YUxhYmVsID0gZmFsc2U7XG4gICAgICAgIF90aGlzLm5vQmFyV2hlblplcm8gPSB0cnVlO1xuICAgICAgICBfdGhpcy5hY3RpdmF0ZSA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICAgICAgX3RoaXMuZGVhY3RpdmF0ZSA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICAgICAgX3RoaXMubWFyZ2luID0gWzEwLCAyMCwgMTAsIDIwXTtcbiAgICAgICAgX3RoaXMueEF4aXNIZWlnaHQgPSAwO1xuICAgICAgICBfdGhpcy55QXhpc1dpZHRoID0gMDtcbiAgICAgICAgX3RoaXMuZGF0YUxhYmVsTWF4SGVpZ2h0ID0geyBuZWdhdGl2ZTogMCwgcG9zaXRpdmU6IDAgfTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBCYXJWZXJ0aWNhbDJEQ29tcG9uZW50LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUudXBkYXRlLmNhbGwodGhpcyk7XG4gICAgICAgIGlmICghdGhpcy5zaG93RGF0YUxhYmVsKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGFMYWJlbE1heEhlaWdodCA9IHsgbmVnYXRpdmU6IDAsIHBvc2l0aXZlOiAwIH07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tYXJnaW4gPSBbMTAgKyB0aGlzLmRhdGFMYWJlbE1heEhlaWdodC5wb3NpdGl2ZSwgMjAsIDEwICsgdGhpcy5kYXRhTGFiZWxNYXhIZWlnaHQubmVnYXRpdmUsIDIwXTtcbiAgICAgICAgdGhpcy5kaW1zID0gY2FsY3VsYXRlVmlld0RpbWVuc2lvbnMoe1xuICAgICAgICAgICAgd2lkdGg6IHRoaXMud2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IHRoaXMuaGVpZ2h0LFxuICAgICAgICAgICAgbWFyZ2luczogdGhpcy5tYXJnaW4sXG4gICAgICAgICAgICBzaG93WEF4aXM6IHRoaXMueEF4aXMsXG4gICAgICAgICAgICBzaG93WUF4aXM6IHRoaXMueUF4aXMsXG4gICAgICAgICAgICB4QXhpc0hlaWdodDogdGhpcy54QXhpc0hlaWdodCxcbiAgICAgICAgICAgIHlBeGlzV2lkdGg6IHRoaXMueUF4aXNXaWR0aCxcbiAgICAgICAgICAgIHNob3dYTGFiZWw6IHRoaXMuc2hvd1hBeGlzTGFiZWwsXG4gICAgICAgICAgICBzaG93WUxhYmVsOiB0aGlzLnNob3dZQXhpc0xhYmVsLFxuICAgICAgICAgICAgc2hvd0xlZ2VuZDogdGhpcy5sZWdlbmQsXG4gICAgICAgICAgICBsZWdlbmRUeXBlOiB0aGlzLnNjaGVtZVR5cGUsXG4gICAgICAgICAgICBsZWdlbmRQb3NpdGlvbjogdGhpcy5sZWdlbmRQb3NpdGlvblxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHRoaXMuc2hvd0RhdGFMYWJlbCkge1xuICAgICAgICAgICAgdGhpcy5kaW1zLmhlaWdodCAtPSB0aGlzLmRhdGFMYWJlbE1heEhlaWdodC5uZWdhdGl2ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZvcm1hdERhdGVzKCk7XG4gICAgICAgIHRoaXMuZ3JvdXBEb21haW4gPSB0aGlzLmdldEdyb3VwRG9tYWluKCk7XG4gICAgICAgIHRoaXMuaW5uZXJEb21haW4gPSB0aGlzLmdldElubmVyRG9tYWluKCk7XG4gICAgICAgIHRoaXMudmFsdWVzRG9tYWluID0gdGhpcy5nZXRWYWx1ZURvbWFpbigpO1xuICAgICAgICB0aGlzLmdyb3VwU2NhbGUgPSB0aGlzLmdldEdyb3VwU2NhbGUoKTtcbiAgICAgICAgdGhpcy5pbm5lclNjYWxlID0gdGhpcy5nZXRJbm5lclNjYWxlKCk7XG4gICAgICAgIHRoaXMudmFsdWVTY2FsZSA9IHRoaXMuZ2V0VmFsdWVTY2FsZSgpO1xuICAgICAgICB0aGlzLnNldENvbG9ycygpO1xuICAgICAgICB0aGlzLmxlZ2VuZE9wdGlvbnMgPSB0aGlzLmdldExlZ2VuZE9wdGlvbnMoKTtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0gPSBcInRyYW5zbGF0ZShcIiArIHRoaXMuZGltcy54T2Zmc2V0ICsgXCIgLCBcIiArICh0aGlzLm1hcmdpblswXSArIHRoaXMuZGF0YUxhYmVsTWF4SGVpZ2h0Lm5lZ2F0aXZlKSArIFwiKVwiO1xuICAgIH07XG4gICAgQmFyVmVydGljYWwyRENvbXBvbmVudC5wcm90b3R5cGUub25EYXRhTGFiZWxNYXhIZWlnaHRDaGFuZ2VkID0gZnVuY3Rpb24gKGV2ZW50JCQxLCBncm91cEluZGV4KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmIChldmVudCQkMS5zaXplLm5lZ2F0aXZlKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGFMYWJlbE1heEhlaWdodC5uZWdhdGl2ZSA9IE1hdGgubWF4KHRoaXMuZGF0YUxhYmVsTWF4SGVpZ2h0Lm5lZ2F0aXZlLCBldmVudCQkMS5zaXplLmhlaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmRhdGFMYWJlbE1heEhlaWdodC5wb3NpdGl2ZSA9IE1hdGgubWF4KHRoaXMuZGF0YUxhYmVsTWF4SGVpZ2h0LnBvc2l0aXZlLCBldmVudCQkMS5zaXplLmhlaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdyb3VwSW5kZXggPT09IHRoaXMucmVzdWx0cy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLnVwZGF0ZSgpOyB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQmFyVmVydGljYWwyRENvbXBvbmVudC5wcm90b3R5cGUuZ2V0R3JvdXBTY2FsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNwYWNpbmcgPSB0aGlzLmdyb3VwRG9tYWluLmxlbmd0aCAvICh0aGlzLmRpbXMuaGVpZ2h0IC8gdGhpcy5ncm91cFBhZGRpbmcgKyAxKTtcbiAgICAgICAgcmV0dXJuIHNjYWxlQmFuZCgpXG4gICAgICAgICAgICAucmFuZ2VSb3VuZChbMCwgdGhpcy5kaW1zLndpZHRoXSlcbiAgICAgICAgICAgIC5wYWRkaW5nSW5uZXIoc3BhY2luZylcbiAgICAgICAgICAgIC5wYWRkaW5nT3V0ZXIoc3BhY2luZyAvIDIpXG4gICAgICAgICAgICAuZG9tYWluKHRoaXMuZ3JvdXBEb21haW4pO1xuICAgIH07XG4gICAgQmFyVmVydGljYWwyRENvbXBvbmVudC5wcm90b3R5cGUuZ2V0SW5uZXJTY2FsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHdpZHRoID0gdGhpcy5ncm91cFNjYWxlLmJhbmR3aWR0aCgpO1xuICAgICAgICB2YXIgc3BhY2luZyA9IHRoaXMuaW5uZXJEb21haW4ubGVuZ3RoIC8gKHdpZHRoIC8gdGhpcy5iYXJQYWRkaW5nICsgMSk7XG4gICAgICAgIHJldHVybiBzY2FsZUJhbmQoKVxuICAgICAgICAgICAgLnJhbmdlUm91bmQoWzAsIHdpZHRoXSlcbiAgICAgICAgICAgIC5wYWRkaW5nSW5uZXIoc3BhY2luZylcbiAgICAgICAgICAgIC5kb21haW4odGhpcy5pbm5lckRvbWFpbik7XG4gICAgfTtcbiAgICBCYXJWZXJ0aWNhbDJEQ29tcG9uZW50LnByb3RvdHlwZS5nZXRWYWx1ZVNjYWxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2NhbGUgPSBzY2FsZUxpbmVhcigpXG4gICAgICAgICAgICAucmFuZ2UoW3RoaXMuZGltcy5oZWlnaHQsIDBdKVxuICAgICAgICAgICAgLmRvbWFpbih0aGlzLnZhbHVlc0RvbWFpbik7XG4gICAgICAgIHJldHVybiB0aGlzLnJvdW5kRG9tYWlucyA/IHNjYWxlLm5pY2UoKSA6IHNjYWxlO1xuICAgIH07XG4gICAgQmFyVmVydGljYWwyRENvbXBvbmVudC5wcm90b3R5cGUuZ2V0R3JvdXBEb21haW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkb21haW4gPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHRoaXMucmVzdWx0czsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHZhciBncm91cCA9IF9hW19pXTtcbiAgICAgICAgICAgIGlmICghZG9tYWluLmluY2x1ZGVzKGdyb3VwLmxhYmVsKSkge1xuICAgICAgICAgICAgICAgIGRvbWFpbi5wdXNoKGdyb3VwLmxhYmVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZG9tYWluO1xuICAgIH07XG4gICAgQmFyVmVydGljYWwyRENvbXBvbmVudC5wcm90b3R5cGUuZ2V0SW5uZXJEb21haW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkb21haW4gPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHRoaXMucmVzdWx0czsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHZhciBncm91cCA9IF9hW19pXTtcbiAgICAgICAgICAgIGZvciAodmFyIF9iID0gMCwgX2MgPSBncm91cC5zZXJpZXM7IF9iIDwgX2MubGVuZ3RoOyBfYisrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGQgPSBfY1tfYl07XG4gICAgICAgICAgICAgICAgaWYgKCFkb21haW4uaW5jbHVkZXMoZC5sYWJlbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgZG9tYWluLnB1c2goZC5sYWJlbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkb21haW47XG4gICAgfTtcbiAgICBCYXJWZXJ0aWNhbDJEQ29tcG9uZW50LnByb3RvdHlwZS5nZXRWYWx1ZURvbWFpbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGRvbWFpbiA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gdGhpcy5yZXN1bHRzOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIGdyb3VwID0gX2FbX2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgX2IgPSAwLCBfYyA9IGdyb3VwLnNlcmllczsgX2IgPCBfYy5sZW5ndGg7IF9iKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgZCA9IF9jW19iXTtcbiAgICAgICAgICAgICAgICBpZiAoIWRvbWFpbi5pbmNsdWRlcyhkLnZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICBkb21haW4ucHVzaChkLnZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG1pbiQkMSA9IE1hdGgubWluLmFwcGx5KE1hdGgsIFswXS5jb25jYXQoZG9tYWluKSk7XG4gICAgICAgIHZhciBtYXgkJDEgPSB0aGlzLnlTY2FsZU1heCA/IE1hdGgubWF4LmFwcGx5KE1hdGgsIFt0aGlzLnlTY2FsZU1heF0uY29uY2F0KGRvbWFpbikpIDogTWF0aC5tYXguYXBwbHkoTWF0aCwgWzBdLmNvbmNhdChkb21haW4pKTtcbiAgICAgICAgcmV0dXJuIFttaW4kJDEsIG1heCQkMV07XG4gICAgfTtcbiAgICBCYXJWZXJ0aWNhbDJEQ29tcG9uZW50LnByb3RvdHlwZS5ncm91cFRyYW5zZm9ybSA9IGZ1bmN0aW9uIChncm91cCkge1xuICAgICAgICByZXR1cm4gXCJ0cmFuc2xhdGUoXCIgKyB0aGlzLmdyb3VwU2NhbGUoZ3JvdXAubGFiZWwpICsgXCIsIDApXCI7XG4gICAgfTtcbiAgICBCYXJWZXJ0aWNhbDJEQ29tcG9uZW50LnByb3RvdHlwZS5vbkNsaWNrID0gZnVuY3Rpb24gKGRhdGEsIGdyb3VwKSB7XG4gICAgICAgIGlmIChncm91cCkge1xuICAgICAgICAgICAgZGF0YS5zZXJpZXMgPSBncm91cC5uYW1lO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2VsZWN0LmVtaXQoZGF0YSk7XG4gICAgfTtcbiAgICBCYXJWZXJ0aWNhbDJEQ29tcG9uZW50LnByb3RvdHlwZS50cmFja0J5ID0gZnVuY3Rpb24gKGluZGV4LCBpdGVtKSB7XG4gICAgICAgIHJldHVybiBpdGVtLm5hbWU7XG4gICAgfTtcbiAgICBCYXJWZXJ0aWNhbDJEQ29tcG9uZW50LnByb3RvdHlwZS5zZXRDb2xvcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkb21haW47XG4gICAgICAgIGlmICh0aGlzLnNjaGVtZVR5cGUgPT09ICdvcmRpbmFsJykge1xuICAgICAgICAgICAgZG9tYWluID0gdGhpcy5pbm5lckRvbWFpbjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGRvbWFpbiA9IHRoaXMudmFsdWVzRG9tYWluO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29sb3JzID0gbmV3IENvbG9ySGVscGVyKHRoaXMuc2NoZW1lLCB0aGlzLnNjaGVtZVR5cGUsIGRvbWFpbiwgdGhpcy5jdXN0b21Db2xvcnMpO1xuICAgIH07XG4gICAgQmFyVmVydGljYWwyRENvbXBvbmVudC5wcm90b3R5cGUuZ2V0TGVnZW5kT3B0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG9wdHMgPSB7XG4gICAgICAgICAgICBzY2FsZVR5cGU6IHRoaXMuc2NoZW1lVHlwZSxcbiAgICAgICAgICAgIGNvbG9yczogdW5kZWZpbmVkLFxuICAgICAgICAgICAgZG9tYWluOiBbXSxcbiAgICAgICAgICAgIHRpdGxlOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBwb3NpdGlvbjogdGhpcy5sZWdlbmRQb3NpdGlvblxuICAgICAgICB9O1xuICAgICAgICBpZiAob3B0cy5zY2FsZVR5cGUgPT09ICdvcmRpbmFsJykge1xuICAgICAgICAgICAgb3B0cy5kb21haW4gPSB0aGlzLmlubmVyRG9tYWluO1xuICAgICAgICAgICAgb3B0cy5jb2xvcnMgPSB0aGlzLmNvbG9ycztcbiAgICAgICAgICAgIG9wdHMudGl0bGUgPSB0aGlzLmxlZ2VuZFRpdGxlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb3B0cy5kb21haW4gPSB0aGlzLnZhbHVlc0RvbWFpbjtcbiAgICAgICAgICAgIG9wdHMuY29sb3JzID0gdGhpcy5jb2xvcnMuc2NhbGU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9wdHM7XG4gICAgfTtcbiAgICBCYXJWZXJ0aWNhbDJEQ29tcG9uZW50LnByb3RvdHlwZS51cGRhdGVZQXhpc1dpZHRoID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciB3aWR0aCA9IF9hLndpZHRoO1xuICAgICAgICB0aGlzLnlBeGlzV2lkdGggPSB3aWR0aDtcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICB9O1xuICAgIEJhclZlcnRpY2FsMkRDb21wb25lbnQucHJvdG90eXBlLnVwZGF0ZVhBeGlzSGVpZ2h0ID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciBoZWlnaHQgPSBfYS5oZWlnaHQ7XG4gICAgICAgIHRoaXMueEF4aXNIZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfTtcbiAgICBCYXJWZXJ0aWNhbDJEQ29tcG9uZW50LnByb3RvdHlwZS5vbkFjdGl2YXRlID0gZnVuY3Rpb24gKGV2ZW50JCQxLCBncm91cCwgZnJvbUxlZ2VuZCkge1xuICAgICAgICBpZiAoZnJvbUxlZ2VuZCA9PT0gdm9pZCAwKSB7IGZyb21MZWdlbmQgPSBmYWxzZTsgfVxuICAgICAgICB2YXIgaXRlbSA9IE9iamVjdC5hc3NpZ24oe30sIGV2ZW50JCQxKTtcbiAgICAgICAgaWYgKGdyb3VwKSB7XG4gICAgICAgICAgICBpdGVtLnNlcmllcyA9IGdyb3VwLm5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGl0ZW1zID0gdGhpcy5yZXN1bHRzXG4gICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChnKSB7IHJldHVybiBnLnNlcmllczsgfSlcbiAgICAgICAgICAgIC5mbGF0KClcbiAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgIGlmIChmcm9tTGVnZW5kKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGkubGFiZWwgPT09IGl0ZW0ubmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBpLm5hbWUgPT09IGl0ZW0ubmFtZSAmJiBpLnNlcmllcyA9PT0gaXRlbS5zZXJpZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmFjdGl2ZUVudHJpZXMgPSBpdGVtcy5zbGljZSgpO1xuICAgICAgICB0aGlzLmFjdGl2YXRlLmVtaXQoeyB2YWx1ZTogaXRlbSwgZW50cmllczogdGhpcy5hY3RpdmVFbnRyaWVzIH0pO1xuICAgIH07XG4gICAgQmFyVmVydGljYWwyRENvbXBvbmVudC5wcm90b3R5cGUub25EZWFjdGl2YXRlID0gZnVuY3Rpb24gKGV2ZW50JCQxLCBncm91cCwgZnJvbUxlZ2VuZCkge1xuICAgICAgICBpZiAoZnJvbUxlZ2VuZCA9PT0gdm9pZCAwKSB7IGZyb21MZWdlbmQgPSBmYWxzZTsgfVxuICAgICAgICB2YXIgaXRlbSA9IE9iamVjdC5hc3NpZ24oe30sIGV2ZW50JCQxKTtcbiAgICAgICAgaWYgKGdyb3VwKSB7XG4gICAgICAgICAgICBpdGVtLnNlcmllcyA9IGdyb3VwLm5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hY3RpdmVFbnRyaWVzID0gdGhpcy5hY3RpdmVFbnRyaWVzLmZpbHRlcihmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgaWYgKGZyb21MZWdlbmQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaS5sYWJlbCAhPT0gaXRlbS5uYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICEoaS5uYW1lID09PSBpdGVtLm5hbWUgJiYgaS5zZXJpZXMgPT09IGl0ZW0uc2VyaWVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZGVhY3RpdmF0ZS5lbWl0KHsgdmFsdWU6IGl0ZW0sIGVudHJpZXM6IHRoaXMuYWN0aXZlRW50cmllcyB9KTtcbiAgICB9O1xuICAgIHZhciBfYSwgX2IsIF9jO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEJhclZlcnRpY2FsMkRDb21wb25lbnQucHJvdG90eXBlLCBcImxlZ2VuZFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgU3RyaW5nKVxuICAgIF0sIEJhclZlcnRpY2FsMkRDb21wb25lbnQucHJvdG90eXBlLCBcImxlZ2VuZFRpdGxlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBTdHJpbmcpXG4gICAgXSwgQmFyVmVydGljYWwyRENvbXBvbmVudC5wcm90b3R5cGUsIFwibGVnZW5kUG9zaXRpb25cIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBCYXJWZXJ0aWNhbDJEQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ4QXhpc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEJhclZlcnRpY2FsMkRDb21wb25lbnQucHJvdG90eXBlLCBcInlBeGlzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQmFyVmVydGljYWwyRENvbXBvbmVudC5wcm90b3R5cGUsIFwic2hvd1hBeGlzTGFiZWxcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBCYXJWZXJ0aWNhbDJEQ29tcG9uZW50LnByb3RvdHlwZSwgXCJzaG93WUF4aXNMYWJlbFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEJhclZlcnRpY2FsMkRDb21wb25lbnQucHJvdG90eXBlLCBcInhBeGlzTGFiZWxcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBCYXJWZXJ0aWNhbDJEQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ5QXhpc0xhYmVsXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIEJhclZlcnRpY2FsMkRDb21wb25lbnQucHJvdG90eXBlLCBcInRvb2x0aXBEaXNhYmxlZFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEJhclZlcnRpY2FsMkRDb21wb25lbnQucHJvdG90eXBlLCBcInNjYWxlVHlwZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbiAgICBdLCBCYXJWZXJ0aWNhbDJEQ29tcG9uZW50LnByb3RvdHlwZSwgXCJncmFkaWVudFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbiAgICBdLCBCYXJWZXJ0aWNhbDJEQ29tcG9uZW50LnByb3RvdHlwZSwgXCJzaG93R3JpZExpbmVzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBBcnJheSlcbiAgICBdLCBCYXJWZXJ0aWNhbDJEQ29tcG9uZW50LnByb3RvdHlwZSwgXCJhY3RpdmVFbnRyaWVzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBTdHJpbmcpXG4gICAgXSwgQmFyVmVydGljYWwyRENvbXBvbmVudC5wcm90b3R5cGUsIFwic2NoZW1lVHlwZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbiAgICBdLCBCYXJWZXJ0aWNhbDJEQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ0cmltWEF4aXNUaWNrc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbiAgICBdLCBCYXJWZXJ0aWNhbDJEQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ0cmltWUF4aXNUaWNrc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbiAgICBdLCBCYXJWZXJ0aWNhbDJEQ29tcG9uZW50LnByb3RvdHlwZSwgXCJyb3RhdGVYQXhpc1RpY2tzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBOdW1iZXIpXG4gICAgXSwgQmFyVmVydGljYWwyRENvbXBvbmVudC5wcm90b3R5cGUsIFwibWF4WEF4aXNUaWNrTGVuZ3RoXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBOdW1iZXIpXG4gICAgXSwgQmFyVmVydGljYWwyRENvbXBvbmVudC5wcm90b3R5cGUsIFwibWF4WUF4aXNUaWNrTGVuZ3RoXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQmFyVmVydGljYWwyRENvbXBvbmVudC5wcm90b3R5cGUsIFwieEF4aXNUaWNrRm9ybWF0dGluZ1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEJhclZlcnRpY2FsMkRDb21wb25lbnQucHJvdG90eXBlLCBcInlBeGlzVGlja0Zvcm1hdHRpbmdcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEFycmF5KVxuICAgIF0sIEJhclZlcnRpY2FsMkRDb21wb25lbnQucHJvdG90eXBlLCBcInhBeGlzVGlja3NcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEFycmF5KVxuICAgIF0sIEJhclZlcnRpY2FsMkRDb21wb25lbnQucHJvdG90eXBlLCBcInlBeGlzVGlja3NcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBCYXJWZXJ0aWNhbDJEQ29tcG9uZW50LnByb3RvdHlwZSwgXCJncm91cFBhZGRpbmdcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBCYXJWZXJ0aWNhbDJEQ29tcG9uZW50LnByb3RvdHlwZSwgXCJiYXJQYWRkaW5nXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIEJhclZlcnRpY2FsMkRDb21wb25lbnQucHJvdG90eXBlLCBcInJvdW5kRG9tYWluc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbiAgICBdLCBCYXJWZXJ0aWNhbDJEQ29tcG9uZW50LnByb3RvdHlwZSwgXCJyb3VuZEVkZ2VzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBOdW1iZXIpXG4gICAgXSwgQmFyVmVydGljYWwyRENvbXBvbmVudC5wcm90b3R5cGUsIFwieVNjYWxlTWF4XCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIEJhclZlcnRpY2FsMkRDb21wb25lbnQucHJvdG90eXBlLCBcInNob3dEYXRhTGFiZWxcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBCYXJWZXJ0aWNhbDJEQ29tcG9uZW50LnByb3RvdHlwZSwgXCJkYXRhTGFiZWxGb3JtYXR0aW5nXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIEJhclZlcnRpY2FsMkRDb21wb25lbnQucHJvdG90eXBlLCBcIm5vQmFyV2hlblplcm9cIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgT3V0cHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCB0eXBlb2YgKF9hID0gdHlwZW9mIEV2ZW50RW1pdHRlciAhPT0gXCJ1bmRlZmluZWRcIiAmJiBFdmVudEVtaXR0ZXIpID09PSBcImZ1bmN0aW9uXCIgPyBfYSA6IE9iamVjdClcbiAgICBdLCBCYXJWZXJ0aWNhbDJEQ29tcG9uZW50LnByb3RvdHlwZSwgXCJhY3RpdmF0ZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBPdXRwdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIHR5cGVvZiAoX2IgPSB0eXBlb2YgRXZlbnRFbWl0dGVyICE9PSBcInVuZGVmaW5lZFwiICYmIEV2ZW50RW1pdHRlcikgPT09IFwiZnVuY3Rpb25cIiA/IF9iIDogT2JqZWN0KVxuICAgIF0sIEJhclZlcnRpY2FsMkRDb21wb25lbnQucHJvdG90eXBlLCBcImRlYWN0aXZhdGVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgQ29udGVudENoaWxkKCd0b29sdGlwVGVtcGxhdGUnLCB7IHN0YXRpYzogZmFsc2UgfSksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCB0eXBlb2YgKF9jID0gdHlwZW9mIFRlbXBsYXRlUmVmICE9PSBcInVuZGVmaW5lZFwiICYmIFRlbXBsYXRlUmVmKSA9PT0gXCJmdW5jdGlvblwiID8gX2MgOiBPYmplY3QpXG4gICAgXSwgQmFyVmVydGljYWwyRENvbXBvbmVudC5wcm90b3R5cGUsIFwidG9vbHRpcFRlbXBsYXRlXCIsIHZvaWQgMCk7XG4gICAgQmFyVmVydGljYWwyRENvbXBvbmVudCA9IF9fZGVjb3JhdGUoW1xuICAgICAgICBDb21wb25lbnQoe1xuICAgICAgICAgICAgc2VsZWN0b3I6ICduZ3gtY2hhcnRzLWJhci12ZXJ0aWNhbC0yZCcsXG4gICAgICAgICAgICB0ZW1wbGF0ZTogXCJcXG4gICAgPG5neC1jaGFydHMtY2hhcnRcXG4gICAgICBbdmlld109XFxcIlt3aWR0aCwgaGVpZ2h0XVxcXCJcXG4gICAgICBbc2hvd0xlZ2VuZF09XFxcImxlZ2VuZFxcXCJcXG4gICAgICBbbGVnZW5kT3B0aW9uc109XFxcImxlZ2VuZE9wdGlvbnNcXFwiXFxuICAgICAgW2FjdGl2ZUVudHJpZXNdPVxcXCJhY3RpdmVFbnRyaWVzXFxcIlxcbiAgICAgIFthbmltYXRpb25zXT1cXFwiYW5pbWF0aW9uc1xcXCJcXG4gICAgICAobGVnZW5kTGFiZWxBY3RpdmF0ZSk9XFxcIm9uQWN0aXZhdGUoJGV2ZW50LCB1bmRlZmluZWQsIHRydWUpXFxcIlxcbiAgICAgIChsZWdlbmRMYWJlbERlYWN0aXZhdGUpPVxcXCJvbkRlYWN0aXZhdGUoJGV2ZW50LCB1bmRlZmluZWQsIHRydWUpXFxcIlxcbiAgICAgIChsZWdlbmRMYWJlbENsaWNrKT1cXFwib25DbGljaygkZXZlbnQpXFxcIlxcbiAgICA+XFxuICAgICAgPHN2ZzpnIFthdHRyLnRyYW5zZm9ybV09XFxcInRyYW5zZm9ybVxcXCIgY2xhc3M9XFxcImJhci1jaGFydCBjaGFydFxcXCI+XFxuICAgICAgICA8c3ZnOmdcXG4gICAgICAgICAgbmd4LWNoYXJ0cy1ncmlkLXBhbmVsLXNlcmllc1xcbiAgICAgICAgICBbeFNjYWxlXT1cXFwiZ3JvdXBTY2FsZVxcXCJcXG4gICAgICAgICAgW3lTY2FsZV09XFxcInZhbHVlU2NhbGVcXFwiXFxuICAgICAgICAgIFtkYXRhXT1cXFwicmVzdWx0c1xcXCJcXG4gICAgICAgICAgW2RpbXNdPVxcXCJkaW1zXFxcIlxcbiAgICAgICAgICBvcmllbnQ9XFxcInZlcnRpY2FsXFxcIlxcbiAgICAgICAgPjwvc3ZnOmc+XFxuICAgICAgICA8c3ZnOmdcXG4gICAgICAgICAgbmd4LWNoYXJ0cy14LWF4aXNcXG4gICAgICAgICAgKm5nSWY9XFxcInhBeGlzXFxcIlxcbiAgICAgICAgICBbeFNjYWxlXT1cXFwiZ3JvdXBTY2FsZVxcXCJcXG4gICAgICAgICAgW2RpbXNdPVxcXCJkaW1zXFxcIlxcbiAgICAgICAgICBbc2hvd0xhYmVsXT1cXFwic2hvd1hBeGlzTGFiZWxcXFwiXFxuICAgICAgICAgIFtsYWJlbFRleHRdPVxcXCJ4QXhpc0xhYmVsXFxcIlxcbiAgICAgICAgICBbdHJpbVRpY2tzXT1cXFwidHJpbVhBeGlzVGlja3NcXFwiXFxuICAgICAgICAgIFtyb3RhdGVUaWNrc109XFxcInJvdGF0ZVhBeGlzVGlja3NcXFwiXFxuICAgICAgICAgIFttYXhUaWNrTGVuZ3RoXT1cXFwibWF4WEF4aXNUaWNrTGVuZ3RoXFxcIlxcbiAgICAgICAgICBbdGlja0Zvcm1hdHRpbmddPVxcXCJ4QXhpc1RpY2tGb3JtYXR0aW5nXFxcIlxcbiAgICAgICAgICBbdGlja3NdPVxcXCJ4QXhpc1RpY2tzXFxcIlxcbiAgICAgICAgICBbeEF4aXNPZmZzZXRdPVxcXCJkYXRhTGFiZWxNYXhIZWlnaHQubmVnYXRpdmVcXFwiXFxuICAgICAgICAgIChkaW1lbnNpb25zQ2hhbmdlZCk9XFxcInVwZGF0ZVhBeGlzSGVpZ2h0KCRldmVudClcXFwiXFxuICAgICAgICA+PC9zdmc6Zz5cXG4gICAgICAgIDxzdmc6Z1xcbiAgICAgICAgICBuZ3gtY2hhcnRzLXktYXhpc1xcbiAgICAgICAgICAqbmdJZj1cXFwieUF4aXNcXFwiXFxuICAgICAgICAgIFt5U2NhbGVdPVxcXCJ2YWx1ZVNjYWxlXFxcIlxcbiAgICAgICAgICBbZGltc109XFxcImRpbXNcXFwiXFxuICAgICAgICAgIFtzaG93R3JpZExpbmVzXT1cXFwic2hvd0dyaWRMaW5lc1xcXCJcXG4gICAgICAgICAgW3Nob3dMYWJlbF09XFxcInNob3dZQXhpc0xhYmVsXFxcIlxcbiAgICAgICAgICBbbGFiZWxUZXh0XT1cXFwieUF4aXNMYWJlbFxcXCJcXG4gICAgICAgICAgW3RyaW1UaWNrc109XFxcInRyaW1ZQXhpc1RpY2tzXFxcIlxcbiAgICAgICAgICBbbWF4VGlja0xlbmd0aF09XFxcIm1heFlBeGlzVGlja0xlbmd0aFxcXCJcXG4gICAgICAgICAgW3RpY2tGb3JtYXR0aW5nXT1cXFwieUF4aXNUaWNrRm9ybWF0dGluZ1xcXCJcXG4gICAgICAgICAgW3RpY2tzXT1cXFwieUF4aXNUaWNrc1xcXCJcXG4gICAgICAgICAgKGRpbWVuc2lvbnNDaGFuZ2VkKT1cXFwidXBkYXRlWUF4aXNXaWR0aCgkZXZlbnQpXFxcIlxcbiAgICAgICAgPjwvc3ZnOmc+XFxuICAgICAgICA8c3ZnOmdcXG4gICAgICAgICAgbmd4LWNoYXJ0cy1zZXJpZXMtdmVydGljYWxcXG4gICAgICAgICAgKm5nRm9yPVxcXCJsZXQgZ3JvdXAgb2YgcmVzdWx0czsgbGV0IGluZGV4ID0gaW5kZXg7IHRyYWNrQnk6IHRyYWNrQnlcXFwiXFxuICAgICAgICAgIFtAYW5pbWF0aW9uU3RhdGVdPVxcXCInYWN0aXZlJ1xcXCJcXG4gICAgICAgICAgW2F0dHIudHJhbnNmb3JtXT1cXFwiZ3JvdXBUcmFuc2Zvcm0oZ3JvdXApXFxcIlxcbiAgICAgICAgICBbYWN0aXZlRW50cmllc109XFxcImFjdGl2ZUVudHJpZXNcXFwiXFxuICAgICAgICAgIFt4U2NhbGVdPVxcXCJpbm5lclNjYWxlXFxcIlxcbiAgICAgICAgICBbeVNjYWxlXT1cXFwidmFsdWVTY2FsZVxcXCJcXG4gICAgICAgICAgW2NvbG9yc109XFxcImNvbG9yc1xcXCJcXG4gICAgICAgICAgW3Nlcmllc109XFxcImdyb3VwLnNlcmllc1xcXCJcXG4gICAgICAgICAgW2RpbXNdPVxcXCJkaW1zXFxcIlxcbiAgICAgICAgICBbZ3JhZGllbnRdPVxcXCJncmFkaWVudFxcXCJcXG4gICAgICAgICAgW3Rvb2x0aXBEaXNhYmxlZF09XFxcInRvb2x0aXBEaXNhYmxlZFxcXCJcXG4gICAgICAgICAgW3Rvb2x0aXBUZW1wbGF0ZV09XFxcInRvb2x0aXBUZW1wbGF0ZVxcXCJcXG4gICAgICAgICAgW3Nob3dEYXRhTGFiZWxdPVxcXCJzaG93RGF0YUxhYmVsXFxcIlxcbiAgICAgICAgICBbZGF0YUxhYmVsRm9ybWF0dGluZ109XFxcImRhdGFMYWJlbEZvcm1hdHRpbmdcXFwiXFxuICAgICAgICAgIFtzZXJpZXNOYW1lXT1cXFwiZ3JvdXAubmFtZVxcXCJcXG4gICAgICAgICAgW3JvdW5kRWRnZXNdPVxcXCJyb3VuZEVkZ2VzXFxcIlxcbiAgICAgICAgICBbYW5pbWF0aW9uc109XFxcImFuaW1hdGlvbnNcXFwiXFxuICAgICAgICAgIFtub0JhcldoZW5aZXJvXT1cXFwibm9CYXJXaGVuWmVyb1xcXCJcXG4gICAgICAgICAgKHNlbGVjdCk9XFxcIm9uQ2xpY2soJGV2ZW50LCBncm91cClcXFwiXFxuICAgICAgICAgIChhY3RpdmF0ZSk9XFxcIm9uQWN0aXZhdGUoJGV2ZW50LCBncm91cClcXFwiXFxuICAgICAgICAgIChkZWFjdGl2YXRlKT1cXFwib25EZWFjdGl2YXRlKCRldmVudCwgZ3JvdXApXFxcIlxcbiAgICAgICAgICAoZGF0YUxhYmVsSGVpZ2h0Q2hhbmdlZCk9XFxcIm9uRGF0YUxhYmVsTWF4SGVpZ2h0Q2hhbmdlZCgkZXZlbnQsIGluZGV4KVxcXCJcXG4gICAgICAgIC8+XFxuICAgICAgPC9zdmc6Zz5cXG4gICAgPC9uZ3gtY2hhcnRzLWNoYXJ0PlxcbiAgXCIsXG4gICAgICAgICAgICBzdHlsZXM6IFtcIi5uZ3gtY2hhcnRze2Zsb2F0OmxlZnQ7b3ZlcmZsb3c6dmlzaWJsZX0ubmd4LWNoYXJ0cyAuYXJjLC5uZ3gtY2hhcnRzIC5iYXIsLm5neC1jaGFydHMgLmNpcmNsZXtjdXJzb3I6cG9pbnRlcn0ubmd4LWNoYXJ0cyAuYXJjLmFjdGl2ZSwubmd4LWNoYXJ0cyAuYXJjOmhvdmVyLC5uZ3gtY2hhcnRzIC5iYXIuYWN0aXZlLC5uZ3gtY2hhcnRzIC5iYXI6aG92ZXIsLm5neC1jaGFydHMgLmNhcmQuYWN0aXZlLC5uZ3gtY2hhcnRzIC5jYXJkOmhvdmVyLC5uZ3gtY2hhcnRzIC5jZWxsLmFjdGl2ZSwubmd4LWNoYXJ0cyAuY2VsbDpob3ZlcntvcGFjaXR5Oi44O3RyYW5zaXRpb246b3BhY2l0eSAuMXMgZWFzZS1pbi1vdXR9Lm5neC1jaGFydHMgLmFyYzpmb2N1cywubmd4LWNoYXJ0cyAuYmFyOmZvY3VzLC5uZ3gtY2hhcnRzIC5jYXJkOmZvY3VzLC5uZ3gtY2hhcnRzIC5jZWxsOmZvY3Vze291dGxpbmU6MH0ubmd4LWNoYXJ0cyAuYXJjLmhpZGRlbiwubmd4LWNoYXJ0cyAuYmFyLmhpZGRlbiwubmd4LWNoYXJ0cyAuY2FyZC5oaWRkZW4sLm5neC1jaGFydHMgLmNlbGwuaGlkZGVue2Rpc3BsYXk6bm9uZX0ubmd4LWNoYXJ0cyBnOmZvY3Vze291dGxpbmU6MH0ubmd4LWNoYXJ0cyAuYXJlYS1zZXJpZXMuaW5hY3RpdmUsLm5neC1jaGFydHMgLmxpbmUtc2VyaWVzLXJhbmdlLmluYWN0aXZlLC5uZ3gtY2hhcnRzIC5saW5lLXNlcmllcy5pbmFjdGl2ZSwubmd4LWNoYXJ0cyAucG9sYXItc2VyaWVzLWFyZWEuaW5hY3RpdmUsLm5neC1jaGFydHMgLnBvbGFyLXNlcmllcy1wYXRoLmluYWN0aXZle3RyYW5zaXRpb246b3BhY2l0eSAuMXMgZWFzZS1pbi1vdXQ7b3BhY2l0eTouMn0ubmd4LWNoYXJ0cyAubGluZS1oaWdobGlnaHR7ZGlzcGxheTpub25lfS5uZ3gtY2hhcnRzIC5saW5lLWhpZ2hsaWdodC5hY3RpdmV7ZGlzcGxheTpibG9ja30ubmd4LWNoYXJ0cyAuYXJlYXtvcGFjaXR5Oi42fS5uZ3gtY2hhcnRzIC5jaXJjbGU6aG92ZXJ7Y3Vyc29yOnBvaW50ZXJ9Lm5neC1jaGFydHMgLmxhYmVse2ZvbnQtc2l6ZToxMnB4O2ZvbnQtd2VpZ2h0OjQwMH0ubmd4LWNoYXJ0cyAudG9vbHRpcC1hbmNob3J7ZmlsbDojMDAwfS5uZ3gtY2hhcnRzIC5ncmlkbGluZS1wYXRoe3N0cm9rZTojZGRkO3N0cm9rZS13aWR0aDoxO2ZpbGw6bm9uZX0ubmd4LWNoYXJ0cyAucmVmbGluZS1wYXRoe3N0cm9rZTojYThiMmM3O3N0cm9rZS13aWR0aDoxO3N0cm9rZS1kYXNoYXJyYXk6NTtzdHJva2UtZGFzaG9mZnNldDo1fS5uZ3gtY2hhcnRzIC5yZWZsaW5lLWxhYmVse2ZvbnQtc2l6ZTo5cHh9Lm5neC1jaGFydHMgLnJlZmVyZW5jZS1hcmVhe2ZpbGwtb3BhY2l0eTouMDU7ZmlsbDojMDAwfS5uZ3gtY2hhcnRzIC5ncmlkbGluZS1wYXRoLWRvdHRlZHtzdHJva2U6I2RkZDtzdHJva2Utd2lkdGg6MTtmaWxsOm5vbmU7c3Ryb2tlLWRhc2hhcnJheToxLDIwO3N0cm9rZS1kYXNob2Zmc2V0OjN9Lm5neC1jaGFydHMgLmdyaWQtcGFuZWwgcmVjdHtmaWxsOm5vbmV9Lm5neC1jaGFydHMgLmdyaWQtcGFuZWwub2RkIHJlY3R7ZmlsbDpyZ2JhKDAsMCwwLC4wNSl9XCJdLFxuICAgICAgICAgICAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZSxcbiAgICAgICAgICAgIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoLFxuICAgICAgICAgICAgYW5pbWF0aW9uczogW1xuICAgICAgICAgICAgICAgIHRyaWdnZXIoJ2FuaW1hdGlvblN0YXRlJywgW1xuICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uKCc6bGVhdmUnLCBbXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06ICcqJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRlKDUwMCwgc3R5bGUoeyBvcGFjaXR5OiAwLCB0cmFuc2Zvcm06ICdzY2FsZSgwKScgfSkpXG4gICAgICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgIF1cbiAgICAgICAgfSlcbiAgICBdLCBCYXJWZXJ0aWNhbDJEQ29tcG9uZW50KTtcbiAgICByZXR1cm4gQmFyVmVydGljYWwyRENvbXBvbmVudDtcbn0oQmFzZUNoYXJ0Q29tcG9uZW50KSk7XG5cbnZhciBCYXJWZXJ0aWNhbE5vcm1hbGl6ZWRDb21wb25lbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEJhclZlcnRpY2FsTm9ybWFsaXplZENvbXBvbmVudCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBCYXJWZXJ0aWNhbE5vcm1hbGl6ZWRDb21wb25lbnQoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5sZWdlbmQgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMubGVnZW5kVGl0bGUgPSAnTGVnZW5kJztcbiAgICAgICAgX3RoaXMubGVnZW5kUG9zaXRpb24gPSAncmlnaHQnO1xuICAgICAgICBfdGhpcy50b29sdGlwRGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuc2hvd0dyaWRMaW5lcyA9IHRydWU7XG4gICAgICAgIF90aGlzLmFjdGl2ZUVudHJpZXMgPSBbXTtcbiAgICAgICAgX3RoaXMudHJpbVhBeGlzVGlja3MgPSB0cnVlO1xuICAgICAgICBfdGhpcy50cmltWUF4aXNUaWNrcyA9IHRydWU7XG4gICAgICAgIF90aGlzLnJvdGF0ZVhBeGlzVGlja3MgPSB0cnVlO1xuICAgICAgICBfdGhpcy5tYXhYQXhpc1RpY2tMZW5ndGggPSAxNjtcbiAgICAgICAgX3RoaXMubWF4WUF4aXNUaWNrTGVuZ3RoID0gMTY7XG4gICAgICAgIF90aGlzLmJhclBhZGRpbmcgPSA4O1xuICAgICAgICBfdGhpcy5yb3VuZERvbWFpbnMgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMubm9CYXJXaGVuWmVybyA9IHRydWU7XG4gICAgICAgIF90aGlzLmFjdGl2YXRlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICBfdGhpcy5kZWFjdGl2YXRlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICBfdGhpcy5tYXJnaW4gPSBbMTAsIDIwLCAxMCwgMjBdO1xuICAgICAgICBfdGhpcy54QXhpc0hlaWdodCA9IDA7XG4gICAgICAgIF90aGlzLnlBeGlzV2lkdGggPSAwO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEJhclZlcnRpY2FsTm9ybWFsaXplZENvbXBvbmVudC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLnVwZGF0ZS5jYWxsKHRoaXMpO1xuICAgICAgICB0aGlzLmRpbXMgPSBjYWxjdWxhdGVWaWV3RGltZW5zaW9ucyh7XG4gICAgICAgICAgICB3aWR0aDogdGhpcy53aWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogdGhpcy5oZWlnaHQsXG4gICAgICAgICAgICBtYXJnaW5zOiB0aGlzLm1hcmdpbixcbiAgICAgICAgICAgIHNob3dYQXhpczogdGhpcy54QXhpcyxcbiAgICAgICAgICAgIHNob3dZQXhpczogdGhpcy55QXhpcyxcbiAgICAgICAgICAgIHhBeGlzSGVpZ2h0OiB0aGlzLnhBeGlzSGVpZ2h0LFxuICAgICAgICAgICAgeUF4aXNXaWR0aDogdGhpcy55QXhpc1dpZHRoLFxuICAgICAgICAgICAgc2hvd1hMYWJlbDogdGhpcy5zaG93WEF4aXNMYWJlbCxcbiAgICAgICAgICAgIHNob3dZTGFiZWw6IHRoaXMuc2hvd1lBeGlzTGFiZWwsXG4gICAgICAgICAgICBzaG93TGVnZW5kOiB0aGlzLmxlZ2VuZCxcbiAgICAgICAgICAgIGxlZ2VuZFR5cGU6IHRoaXMuc2NoZW1lVHlwZSxcbiAgICAgICAgICAgIGxlZ2VuZFBvc2l0aW9uOiB0aGlzLmxlZ2VuZFBvc2l0aW9uXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmZvcm1hdERhdGVzKCk7XG4gICAgICAgIHRoaXMuZ3JvdXBEb21haW4gPSB0aGlzLmdldEdyb3VwRG9tYWluKCk7XG4gICAgICAgIHRoaXMuaW5uZXJEb21haW4gPSB0aGlzLmdldElubmVyRG9tYWluKCk7XG4gICAgICAgIHRoaXMudmFsdWVEb21haW4gPSB0aGlzLmdldFZhbHVlRG9tYWluKCk7XG4gICAgICAgIHRoaXMueFNjYWxlID0gdGhpcy5nZXRYU2NhbGUoKTtcbiAgICAgICAgdGhpcy55U2NhbGUgPSB0aGlzLmdldFlTY2FsZSgpO1xuICAgICAgICB0aGlzLnNldENvbG9ycygpO1xuICAgICAgICB0aGlzLmxlZ2VuZE9wdGlvbnMgPSB0aGlzLmdldExlZ2VuZE9wdGlvbnMoKTtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0gPSBcInRyYW5zbGF0ZShcIiArIHRoaXMuZGltcy54T2Zmc2V0ICsgXCIgLCBcIiArIHRoaXMubWFyZ2luWzBdICsgXCIpXCI7XG4gICAgfTtcbiAgICBCYXJWZXJ0aWNhbE5vcm1hbGl6ZWRDb21wb25lbnQucHJvdG90eXBlLmdldEdyb3VwRG9tYWluID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZG9tYWluID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSB0aGlzLnJlc3VsdHM7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgZ3JvdXAgPSBfYVtfaV07XG4gICAgICAgICAgICBpZiAoIWRvbWFpbi5pbmNsdWRlcyhncm91cC5sYWJlbCkpIHtcbiAgICAgICAgICAgICAgICBkb21haW4ucHVzaChncm91cC5sYWJlbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRvbWFpbjtcbiAgICB9O1xuICAgIEJhclZlcnRpY2FsTm9ybWFsaXplZENvbXBvbmVudC5wcm90b3R5cGUuZ2V0SW5uZXJEb21haW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkb21haW4gPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHRoaXMucmVzdWx0czsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHZhciBncm91cCA9IF9hW19pXTtcbiAgICAgICAgICAgIGZvciAodmFyIF9iID0gMCwgX2MgPSBncm91cC5zZXJpZXM7IF9iIDwgX2MubGVuZ3RoOyBfYisrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGQgPSBfY1tfYl07XG4gICAgICAgICAgICAgICAgaWYgKCFkb21haW4uaW5jbHVkZXMoZC5sYWJlbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgZG9tYWluLnB1c2goZC5sYWJlbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkb21haW47XG4gICAgfTtcbiAgICBCYXJWZXJ0aWNhbE5vcm1hbGl6ZWRDb21wb25lbnQucHJvdG90eXBlLmdldFZhbHVlRG9tYWluID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gWzAsIDEwMF07XG4gICAgfTtcbiAgICBCYXJWZXJ0aWNhbE5vcm1hbGl6ZWRDb21wb25lbnQucHJvdG90eXBlLmdldFhTY2FsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNwYWNpbmcgPSB0aGlzLmdyb3VwRG9tYWluLmxlbmd0aCAvICh0aGlzLmRpbXMud2lkdGggLyB0aGlzLmJhclBhZGRpbmcgKyAxKTtcbiAgICAgICAgcmV0dXJuIHNjYWxlQmFuZCgpXG4gICAgICAgICAgICAucmFuZ2VSb3VuZChbMCwgdGhpcy5kaW1zLndpZHRoXSlcbiAgICAgICAgICAgIC5wYWRkaW5nSW5uZXIoc3BhY2luZylcbiAgICAgICAgICAgIC5kb21haW4odGhpcy5ncm91cERvbWFpbik7XG4gICAgfTtcbiAgICBCYXJWZXJ0aWNhbE5vcm1hbGl6ZWRDb21wb25lbnQucHJvdG90eXBlLmdldFlTY2FsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNjYWxlID0gc2NhbGVMaW5lYXIoKVxuICAgICAgICAgICAgLnJhbmdlKFt0aGlzLmRpbXMuaGVpZ2h0LCAwXSlcbiAgICAgICAgICAgIC5kb21haW4odGhpcy52YWx1ZURvbWFpbik7XG4gICAgICAgIHJldHVybiB0aGlzLnJvdW5kRG9tYWlucyA/IHNjYWxlLm5pY2UoKSA6IHNjYWxlO1xuICAgIH07XG4gICAgQmFyVmVydGljYWxOb3JtYWxpemVkQ29tcG9uZW50LnByb3RvdHlwZS5ncm91cFRyYW5zZm9ybSA9IGZ1bmN0aW9uIChncm91cCkge1xuICAgICAgICByZXR1cm4gXCJ0cmFuc2xhdGUoXCIgKyB0aGlzLnhTY2FsZShncm91cC5uYW1lKSArIFwiLCAwKVwiO1xuICAgIH07XG4gICAgQmFyVmVydGljYWxOb3JtYWxpemVkQ29tcG9uZW50LnByb3RvdHlwZS5vbkNsaWNrID0gZnVuY3Rpb24gKGRhdGEsIGdyb3VwKSB7XG4gICAgICAgIGlmIChncm91cCkge1xuICAgICAgICAgICAgZGF0YS5zZXJpZXMgPSBncm91cC5uYW1lO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2VsZWN0LmVtaXQoZGF0YSk7XG4gICAgfTtcbiAgICBCYXJWZXJ0aWNhbE5vcm1hbGl6ZWRDb21wb25lbnQucHJvdG90eXBlLnRyYWNrQnkgPSBmdW5jdGlvbiAoaW5kZXgsIGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIGl0ZW0ubmFtZTtcbiAgICB9O1xuICAgIEJhclZlcnRpY2FsTm9ybWFsaXplZENvbXBvbmVudC5wcm90b3R5cGUuc2V0Q29sb3JzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZG9tYWluO1xuICAgICAgICBpZiAodGhpcy5zY2hlbWVUeXBlID09PSAnb3JkaW5hbCcpIHtcbiAgICAgICAgICAgIGRvbWFpbiA9IHRoaXMuaW5uZXJEb21haW47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkb21haW4gPSB0aGlzLnZhbHVlRG9tYWluO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29sb3JzID0gbmV3IENvbG9ySGVscGVyKHRoaXMuc2NoZW1lLCB0aGlzLnNjaGVtZVR5cGUsIGRvbWFpbiwgdGhpcy5jdXN0b21Db2xvcnMpO1xuICAgIH07XG4gICAgQmFyVmVydGljYWxOb3JtYWxpemVkQ29tcG9uZW50LnByb3RvdHlwZS5nZXRMZWdlbmRPcHRpb25zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgb3B0cyA9IHtcbiAgICAgICAgICAgIHNjYWxlVHlwZTogdGhpcy5zY2hlbWVUeXBlLFxuICAgICAgICAgICAgY29sb3JzOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBkb21haW46IFtdLFxuICAgICAgICAgICAgdGl0bGU6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHBvc2l0aW9uOiB0aGlzLmxlZ2VuZFBvc2l0aW9uXG4gICAgICAgIH07XG4gICAgICAgIGlmIChvcHRzLnNjYWxlVHlwZSA9PT0gJ29yZGluYWwnKSB7XG4gICAgICAgICAgICBvcHRzLmRvbWFpbiA9IHRoaXMuaW5uZXJEb21haW47XG4gICAgICAgICAgICBvcHRzLmNvbG9ycyA9IHRoaXMuY29sb3JzO1xuICAgICAgICAgICAgb3B0cy50aXRsZSA9IHRoaXMubGVnZW5kVGl0bGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvcHRzLmRvbWFpbiA9IHRoaXMudmFsdWVEb21haW47XG4gICAgICAgICAgICBvcHRzLmNvbG9ycyA9IHRoaXMuY29sb3JzLnNjYWxlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvcHRzO1xuICAgIH07XG4gICAgQmFyVmVydGljYWxOb3JtYWxpemVkQ29tcG9uZW50LnByb3RvdHlwZS51cGRhdGVZQXhpc1dpZHRoID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciB3aWR0aCA9IF9hLndpZHRoO1xuICAgICAgICB0aGlzLnlBeGlzV2lkdGggPSB3aWR0aDtcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICB9O1xuICAgIEJhclZlcnRpY2FsTm9ybWFsaXplZENvbXBvbmVudC5wcm90b3R5cGUudXBkYXRlWEF4aXNIZWlnaHQgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIGhlaWdodCA9IF9hLmhlaWdodDtcbiAgICAgICAgdGhpcy54QXhpc0hlaWdodCA9IGhlaWdodDtcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICB9O1xuICAgIEJhclZlcnRpY2FsTm9ybWFsaXplZENvbXBvbmVudC5wcm90b3R5cGUub25BY3RpdmF0ZSA9IGZ1bmN0aW9uIChldmVudCQkMSwgZ3JvdXAsIGZyb21MZWdlbmQpIHtcbiAgICAgICAgaWYgKGZyb21MZWdlbmQgPT09IHZvaWQgMCkgeyBmcm9tTGVnZW5kID0gZmFsc2U7IH1cbiAgICAgICAgdmFyIGl0ZW0gPSBPYmplY3QuYXNzaWduKHt9LCBldmVudCQkMSk7XG4gICAgICAgIGlmIChncm91cCkge1xuICAgICAgICAgICAgaXRlbS5zZXJpZXMgPSBncm91cC5uYW1lO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpdGVtcyA9IHRoaXMucmVzdWx0c1xuICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAoZykgeyByZXR1cm4gZy5zZXJpZXM7IH0pXG4gICAgICAgICAgICAuZmxhdCgpXG4gICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICBpZiAoZnJvbUxlZ2VuZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpLmxhYmVsID09PSBpdGVtLm5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaS5uYW1lID09PSBpdGVtLm5hbWUgJiYgaS5zZXJpZXMgPT09IGl0ZW0uc2VyaWVzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5hY3RpdmVFbnRyaWVzID0gaXRlbXMuc2xpY2UoKTtcbiAgICAgICAgdGhpcy5hY3RpdmF0ZS5lbWl0KHsgdmFsdWU6IGl0ZW0sIGVudHJpZXM6IHRoaXMuYWN0aXZlRW50cmllcyB9KTtcbiAgICB9O1xuICAgIEJhclZlcnRpY2FsTm9ybWFsaXplZENvbXBvbmVudC5wcm90b3R5cGUub25EZWFjdGl2YXRlID0gZnVuY3Rpb24gKGV2ZW50JCQxLCBncm91cCwgZnJvbUxlZ2VuZCkge1xuICAgICAgICBpZiAoZnJvbUxlZ2VuZCA9PT0gdm9pZCAwKSB7IGZyb21MZWdlbmQgPSBmYWxzZTsgfVxuICAgICAgICB2YXIgaXRlbSA9IE9iamVjdC5hc3NpZ24oe30sIGV2ZW50JCQxKTtcbiAgICAgICAgaWYgKGdyb3VwKSB7XG4gICAgICAgICAgICBpdGVtLnNlcmllcyA9IGdyb3VwLm5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hY3RpdmVFbnRyaWVzID0gdGhpcy5hY3RpdmVFbnRyaWVzLmZpbHRlcihmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgaWYgKGZyb21MZWdlbmQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaS5sYWJlbCAhPT0gaXRlbS5uYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICEoaS5uYW1lID09PSBpdGVtLm5hbWUgJiYgaS5zZXJpZXMgPT09IGl0ZW0uc2VyaWVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZGVhY3RpdmF0ZS5lbWl0KHsgdmFsdWU6IGl0ZW0sIGVudHJpZXM6IHRoaXMuYWN0aXZlRW50cmllcyB9KTtcbiAgICB9O1xuICAgIHZhciBfYSwgX2IsIF9jO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEJhclZlcnRpY2FsTm9ybWFsaXplZENvbXBvbmVudC5wcm90b3R5cGUsIFwibGVnZW5kXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBTdHJpbmcpXG4gICAgXSwgQmFyVmVydGljYWxOb3JtYWxpemVkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJsZWdlbmRUaXRsZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgU3RyaW5nKVxuICAgIF0sIEJhclZlcnRpY2FsTm9ybWFsaXplZENvbXBvbmVudC5wcm90b3R5cGUsIFwibGVnZW5kUG9zaXRpb25cIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBCYXJWZXJ0aWNhbE5vcm1hbGl6ZWRDb21wb25lbnQucHJvdG90eXBlLCBcInhBeGlzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQmFyVmVydGljYWxOb3JtYWxpemVkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ5QXhpc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEJhclZlcnRpY2FsTm9ybWFsaXplZENvbXBvbmVudC5wcm90b3R5cGUsIFwic2hvd1hBeGlzTGFiZWxcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBCYXJWZXJ0aWNhbE5vcm1hbGl6ZWRDb21wb25lbnQucHJvdG90eXBlLCBcInNob3dZQXhpc0xhYmVsXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQmFyVmVydGljYWxOb3JtYWxpemVkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ4QXhpc0xhYmVsXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQmFyVmVydGljYWxOb3JtYWxpemVkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ5QXhpc0xhYmVsXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIEJhclZlcnRpY2FsTm9ybWFsaXplZENvbXBvbmVudC5wcm90b3R5cGUsIFwidG9vbHRpcERpc2FibGVkXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIEJhclZlcnRpY2FsTm9ybWFsaXplZENvbXBvbmVudC5wcm90b3R5cGUsIFwiZ3JhZGllbnRcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEJvb2xlYW4pXG4gICAgXSwgQmFyVmVydGljYWxOb3JtYWxpemVkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJzaG93R3JpZExpbmVzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBBcnJheSlcbiAgICBdLCBCYXJWZXJ0aWNhbE5vcm1hbGl6ZWRDb21wb25lbnQucHJvdG90eXBlLCBcImFjdGl2ZUVudHJpZXNcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcbiAgICBdLCBCYXJWZXJ0aWNhbE5vcm1hbGl6ZWRDb21wb25lbnQucHJvdG90eXBlLCBcInNjaGVtZVR5cGVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEJvb2xlYW4pXG4gICAgXSwgQmFyVmVydGljYWxOb3JtYWxpemVkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ0cmltWEF4aXNUaWNrc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbiAgICBdLCBCYXJWZXJ0aWNhbE5vcm1hbGl6ZWRDb21wb25lbnQucHJvdG90eXBlLCBcInRyaW1ZQXhpc1RpY2tzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIEJhclZlcnRpY2FsTm9ybWFsaXplZENvbXBvbmVudC5wcm90b3R5cGUsIFwicm90YXRlWEF4aXNUaWNrc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgTnVtYmVyKVxuICAgIF0sIEJhclZlcnRpY2FsTm9ybWFsaXplZENvbXBvbmVudC5wcm90b3R5cGUsIFwibWF4WEF4aXNUaWNrTGVuZ3RoXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBOdW1iZXIpXG4gICAgXSwgQmFyVmVydGljYWxOb3JtYWxpemVkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJtYXhZQXhpc1RpY2tMZW5ndGhcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBCYXJWZXJ0aWNhbE5vcm1hbGl6ZWRDb21wb25lbnQucHJvdG90eXBlLCBcInhBeGlzVGlja0Zvcm1hdHRpbmdcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBCYXJWZXJ0aWNhbE5vcm1hbGl6ZWRDb21wb25lbnQucHJvdG90eXBlLCBcInlBeGlzVGlja0Zvcm1hdHRpbmdcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEFycmF5KVxuICAgIF0sIEJhclZlcnRpY2FsTm9ybWFsaXplZENvbXBvbmVudC5wcm90b3R5cGUsIFwieEF4aXNUaWNrc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQXJyYXkpXG4gICAgXSwgQmFyVmVydGljYWxOb3JtYWxpemVkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ5QXhpc1RpY2tzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQmFyVmVydGljYWxOb3JtYWxpemVkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJiYXJQYWRkaW5nXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIEJhclZlcnRpY2FsTm9ybWFsaXplZENvbXBvbmVudC5wcm90b3R5cGUsIFwicm91bmREb21haW5zXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIEJhclZlcnRpY2FsTm9ybWFsaXplZENvbXBvbmVudC5wcm90b3R5cGUsIFwibm9CYXJXaGVuWmVyb1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBPdXRwdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIHR5cGVvZiAoX2EgPSB0eXBlb2YgRXZlbnRFbWl0dGVyICE9PSBcInVuZGVmaW5lZFwiICYmIEV2ZW50RW1pdHRlcikgPT09IFwiZnVuY3Rpb25cIiA/IF9hIDogT2JqZWN0KVxuICAgIF0sIEJhclZlcnRpY2FsTm9ybWFsaXplZENvbXBvbmVudC5wcm90b3R5cGUsIFwiYWN0aXZhdGVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgT3V0cHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCB0eXBlb2YgKF9iID0gdHlwZW9mIEV2ZW50RW1pdHRlciAhPT0gXCJ1bmRlZmluZWRcIiAmJiBFdmVudEVtaXR0ZXIpID09PSBcImZ1bmN0aW9uXCIgPyBfYiA6IE9iamVjdClcbiAgICBdLCBCYXJWZXJ0aWNhbE5vcm1hbGl6ZWRDb21wb25lbnQucHJvdG90eXBlLCBcImRlYWN0aXZhdGVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgQ29udGVudENoaWxkKCd0b29sdGlwVGVtcGxhdGUnLCB7IHN0YXRpYzogZmFsc2UgfSksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCB0eXBlb2YgKF9jID0gdHlwZW9mIFRlbXBsYXRlUmVmICE9PSBcInVuZGVmaW5lZFwiICYmIFRlbXBsYXRlUmVmKSA9PT0gXCJmdW5jdGlvblwiID8gX2MgOiBPYmplY3QpXG4gICAgXSwgQmFyVmVydGljYWxOb3JtYWxpemVkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ0b29sdGlwVGVtcGxhdGVcIiwgdm9pZCAwKTtcbiAgICBCYXJWZXJ0aWNhbE5vcm1hbGl6ZWRDb21wb25lbnQgPSBfX2RlY29yYXRlKFtcbiAgICAgICAgQ29tcG9uZW50KHtcbiAgICAgICAgICAgIHNlbGVjdG9yOiAnbmd4LWNoYXJ0cy1iYXItdmVydGljYWwtbm9ybWFsaXplZCcsXG4gICAgICAgICAgICB0ZW1wbGF0ZTogXCJcXG4gICAgPG5neC1jaGFydHMtY2hhcnRcXG4gICAgICBbdmlld109XFxcIlt3aWR0aCwgaGVpZ2h0XVxcXCJcXG4gICAgICBbc2hvd0xlZ2VuZF09XFxcImxlZ2VuZFxcXCJcXG4gICAgICBbbGVnZW5kT3B0aW9uc109XFxcImxlZ2VuZE9wdGlvbnNcXFwiXFxuICAgICAgW2FjdGl2ZUVudHJpZXNdPVxcXCJhY3RpdmVFbnRyaWVzXFxcIlxcbiAgICAgIFthbmltYXRpb25zXT1cXFwiYW5pbWF0aW9uc1xcXCJcXG4gICAgICAobGVnZW5kTGFiZWxBY3RpdmF0ZSk9XFxcIm9uQWN0aXZhdGUoJGV2ZW50LCB1bmRlZmluZWQsIHRydWUpXFxcIlxcbiAgICAgIChsZWdlbmRMYWJlbERlYWN0aXZhdGUpPVxcXCJvbkRlYWN0aXZhdGUoJGV2ZW50LCB1bmRlZmluZWQsIHRydWUpXFxcIlxcbiAgICAgIChsZWdlbmRMYWJlbENsaWNrKT1cXFwib25DbGljaygkZXZlbnQpXFxcIlxcbiAgICA+XFxuICAgICAgPHN2ZzpnIFthdHRyLnRyYW5zZm9ybV09XFxcInRyYW5zZm9ybVxcXCIgY2xhc3M9XFxcImJhci1jaGFydCBjaGFydFxcXCI+XFxuICAgICAgICA8c3ZnOmdcXG4gICAgICAgICAgbmd4LWNoYXJ0cy14LWF4aXNcXG4gICAgICAgICAgKm5nSWY9XFxcInhBeGlzXFxcIlxcbiAgICAgICAgICBbeFNjYWxlXT1cXFwieFNjYWxlXFxcIlxcbiAgICAgICAgICBbZGltc109XFxcImRpbXNcXFwiXFxuICAgICAgICAgIFtzaG93TGFiZWxdPVxcXCJzaG93WEF4aXNMYWJlbFxcXCJcXG4gICAgICAgICAgW2xhYmVsVGV4dF09XFxcInhBeGlzTGFiZWxcXFwiXFxuICAgICAgICAgIFt0cmltVGlja3NdPVxcXCJ0cmltWEF4aXNUaWNrc1xcXCJcXG4gICAgICAgICAgW3JvdGF0ZVRpY2tzXT1cXFwicm90YXRlWEF4aXNUaWNrc1xcXCJcXG4gICAgICAgICAgW21heFRpY2tMZW5ndGhdPVxcXCJtYXhYQXhpc1RpY2tMZW5ndGhcXFwiXFxuICAgICAgICAgIFt0aWNrRm9ybWF0dGluZ109XFxcInhBeGlzVGlja0Zvcm1hdHRpbmdcXFwiXFxuICAgICAgICAgIFt0aWNrc109XFxcInhBeGlzVGlja3NcXFwiXFxuICAgICAgICAgIChkaW1lbnNpb25zQ2hhbmdlZCk9XFxcInVwZGF0ZVhBeGlzSGVpZ2h0KCRldmVudClcXFwiXFxuICAgICAgICA+PC9zdmc6Zz5cXG4gICAgICAgIDxzdmc6Z1xcbiAgICAgICAgICBuZ3gtY2hhcnRzLXktYXhpc1xcbiAgICAgICAgICAqbmdJZj1cXFwieUF4aXNcXFwiXFxuICAgICAgICAgIFt5U2NhbGVdPVxcXCJ5U2NhbGVcXFwiXFxuICAgICAgICAgIFtkaW1zXT1cXFwiZGltc1xcXCJcXG4gICAgICAgICAgW3Nob3dHcmlkTGluZXNdPVxcXCJzaG93R3JpZExpbmVzXFxcIlxcbiAgICAgICAgICBbc2hvd0xhYmVsXT1cXFwic2hvd1lBeGlzTGFiZWxcXFwiXFxuICAgICAgICAgIFtsYWJlbFRleHRdPVxcXCJ5QXhpc0xhYmVsXFxcIlxcbiAgICAgICAgICBbdHJpbVRpY2tzXT1cXFwidHJpbVlBeGlzVGlja3NcXFwiXFxuICAgICAgICAgIFttYXhUaWNrTGVuZ3RoXT1cXFwibWF4WUF4aXNUaWNrTGVuZ3RoXFxcIlxcbiAgICAgICAgICBbdGlja0Zvcm1hdHRpbmddPVxcXCJ5QXhpc1RpY2tGb3JtYXR0aW5nXFxcIlxcbiAgICAgICAgICBbdGlja3NdPVxcXCJ5QXhpc1RpY2tzXFxcIlxcbiAgICAgICAgICAoZGltZW5zaW9uc0NoYW5nZWQpPVxcXCJ1cGRhdGVZQXhpc1dpZHRoKCRldmVudClcXFwiXFxuICAgICAgICA+PC9zdmc6Zz5cXG4gICAgICAgIDxzdmc6Z1xcbiAgICAgICAgICAqbmdGb3I9XFxcImxldCBncm91cCBvZiByZXN1bHRzOyB0cmFja0J5OiB0cmFja0J5XFxcIlxcbiAgICAgICAgICBbQGFuaW1hdGlvblN0YXRlXT1cXFwiJ2FjdGl2ZSdcXFwiXFxuICAgICAgICAgIFthdHRyLnRyYW5zZm9ybV09XFxcImdyb3VwVHJhbnNmb3JtKGdyb3VwKVxcXCJcXG4gICAgICAgID5cXG4gICAgICAgICAgPHN2ZzpnXFxuICAgICAgICAgICAgbmd4LWNoYXJ0cy1zZXJpZXMtdmVydGljYWxcXG4gICAgICAgICAgICB0eXBlPVxcXCJub3JtYWxpemVkXFxcIlxcbiAgICAgICAgICAgIFt4U2NhbGVdPVxcXCJ4U2NhbGVcXFwiXFxuICAgICAgICAgICAgW3lTY2FsZV09XFxcInlTY2FsZVxcXCJcXG4gICAgICAgICAgICBbYWN0aXZlRW50cmllc109XFxcImFjdGl2ZUVudHJpZXNcXFwiXFxuICAgICAgICAgICAgW2NvbG9yc109XFxcImNvbG9yc1xcXCJcXG4gICAgICAgICAgICBbc2VyaWVzXT1cXFwiZ3JvdXAuc2VyaWVzXFxcIlxcbiAgICAgICAgICAgIFtkaW1zXT1cXFwiZGltc1xcXCJcXG4gICAgICAgICAgICBbZ3JhZGllbnRdPVxcXCJncmFkaWVudFxcXCJcXG4gICAgICAgICAgICBbdG9vbHRpcERpc2FibGVkXT1cXFwidG9vbHRpcERpc2FibGVkXFxcIlxcbiAgICAgICAgICAgIFt0b29sdGlwVGVtcGxhdGVdPVxcXCJ0b29sdGlwVGVtcGxhdGVcXFwiXFxuICAgICAgICAgICAgW3Nlcmllc05hbWVdPVxcXCJncm91cC5uYW1lXFxcIlxcbiAgICAgICAgICAgIFthbmltYXRpb25zXT1cXFwiYW5pbWF0aW9uc1xcXCJcXG4gICAgICAgICAgICBbbm9CYXJXaGVuWmVyb109XFxcIm5vQmFyV2hlblplcm9cXFwiXFxuICAgICAgICAgICAgKHNlbGVjdCk9XFxcIm9uQ2xpY2soJGV2ZW50LCBncm91cClcXFwiXFxuICAgICAgICAgICAgKGFjdGl2YXRlKT1cXFwib25BY3RpdmF0ZSgkZXZlbnQsIGdyb3VwKVxcXCJcXG4gICAgICAgICAgICAoZGVhY3RpdmF0ZSk9XFxcIm9uRGVhY3RpdmF0ZSgkZXZlbnQsIGdyb3VwKVxcXCJcXG4gICAgICAgICAgLz5cXG4gICAgICAgIDwvc3ZnOmc+XFxuICAgICAgPC9zdmc6Zz5cXG4gICAgPC9uZ3gtY2hhcnRzLWNoYXJ0PlxcbiAgXCIsXG4gICAgICAgICAgICBzdHlsZXM6IFtcIi5uZ3gtY2hhcnRze2Zsb2F0OmxlZnQ7b3ZlcmZsb3c6dmlzaWJsZX0ubmd4LWNoYXJ0cyAuYXJjLC5uZ3gtY2hhcnRzIC5iYXIsLm5neC1jaGFydHMgLmNpcmNsZXtjdXJzb3I6cG9pbnRlcn0ubmd4LWNoYXJ0cyAuYXJjLmFjdGl2ZSwubmd4LWNoYXJ0cyAuYXJjOmhvdmVyLC5uZ3gtY2hhcnRzIC5iYXIuYWN0aXZlLC5uZ3gtY2hhcnRzIC5iYXI6aG92ZXIsLm5neC1jaGFydHMgLmNhcmQuYWN0aXZlLC5uZ3gtY2hhcnRzIC5jYXJkOmhvdmVyLC5uZ3gtY2hhcnRzIC5jZWxsLmFjdGl2ZSwubmd4LWNoYXJ0cyAuY2VsbDpob3ZlcntvcGFjaXR5Oi44O3RyYW5zaXRpb246b3BhY2l0eSAuMXMgZWFzZS1pbi1vdXR9Lm5neC1jaGFydHMgLmFyYzpmb2N1cywubmd4LWNoYXJ0cyAuYmFyOmZvY3VzLC5uZ3gtY2hhcnRzIC5jYXJkOmZvY3VzLC5uZ3gtY2hhcnRzIC5jZWxsOmZvY3Vze291dGxpbmU6MH0ubmd4LWNoYXJ0cyAuYXJjLmhpZGRlbiwubmd4LWNoYXJ0cyAuYmFyLmhpZGRlbiwubmd4LWNoYXJ0cyAuY2FyZC5oaWRkZW4sLm5neC1jaGFydHMgLmNlbGwuaGlkZGVue2Rpc3BsYXk6bm9uZX0ubmd4LWNoYXJ0cyBnOmZvY3Vze291dGxpbmU6MH0ubmd4LWNoYXJ0cyAuYXJlYS1zZXJpZXMuaW5hY3RpdmUsLm5neC1jaGFydHMgLmxpbmUtc2VyaWVzLXJhbmdlLmluYWN0aXZlLC5uZ3gtY2hhcnRzIC5saW5lLXNlcmllcy5pbmFjdGl2ZSwubmd4LWNoYXJ0cyAucG9sYXItc2VyaWVzLWFyZWEuaW5hY3RpdmUsLm5neC1jaGFydHMgLnBvbGFyLXNlcmllcy1wYXRoLmluYWN0aXZle3RyYW5zaXRpb246b3BhY2l0eSAuMXMgZWFzZS1pbi1vdXQ7b3BhY2l0eTouMn0ubmd4LWNoYXJ0cyAubGluZS1oaWdobGlnaHR7ZGlzcGxheTpub25lfS5uZ3gtY2hhcnRzIC5saW5lLWhpZ2hsaWdodC5hY3RpdmV7ZGlzcGxheTpibG9ja30ubmd4LWNoYXJ0cyAuYXJlYXtvcGFjaXR5Oi42fS5uZ3gtY2hhcnRzIC5jaXJjbGU6aG92ZXJ7Y3Vyc29yOnBvaW50ZXJ9Lm5neC1jaGFydHMgLmxhYmVse2ZvbnQtc2l6ZToxMnB4O2ZvbnQtd2VpZ2h0OjQwMH0ubmd4LWNoYXJ0cyAudG9vbHRpcC1hbmNob3J7ZmlsbDojMDAwfS5uZ3gtY2hhcnRzIC5ncmlkbGluZS1wYXRoe3N0cm9rZTojZGRkO3N0cm9rZS13aWR0aDoxO2ZpbGw6bm9uZX0ubmd4LWNoYXJ0cyAucmVmbGluZS1wYXRoe3N0cm9rZTojYThiMmM3O3N0cm9rZS13aWR0aDoxO3N0cm9rZS1kYXNoYXJyYXk6NTtzdHJva2UtZGFzaG9mZnNldDo1fS5uZ3gtY2hhcnRzIC5yZWZsaW5lLWxhYmVse2ZvbnQtc2l6ZTo5cHh9Lm5neC1jaGFydHMgLnJlZmVyZW5jZS1hcmVhe2ZpbGwtb3BhY2l0eTouMDU7ZmlsbDojMDAwfS5uZ3gtY2hhcnRzIC5ncmlkbGluZS1wYXRoLWRvdHRlZHtzdHJva2U6I2RkZDtzdHJva2Utd2lkdGg6MTtmaWxsOm5vbmU7c3Ryb2tlLWRhc2hhcnJheToxLDIwO3N0cm9rZS1kYXNob2Zmc2V0OjN9Lm5neC1jaGFydHMgLmdyaWQtcGFuZWwgcmVjdHtmaWxsOm5vbmV9Lm5neC1jaGFydHMgLmdyaWQtcGFuZWwub2RkIHJlY3R7ZmlsbDpyZ2JhKDAsMCwwLC4wNSl9XCJdLFxuICAgICAgICAgICAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZSxcbiAgICAgICAgICAgIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoLFxuICAgICAgICAgICAgYW5pbWF0aW9uczogW1xuICAgICAgICAgICAgICAgIHRyaWdnZXIoJ2FuaW1hdGlvblN0YXRlJywgW1xuICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uKCc6bGVhdmUnLCBbXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06ICcqJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRlKDUwMCwgc3R5bGUoeyBvcGFjaXR5OiAwLCB0cmFuc2Zvcm06ICdzY2FsZSgwKScgfSkpXG4gICAgICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgIF1cbiAgICAgICAgfSlcbiAgICBdLCBCYXJWZXJ0aWNhbE5vcm1hbGl6ZWRDb21wb25lbnQpO1xuICAgIHJldHVybiBCYXJWZXJ0aWNhbE5vcm1hbGl6ZWRDb21wb25lbnQ7XG59KEJhc2VDaGFydENvbXBvbmVudCkpO1xuXG52YXIgQmFyVmVydGljYWxTdGFja2VkQ29tcG9uZW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhCYXJWZXJ0aWNhbFN0YWNrZWRDb21wb25lbnQsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQmFyVmVydGljYWxTdGFja2VkQ29tcG9uZW50KCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMubGVnZW5kID0gZmFsc2U7XG4gICAgICAgIF90aGlzLmxlZ2VuZFRpdGxlID0gJ0xlZ2VuZCc7XG4gICAgICAgIF90aGlzLmxlZ2VuZFBvc2l0aW9uID0gJ3JpZ2h0JztcbiAgICAgICAgX3RoaXMudG9vbHRpcERpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIF90aGlzLnNob3dHcmlkTGluZXMgPSB0cnVlO1xuICAgICAgICBfdGhpcy5hY3RpdmVFbnRyaWVzID0gW107XG4gICAgICAgIF90aGlzLnRyaW1YQXhpc1RpY2tzID0gdHJ1ZTtcbiAgICAgICAgX3RoaXMudHJpbVlBeGlzVGlja3MgPSB0cnVlO1xuICAgICAgICBfdGhpcy5yb3RhdGVYQXhpc1RpY2tzID0gdHJ1ZTtcbiAgICAgICAgX3RoaXMubWF4WEF4aXNUaWNrTGVuZ3RoID0gMTY7XG4gICAgICAgIF90aGlzLm1heFlBeGlzVGlja0xlbmd0aCA9IDE2O1xuICAgICAgICBfdGhpcy5iYXJQYWRkaW5nID0gODtcbiAgICAgICAgX3RoaXMucm91bmREb21haW5zID0gZmFsc2U7XG4gICAgICAgIF90aGlzLnNob3dEYXRhTGFiZWwgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMubm9CYXJXaGVuWmVybyA9IHRydWU7XG4gICAgICAgIF90aGlzLmFjdGl2YXRlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICBfdGhpcy5kZWFjdGl2YXRlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICBfdGhpcy5tYXJnaW4gPSBbMTAsIDIwLCAxMCwgMjBdO1xuICAgICAgICBfdGhpcy54QXhpc0hlaWdodCA9IDA7XG4gICAgICAgIF90aGlzLnlBeGlzV2lkdGggPSAwO1xuICAgICAgICBfdGhpcy5kYXRhTGFiZWxNYXhIZWlnaHQgPSB7IG5lZ2F0aXZlOiAwLCBwb3NpdGl2ZTogMCB9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEJhclZlcnRpY2FsU3RhY2tlZENvbXBvbmVudC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLnVwZGF0ZS5jYWxsKHRoaXMpO1xuICAgICAgICBpZiAoIXRoaXMuc2hvd0RhdGFMYWJlbCkge1xuICAgICAgICAgICAgdGhpcy5kYXRhTGFiZWxNYXhIZWlnaHQgPSB7IG5lZ2F0aXZlOiAwLCBwb3NpdGl2ZTogMCB9O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubWFyZ2luID0gWzEwICsgdGhpcy5kYXRhTGFiZWxNYXhIZWlnaHQucG9zaXRpdmUsIDIwLCAxMCArIHRoaXMuZGF0YUxhYmVsTWF4SGVpZ2h0Lm5lZ2F0aXZlLCAyMF07XG4gICAgICAgIHRoaXMuZGltcyA9IGNhbGN1bGF0ZVZpZXdEaW1lbnNpb25zKHtcbiAgICAgICAgICAgIHdpZHRoOiB0aGlzLndpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLmhlaWdodCxcbiAgICAgICAgICAgIG1hcmdpbnM6IHRoaXMubWFyZ2luLFxuICAgICAgICAgICAgc2hvd1hBeGlzOiB0aGlzLnhBeGlzLFxuICAgICAgICAgICAgc2hvd1lBeGlzOiB0aGlzLnlBeGlzLFxuICAgICAgICAgICAgeEF4aXNIZWlnaHQ6IHRoaXMueEF4aXNIZWlnaHQsXG4gICAgICAgICAgICB5QXhpc1dpZHRoOiB0aGlzLnlBeGlzV2lkdGgsXG4gICAgICAgICAgICBzaG93WExhYmVsOiB0aGlzLnNob3dYQXhpc0xhYmVsLFxuICAgICAgICAgICAgc2hvd1lMYWJlbDogdGhpcy5zaG93WUF4aXNMYWJlbCxcbiAgICAgICAgICAgIHNob3dMZWdlbmQ6IHRoaXMubGVnZW5kLFxuICAgICAgICAgICAgbGVnZW5kVHlwZTogdGhpcy5zY2hlbWVUeXBlLFxuICAgICAgICAgICAgbGVnZW5kUG9zaXRpb246IHRoaXMubGVnZW5kUG9zaXRpb25cbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh0aGlzLnNob3dEYXRhTGFiZWwpIHtcbiAgICAgICAgICAgIHRoaXMuZGltcy5oZWlnaHQgLT0gdGhpcy5kYXRhTGFiZWxNYXhIZWlnaHQubmVnYXRpdmU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5mb3JtYXREYXRlcygpO1xuICAgICAgICB0aGlzLmdyb3VwRG9tYWluID0gdGhpcy5nZXRHcm91cERvbWFpbigpO1xuICAgICAgICB0aGlzLmlubmVyRG9tYWluID0gdGhpcy5nZXRJbm5lckRvbWFpbigpO1xuICAgICAgICB0aGlzLnZhbHVlRG9tYWluID0gdGhpcy5nZXRWYWx1ZURvbWFpbigpO1xuICAgICAgICB0aGlzLnhTY2FsZSA9IHRoaXMuZ2V0WFNjYWxlKCk7XG4gICAgICAgIHRoaXMueVNjYWxlID0gdGhpcy5nZXRZU2NhbGUoKTtcbiAgICAgICAgdGhpcy5zZXRDb2xvcnMoKTtcbiAgICAgICAgdGhpcy5sZWdlbmRPcHRpb25zID0gdGhpcy5nZXRMZWdlbmRPcHRpb25zKCk7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtID0gXCJ0cmFuc2xhdGUoXCIgKyB0aGlzLmRpbXMueE9mZnNldCArIFwiICwgXCIgKyAodGhpcy5tYXJnaW5bMF0gKyB0aGlzLmRhdGFMYWJlbE1heEhlaWdodC5uZWdhdGl2ZSkgKyBcIilcIjtcbiAgICB9O1xuICAgIEJhclZlcnRpY2FsU3RhY2tlZENvbXBvbmVudC5wcm90b3R5cGUuZ2V0R3JvdXBEb21haW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkb21haW4gPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHRoaXMucmVzdWx0czsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHZhciBncm91cCA9IF9hW19pXTtcbiAgICAgICAgICAgIGlmICghZG9tYWluLmluY2x1ZGVzKGdyb3VwLmxhYmVsKSkge1xuICAgICAgICAgICAgICAgIGRvbWFpbi5wdXNoKGdyb3VwLmxhYmVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZG9tYWluO1xuICAgIH07XG4gICAgQmFyVmVydGljYWxTdGFja2VkQ29tcG9uZW50LnByb3RvdHlwZS5nZXRJbm5lckRvbWFpbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGRvbWFpbiA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gdGhpcy5yZXN1bHRzOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIGdyb3VwID0gX2FbX2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgX2IgPSAwLCBfYyA9IGdyb3VwLnNlcmllczsgX2IgPCBfYy5sZW5ndGg7IF9iKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgZCA9IF9jW19iXTtcbiAgICAgICAgICAgICAgICBpZiAoIWRvbWFpbi5pbmNsdWRlcyhkLmxhYmVsKSkge1xuICAgICAgICAgICAgICAgICAgICBkb21haW4ucHVzaChkLmxhYmVsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRvbWFpbjtcbiAgICB9O1xuICAgIEJhclZlcnRpY2FsU3RhY2tlZENvbXBvbmVudC5wcm90b3R5cGUuZ2V0VmFsdWVEb21haW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkb21haW4gPSBbXTtcbiAgICAgICAgdmFyIHNtYWxsZXN0ID0gMDtcbiAgICAgICAgdmFyIGJpZ2dlc3QgPSAwO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gdGhpcy5yZXN1bHRzOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIGdyb3VwID0gX2FbX2ldO1xuICAgICAgICAgICAgdmFyIHNtYWxsZXN0U3VtID0gMDtcbiAgICAgICAgICAgIHZhciBiaWdnZXN0U3VtID0gMDtcbiAgICAgICAgICAgIGZvciAodmFyIF9iID0gMCwgX2MgPSBncm91cC5zZXJpZXM7IF9iIDwgX2MubGVuZ3RoOyBfYisrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGQgPSBfY1tfYl07XG4gICAgICAgICAgICAgICAgaWYgKGQudmFsdWUgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHNtYWxsZXN0U3VtICs9IGQudmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBiaWdnZXN0U3VtICs9IGQudmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNtYWxsZXN0ID0gZC52YWx1ZSA8IHNtYWxsZXN0ID8gZC52YWx1ZSA6IHNtYWxsZXN0O1xuICAgICAgICAgICAgICAgIGJpZ2dlc3QgPSBkLnZhbHVlID4gYmlnZ2VzdCA/IGQudmFsdWUgOiBiaWdnZXN0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZG9tYWluLnB1c2goc21hbGxlc3RTdW0pO1xuICAgICAgICAgICAgZG9tYWluLnB1c2goYmlnZ2VzdFN1bSk7XG4gICAgICAgIH1cbiAgICAgICAgZG9tYWluLnB1c2goc21hbGxlc3QpO1xuICAgICAgICBkb21haW4ucHVzaChiaWdnZXN0KTtcbiAgICAgICAgdmFyIG1pbiQkMSA9IE1hdGgubWluLmFwcGx5KE1hdGgsIFswXS5jb25jYXQoZG9tYWluKSk7XG4gICAgICAgIHZhciBtYXgkJDEgPSB0aGlzLnlTY2FsZU1heCA/IE1hdGgubWF4LmFwcGx5KE1hdGgsIFt0aGlzLnlTY2FsZU1heF0uY29uY2F0KGRvbWFpbikpIDogTWF0aC5tYXguYXBwbHkoTWF0aCwgZG9tYWluKTtcbiAgICAgICAgcmV0dXJuIFttaW4kJDEsIG1heCQkMV07XG4gICAgfTtcbiAgICBCYXJWZXJ0aWNhbFN0YWNrZWRDb21wb25lbnQucHJvdG90eXBlLmdldFhTY2FsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNwYWNpbmcgPSB0aGlzLmdyb3VwRG9tYWluLmxlbmd0aCAvICh0aGlzLmRpbXMud2lkdGggLyB0aGlzLmJhclBhZGRpbmcgKyAxKTtcbiAgICAgICAgcmV0dXJuIHNjYWxlQmFuZCgpXG4gICAgICAgICAgICAucmFuZ2VSb3VuZChbMCwgdGhpcy5kaW1zLndpZHRoXSlcbiAgICAgICAgICAgIC5wYWRkaW5nSW5uZXIoc3BhY2luZylcbiAgICAgICAgICAgIC5kb21haW4odGhpcy5ncm91cERvbWFpbik7XG4gICAgfTtcbiAgICBCYXJWZXJ0aWNhbFN0YWNrZWRDb21wb25lbnQucHJvdG90eXBlLmdldFlTY2FsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNjYWxlID0gc2NhbGVMaW5lYXIoKVxuICAgICAgICAgICAgLnJhbmdlKFt0aGlzLmRpbXMuaGVpZ2h0LCAwXSlcbiAgICAgICAgICAgIC5kb21haW4odGhpcy52YWx1ZURvbWFpbik7XG4gICAgICAgIHJldHVybiB0aGlzLnJvdW5kRG9tYWlucyA/IHNjYWxlLm5pY2UoKSA6IHNjYWxlO1xuICAgIH07XG4gICAgQmFyVmVydGljYWxTdGFja2VkQ29tcG9uZW50LnByb3RvdHlwZS5vbkRhdGFMYWJlbE1heEhlaWdodENoYW5nZWQgPSBmdW5jdGlvbiAoZXZlbnQkJDEsIGdyb3VwSW5kZXgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKGV2ZW50JCQxLnNpemUubmVnYXRpdmUpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YUxhYmVsTWF4SGVpZ2h0Lm5lZ2F0aXZlID0gTWF0aC5tYXgodGhpcy5kYXRhTGFiZWxNYXhIZWlnaHQubmVnYXRpdmUsIGV2ZW50JCQxLnNpemUuaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YUxhYmVsTWF4SGVpZ2h0LnBvc2l0aXZlID0gTWF0aC5tYXgodGhpcy5kYXRhTGFiZWxNYXhIZWlnaHQucG9zaXRpdmUsIGV2ZW50JCQxLnNpemUuaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZ3JvdXBJbmRleCA9PT0gdGhpcy5yZXN1bHRzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMudXBkYXRlKCk7IH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBCYXJWZXJ0aWNhbFN0YWNrZWRDb21wb25lbnQucHJvdG90eXBlLmdyb3VwVHJhbnNmb3JtID0gZnVuY3Rpb24gKGdyb3VwKSB7XG4gICAgICAgIHJldHVybiBcInRyYW5zbGF0ZShcIiArICh0aGlzLnhTY2FsZShncm91cC5uYW1lKSB8fCAwKSArIFwiLCAwKVwiO1xuICAgIH07XG4gICAgQmFyVmVydGljYWxTdGFja2VkQ29tcG9uZW50LnByb3RvdHlwZS5vbkNsaWNrID0gZnVuY3Rpb24gKGRhdGEsIGdyb3VwKSB7XG4gICAgICAgIGlmIChncm91cCkge1xuICAgICAgICAgICAgZGF0YS5zZXJpZXMgPSBncm91cC5uYW1lO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2VsZWN0LmVtaXQoZGF0YSk7XG4gICAgfTtcbiAgICBCYXJWZXJ0aWNhbFN0YWNrZWRDb21wb25lbnQucHJvdG90eXBlLnRyYWNrQnkgPSBmdW5jdGlvbiAoaW5kZXgsIGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIGl0ZW0ubmFtZTtcbiAgICB9O1xuICAgIEJhclZlcnRpY2FsU3RhY2tlZENvbXBvbmVudC5wcm90b3R5cGUuc2V0Q29sb3JzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZG9tYWluO1xuICAgICAgICBpZiAodGhpcy5zY2hlbWVUeXBlID09PSAnb3JkaW5hbCcpIHtcbiAgICAgICAgICAgIGRvbWFpbiA9IHRoaXMuaW5uZXJEb21haW47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkb21haW4gPSB0aGlzLnZhbHVlRG9tYWluO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29sb3JzID0gbmV3IENvbG9ySGVscGVyKHRoaXMuc2NoZW1lLCB0aGlzLnNjaGVtZVR5cGUsIGRvbWFpbiwgdGhpcy5jdXN0b21Db2xvcnMpO1xuICAgIH07XG4gICAgQmFyVmVydGljYWxTdGFja2VkQ29tcG9uZW50LnByb3RvdHlwZS5nZXRMZWdlbmRPcHRpb25zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgb3B0cyA9IHtcbiAgICAgICAgICAgIHNjYWxlVHlwZTogdGhpcy5zY2hlbWVUeXBlLFxuICAgICAgICAgICAgY29sb3JzOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBkb21haW46IFtdLFxuICAgICAgICAgICAgdGl0bGU6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHBvc2l0aW9uOiB0aGlzLmxlZ2VuZFBvc2l0aW9uXG4gICAgICAgIH07XG4gICAgICAgIGlmIChvcHRzLnNjYWxlVHlwZSA9PT0gJ29yZGluYWwnKSB7XG4gICAgICAgICAgICBvcHRzLmRvbWFpbiA9IHRoaXMuaW5uZXJEb21haW47XG4gICAgICAgICAgICBvcHRzLmNvbG9ycyA9IHRoaXMuY29sb3JzO1xuICAgICAgICAgICAgb3B0cy50aXRsZSA9IHRoaXMubGVnZW5kVGl0bGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvcHRzLmRvbWFpbiA9IHRoaXMudmFsdWVEb21haW47XG4gICAgICAgICAgICBvcHRzLmNvbG9ycyA9IHRoaXMuY29sb3JzLnNjYWxlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvcHRzO1xuICAgIH07XG4gICAgQmFyVmVydGljYWxTdGFja2VkQ29tcG9uZW50LnByb3RvdHlwZS51cGRhdGVZQXhpc1dpZHRoID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciB3aWR0aCA9IF9hLndpZHRoO1xuICAgICAgICB0aGlzLnlBeGlzV2lkdGggPSB3aWR0aDtcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICB9O1xuICAgIEJhclZlcnRpY2FsU3RhY2tlZENvbXBvbmVudC5wcm90b3R5cGUudXBkYXRlWEF4aXNIZWlnaHQgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIGhlaWdodCA9IF9hLmhlaWdodDtcbiAgICAgICAgdGhpcy54QXhpc0hlaWdodCA9IGhlaWdodDtcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICB9O1xuICAgIEJhclZlcnRpY2FsU3RhY2tlZENvbXBvbmVudC5wcm90b3R5cGUub25BY3RpdmF0ZSA9IGZ1bmN0aW9uIChldmVudCQkMSwgZ3JvdXAsIGZyb21MZWdlbmQpIHtcbiAgICAgICAgaWYgKGZyb21MZWdlbmQgPT09IHZvaWQgMCkgeyBmcm9tTGVnZW5kID0gZmFsc2U7IH1cbiAgICAgICAgdmFyIGl0ZW0gPSBPYmplY3QuYXNzaWduKHt9LCBldmVudCQkMSk7XG4gICAgICAgIGlmIChncm91cCkge1xuICAgICAgICAgICAgaXRlbS5zZXJpZXMgPSBncm91cC5uYW1lO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpdGVtcyA9IHRoaXMucmVzdWx0c1xuICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAoZykgeyByZXR1cm4gZy5zZXJpZXM7IH0pXG4gICAgICAgICAgICAuZmxhdCgpXG4gICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICBpZiAoZnJvbUxlZ2VuZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpLmxhYmVsID09PSBpdGVtLm5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaS5uYW1lID09PSBpdGVtLm5hbWUgJiYgaS5zZXJpZXMgPT09IGl0ZW0uc2VyaWVzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5hY3RpdmVFbnRyaWVzID0gaXRlbXMuc2xpY2UoKTtcbiAgICAgICAgdGhpcy5hY3RpdmF0ZS5lbWl0KHsgdmFsdWU6IGl0ZW0sIGVudHJpZXM6IHRoaXMuYWN0aXZlRW50cmllcyB9KTtcbiAgICB9O1xuICAgIEJhclZlcnRpY2FsU3RhY2tlZENvbXBvbmVudC5wcm90b3R5cGUub25EZWFjdGl2YXRlID0gZnVuY3Rpb24gKGV2ZW50JCQxLCBncm91cCwgZnJvbUxlZ2VuZCkge1xuICAgICAgICBpZiAoZnJvbUxlZ2VuZCA9PT0gdm9pZCAwKSB7IGZyb21MZWdlbmQgPSBmYWxzZTsgfVxuICAgICAgICB2YXIgaXRlbSA9IE9iamVjdC5hc3NpZ24oe30sIGV2ZW50JCQxKTtcbiAgICAgICAgaWYgKGdyb3VwKSB7XG4gICAgICAgICAgICBpdGVtLnNlcmllcyA9IGdyb3VwLm5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hY3RpdmVFbnRyaWVzID0gdGhpcy5hY3RpdmVFbnRyaWVzLmZpbHRlcihmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgaWYgKGZyb21MZWdlbmQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaS5sYWJlbCAhPT0gaXRlbS5uYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICEoaS5uYW1lID09PSBpdGVtLm5hbWUgJiYgaS5zZXJpZXMgPT09IGl0ZW0uc2VyaWVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZGVhY3RpdmF0ZS5lbWl0KHsgdmFsdWU6IGl0ZW0sIGVudHJpZXM6IHRoaXMuYWN0aXZlRW50cmllcyB9KTtcbiAgICB9O1xuICAgIHZhciBfYSwgX2IsIF9jO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEJhclZlcnRpY2FsU3RhY2tlZENvbXBvbmVudC5wcm90b3R5cGUsIFwibGVnZW5kXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBTdHJpbmcpXG4gICAgXSwgQmFyVmVydGljYWxTdGFja2VkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJsZWdlbmRUaXRsZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgU3RyaW5nKVxuICAgIF0sIEJhclZlcnRpY2FsU3RhY2tlZENvbXBvbmVudC5wcm90b3R5cGUsIFwibGVnZW5kUG9zaXRpb25cIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBCYXJWZXJ0aWNhbFN0YWNrZWRDb21wb25lbnQucHJvdG90eXBlLCBcInhBeGlzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQmFyVmVydGljYWxTdGFja2VkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ5QXhpc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEJhclZlcnRpY2FsU3RhY2tlZENvbXBvbmVudC5wcm90b3R5cGUsIFwic2hvd1hBeGlzTGFiZWxcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBCYXJWZXJ0aWNhbFN0YWNrZWRDb21wb25lbnQucHJvdG90eXBlLCBcInNob3dZQXhpc0xhYmVsXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQmFyVmVydGljYWxTdGFja2VkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ4QXhpc0xhYmVsXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQmFyVmVydGljYWxTdGFja2VkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ5QXhpc0xhYmVsXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIEJhclZlcnRpY2FsU3RhY2tlZENvbXBvbmVudC5wcm90b3R5cGUsIFwidG9vbHRpcERpc2FibGVkXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIEJhclZlcnRpY2FsU3RhY2tlZENvbXBvbmVudC5wcm90b3R5cGUsIFwiZ3JhZGllbnRcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEJvb2xlYW4pXG4gICAgXSwgQmFyVmVydGljYWxTdGFja2VkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJzaG93R3JpZExpbmVzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBBcnJheSlcbiAgICBdLCBCYXJWZXJ0aWNhbFN0YWNrZWRDb21wb25lbnQucHJvdG90eXBlLCBcImFjdGl2ZUVudHJpZXNcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcbiAgICBdLCBCYXJWZXJ0aWNhbFN0YWNrZWRDb21wb25lbnQucHJvdG90eXBlLCBcInNjaGVtZVR5cGVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEJvb2xlYW4pXG4gICAgXSwgQmFyVmVydGljYWxTdGFja2VkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ0cmltWEF4aXNUaWNrc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbiAgICBdLCBCYXJWZXJ0aWNhbFN0YWNrZWRDb21wb25lbnQucHJvdG90eXBlLCBcInRyaW1ZQXhpc1RpY2tzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIEJhclZlcnRpY2FsU3RhY2tlZENvbXBvbmVudC5wcm90b3R5cGUsIFwicm90YXRlWEF4aXNUaWNrc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgTnVtYmVyKVxuICAgIF0sIEJhclZlcnRpY2FsU3RhY2tlZENvbXBvbmVudC5wcm90b3R5cGUsIFwibWF4WEF4aXNUaWNrTGVuZ3RoXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBOdW1iZXIpXG4gICAgXSwgQmFyVmVydGljYWxTdGFja2VkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJtYXhZQXhpc1RpY2tMZW5ndGhcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBCYXJWZXJ0aWNhbFN0YWNrZWRDb21wb25lbnQucHJvdG90eXBlLCBcInhBeGlzVGlja0Zvcm1hdHRpbmdcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBCYXJWZXJ0aWNhbFN0YWNrZWRDb21wb25lbnQucHJvdG90eXBlLCBcInlBeGlzVGlja0Zvcm1hdHRpbmdcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEFycmF5KVxuICAgIF0sIEJhclZlcnRpY2FsU3RhY2tlZENvbXBvbmVudC5wcm90b3R5cGUsIFwieEF4aXNUaWNrc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQXJyYXkpXG4gICAgXSwgQmFyVmVydGljYWxTdGFja2VkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ5QXhpc1RpY2tzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQmFyVmVydGljYWxTdGFja2VkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJiYXJQYWRkaW5nXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIEJhclZlcnRpY2FsU3RhY2tlZENvbXBvbmVudC5wcm90b3R5cGUsIFwicm91bmREb21haW5zXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBOdW1iZXIpXG4gICAgXSwgQmFyVmVydGljYWxTdGFja2VkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ5U2NhbGVNYXhcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEJvb2xlYW4pXG4gICAgXSwgQmFyVmVydGljYWxTdGFja2VkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJzaG93RGF0YUxhYmVsXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQmFyVmVydGljYWxTdGFja2VkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJkYXRhTGFiZWxGb3JtYXR0aW5nXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIEJhclZlcnRpY2FsU3RhY2tlZENvbXBvbmVudC5wcm90b3R5cGUsIFwibm9CYXJXaGVuWmVyb1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBPdXRwdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIHR5cGVvZiAoX2EgPSB0eXBlb2YgRXZlbnRFbWl0dGVyICE9PSBcInVuZGVmaW5lZFwiICYmIEV2ZW50RW1pdHRlcikgPT09IFwiZnVuY3Rpb25cIiA/IF9hIDogT2JqZWN0KVxuICAgIF0sIEJhclZlcnRpY2FsU3RhY2tlZENvbXBvbmVudC5wcm90b3R5cGUsIFwiYWN0aXZhdGVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgT3V0cHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCB0eXBlb2YgKF9iID0gdHlwZW9mIEV2ZW50RW1pdHRlciAhPT0gXCJ1bmRlZmluZWRcIiAmJiBFdmVudEVtaXR0ZXIpID09PSBcImZ1bmN0aW9uXCIgPyBfYiA6IE9iamVjdClcbiAgICBdLCBCYXJWZXJ0aWNhbFN0YWNrZWRDb21wb25lbnQucHJvdG90eXBlLCBcImRlYWN0aXZhdGVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgQ29udGVudENoaWxkKCd0b29sdGlwVGVtcGxhdGUnLCB7IHN0YXRpYzogZmFsc2UgfSksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCB0eXBlb2YgKF9jID0gdHlwZW9mIFRlbXBsYXRlUmVmICE9PSBcInVuZGVmaW5lZFwiICYmIFRlbXBsYXRlUmVmKSA9PT0gXCJmdW5jdGlvblwiID8gX2MgOiBPYmplY3QpXG4gICAgXSwgQmFyVmVydGljYWxTdGFja2VkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ0b29sdGlwVGVtcGxhdGVcIiwgdm9pZCAwKTtcbiAgICBCYXJWZXJ0aWNhbFN0YWNrZWRDb21wb25lbnQgPSBfX2RlY29yYXRlKFtcbiAgICAgICAgQ29tcG9uZW50KHtcbiAgICAgICAgICAgIHNlbGVjdG9yOiAnbmd4LWNoYXJ0cy1iYXItdmVydGljYWwtc3RhY2tlZCcsXG4gICAgICAgICAgICB0ZW1wbGF0ZTogXCJcXG4gICAgPG5neC1jaGFydHMtY2hhcnRcXG4gICAgICBbdmlld109XFxcIlt3aWR0aCwgaGVpZ2h0XVxcXCJcXG4gICAgICBbc2hvd0xlZ2VuZF09XFxcImxlZ2VuZFxcXCJcXG4gICAgICBbbGVnZW5kT3B0aW9uc109XFxcImxlZ2VuZE9wdGlvbnNcXFwiXFxuICAgICAgW2FjdGl2ZUVudHJpZXNdPVxcXCJhY3RpdmVFbnRyaWVzXFxcIlxcbiAgICAgIFthbmltYXRpb25zXT1cXFwiYW5pbWF0aW9uc1xcXCJcXG4gICAgICAobGVnZW5kTGFiZWxBY3RpdmF0ZSk9XFxcIm9uQWN0aXZhdGUoJGV2ZW50LCB1bmRlZmluZWQsIHRydWUpXFxcIlxcbiAgICAgIChsZWdlbmRMYWJlbERlYWN0aXZhdGUpPVxcXCJvbkRlYWN0aXZhdGUoJGV2ZW50LCB1bmRlZmluZWQsIHRydWUpXFxcIlxcbiAgICAgIChsZWdlbmRMYWJlbENsaWNrKT1cXFwib25DbGljaygkZXZlbnQpXFxcIlxcbiAgICA+XFxuICAgICAgPHN2ZzpnIFthdHRyLnRyYW5zZm9ybV09XFxcInRyYW5zZm9ybVxcXCIgY2xhc3M9XFxcImJhci1jaGFydCBjaGFydFxcXCI+XFxuICAgICAgICA8c3ZnOmdcXG4gICAgICAgICAgbmd4LWNoYXJ0cy14LWF4aXNcXG4gICAgICAgICAgKm5nSWY9XFxcInhBeGlzXFxcIlxcbiAgICAgICAgICBbeFNjYWxlXT1cXFwieFNjYWxlXFxcIlxcbiAgICAgICAgICBbZGltc109XFxcImRpbXNcXFwiXFxuICAgICAgICAgIFtzaG93TGFiZWxdPVxcXCJzaG93WEF4aXNMYWJlbFxcXCJcXG4gICAgICAgICAgW2xhYmVsVGV4dF09XFxcInhBeGlzTGFiZWxcXFwiXFxuICAgICAgICAgIFt0cmltVGlja3NdPVxcXCJ0cmltWEF4aXNUaWNrc1xcXCJcXG4gICAgICAgICAgW3JvdGF0ZVRpY2tzXT1cXFwicm90YXRlWEF4aXNUaWNrc1xcXCJcXG4gICAgICAgICAgW21heFRpY2tMZW5ndGhdPVxcXCJtYXhYQXhpc1RpY2tMZW5ndGhcXFwiXFxuICAgICAgICAgIFt0aWNrRm9ybWF0dGluZ109XFxcInhBeGlzVGlja0Zvcm1hdHRpbmdcXFwiXFxuICAgICAgICAgIFt0aWNrc109XFxcInhBeGlzVGlja3NcXFwiXFxuICAgICAgICAgIFt4QXhpc09mZnNldF09XFxcImRhdGFMYWJlbE1heEhlaWdodC5uZWdhdGl2ZVxcXCJcXG4gICAgICAgICAgKGRpbWVuc2lvbnNDaGFuZ2VkKT1cXFwidXBkYXRlWEF4aXNIZWlnaHQoJGV2ZW50KVxcXCJcXG4gICAgICAgID48L3N2ZzpnPlxcbiAgICAgICAgPHN2ZzpnXFxuICAgICAgICAgIG5neC1jaGFydHMteS1heGlzXFxuICAgICAgICAgICpuZ0lmPVxcXCJ5QXhpc1xcXCJcXG4gICAgICAgICAgW3lTY2FsZV09XFxcInlTY2FsZVxcXCJcXG4gICAgICAgICAgW2RpbXNdPVxcXCJkaW1zXFxcIlxcbiAgICAgICAgICBbc2hvd0dyaWRMaW5lc109XFxcInNob3dHcmlkTGluZXNcXFwiXFxuICAgICAgICAgIFtzaG93TGFiZWxdPVxcXCJzaG93WUF4aXNMYWJlbFxcXCJcXG4gICAgICAgICAgW2xhYmVsVGV4dF09XFxcInlBeGlzTGFiZWxcXFwiXFxuICAgICAgICAgIFt0cmltVGlja3NdPVxcXCJ0cmltWUF4aXNUaWNrc1xcXCJcXG4gICAgICAgICAgW21heFRpY2tMZW5ndGhdPVxcXCJtYXhZQXhpc1RpY2tMZW5ndGhcXFwiXFxuICAgICAgICAgIFt0aWNrRm9ybWF0dGluZ109XFxcInlBeGlzVGlja0Zvcm1hdHRpbmdcXFwiXFxuICAgICAgICAgIFt0aWNrc109XFxcInlBeGlzVGlja3NcXFwiXFxuICAgICAgICAgIChkaW1lbnNpb25zQ2hhbmdlZCk9XFxcInVwZGF0ZVlBeGlzV2lkdGgoJGV2ZW50KVxcXCJcXG4gICAgICAgID48L3N2ZzpnPlxcbiAgICAgICAgPHN2ZzpnXFxuICAgICAgICAgICpuZ0Zvcj1cXFwibGV0IGdyb3VwIG9mIHJlc3VsdHM7IGxldCBpbmRleCA9IGluZGV4OyB0cmFja0J5OiB0cmFja0J5XFxcIlxcbiAgICAgICAgICBbQGFuaW1hdGlvblN0YXRlXT1cXFwiJ2FjdGl2ZSdcXFwiXFxuICAgICAgICAgIFthdHRyLnRyYW5zZm9ybV09XFxcImdyb3VwVHJhbnNmb3JtKGdyb3VwKVxcXCJcXG4gICAgICAgID5cXG4gICAgICAgICAgPHN2ZzpnXFxuICAgICAgICAgICAgbmd4LWNoYXJ0cy1zZXJpZXMtdmVydGljYWxcXG4gICAgICAgICAgICB0eXBlPVxcXCJzdGFja2VkXFxcIlxcbiAgICAgICAgICAgIFt4U2NhbGVdPVxcXCJ4U2NhbGVcXFwiXFxuICAgICAgICAgICAgW3lTY2FsZV09XFxcInlTY2FsZVxcXCJcXG4gICAgICAgICAgICBbYWN0aXZlRW50cmllc109XFxcImFjdGl2ZUVudHJpZXNcXFwiXFxuICAgICAgICAgICAgW2NvbG9yc109XFxcImNvbG9yc1xcXCJcXG4gICAgICAgICAgICBbc2VyaWVzXT1cXFwiZ3JvdXAuc2VyaWVzXFxcIlxcbiAgICAgICAgICAgIFtkaW1zXT1cXFwiZGltc1xcXCJcXG4gICAgICAgICAgICBbZ3JhZGllbnRdPVxcXCJncmFkaWVudFxcXCJcXG4gICAgICAgICAgICBbdG9vbHRpcERpc2FibGVkXT1cXFwidG9vbHRpcERpc2FibGVkXFxcIlxcbiAgICAgICAgICAgIFt0b29sdGlwVGVtcGxhdGVdPVxcXCJ0b29sdGlwVGVtcGxhdGVcXFwiXFxuICAgICAgICAgICAgW3Nob3dEYXRhTGFiZWxdPVxcXCJzaG93RGF0YUxhYmVsXFxcIlxcbiAgICAgICAgICAgIFtkYXRhTGFiZWxGb3JtYXR0aW5nXT1cXFwiZGF0YUxhYmVsRm9ybWF0dGluZ1xcXCJcXG4gICAgICAgICAgICBbc2VyaWVzTmFtZV09XFxcImdyb3VwLm5hbWVcXFwiXFxuICAgICAgICAgICAgW2FuaW1hdGlvbnNdPVxcXCJhbmltYXRpb25zXFxcIlxcbiAgICAgICAgICAgIFtub0JhcldoZW5aZXJvXT1cXFwibm9CYXJXaGVuWmVyb1xcXCJcXG4gICAgICAgICAgICAoc2VsZWN0KT1cXFwib25DbGljaygkZXZlbnQsIGdyb3VwKVxcXCJcXG4gICAgICAgICAgICAoYWN0aXZhdGUpPVxcXCJvbkFjdGl2YXRlKCRldmVudCwgZ3JvdXApXFxcIlxcbiAgICAgICAgICAgIChkZWFjdGl2YXRlKT1cXFwib25EZWFjdGl2YXRlKCRldmVudCwgZ3JvdXApXFxcIlxcbiAgICAgICAgICAgIChkYXRhTGFiZWxIZWlnaHRDaGFuZ2VkKT1cXFwib25EYXRhTGFiZWxNYXhIZWlnaHRDaGFuZ2VkKCRldmVudCwgaW5kZXgpXFxcIlxcbiAgICAgICAgICAvPlxcbiAgICAgICAgPC9zdmc6Zz5cXG4gICAgICA8L3N2ZzpnPlxcbiAgICA8L25neC1jaGFydHMtY2hhcnQ+XFxuICBcIixcbiAgICAgICAgICAgIHN0eWxlczogW1wiLm5neC1jaGFydHN7ZmxvYXQ6bGVmdDtvdmVyZmxvdzp2aXNpYmxlfS5uZ3gtY2hhcnRzIC5hcmMsLm5neC1jaGFydHMgLmJhciwubmd4LWNoYXJ0cyAuY2lyY2xle2N1cnNvcjpwb2ludGVyfS5uZ3gtY2hhcnRzIC5hcmMuYWN0aXZlLC5uZ3gtY2hhcnRzIC5hcmM6aG92ZXIsLm5neC1jaGFydHMgLmJhci5hY3RpdmUsLm5neC1jaGFydHMgLmJhcjpob3Zlciwubmd4LWNoYXJ0cyAuY2FyZC5hY3RpdmUsLm5neC1jaGFydHMgLmNhcmQ6aG92ZXIsLm5neC1jaGFydHMgLmNlbGwuYWN0aXZlLC5uZ3gtY2hhcnRzIC5jZWxsOmhvdmVye29wYWNpdHk6Ljg7dHJhbnNpdGlvbjpvcGFjaXR5IC4xcyBlYXNlLWluLW91dH0ubmd4LWNoYXJ0cyAuYXJjOmZvY3VzLC5uZ3gtY2hhcnRzIC5iYXI6Zm9jdXMsLm5neC1jaGFydHMgLmNhcmQ6Zm9jdXMsLm5neC1jaGFydHMgLmNlbGw6Zm9jdXN7b3V0bGluZTowfS5uZ3gtY2hhcnRzIC5hcmMuaGlkZGVuLC5uZ3gtY2hhcnRzIC5iYXIuaGlkZGVuLC5uZ3gtY2hhcnRzIC5jYXJkLmhpZGRlbiwubmd4LWNoYXJ0cyAuY2VsbC5oaWRkZW57ZGlzcGxheTpub25lfS5uZ3gtY2hhcnRzIGc6Zm9jdXN7b3V0bGluZTowfS5uZ3gtY2hhcnRzIC5hcmVhLXNlcmllcy5pbmFjdGl2ZSwubmd4LWNoYXJ0cyAubGluZS1zZXJpZXMtcmFuZ2UuaW5hY3RpdmUsLm5neC1jaGFydHMgLmxpbmUtc2VyaWVzLmluYWN0aXZlLC5uZ3gtY2hhcnRzIC5wb2xhci1zZXJpZXMtYXJlYS5pbmFjdGl2ZSwubmd4LWNoYXJ0cyAucG9sYXItc2VyaWVzLXBhdGguaW5hY3RpdmV7dHJhbnNpdGlvbjpvcGFjaXR5IC4xcyBlYXNlLWluLW91dDtvcGFjaXR5Oi4yfS5uZ3gtY2hhcnRzIC5saW5lLWhpZ2hsaWdodHtkaXNwbGF5Om5vbmV9Lm5neC1jaGFydHMgLmxpbmUtaGlnaGxpZ2h0LmFjdGl2ZXtkaXNwbGF5OmJsb2NrfS5uZ3gtY2hhcnRzIC5hcmVhe29wYWNpdHk6LjZ9Lm5neC1jaGFydHMgLmNpcmNsZTpob3ZlcntjdXJzb3I6cG9pbnRlcn0ubmd4LWNoYXJ0cyAubGFiZWx7Zm9udC1zaXplOjEycHg7Zm9udC13ZWlnaHQ6NDAwfS5uZ3gtY2hhcnRzIC50b29sdGlwLWFuY2hvcntmaWxsOiMwMDB9Lm5neC1jaGFydHMgLmdyaWRsaW5lLXBhdGh7c3Ryb2tlOiNkZGQ7c3Ryb2tlLXdpZHRoOjE7ZmlsbDpub25lfS5uZ3gtY2hhcnRzIC5yZWZsaW5lLXBhdGh7c3Ryb2tlOiNhOGIyYzc7c3Ryb2tlLXdpZHRoOjE7c3Ryb2tlLWRhc2hhcnJheTo1O3N0cm9rZS1kYXNob2Zmc2V0OjV9Lm5neC1jaGFydHMgLnJlZmxpbmUtbGFiZWx7Zm9udC1zaXplOjlweH0ubmd4LWNoYXJ0cyAucmVmZXJlbmNlLWFyZWF7ZmlsbC1vcGFjaXR5Oi4wNTtmaWxsOiMwMDB9Lm5neC1jaGFydHMgLmdyaWRsaW5lLXBhdGgtZG90dGVke3N0cm9rZTojZGRkO3N0cm9rZS13aWR0aDoxO2ZpbGw6bm9uZTtzdHJva2UtZGFzaGFycmF5OjEsMjA7c3Ryb2tlLWRhc2hvZmZzZXQ6M30ubmd4LWNoYXJ0cyAuZ3JpZC1wYW5lbCByZWN0e2ZpbGw6bm9uZX0ubmd4LWNoYXJ0cyAuZ3JpZC1wYW5lbC5vZGQgcmVjdHtmaWxsOnJnYmEoMCwwLDAsLjA1KX1cIl0sXG4gICAgICAgICAgICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lLFxuICAgICAgICAgICAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXG4gICAgICAgICAgICBhbmltYXRpb25zOiBbXG4gICAgICAgICAgICAgICAgdHJpZ2dlcignYW5pbWF0aW9uU3RhdGUnLCBbXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb24oJzpsZWF2ZScsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogJyonXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGUoNTAwLCBzdHlsZSh7IG9wYWNpdHk6IDAsIHRyYW5zZm9ybTogJ3NjYWxlKDApJyB9KSlcbiAgICAgICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgXVxuICAgICAgICB9KVxuICAgIF0sIEJhclZlcnRpY2FsU3RhY2tlZENvbXBvbmVudCk7XG4gICAgcmV0dXJuIEJhclZlcnRpY2FsU3RhY2tlZENvbXBvbmVudDtcbn0oQmFzZUNoYXJ0Q29tcG9uZW50KSk7XG5cbnZhciBEMFR5cGVzO1xuKGZ1bmN0aW9uIChEMFR5cGVzKSB7XG4gICAgRDBUeXBlc1tcInBvc2l0aXZlXCJdID0gXCJwb3NpdGl2ZVwiO1xuICAgIEQwVHlwZXNbXCJuZWdhdGl2ZVwiXSA9IFwibmVnYXRpdmVcIjtcbn0pKEQwVHlwZXMgfHwgKEQwVHlwZXMgPSB7fSkpO1xudmFyIFNlcmllc1ZlcnRpY2FsQ29tcG9uZW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFNlcmllc1ZlcnRpY2FsQ29tcG9uZW50KCkge1xuICAgICAgICB0aGlzLnR5cGUgPSAnc3RhbmRhcmQnO1xuICAgICAgICB0aGlzLnRvb2x0aXBEaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmFuaW1hdGlvbnMgPSB0cnVlO1xuICAgICAgICB0aGlzLnNob3dEYXRhTGFiZWwgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5ub0JhcldoZW5aZXJvID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zZWxlY3QgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgICAgIHRoaXMuYWN0aXZhdGUgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgICAgIHRoaXMuZGVhY3RpdmF0ZSA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5kYXRhTGFiZWxIZWlnaHRDaGFuZ2VkID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICB0aGlzLmJhcnNGb3JEYXRhTGFiZWxzID0gW107XG4gICAgfVxuICAgIFNlcmllc1ZlcnRpY2FsQ29tcG9uZW50LnByb3RvdHlwZS5uZ09uQ2hhbmdlcyA9IGZ1bmN0aW9uIChjaGFuZ2VzKSB7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfTtcbiAgICBTZXJpZXNWZXJ0aWNhbENvbXBvbmVudC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMudXBkYXRlVG9vbHRpcFNldHRpbmdzKCk7XG4gICAgICAgIHZhciB3aWR0aDtcbiAgICAgICAgaWYgKHRoaXMuc2VyaWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgd2lkdGggPSB0aGlzLnhTY2FsZS5iYW5kd2lkdGgoKTtcbiAgICAgICAgfVxuICAgICAgICB3aWR0aCA9IE1hdGgucm91bmQod2lkdGgpO1xuICAgICAgICB2YXIgeVNjYWxlTWluID0gTWF0aC5tYXgodGhpcy55U2NhbGUuZG9tYWluKClbMF0sIDApO1xuICAgICAgICB2YXIgZDAgPSAoX2EgPSB7fSxcbiAgICAgICAgICAgIF9hW0QwVHlwZXMucG9zaXRpdmVdID0gMCxcbiAgICAgICAgICAgIF9hW0QwVHlwZXMubmVnYXRpdmVdID0gMCxcbiAgICAgICAgICAgIF9hKTtcbiAgICAgICAgdmFyIGQwVHlwZSA9IEQwVHlwZXMucG9zaXRpdmU7XG4gICAgICAgIHZhciB0b3RhbDtcbiAgICAgICAgaWYgKHRoaXMudHlwZSA9PT0gJ25vcm1hbGl6ZWQnKSB7XG4gICAgICAgICAgICB0b3RhbCA9IHRoaXMuc2VyaWVzLm1hcChmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC52YWx1ZTsgfSkucmVkdWNlKGZ1bmN0aW9uIChzdW0sIGQpIHsgcmV0dXJuIHN1bSArIGQ7IH0sIDApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYmFycyA9IHRoaXMuc2VyaWVzLm1hcChmdW5jdGlvbiAoZCwgaW5kZXgpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IGQudmFsdWU7XG4gICAgICAgICAgICB2YXIgbGFiZWwgPSBfdGhpcy5nZXRMYWJlbChkKTtcbiAgICAgICAgICAgIHZhciBmb3JtYXR0ZWRMYWJlbCA9IGZvcm1hdExhYmVsKGxhYmVsKTtcbiAgICAgICAgICAgIHZhciByb3VuZEVkZ2VzID0gX3RoaXMucm91bmRFZGdlcztcbiAgICAgICAgICAgIGQwVHlwZSA9IHZhbHVlID4gMCA/IEQwVHlwZXMucG9zaXRpdmUgOiBEMFR5cGVzLm5lZ2F0aXZlO1xuICAgICAgICAgICAgdmFyIGJhciA9IHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICAgICAgbGFiZWw6IGxhYmVsLFxuICAgICAgICAgICAgICAgIHJvdW5kRWRnZXM6IHJvdW5kRWRnZXMsXG4gICAgICAgICAgICAgICAgZGF0YTogZCxcbiAgICAgICAgICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgICAgICAgICAgZm9ybWF0dGVkTGFiZWw6IGZvcm1hdHRlZExhYmVsLFxuICAgICAgICAgICAgICAgIGhlaWdodDogMCxcbiAgICAgICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgICAgIHk6IDBcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoX3RoaXMudHlwZSA9PT0gJ3N0YW5kYXJkJykge1xuICAgICAgICAgICAgICAgIGJhci5oZWlnaHQgPSBNYXRoLmFicyhfdGhpcy55U2NhbGUodmFsdWUpIC0gX3RoaXMueVNjYWxlKHlTY2FsZU1pbikpO1xuICAgICAgICAgICAgICAgIGJhci54ID0gX3RoaXMueFNjYWxlKGxhYmVsKTtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGJhci55ID0gX3RoaXMueVNjYWxlKDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYmFyLnkgPSBfdGhpcy55U2NhbGUodmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKF90aGlzLnR5cGUgPT09ICdzdGFja2VkJykge1xuICAgICAgICAgICAgICAgIHZhciBvZmZzZXQwID0gZDBbZDBUeXBlXTtcbiAgICAgICAgICAgICAgICB2YXIgb2Zmc2V0MSA9IG9mZnNldDAgKyB2YWx1ZTtcbiAgICAgICAgICAgICAgICBkMFtkMFR5cGVdICs9IHZhbHVlO1xuICAgICAgICAgICAgICAgIGJhci5oZWlnaHQgPSBfdGhpcy55U2NhbGUob2Zmc2V0MCkgLSBfdGhpcy55U2NhbGUob2Zmc2V0MSk7XG4gICAgICAgICAgICAgICAgYmFyLnggPSAwO1xuICAgICAgICAgICAgICAgIGJhci55ID0gX3RoaXMueVNjYWxlKG9mZnNldDEpO1xuICAgICAgICAgICAgICAgIGJhci5vZmZzZXQwID0gb2Zmc2V0MDtcbiAgICAgICAgICAgICAgICBiYXIub2Zmc2V0MSA9IG9mZnNldDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChfdGhpcy50eXBlID09PSAnbm9ybWFsaXplZCcpIHtcbiAgICAgICAgICAgICAgICB2YXIgb2Zmc2V0MCA9IGQwW2QwVHlwZV07XG4gICAgICAgICAgICAgICAgdmFyIG9mZnNldDEgPSBvZmZzZXQwICsgdmFsdWU7XG4gICAgICAgICAgICAgICAgZDBbZDBUeXBlXSArPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAodG90YWwgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG9mZnNldDAgPSAob2Zmc2V0MCAqIDEwMCkgLyB0b3RhbDtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0MSA9IChvZmZzZXQxICogMTAwKSAvIHRvdGFsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0MCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIG9mZnNldDEgPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBiYXIuaGVpZ2h0ID0gX3RoaXMueVNjYWxlKG9mZnNldDApIC0gX3RoaXMueVNjYWxlKG9mZnNldDEpO1xuICAgICAgICAgICAgICAgIGJhci54ID0gMDtcbiAgICAgICAgICAgICAgICBiYXIueSA9IF90aGlzLnlTY2FsZShvZmZzZXQxKTtcbiAgICAgICAgICAgICAgICBiYXIub2Zmc2V0MCA9IG9mZnNldDA7XG4gICAgICAgICAgICAgICAgYmFyLm9mZnNldDEgPSBvZmZzZXQxO1xuICAgICAgICAgICAgICAgIHZhbHVlID0gKG9mZnNldDEgLSBvZmZzZXQwKS50b0ZpeGVkKDIpICsgJyUnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKF90aGlzLmNvbG9ycy5zY2FsZVR5cGUgPT09ICdvcmRpbmFsJykge1xuICAgICAgICAgICAgICAgIGJhci5jb2xvciA9IF90aGlzLmNvbG9ycy5nZXRDb2xvcihsYWJlbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMudHlwZSA9PT0gJ3N0YW5kYXJkJykge1xuICAgICAgICAgICAgICAgICAgICBiYXIuY29sb3IgPSBfdGhpcy5jb2xvcnMuZ2V0Q29sb3IodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBiYXIuZ3JhZGllbnRTdG9wcyA9IF90aGlzLmNvbG9ycy5nZXRMaW5lYXJHcmFkaWVudFN0b3BzKHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGJhci5jb2xvciA9IF90aGlzLmNvbG9ycy5nZXRDb2xvcihiYXIub2Zmc2V0MSk7XG4gICAgICAgICAgICAgICAgICAgIGJhci5ncmFkaWVudFN0b3BzID0gX3RoaXMuY29sb3JzLmdldExpbmVhckdyYWRpZW50U3RvcHMoYmFyLm9mZnNldDEsIGJhci5vZmZzZXQwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgdG9vbHRpcExhYmVsID0gZm9ybWF0dGVkTGFiZWw7XG4gICAgICAgICAgICBiYXIuYXJpYUxhYmVsID0gZm9ybWF0dGVkTGFiZWwgKyAnICcgKyB2YWx1ZS50b0xvY2FsZVN0cmluZygpO1xuICAgICAgICAgICAgaWYgKF90aGlzLnNlcmllc05hbWUpIHtcbiAgICAgICAgICAgICAgICB0b29sdGlwTGFiZWwgPSBfdGhpcy5zZXJpZXNOYW1lICsgXCIgXFx1MjAyMiBcIiArIGZvcm1hdHRlZExhYmVsO1xuICAgICAgICAgICAgICAgIGJhci5kYXRhLnNlcmllcyA9IF90aGlzLnNlcmllc05hbWU7XG4gICAgICAgICAgICAgICAgYmFyLmFyaWFMYWJlbCA9IF90aGlzLnNlcmllc05hbWUgKyAnICcgKyBiYXIuYXJpYUxhYmVsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYmFyLnRvb2x0aXBUZXh0ID0gX3RoaXMudG9vbHRpcERpc2FibGVkXG4gICAgICAgICAgICAgICAgPyB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA6IFwiXFxuICAgICAgICA8c3BhbiBjbGFzcz1cXFwidG9vbHRpcC1sYWJlbFxcXCI+XCIgKyBlc2NhcGVMYWJlbCh0b29sdGlwTGFiZWwpICsgXCI8L3NwYW4+XFxuICAgICAgICA8c3BhbiBjbGFzcz1cXFwidG9vbHRpcC12YWxcXFwiPlwiICsgdmFsdWUudG9Mb2NhbGVTdHJpbmcoKSArIFwiPC9zcGFuPlxcbiAgICAgIFwiO1xuICAgICAgICAgICAgcmV0dXJuIGJhcjtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudXBkYXRlRGF0YUxhYmVscygpO1xuICAgIH07XG4gICAgU2VyaWVzVmVydGljYWxDb21wb25lbnQucHJvdG90eXBlLnVwZGF0ZURhdGFMYWJlbHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLnR5cGUgPT09ICdzdGFja2VkJykge1xuICAgICAgICAgICAgdGhpcy5iYXJzRm9yRGF0YUxhYmVscyA9IFtdO1xuICAgICAgICAgICAgdmFyIHNlY3Rpb24gPSB7fTtcbiAgICAgICAgICAgIHNlY3Rpb24uc2VyaWVzID0gdGhpcy5zZXJpZXNOYW1lO1xuICAgICAgICAgICAgdmFyIHRvdGFsUG9zaXRpdmUgPSB0aGlzLnNlcmllcy5tYXAoZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQudmFsdWU7IH0pLnJlZHVjZShmdW5jdGlvbiAoc3VtLCBkKSB7IHJldHVybiAoZCA+IDAgPyBzdW0gKyBkIDogc3VtKTsgfSwgMCk7XG4gICAgICAgICAgICB2YXIgdG90YWxOZWdhdGl2ZSA9IHRoaXMuc2VyaWVzLm1hcChmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC52YWx1ZTsgfSkucmVkdWNlKGZ1bmN0aW9uIChzdW0sIGQpIHsgcmV0dXJuIChkIDwgMCA/IHN1bSArIGQgOiBzdW0pOyB9LCAwKTtcbiAgICAgICAgICAgIHNlY3Rpb24udG90YWwgPSB0b3RhbFBvc2l0aXZlICsgdG90YWxOZWdhdGl2ZTtcbiAgICAgICAgICAgIHNlY3Rpb24ueCA9IDA7XG4gICAgICAgICAgICBzZWN0aW9uLnkgPSAwO1xuICAgICAgICAgICAgaWYgKHNlY3Rpb24udG90YWwgPiAwKSB7XG4gICAgICAgICAgICAgICAgc2VjdGlvbi5oZWlnaHQgPSB0aGlzLnlTY2FsZSh0b3RhbFBvc2l0aXZlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHNlY3Rpb24uaGVpZ2h0ID0gdGhpcy55U2NhbGUodG90YWxOZWdhdGl2ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZWN0aW9uLndpZHRoID0gdGhpcy54U2NhbGUuYmFuZHdpZHRoKCk7XG4gICAgICAgICAgICB0aGlzLmJhcnNGb3JEYXRhTGFiZWxzLnB1c2goc2VjdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmJhcnNGb3JEYXRhTGFiZWxzID0gdGhpcy5zZXJpZXMubWFwKGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNlY3Rpb24gPSB7fTtcbiAgICAgICAgICAgICAgICBzZWN0aW9uLnNlcmllcyA9IF90aGlzLnNlcmllc05hbWUgPyBfdGhpcy5zZXJpZXNOYW1lIDogZC5sYWJlbDtcbiAgICAgICAgICAgICAgICBzZWN0aW9uLnRvdGFsID0gZC52YWx1ZTtcbiAgICAgICAgICAgICAgICBzZWN0aW9uLnggPSBfdGhpcy54U2NhbGUoZC5sYWJlbCk7XG4gICAgICAgICAgICAgICAgc2VjdGlvbi55ID0gX3RoaXMueVNjYWxlKDApO1xuICAgICAgICAgICAgICAgIHNlY3Rpb24uaGVpZ2h0ID0gX3RoaXMueVNjYWxlKHNlY3Rpb24udG90YWwpIC0gX3RoaXMueVNjYWxlKDApO1xuICAgICAgICAgICAgICAgIHNlY3Rpb24ud2lkdGggPSBfdGhpcy54U2NhbGUuYmFuZHdpZHRoKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlY3Rpb247XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU2VyaWVzVmVydGljYWxDb21wb25lbnQucHJvdG90eXBlLnVwZGF0ZVRvb2x0aXBTZXR0aW5ncyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy50b29sdGlwUGxhY2VtZW50ID0gdGhpcy50b29sdGlwRGlzYWJsZWQgPyB1bmRlZmluZWQgOiAndG9wJztcbiAgICAgICAgdGhpcy50b29sdGlwVHlwZSA9IHRoaXMudG9vbHRpcERpc2FibGVkID8gdW5kZWZpbmVkIDogJ3Rvb2x0aXAnO1xuICAgIH07XG4gICAgU2VyaWVzVmVydGljYWxDb21wb25lbnQucHJvdG90eXBlLmlzQWN0aXZlID0gZnVuY3Rpb24gKGVudHJ5KSB7XG4gICAgICAgIGlmICghdGhpcy5hY3RpdmVFbnRyaWVzKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB2YXIgaXRlbSA9IHRoaXMuYWN0aXZlRW50cmllcy5maW5kKGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICByZXR1cm4gZW50cnkubmFtZSA9PT0gZC5uYW1lICYmIGVudHJ5LnNlcmllcyA9PT0gZC5zZXJpZXM7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gaXRlbSAhPT0gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgU2VyaWVzVmVydGljYWxDb21wb25lbnQucHJvdG90eXBlLm9uQ2xpY2sgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB0aGlzLnNlbGVjdC5lbWl0KGRhdGEpO1xuICAgIH07XG4gICAgU2VyaWVzVmVydGljYWxDb21wb25lbnQucHJvdG90eXBlLmdldExhYmVsID0gZnVuY3Rpb24gKGRhdGFJdGVtKSB7XG4gICAgICAgIGlmIChkYXRhSXRlbS5sYWJlbCkge1xuICAgICAgICAgICAgcmV0dXJuIGRhdGFJdGVtLmxhYmVsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkYXRhSXRlbS5uYW1lO1xuICAgIH07XG4gICAgU2VyaWVzVmVydGljYWxDb21wb25lbnQucHJvdG90eXBlLnRyYWNrQnkgPSBmdW5jdGlvbiAoaW5kZXgsIGJhcikge1xuICAgICAgICByZXR1cm4gYmFyLmxhYmVsO1xuICAgIH07XG4gICAgU2VyaWVzVmVydGljYWxDb21wb25lbnQucHJvdG90eXBlLnRyYWNrRGF0YUxhYmVsQnkgPSBmdW5jdGlvbiAoaW5kZXgsIGJhckxhYmVsKSB7XG4gICAgICAgIHJldHVybiBpbmRleCArICcjJyArIGJhckxhYmVsLnNlcmllcyArICcjJyArIGJhckxhYmVsLnRvdGFsO1xuICAgIH07XG4gICAgdmFyIF9hO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIFNlcmllc1ZlcnRpY2FsQ29tcG9uZW50LnByb3RvdHlwZSwgXCJkaW1zXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgU2VyaWVzVmVydGljYWxDb21wb25lbnQucHJvdG90eXBlLCBcInR5cGVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBTZXJpZXNWZXJ0aWNhbENvbXBvbmVudC5wcm90b3R5cGUsIFwic2VyaWVzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgU2VyaWVzVmVydGljYWxDb21wb25lbnQucHJvdG90eXBlLCBcInhTY2FsZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIFNlcmllc1ZlcnRpY2FsQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ5U2NhbGVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBTZXJpZXNWZXJ0aWNhbENvbXBvbmVudC5wcm90b3R5cGUsIFwiY29sb3JzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIFNlcmllc1ZlcnRpY2FsQ29tcG9uZW50LnByb3RvdHlwZSwgXCJncmFkaWVudFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQXJyYXkpXG4gICAgXSwgU2VyaWVzVmVydGljYWxDb21wb25lbnQucHJvdG90eXBlLCBcImFjdGl2ZUVudHJpZXNcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcbiAgICBdLCBTZXJpZXNWZXJ0aWNhbENvbXBvbmVudC5wcm90b3R5cGUsIFwic2VyaWVzTmFtZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbiAgICBdLCBTZXJpZXNWZXJ0aWNhbENvbXBvbmVudC5wcm90b3R5cGUsIFwidG9vbHRpcERpc2FibGVkXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCB0eXBlb2YgKF9hID0gdHlwZW9mIFRlbXBsYXRlUmVmICE9PSBcInVuZGVmaW5lZFwiICYmIFRlbXBsYXRlUmVmKSA9PT0gXCJmdW5jdGlvblwiID8gX2EgOiBPYmplY3QpXG4gICAgXSwgU2VyaWVzVmVydGljYWxDb21wb25lbnQucHJvdG90eXBlLCBcInRvb2x0aXBUZW1wbGF0ZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbiAgICBdLCBTZXJpZXNWZXJ0aWNhbENvbXBvbmVudC5wcm90b3R5cGUsIFwicm91bmRFZGdlc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbiAgICBdLCBTZXJpZXNWZXJ0aWNhbENvbXBvbmVudC5wcm90b3R5cGUsIFwiYW5pbWF0aW9uc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbiAgICBdLCBTZXJpZXNWZXJ0aWNhbENvbXBvbmVudC5wcm90b3R5cGUsIFwic2hvd0RhdGFMYWJlbFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIFNlcmllc1ZlcnRpY2FsQ29tcG9uZW50LnByb3RvdHlwZSwgXCJkYXRhTGFiZWxGb3JtYXR0aW5nXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIFNlcmllc1ZlcnRpY2FsQ29tcG9uZW50LnByb3RvdHlwZSwgXCJub0JhcldoZW5aZXJvXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIE91dHB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIFNlcmllc1ZlcnRpY2FsQ29tcG9uZW50LnByb3RvdHlwZSwgXCJzZWxlY3RcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgT3V0cHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgU2VyaWVzVmVydGljYWxDb21wb25lbnQucHJvdG90eXBlLCBcImFjdGl2YXRlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIE91dHB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIFNlcmllc1ZlcnRpY2FsQ29tcG9uZW50LnByb3RvdHlwZSwgXCJkZWFjdGl2YXRlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIE91dHB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIFNlcmllc1ZlcnRpY2FsQ29tcG9uZW50LnByb3RvdHlwZSwgXCJkYXRhTGFiZWxIZWlnaHRDaGFuZ2VkXCIsIHZvaWQgMCk7XG4gICAgU2VyaWVzVmVydGljYWxDb21wb25lbnQgPSBfX2RlY29yYXRlKFtcbiAgICAgICAgQ29tcG9uZW50KHtcbiAgICAgICAgICAgIHNlbGVjdG9yOiAnZ1tuZ3gtY2hhcnRzLXNlcmllcy12ZXJ0aWNhbF0nLFxuICAgICAgICAgICAgdGVtcGxhdGU6IFwiXFxuICAgIDxzdmc6Z1xcbiAgICAgIG5neC1jaGFydHMtYmFyXFxuICAgICAgKm5nRm9yPVxcXCJsZXQgYmFyIG9mIGJhcnM7IHRyYWNrQnk6IHRyYWNrQnlcXFwiXFxuICAgICAgW0BhbmltYXRpb25TdGF0ZV09XFxcIidhY3RpdmUnXFxcIlxcbiAgICAgIFtALmRpc2FibGVkXT1cXFwiIWFuaW1hdGlvbnNcXFwiXFxuICAgICAgW3dpZHRoXT1cXFwiYmFyLndpZHRoXFxcIlxcbiAgICAgIFtoZWlnaHRdPVxcXCJiYXIuaGVpZ2h0XFxcIlxcbiAgICAgIFt4XT1cXFwiYmFyLnhcXFwiXFxuICAgICAgW3ldPVxcXCJiYXIueVxcXCJcXG4gICAgICBbZmlsbF09XFxcImJhci5jb2xvclxcXCJcXG4gICAgICBbc3RvcHNdPVxcXCJiYXIuZ3JhZGllbnRTdG9wc1xcXCJcXG4gICAgICBbZGF0YV09XFxcImJhci5kYXRhXFxcIlxcbiAgICAgIFtvcmllbnRhdGlvbl09XFxcIid2ZXJ0aWNhbCdcXFwiXFxuICAgICAgW3JvdW5kRWRnZXNdPVxcXCJiYXIucm91bmRFZGdlc1xcXCJcXG4gICAgICBbZ3JhZGllbnRdPVxcXCJncmFkaWVudFxcXCJcXG4gICAgICBbYXJpYUxhYmVsXT1cXFwiYmFyLmFyaWFMYWJlbFxcXCJcXG4gICAgICBbaXNBY3RpdmVdPVxcXCJpc0FjdGl2ZShiYXIuZGF0YSlcXFwiXFxuICAgICAgKHNlbGVjdCk9XFxcIm9uQ2xpY2soJGV2ZW50KVxcXCJcXG4gICAgICAoYWN0aXZhdGUpPVxcXCJhY3RpdmF0ZS5lbWl0KCRldmVudClcXFwiXFxuICAgICAgKGRlYWN0aXZhdGUpPVxcXCJkZWFjdGl2YXRlLmVtaXQoJGV2ZW50KVxcXCJcXG4gICAgICBuZ3gtdG9vbHRpcFxcbiAgICAgIFt0b29sdGlwRGlzYWJsZWRdPVxcXCJ0b29sdGlwRGlzYWJsZWRcXFwiXFxuICAgICAgW3Rvb2x0aXBQbGFjZW1lbnRdPVxcXCJ0b29sdGlwUGxhY2VtZW50XFxcIlxcbiAgICAgIFt0b29sdGlwVHlwZV09XFxcInRvb2x0aXBUeXBlXFxcIlxcbiAgICAgIFt0b29sdGlwVGl0bGVdPVxcXCJ0b29sdGlwVGVtcGxhdGUgPyB1bmRlZmluZWQgOiBiYXIudG9vbHRpcFRleHRcXFwiXFxuICAgICAgW3Rvb2x0aXBUZW1wbGF0ZV09XFxcInRvb2x0aXBUZW1wbGF0ZVxcXCJcXG4gICAgICBbdG9vbHRpcENvbnRleHRdPVxcXCJiYXIuZGF0YVxcXCJcXG4gICAgICBbbm9CYXJXaGVuWmVyb109XFxcIm5vQmFyV2hlblplcm9cXFwiXFxuICAgICAgW2FuaW1hdGlvbnNdPVxcXCJhbmltYXRpb25zXFxcIlxcbiAgICA+PC9zdmc6Zz5cXG4gICAgPHN2ZzpnICpuZ0lmPVxcXCJzaG93RGF0YUxhYmVsXFxcIj5cXG4gICAgICA8c3ZnOmdcXG4gICAgICAgIG5neC1jaGFydHMtYmFyLWxhYmVsXFxuICAgICAgICAqbmdGb3I9XFxcImxldCBiIG9mIGJhcnNGb3JEYXRhTGFiZWxzOyBsZXQgaSA9IGluZGV4OyB0cmFja0J5OiB0cmFja0RhdGFMYWJlbEJ5XFxcIlxcbiAgICAgICAgW2JhclhdPVxcXCJiLnhcXFwiXFxuICAgICAgICBbYmFyWV09XFxcImIueVxcXCJcXG4gICAgICAgIFtiYXJXaWR0aF09XFxcImIud2lkdGhcXFwiXFxuICAgICAgICBbYmFySGVpZ2h0XT1cXFwiYi5oZWlnaHRcXFwiXFxuICAgICAgICBbdmFsdWVdPVxcXCJiLnRvdGFsXFxcIlxcbiAgICAgICAgW3ZhbHVlRm9ybWF0dGluZ109XFxcImRhdGFMYWJlbEZvcm1hdHRpbmdcXFwiXFxuICAgICAgICBbb3JpZW50YXRpb25dPVxcXCIndmVydGljYWwnXFxcIlxcbiAgICAgICAgKGRpbWVuc2lvbnNDaGFuZ2VkKT1cXFwiZGF0YUxhYmVsSGVpZ2h0Q2hhbmdlZC5lbWl0KHsgc2l6ZTogJGV2ZW50LCBpbmRleDogaSB9KVxcXCJcXG4gICAgICAvPlxcbiAgICA8L3N2ZzpnPlxcbiAgXCIsXG4gICAgICAgICAgICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcbiAgICAgICAgICAgIGFuaW1hdGlvbnM6IFtcbiAgICAgICAgICAgICAgICB0cmlnZ2VyKCdhbmltYXRpb25TdGF0ZScsIFtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbignOmxlYXZlJywgW1xuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDFcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0ZSg1MDAsIHN0eWxlKHsgb3BhY2l0eTogMCB9KSlcbiAgICAgICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgXVxuICAgICAgICB9KVxuICAgIF0sIFNlcmllc1ZlcnRpY2FsQ29tcG9uZW50KTtcbiAgICByZXR1cm4gU2VyaWVzVmVydGljYWxDb21wb25lbnQ7XG59KCkpO1xuXG52YXIgU2VyaWVzSG9yaXpvbnRhbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTZXJpZXNIb3Jpem9udGFsKCkge1xuICAgICAgICB0aGlzLmJhcnNGb3JEYXRhTGFiZWxzID0gW107XG4gICAgICAgIHRoaXMudHlwZSA9ICdzdGFuZGFyZCc7XG4gICAgICAgIHRoaXMudG9vbHRpcERpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucyA9IHRydWU7XG4gICAgICAgIHRoaXMuc2hvd0RhdGFMYWJlbCA9IGZhbHNlO1xuICAgICAgICB0aGlzLm5vQmFyV2hlblplcm8gPSB0cnVlO1xuICAgICAgICB0aGlzLnNlbGVjdCA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5hY3RpdmF0ZSA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5kZWFjdGl2YXRlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICB0aGlzLmRhdGFMYWJlbFdpZHRoQ2hhbmdlZCA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICB9XG4gICAgU2VyaWVzSG9yaXpvbnRhbC5wcm90b3R5cGUubmdPbkNoYW5nZXMgPSBmdW5jdGlvbiAoY2hhbmdlcykge1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIH07XG4gICAgU2VyaWVzSG9yaXpvbnRhbC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMudXBkYXRlVG9vbHRpcFNldHRpbmdzKCk7XG4gICAgICAgIHZhciBkMCA9IChfYSA9IHt9LFxuICAgICAgICAgICAgX2FbRDBUeXBlcy5wb3NpdGl2ZV0gPSAwLFxuICAgICAgICAgICAgX2FbRDBUeXBlcy5uZWdhdGl2ZV0gPSAwLFxuICAgICAgICAgICAgX2EpO1xuICAgICAgICB2YXIgZDBUeXBlO1xuICAgICAgICBkMFR5cGUgPSBEMFR5cGVzLnBvc2l0aXZlO1xuICAgICAgICB2YXIgdG90YWw7XG4gICAgICAgIGlmICh0aGlzLnR5cGUgPT09ICdub3JtYWxpemVkJykge1xuICAgICAgICAgICAgdG90YWwgPSB0aGlzLnNlcmllcy5tYXAoZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQudmFsdWU7IH0pLnJlZHVjZShmdW5jdGlvbiAoc3VtLCBkKSB7IHJldHVybiBzdW0gKyBkOyB9LCAwKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgeFNjYWxlTWluID0gTWF0aC5tYXgodGhpcy54U2NhbGUuZG9tYWluKClbMF0sIDApO1xuICAgICAgICB0aGlzLmJhcnMgPSB0aGlzLnNlcmllcy5tYXAoZnVuY3Rpb24gKGQsIGluZGV4KSB7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBkLnZhbHVlO1xuICAgICAgICAgICAgdmFyIGxhYmVsID0gX3RoaXMuZ2V0TGFiZWwoZCk7XG4gICAgICAgICAgICB2YXIgZm9ybWF0dGVkTGFiZWwgPSBmb3JtYXRMYWJlbChsYWJlbCk7XG4gICAgICAgICAgICB2YXIgcm91bmRFZGdlcyA9IF90aGlzLnJvdW5kRWRnZXM7XG4gICAgICAgICAgICBkMFR5cGUgPSB2YWx1ZSA+IDAgPyBEMFR5cGVzLnBvc2l0aXZlIDogRDBUeXBlcy5uZWdhdGl2ZTtcbiAgICAgICAgICAgIHZhciBiYXIgPSB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBsYWJlbCxcbiAgICAgICAgICAgICAgICByb3VuZEVkZ2VzOiByb3VuZEVkZ2VzLFxuICAgICAgICAgICAgICAgIGRhdGE6IGQsXG4gICAgICAgICAgICAgICAgZm9ybWF0dGVkTGFiZWw6IGZvcm1hdHRlZExhYmVsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgYmFyLmhlaWdodCA9IF90aGlzLnlTY2FsZS5iYW5kd2lkdGgoKTtcbiAgICAgICAgICAgIGlmIChfdGhpcy50eXBlID09PSAnc3RhbmRhcmQnKSB7XG4gICAgICAgICAgICAgICAgYmFyLndpZHRoID0gTWF0aC5hYnMoX3RoaXMueFNjYWxlKHZhbHVlKSAtIF90aGlzLnhTY2FsZSh4U2NhbGVNaW4pKTtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGJhci54ID0gX3RoaXMueFNjYWxlKHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGJhci54ID0gX3RoaXMueFNjYWxlKHhTY2FsZU1pbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJhci55ID0gX3RoaXMueVNjYWxlKGxhYmVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKF90aGlzLnR5cGUgPT09ICdzdGFja2VkJykge1xuICAgICAgICAgICAgICAgIHZhciBvZmZzZXQwID0gZDBbZDBUeXBlXTtcbiAgICAgICAgICAgICAgICB2YXIgb2Zmc2V0MSA9IG9mZnNldDAgKyB2YWx1ZTtcbiAgICAgICAgICAgICAgICBkMFtkMFR5cGVdICs9IHZhbHVlO1xuICAgICAgICAgICAgICAgIGJhci53aWR0aCA9IF90aGlzLnhTY2FsZShvZmZzZXQxKSAtIF90aGlzLnhTY2FsZShvZmZzZXQwKTtcbiAgICAgICAgICAgICAgICBiYXIueCA9IF90aGlzLnhTY2FsZShvZmZzZXQwKTtcbiAgICAgICAgICAgICAgICBiYXIueSA9IDA7XG4gICAgICAgICAgICAgICAgYmFyLm9mZnNldDAgPSBvZmZzZXQwO1xuICAgICAgICAgICAgICAgIGJhci5vZmZzZXQxID0gb2Zmc2V0MTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKF90aGlzLnR5cGUgPT09ICdub3JtYWxpemVkJykge1xuICAgICAgICAgICAgICAgIHZhciBvZmZzZXQwID0gZDBbZDBUeXBlXTtcbiAgICAgICAgICAgICAgICB2YXIgb2Zmc2V0MSA9IG9mZnNldDAgKyB2YWx1ZTtcbiAgICAgICAgICAgICAgICBkMFtkMFR5cGVdICs9IHZhbHVlO1xuICAgICAgICAgICAgICAgIGlmICh0b3RhbCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0MCA9IChvZmZzZXQwICogMTAwKSAvIHRvdGFsO1xuICAgICAgICAgICAgICAgICAgICBvZmZzZXQxID0gKG9mZnNldDEgKiAxMDApIC8gdG90YWw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBvZmZzZXQwID0gMDtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0MSA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJhci53aWR0aCA9IF90aGlzLnhTY2FsZShvZmZzZXQxKSAtIF90aGlzLnhTY2FsZShvZmZzZXQwKTtcbiAgICAgICAgICAgICAgICBiYXIueCA9IF90aGlzLnhTY2FsZShvZmZzZXQwKTtcbiAgICAgICAgICAgICAgICBiYXIueSA9IDA7XG4gICAgICAgICAgICAgICAgYmFyLm9mZnNldDAgPSBvZmZzZXQwO1xuICAgICAgICAgICAgICAgIGJhci5vZmZzZXQxID0gb2Zmc2V0MTtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IChvZmZzZXQxIC0gb2Zmc2V0MCkudG9GaXhlZCgyKSArICclJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChfdGhpcy5jb2xvcnMuc2NhbGVUeXBlID09PSAnb3JkaW5hbCcpIHtcbiAgICAgICAgICAgICAgICBiYXIuY29sb3IgPSBfdGhpcy5jb2xvcnMuZ2V0Q29sb3IobGFiZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLnR5cGUgPT09ICdzdGFuZGFyZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgYmFyLmNvbG9yID0gX3RoaXMuY29sb3JzLmdldENvbG9yKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgYmFyLmdyYWRpZW50U3RvcHMgPSBfdGhpcy5jb2xvcnMuZ2V0TGluZWFyR3JhZGllbnRTdG9wcyh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBiYXIuY29sb3IgPSBfdGhpcy5jb2xvcnMuZ2V0Q29sb3IoYmFyLm9mZnNldDEpO1xuICAgICAgICAgICAgICAgICAgICBiYXIuZ3JhZGllbnRTdG9wcyA9IF90aGlzLmNvbG9ycy5nZXRMaW5lYXJHcmFkaWVudFN0b3BzKGJhci5vZmZzZXQxLCBiYXIub2Zmc2V0MCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHRvb2x0aXBMYWJlbCA9IGZvcm1hdHRlZExhYmVsO1xuICAgICAgICAgICAgYmFyLmFyaWFMYWJlbCA9IGZvcm1hdHRlZExhYmVsICsgJyAnICsgdmFsdWUudG9Mb2NhbGVTdHJpbmcoKTtcbiAgICAgICAgICAgIGlmIChfdGhpcy5zZXJpZXNOYW1lKSB7XG4gICAgICAgICAgICAgICAgdG9vbHRpcExhYmVsID0gX3RoaXMuc2VyaWVzTmFtZSArIFwiIFxcdTIwMjIgXCIgKyBmb3JtYXR0ZWRMYWJlbDtcbiAgICAgICAgICAgICAgICBiYXIuZGF0YS5zZXJpZXMgPSBfdGhpcy5zZXJpZXNOYW1lO1xuICAgICAgICAgICAgICAgIGJhci5hcmlhTGFiZWwgPSBfdGhpcy5zZXJpZXNOYW1lICsgJyAnICsgYmFyLmFyaWFMYWJlbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJhci50b29sdGlwVGV4dCA9IF90aGlzLnRvb2x0aXBEaXNhYmxlZFxuICAgICAgICAgICAgICAgID8gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgOiBcIlxcbiAgICAgICAgPHNwYW4gY2xhc3M9XFxcInRvb2x0aXAtbGFiZWxcXFwiPlwiICsgZXNjYXBlTGFiZWwodG9vbHRpcExhYmVsKSArIFwiPC9zcGFuPlxcbiAgICAgICAgPHNwYW4gY2xhc3M9XFxcInRvb2x0aXAtdmFsXFxcIj5cIiArIHZhbHVlLnRvTG9jYWxlU3RyaW5nKCkgKyBcIjwvc3Bhbj5cXG4gICAgICBcIjtcbiAgICAgICAgICAgIHJldHVybiBiYXI7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnVwZGF0ZURhdGFMYWJlbHMoKTtcbiAgICB9O1xuICAgIFNlcmllc0hvcml6b250YWwucHJvdG90eXBlLnVwZGF0ZURhdGFMYWJlbHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLnR5cGUgPT09ICdzdGFja2VkJykge1xuICAgICAgICAgICAgdGhpcy5iYXJzRm9yRGF0YUxhYmVscyA9IFtdO1xuICAgICAgICAgICAgdmFyIHNlY3Rpb24gPSB7fTtcbiAgICAgICAgICAgIHNlY3Rpb24uc2VyaWVzID0gdGhpcy5zZXJpZXNOYW1lO1xuICAgICAgICAgICAgdmFyIHRvdGFsUG9zaXRpdmUgPSB0aGlzLnNlcmllcy5tYXAoZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQudmFsdWU7IH0pLnJlZHVjZShmdW5jdGlvbiAoc3VtLCBkKSB7IHJldHVybiAoZCA+IDAgPyBzdW0gKyBkIDogc3VtKTsgfSwgMCk7XG4gICAgICAgICAgICB2YXIgdG90YWxOZWdhdGl2ZSA9IHRoaXMuc2VyaWVzLm1hcChmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC52YWx1ZTsgfSkucmVkdWNlKGZ1bmN0aW9uIChzdW0sIGQpIHsgcmV0dXJuIChkIDwgMCA/IHN1bSArIGQgOiBzdW0pOyB9LCAwKTtcbiAgICAgICAgICAgIHNlY3Rpb24udG90YWwgPSB0b3RhbFBvc2l0aXZlICsgdG90YWxOZWdhdGl2ZTtcbiAgICAgICAgICAgIHNlY3Rpb24ueCA9IDA7XG4gICAgICAgICAgICBzZWN0aW9uLnkgPSAwO1xuICAgICAgICAgICAgLy8gaWYgdG90YWwgaXMgcG9zaXRpdmUgdGhlbiB3ZSBzaG93IGl0IG9uIHRoZSByaWdodCwgb3RoZXJ3aXNlIG9uIHRoZSBsZWZ0XG4gICAgICAgICAgICBpZiAoc2VjdGlvbi50b3RhbCA+IDApIHtcbiAgICAgICAgICAgICAgICBzZWN0aW9uLndpZHRoID0gdGhpcy54U2NhbGUodG90YWxQb3NpdGl2ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZWN0aW9uLndpZHRoID0gdGhpcy54U2NhbGUodG90YWxOZWdhdGl2ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZWN0aW9uLmhlaWdodCA9IHRoaXMueVNjYWxlLmJhbmR3aWR0aCgpO1xuICAgICAgICAgICAgdGhpcy5iYXJzRm9yRGF0YUxhYmVscy5wdXNoKHNlY3Rpb24pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5iYXJzRm9yRGF0YUxhYmVscyA9IHRoaXMuc2VyaWVzLm1hcChmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgICAgIHZhciBzZWN0aW9uID0ge307XG4gICAgICAgICAgICAgICAgc2VjdGlvbi5zZXJpZXMgPSBfdGhpcy5zZXJpZXNOYW1lID8gX3RoaXMuc2VyaWVzTmFtZSA6IGQubGFiZWw7XG4gICAgICAgICAgICAgICAgc2VjdGlvbi50b3RhbCA9IGQudmFsdWU7XG4gICAgICAgICAgICAgICAgc2VjdGlvbi54ID0gX3RoaXMueFNjYWxlKDApO1xuICAgICAgICAgICAgICAgIHNlY3Rpb24ueSA9IF90aGlzLnlTY2FsZShkLmxhYmVsKTtcbiAgICAgICAgICAgICAgICBzZWN0aW9uLndpZHRoID0gX3RoaXMueFNjYWxlKHNlY3Rpb24udG90YWwpIC0gX3RoaXMueFNjYWxlKDApO1xuICAgICAgICAgICAgICAgIHNlY3Rpb24uaGVpZ2h0ID0gX3RoaXMueVNjYWxlLmJhbmR3aWR0aCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBzZWN0aW9uO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNlcmllc0hvcml6b250YWwucHJvdG90eXBlLnVwZGF0ZVRvb2x0aXBTZXR0aW5ncyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy50b29sdGlwUGxhY2VtZW50ID0gdGhpcy50b29sdGlwRGlzYWJsZWQgPyB1bmRlZmluZWQgOiAndG9wJztcbiAgICAgICAgdGhpcy50b29sdGlwVHlwZSA9IHRoaXMudG9vbHRpcERpc2FibGVkID8gdW5kZWZpbmVkIDogJ3Rvb2x0aXAnO1xuICAgIH07XG4gICAgU2VyaWVzSG9yaXpvbnRhbC5wcm90b3R5cGUuaXNBY3RpdmUgPSBmdW5jdGlvbiAoZW50cnkpIHtcbiAgICAgICAgaWYgKCF0aGlzLmFjdGl2ZUVudHJpZXMpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIHZhciBpdGVtID0gdGhpcy5hY3RpdmVFbnRyaWVzLmZpbmQoZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgIHJldHVybiBlbnRyeS5uYW1lID09PSBkLm5hbWUgJiYgZW50cnkuc2VyaWVzID09PSBkLnNlcmllcztcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBpdGVtICE9PSB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICBTZXJpZXNIb3Jpem9udGFsLnByb3RvdHlwZS5nZXRMYWJlbCA9IGZ1bmN0aW9uIChkYXRhSXRlbSkge1xuICAgICAgICBpZiAoZGF0YUl0ZW0ubGFiZWwpIHtcbiAgICAgICAgICAgIHJldHVybiBkYXRhSXRlbS5sYWJlbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGF0YUl0ZW0ubmFtZTtcbiAgICB9O1xuICAgIFNlcmllc0hvcml6b250YWwucHJvdG90eXBlLnRyYWNrQnkgPSBmdW5jdGlvbiAoaW5kZXgsIGJhcikge1xuICAgICAgICByZXR1cm4gYmFyLmxhYmVsO1xuICAgIH07XG4gICAgU2VyaWVzSG9yaXpvbnRhbC5wcm90b3R5cGUudHJhY2tEYXRhTGFiZWxCeSA9IGZ1bmN0aW9uIChpbmRleCwgYmFyTGFiZWwpIHtcbiAgICAgICAgcmV0dXJuIGluZGV4ICsgJyMnICsgYmFyTGFiZWwuc2VyaWVzICsgJyMnICsgYmFyTGFiZWwudG90YWw7XG4gICAgfTtcbiAgICBTZXJpZXNIb3Jpem9udGFsLnByb3RvdHlwZS5jbGljayA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0LmVtaXQoZGF0YSk7XG4gICAgfTtcbiAgICB2YXIgX2E7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgU2VyaWVzSG9yaXpvbnRhbC5wcm90b3R5cGUsIFwiZGltc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIFNlcmllc0hvcml6b250YWwucHJvdG90eXBlLCBcInR5cGVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBTZXJpZXNIb3Jpem9udGFsLnByb3RvdHlwZSwgXCJzZXJpZXNcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBTZXJpZXNIb3Jpem9udGFsLnByb3RvdHlwZSwgXCJ4U2NhbGVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBTZXJpZXNIb3Jpem9udGFsLnByb3RvdHlwZSwgXCJ5U2NhbGVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBTZXJpZXNIb3Jpem9udGFsLnByb3RvdHlwZSwgXCJjb2xvcnNcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEJvb2xlYW4pXG4gICAgXSwgU2VyaWVzSG9yaXpvbnRhbC5wcm90b3R5cGUsIFwidG9vbHRpcERpc2FibGVkXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIFNlcmllc0hvcml6b250YWwucHJvdG90eXBlLCBcImdyYWRpZW50XCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBBcnJheSlcbiAgICBdLCBTZXJpZXNIb3Jpem9udGFsLnByb3RvdHlwZSwgXCJhY3RpdmVFbnRyaWVzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBTdHJpbmcpXG4gICAgXSwgU2VyaWVzSG9yaXpvbnRhbC5wcm90b3R5cGUsIFwic2VyaWVzTmFtZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgdHlwZW9mIChfYSA9IHR5cGVvZiBUZW1wbGF0ZVJlZiAhPT0gXCJ1bmRlZmluZWRcIiAmJiBUZW1wbGF0ZVJlZikgPT09IFwiZnVuY3Rpb25cIiA/IF9hIDogT2JqZWN0KVxuICAgIF0sIFNlcmllc0hvcml6b250YWwucHJvdG90eXBlLCBcInRvb2x0aXBUZW1wbGF0ZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbiAgICBdLCBTZXJpZXNIb3Jpem9udGFsLnByb3RvdHlwZSwgXCJyb3VuZEVkZ2VzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIFNlcmllc0hvcml6b250YWwucHJvdG90eXBlLCBcImFuaW1hdGlvbnNcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEJvb2xlYW4pXG4gICAgXSwgU2VyaWVzSG9yaXpvbnRhbC5wcm90b3R5cGUsIFwic2hvd0RhdGFMYWJlbFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIFNlcmllc0hvcml6b250YWwucHJvdG90eXBlLCBcImRhdGFMYWJlbEZvcm1hdHRpbmdcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEJvb2xlYW4pXG4gICAgXSwgU2VyaWVzSG9yaXpvbnRhbC5wcm90b3R5cGUsIFwibm9CYXJXaGVuWmVyb1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBPdXRwdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBTZXJpZXNIb3Jpem9udGFsLnByb3RvdHlwZSwgXCJzZWxlY3RcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgT3V0cHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgU2VyaWVzSG9yaXpvbnRhbC5wcm90b3R5cGUsIFwiYWN0aXZhdGVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgT3V0cHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgU2VyaWVzSG9yaXpvbnRhbC5wcm90b3R5cGUsIFwiZGVhY3RpdmF0ZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBPdXRwdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBTZXJpZXNIb3Jpem9udGFsLnByb3RvdHlwZSwgXCJkYXRhTGFiZWxXaWR0aENoYW5nZWRcIiwgdm9pZCAwKTtcbiAgICBTZXJpZXNIb3Jpem9udGFsID0gX19kZWNvcmF0ZShbXG4gICAgICAgIENvbXBvbmVudCh7XG4gICAgICAgICAgICBzZWxlY3RvcjogJ2dbbmd4LWNoYXJ0cy1zZXJpZXMtaG9yaXpvbnRhbF0nLFxuICAgICAgICAgICAgdGVtcGxhdGU6IFwiXFxuICAgIDxzdmc6Z1xcbiAgICAgIG5neC1jaGFydHMtYmFyXFxuICAgICAgKm5nRm9yPVxcXCJsZXQgYmFyIG9mIGJhcnM7IHRyYWNrQnk6IHRyYWNrQnlcXFwiXFxuICAgICAgW0BhbmltYXRpb25TdGF0ZV09XFxcIidhY3RpdmUnXFxcIlxcbiAgICAgIFt3aWR0aF09XFxcImJhci53aWR0aFxcXCJcXG4gICAgICBbaGVpZ2h0XT1cXFwiYmFyLmhlaWdodFxcXCJcXG4gICAgICBbeF09XFxcImJhci54XFxcIlxcbiAgICAgIFt5XT1cXFwiYmFyLnlcXFwiXFxuICAgICAgW2ZpbGxdPVxcXCJiYXIuY29sb3JcXFwiXFxuICAgICAgW3N0b3BzXT1cXFwiYmFyLmdyYWRpZW50U3RvcHNcXFwiXFxuICAgICAgW2RhdGFdPVxcXCJiYXIuZGF0YVxcXCJcXG4gICAgICBbb3JpZW50YXRpb25dPVxcXCInaG9yaXpvbnRhbCdcXFwiXFxuICAgICAgW3JvdW5kRWRnZXNdPVxcXCJiYXIucm91bmRFZGdlc1xcXCJcXG4gICAgICAoc2VsZWN0KT1cXFwiY2xpY2soJGV2ZW50KVxcXCJcXG4gICAgICBbZ3JhZGllbnRdPVxcXCJncmFkaWVudFxcXCJcXG4gICAgICBbaXNBY3RpdmVdPVxcXCJpc0FjdGl2ZShiYXIuZGF0YSlcXFwiXFxuICAgICAgW2FyaWFMYWJlbF09XFxcImJhci5hcmlhTGFiZWxcXFwiXFxuICAgICAgW2FuaW1hdGlvbnNdPVxcXCJhbmltYXRpb25zXFxcIlxcbiAgICAgIChhY3RpdmF0ZSk9XFxcImFjdGl2YXRlLmVtaXQoJGV2ZW50KVxcXCJcXG4gICAgICAoZGVhY3RpdmF0ZSk9XFxcImRlYWN0aXZhdGUuZW1pdCgkZXZlbnQpXFxcIlxcbiAgICAgIG5neC10b29sdGlwXFxuICAgICAgW3Rvb2x0aXBEaXNhYmxlZF09XFxcInRvb2x0aXBEaXNhYmxlZFxcXCJcXG4gICAgICBbdG9vbHRpcFBsYWNlbWVudF09XFxcInRvb2x0aXBQbGFjZW1lbnRcXFwiXFxuICAgICAgW3Rvb2x0aXBUeXBlXT1cXFwidG9vbHRpcFR5cGVcXFwiXFxuICAgICAgW3Rvb2x0aXBUaXRsZV09XFxcInRvb2x0aXBUZW1wbGF0ZSA/IHVuZGVmaW5lZCA6IGJhci50b29sdGlwVGV4dFxcXCJcXG4gICAgICBbdG9vbHRpcFRlbXBsYXRlXT1cXFwidG9vbHRpcFRlbXBsYXRlXFxcIlxcbiAgICAgIFt0b29sdGlwQ29udGV4dF09XFxcImJhci5kYXRhXFxcIlxcbiAgICAgIFtub0JhcldoZW5aZXJvXT1cXFwibm9CYXJXaGVuWmVyb1xcXCJcXG4gICAgPjwvc3ZnOmc+XFxuICAgIDxzdmc6ZyAqbmdJZj1cXFwic2hvd0RhdGFMYWJlbFxcXCI+XFxuICAgICAgPHN2ZzpnXFxuICAgICAgICBuZ3gtY2hhcnRzLWJhci1sYWJlbFxcbiAgICAgICAgKm5nRm9yPVxcXCJsZXQgYiBvZiBiYXJzRm9yRGF0YUxhYmVsczsgbGV0IGkgPSBpbmRleDsgdHJhY2tCeTogdHJhY2tEYXRhTGFiZWxCeVxcXCJcXG4gICAgICAgIFtiYXJYXT1cXFwiYi54XFxcIlxcbiAgICAgICAgW2JhclldPVxcXCJiLnlcXFwiXFxuICAgICAgICBbYmFyV2lkdGhdPVxcXCJiLndpZHRoXFxcIlxcbiAgICAgICAgW2JhckhlaWdodF09XFxcImIuaGVpZ2h0XFxcIlxcbiAgICAgICAgW3ZhbHVlXT1cXFwiYi50b3RhbFxcXCJcXG4gICAgICAgIFt2YWx1ZUZvcm1hdHRpbmddPVxcXCJkYXRhTGFiZWxGb3JtYXR0aW5nXFxcIlxcbiAgICAgICAgW29yaWVudGF0aW9uXT1cXFwiJ2hvcml6b250YWwnXFxcIlxcbiAgICAgICAgKGRpbWVuc2lvbnNDaGFuZ2VkKT1cXFwiZGF0YUxhYmVsV2lkdGhDaGFuZ2VkLmVtaXQoeyBzaXplOiAkZXZlbnQsIGluZGV4OiBpIH0pXFxcIlxcbiAgICAgIC8+XFxuICAgIDwvc3ZnOmc+XFxuICBcIixcbiAgICAgICAgICAgIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoLFxuICAgICAgICAgICAgYW5pbWF0aW9uczogW1xuICAgICAgICAgICAgICAgIHRyaWdnZXIoJ2FuaW1hdGlvblN0YXRlJywgW1xuICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uKCc6bGVhdmUnLCBbXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMVxuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRlKDUwMCwgc3R5bGUoeyBvcGFjaXR5OiAwIH0pKVxuICAgICAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICBdXG4gICAgICAgIH0pXG4gICAgXSwgU2VyaWVzSG9yaXpvbnRhbCk7XG4gICAgcmV0dXJuIFNlcmllc0hvcml6b250YWw7XG59KCkpO1xuXG52YXIgQmFyTGFiZWxDb21wb25lbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQmFyTGFiZWxDb21wb25lbnQoZWxlbWVudCkge1xuICAgICAgICB0aGlzLmRpbWVuc2lvbnNDaGFuZ2VkID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICB0aGlzLmhvcml6b250YWxQYWRkaW5nID0gMjtcbiAgICAgICAgdGhpcy52ZXJ0aWNhbFBhZGRpbmcgPSA1O1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50Lm5hdGl2ZUVsZW1lbnQ7XG4gICAgfVxuICAgIEJhckxhYmVsQ29tcG9uZW50LnByb3RvdHlwZS5uZ09uQ2hhbmdlcyA9IGZ1bmN0aW9uIChjaGFuZ2VzKSB7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfTtcbiAgICBCYXJMYWJlbENvbXBvbmVudC5wcm90b3R5cGUuZ2V0U2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGggPSB0aGlzLmVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xuICAgICAgICB2YXIgdyA9IHRoaXMuZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcbiAgICAgICAgcmV0dXJuIHsgaGVpZ2h0OiBoLCB3aWR0aDogdywgbmVnYXRpdmU6IHRoaXMudmFsdWUgPCAwIH07XG4gICAgfTtcbiAgICBCYXJMYWJlbENvbXBvbmVudC5wcm90b3R5cGUubmdBZnRlclZpZXdJbml0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRpbWVuc2lvbnNDaGFuZ2VkLmVtaXQodGhpcy5nZXRTaXplKCkpO1xuICAgIH07XG4gICAgQmFyTGFiZWxDb21wb25lbnQucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMudmFsdWVGb3JtYXR0aW5nKSB7XG4gICAgICAgICAgICB0aGlzLmZvcm1hdGVkVmFsdWUgPSB0aGlzLnZhbHVlRm9ybWF0dGluZyh0aGlzLnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZm9ybWF0ZWRWYWx1ZSA9IGZvcm1hdExhYmVsKHRoaXMudmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm9yaWVudGF0aW9uID09PSAnaG9yaXpvbnRhbCcpIHtcbiAgICAgICAgICAgIHRoaXMueCA9IHRoaXMuYmFyWCArIHRoaXMuYmFyV2lkdGg7XG4gICAgICAgICAgICBpZiAodGhpcy52YWx1ZSA8IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnggPSB0aGlzLnggLSB0aGlzLmhvcml6b250YWxQYWRkaW5nO1xuICAgICAgICAgICAgICAgIHRoaXMudGV4dEFuY2hvciA9ICdlbmQnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy54ID0gdGhpcy54ICsgdGhpcy5ob3Jpem9udGFsUGFkZGluZztcbiAgICAgICAgICAgICAgICB0aGlzLnRleHRBbmNob3IgPSAnc3RhcnQnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy55ID0gdGhpcy5iYXJZICsgdGhpcy5iYXJIZWlnaHQgLyAyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy54ID0gdGhpcy5iYXJYICsgdGhpcy5iYXJXaWR0aCAvIDI7XG4gICAgICAgICAgICB0aGlzLnkgPSB0aGlzLmJhclkgKyB0aGlzLmJhckhlaWdodDtcbiAgICAgICAgICAgIGlmICh0aGlzLnZhbHVlIDwgMCkge1xuICAgICAgICAgICAgICAgIHRoaXMueSA9IHRoaXMueSArIHRoaXMudmVydGljYWxQYWRkaW5nO1xuICAgICAgICAgICAgICAgIHRoaXMudGV4dEFuY2hvciA9ICdlbmQnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy55ID0gdGhpcy55IC0gdGhpcy52ZXJ0aWNhbFBhZGRpbmc7XG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0QW5jaG9yID0gJ3N0YXJ0JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtID0gXCJyb3RhdGUoLTQ1LCBcIiArIHRoaXMueCArIFwiICwgXCIgKyB0aGlzLnkgKyBcIilcIjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdmFyIF9hLCBfYjtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBCYXJMYWJlbENvbXBvbmVudC5wcm90b3R5cGUsIFwidmFsdWVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBCYXJMYWJlbENvbXBvbmVudC5wcm90b3R5cGUsIFwidmFsdWVGb3JtYXR0aW5nXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQmFyTGFiZWxDb21wb25lbnQucHJvdG90eXBlLCBcImJhclhcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBCYXJMYWJlbENvbXBvbmVudC5wcm90b3R5cGUsIFwiYmFyWVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEJhckxhYmVsQ29tcG9uZW50LnByb3RvdHlwZSwgXCJiYXJXaWR0aFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEJhckxhYmVsQ29tcG9uZW50LnByb3RvdHlwZSwgXCJiYXJIZWlnaHRcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBCYXJMYWJlbENvbXBvbmVudC5wcm90b3R5cGUsIFwib3JpZW50YXRpb25cIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgT3V0cHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCB0eXBlb2YgKF9hID0gdHlwZW9mIEV2ZW50RW1pdHRlciAhPT0gXCJ1bmRlZmluZWRcIiAmJiBFdmVudEVtaXR0ZXIpID09PSBcImZ1bmN0aW9uXCIgPyBfYSA6IE9iamVjdClcbiAgICBdLCBCYXJMYWJlbENvbXBvbmVudC5wcm90b3R5cGUsIFwiZGltZW5zaW9uc0NoYW5nZWRcIiwgdm9pZCAwKTtcbiAgICBCYXJMYWJlbENvbXBvbmVudCA9IF9fZGVjb3JhdGUoW1xuICAgICAgICBDb21wb25lbnQoe1xuICAgICAgICAgICAgc2VsZWN0b3I6ICdnW25neC1jaGFydHMtYmFyLWxhYmVsXScsXG4gICAgICAgICAgICB0ZW1wbGF0ZTogXCIgIFxcbiAgICA8c3ZnOnRleHQgICBcXG4gICAgICBjbGFzcz1cXFwidGV4dERhdGFMYWJlbFxcXCIgXFxuICAgICAgYWxpZ25tZW50LWJhc2VsaW5lPVxcXCJtaWRkbGVcXFwiICAgICBcXG4gICAgICBbYXR0ci50ZXh0LWFuY2hvcl09XFxcInRleHRBbmNob3JcXFwiXFxuICAgICAgW2F0dHIudHJhbnNmb3JtXT1cXFwidHJhbnNmb3JtXFxcIlxcbiAgICAgIFthdHRyLnhdPVxcXCJ4XFxcIiBcXG4gICAgICBbYXR0ci55XT1cXFwieVxcXCI+XFxuICAgICAge3tmb3JtYXRlZFZhbHVlfX0gICAgIFxcbiAgICA8L3N2Zzp0ZXh0PiAgICAgICAgICBcXG5cXG4gIFwiLFxuICAgICAgICAgICAgc3R5bGVzOiBbXCIudGV4dERhdGFMYWJlbHtmb250LXNpemU6MTFweH1cIl0sXG4gICAgICAgICAgICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaFxuICAgICAgICB9KSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjpwYXJhbXR5cGVzXCIsIFt0eXBlb2YgKF9iID0gdHlwZW9mIEVsZW1lbnRSZWYgIT09IFwidW5kZWZpbmVkXCIgJiYgRWxlbWVudFJlZikgPT09IFwiZnVuY3Rpb25cIiA/IF9iIDogT2JqZWN0XSlcbiAgICBdLCBCYXJMYWJlbENvbXBvbmVudCk7XG4gICAgcmV0dXJuIEJhckxhYmVsQ29tcG9uZW50O1xufSgpKTtcblxudmFyIEJhckNoYXJ0TW9kdWxlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEJhckNoYXJ0TW9kdWxlKCkge1xuICAgIH1cbiAgICBCYXJDaGFydE1vZHVsZSA9IF9fZGVjb3JhdGUoW1xuICAgICAgICBOZ01vZHVsZSh7XG4gICAgICAgICAgICBpbXBvcnRzOiBbQ2hhcnRDb21tb25Nb2R1bGVdLFxuICAgICAgICAgICAgZGVjbGFyYXRpb25zOiBbXG4gICAgICAgICAgICAgICAgQmFyQ29tcG9uZW50LFxuICAgICAgICAgICAgICAgIEJhckhvcml6b250YWxDb21wb25lbnQsXG4gICAgICAgICAgICAgICAgQmFySG9yaXpvbnRhbDJEQ29tcG9uZW50LFxuICAgICAgICAgICAgICAgIEJhckhvcml6b250YWxOb3JtYWxpemVkQ29tcG9uZW50LFxuICAgICAgICAgICAgICAgIEJhckhvcml6b250YWxTdGFja2VkQ29tcG9uZW50LFxuICAgICAgICAgICAgICAgIEJhclZlcnRpY2FsQ29tcG9uZW50LFxuICAgICAgICAgICAgICAgIEJhclZlcnRpY2FsMkRDb21wb25lbnQsXG4gICAgICAgICAgICAgICAgQmFyVmVydGljYWxOb3JtYWxpemVkQ29tcG9uZW50LFxuICAgICAgICAgICAgICAgIEJhclZlcnRpY2FsU3RhY2tlZENvbXBvbmVudCxcbiAgICAgICAgICAgICAgICBCYXJMYWJlbENvbXBvbmVudCxcbiAgICAgICAgICAgICAgICBTZXJpZXNIb3Jpem9udGFsLFxuICAgICAgICAgICAgICAgIFNlcmllc1ZlcnRpY2FsQ29tcG9uZW50XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgZXhwb3J0czogW1xuICAgICAgICAgICAgICAgIEJhckNvbXBvbmVudCxcbiAgICAgICAgICAgICAgICBCYXJIb3Jpem9udGFsQ29tcG9uZW50LFxuICAgICAgICAgICAgICAgIEJhckhvcml6b250YWwyRENvbXBvbmVudCxcbiAgICAgICAgICAgICAgICBCYXJIb3Jpem9udGFsTm9ybWFsaXplZENvbXBvbmVudCxcbiAgICAgICAgICAgICAgICBCYXJIb3Jpem9udGFsU3RhY2tlZENvbXBvbmVudCxcbiAgICAgICAgICAgICAgICBCYXJWZXJ0aWNhbENvbXBvbmVudCxcbiAgICAgICAgICAgICAgICBCYXJWZXJ0aWNhbDJEQ29tcG9uZW50LFxuICAgICAgICAgICAgICAgIEJhclZlcnRpY2FsTm9ybWFsaXplZENvbXBvbmVudCxcbiAgICAgICAgICAgICAgICBCYXJWZXJ0aWNhbFN0YWNrZWRDb21wb25lbnQsXG4gICAgICAgICAgICAgICAgQmFyTGFiZWxDb21wb25lbnQsXG4gICAgICAgICAgICAgICAgU2VyaWVzSG9yaXpvbnRhbCxcbiAgICAgICAgICAgICAgICBTZXJpZXNWZXJ0aWNhbENvbXBvbmVudFxuICAgICAgICAgICAgXVxuICAgICAgICB9KVxuICAgIF0sIEJhckNoYXJ0TW9kdWxlKTtcbiAgICByZXR1cm4gQmFyQ2hhcnRNb2R1bGU7XG59KCkpO1xuXG5mdW5jdGlvbiBnZXREb21haW4odmFsdWVzLCBzY2FsZVR5cGUsIGF1dG9TY2FsZSwgbWluVmFsLCBtYXhWYWwpIHtcbiAgICB2YXIgZG9tYWluID0gW107XG4gICAgaWYgKHNjYWxlVHlwZSA9PT0gJ2xpbmVhcicpIHtcbiAgICAgICAgdmFsdWVzID0gdmFsdWVzLm1hcChmdW5jdGlvbiAodikgeyByZXR1cm4gTnVtYmVyKHYpOyB9KTtcbiAgICAgICAgaWYgKCFhdXRvU2NhbGUpIHtcbiAgICAgICAgICAgIHZhbHVlcy5wdXNoKDApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChzY2FsZVR5cGUgPT09ICd0aW1lJyB8fCBzY2FsZVR5cGUgPT09ICdsaW5lYXInKSB7XG4gICAgICAgIHZhciBtaW4kJDEgPSBtaW5WYWwgPyBtaW5WYWwgOiBNYXRoLm1pbi5hcHBseShNYXRoLCB2YWx1ZXMpO1xuICAgICAgICB2YXIgbWF4JCQxID0gbWF4VmFsID8gbWF4VmFsIDogTWF0aC5tYXguYXBwbHkoTWF0aCwgdmFsdWVzKTtcbiAgICAgICAgZG9tYWluID0gW21pbiQkMSwgbWF4JCQxXTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGRvbWFpbiA9IHZhbHVlcztcbiAgICB9XG4gICAgcmV0dXJuIGRvbWFpbjtcbn1cbmZ1bmN0aW9uIGdldFNjYWxlKGRvbWFpbiwgcmFuZ2UkJDEsIHNjYWxlVHlwZSwgcm91bmREb21haW5zKSB7XG4gICAgdmFyIHNjYWxlO1xuICAgIGlmIChzY2FsZVR5cGUgPT09ICd0aW1lJykge1xuICAgICAgICBzY2FsZSA9IHNjYWxlVGltZSgpXG4gICAgICAgICAgICAucmFuZ2UocmFuZ2UkJDEpXG4gICAgICAgICAgICAuZG9tYWluKGRvbWFpbik7XG4gICAgfVxuICAgIGVsc2UgaWYgKHNjYWxlVHlwZSA9PT0gJ2xpbmVhcicpIHtcbiAgICAgICAgc2NhbGUgPSBzY2FsZUxpbmVhcigpXG4gICAgICAgICAgICAucmFuZ2UocmFuZ2UkJDEpXG4gICAgICAgICAgICAuZG9tYWluKGRvbWFpbik7XG4gICAgICAgIGlmIChyb3VuZERvbWFpbnMpIHtcbiAgICAgICAgICAgIHNjYWxlID0gc2NhbGUubmljZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKHNjYWxlVHlwZSA9PT0gJ29yZGluYWwnKSB7XG4gICAgICAgIHNjYWxlID0gc2NhbGVQb2ludCgpXG4gICAgICAgICAgICAucmFuZ2UoW3JhbmdlJCQxWzBdLCByYW5nZSQkMVsxXV0pXG4gICAgICAgICAgICAuZG9tYWluKGRvbWFpbik7XG4gICAgfVxuICAgIHJldHVybiBzY2FsZTtcbn1cblxudmFyIEJ1YmJsZUNoYXJ0Q29tcG9uZW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhCdWJibGVDaGFydENvbXBvbmVudCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBCdWJibGVDaGFydENvbXBvbmVudCgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnNob3dHcmlkTGluZXMgPSB0cnVlO1xuICAgICAgICBfdGhpcy5sZWdlbmQgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMubGVnZW5kVGl0bGUgPSAnTGVnZW5kJztcbiAgICAgICAgX3RoaXMubGVnZW5kUG9zaXRpb24gPSAncmlnaHQnO1xuICAgICAgICBfdGhpcy54QXhpcyA9IHRydWU7XG4gICAgICAgIF90aGlzLnlBeGlzID0gdHJ1ZTtcbiAgICAgICAgX3RoaXMudHJpbVhBeGlzVGlja3MgPSB0cnVlO1xuICAgICAgICBfdGhpcy50cmltWUF4aXNUaWNrcyA9IHRydWU7XG4gICAgICAgIF90aGlzLnJvdGF0ZVhBeGlzVGlja3MgPSB0cnVlO1xuICAgICAgICBfdGhpcy5tYXhYQXhpc1RpY2tMZW5ndGggPSAxNjtcbiAgICAgICAgX3RoaXMubWF4WUF4aXNUaWNrTGVuZ3RoID0gMTY7XG4gICAgICAgIF90aGlzLnJvdW5kRG9tYWlucyA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5tYXhSYWRpdXMgPSAxMDtcbiAgICAgICAgX3RoaXMubWluUmFkaXVzID0gMztcbiAgICAgICAgX3RoaXMuc2NoZW1lVHlwZSA9ICdvcmRpbmFsJztcbiAgICAgICAgX3RoaXMudG9vbHRpcERpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIF90aGlzLmFjdGl2YXRlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICBfdGhpcy5kZWFjdGl2YXRlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICBfdGhpcy5zY2FsZVR5cGUgPSAnbGluZWFyJztcbiAgICAgICAgX3RoaXMubWFyZ2luID0gWzEwLCAyMCwgMTAsIDIwXTtcbiAgICAgICAgX3RoaXMuYnViYmxlUGFkZGluZyA9IFswLCAwLCAwLCAwXTtcbiAgICAgICAgX3RoaXMueEF4aXNIZWlnaHQgPSAwO1xuICAgICAgICBfdGhpcy55QXhpc1dpZHRoID0gMDtcbiAgICAgICAgX3RoaXMuYWN0aXZlRW50cmllcyA9IFtdO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEJ1YmJsZUNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUudXBkYXRlLmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMuZGltcyA9IGNhbGN1bGF0ZVZpZXdEaW1lbnNpb25zKHtcbiAgICAgICAgICAgIHdpZHRoOiB0aGlzLndpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLmhlaWdodCxcbiAgICAgICAgICAgIG1hcmdpbnM6IHRoaXMubWFyZ2luLFxuICAgICAgICAgICAgc2hvd1hBeGlzOiB0aGlzLnhBeGlzLFxuICAgICAgICAgICAgc2hvd1lBeGlzOiB0aGlzLnlBeGlzLFxuICAgICAgICAgICAgeEF4aXNIZWlnaHQ6IHRoaXMueEF4aXNIZWlnaHQsXG4gICAgICAgICAgICB5QXhpc1dpZHRoOiB0aGlzLnlBeGlzV2lkdGgsXG4gICAgICAgICAgICBzaG93WExhYmVsOiB0aGlzLnNob3dYQXhpc0xhYmVsLFxuICAgICAgICAgICAgc2hvd1lMYWJlbDogdGhpcy5zaG93WUF4aXNMYWJlbCxcbiAgICAgICAgICAgIHNob3dMZWdlbmQ6IHRoaXMubGVnZW5kLFxuICAgICAgICAgICAgbGVnZW5kVHlwZTogdGhpcy5zY2hlbWVUeXBlLFxuICAgICAgICAgICAgbGVnZW5kUG9zaXRpb246IHRoaXMubGVnZW5kUG9zaXRpb25cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc2VyaWVzRG9tYWluID0gdGhpcy5yZXN1bHRzLm1hcChmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC5uYW1lOyB9KTtcbiAgICAgICAgdGhpcy5yRG9tYWluID0gdGhpcy5nZXRSRG9tYWluKCk7XG4gICAgICAgIHRoaXMueERvbWFpbiA9IHRoaXMuZ2V0WERvbWFpbigpO1xuICAgICAgICB0aGlzLnlEb21haW4gPSB0aGlzLmdldFlEb21haW4oKTtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0gPSBcInRyYW5zbGF0ZShcIiArIHRoaXMuZGltcy54T2Zmc2V0ICsgXCIsXCIgKyB0aGlzLm1hcmdpblswXSArIFwiKVwiO1xuICAgICAgICB2YXIgY29sb3JEb21haW4gPSB0aGlzLnNjaGVtZVR5cGUgPT09ICdvcmRpbmFsJyA/IHRoaXMuc2VyaWVzRG9tYWluIDogdGhpcy5yRG9tYWluO1xuICAgICAgICB0aGlzLmNvbG9ycyA9IG5ldyBDb2xvckhlbHBlcih0aGlzLnNjaGVtZSwgdGhpcy5zY2hlbWVUeXBlLCBjb2xvckRvbWFpbiwgdGhpcy5jdXN0b21Db2xvcnMpO1xuICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLnJlc3VsdHM7XG4gICAgICAgIHRoaXMubWluUmFkaXVzID0gTWF0aC5tYXgodGhpcy5taW5SYWRpdXMsIDEpO1xuICAgICAgICB0aGlzLm1heFJhZGl1cyA9IE1hdGgubWF4KHRoaXMubWF4UmFkaXVzLCAxKTtcbiAgICAgICAgdGhpcy5yU2NhbGUgPSB0aGlzLmdldFJTY2FsZSh0aGlzLnJEb21haW4sIFt0aGlzLm1pblJhZGl1cywgdGhpcy5tYXhSYWRpdXNdKTtcbiAgICAgICAgdGhpcy5idWJibGVQYWRkaW5nID0gWzAsIDAsIDAsIDBdO1xuICAgICAgICB0aGlzLnNldFNjYWxlcygpO1xuICAgICAgICB0aGlzLmJ1YmJsZVBhZGRpbmcgPSB0aGlzLmdldEJ1YmJsZVBhZGRpbmcoKTtcbiAgICAgICAgdGhpcy5zZXRTY2FsZXMoKTtcbiAgICAgICAgdGhpcy5sZWdlbmRPcHRpb25zID0gdGhpcy5nZXRMZWdlbmRPcHRpb25zKCk7XG4gICAgICAgIHRoaXMuY2xpcFBhdGhJZCA9ICdjbGlwJyArIGlkKCkudG9TdHJpbmcoKTtcbiAgICAgICAgdGhpcy5jbGlwUGF0aCA9IFwidXJsKCNcIiArIHRoaXMuY2xpcFBhdGhJZCArIFwiKVwiO1xuICAgIH07XG4gICAgQnViYmxlQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLmhpZGVDaXJjbGVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRlYWN0aXZhdGVBbGwoKTtcbiAgICB9O1xuICAgIEJ1YmJsZUNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZS5vbkNsaWNrID0gZnVuY3Rpb24gKGRhdGEsIHNlcmllcykge1xuICAgICAgICBpZiAoc2VyaWVzKSB7XG4gICAgICAgICAgICBkYXRhLnNlcmllcyA9IHNlcmllcy5uYW1lO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2VsZWN0LmVtaXQoZGF0YSk7XG4gICAgfTtcbiAgICBCdWJibGVDaGFydENvbXBvbmVudC5wcm90b3R5cGUuZ2V0QnViYmxlUGFkZGluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHlNaW4gPSAwO1xuICAgICAgICB2YXIgeE1pbiA9IDA7XG4gICAgICAgIHZhciB5TWF4ID0gdGhpcy5kaW1zLmhlaWdodDtcbiAgICAgICAgdmFyIHhNYXggPSB0aGlzLmRpbXMud2lkdGg7XG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSB0aGlzLmRhdGE7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgcyA9IF9hW19pXTtcbiAgICAgICAgICAgIGZvciAodmFyIF9iID0gMCwgX2MgPSBzLnNlcmllczsgX2IgPCBfYy5sZW5ndGg7IF9iKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgZCA9IF9jW19iXTtcbiAgICAgICAgICAgICAgICB2YXIgciA9IHRoaXMuclNjYWxlKGQucik7XG4gICAgICAgICAgICAgICAgdmFyIGN4ID0gdGhpcy54U2NhbGVUeXBlID09PSAnbGluZWFyJyA/IHRoaXMueFNjYWxlKE51bWJlcihkLngpKSA6IHRoaXMueFNjYWxlKGQueCk7XG4gICAgICAgICAgICAgICAgdmFyIGN5ID0gdGhpcy55U2NhbGVUeXBlID09PSAnbGluZWFyJyA/IHRoaXMueVNjYWxlKE51bWJlcihkLnkpKSA6IHRoaXMueVNjYWxlKGQueSk7XG4gICAgICAgICAgICAgICAgeE1pbiA9IE1hdGgubWF4KHIgLSBjeCwgeE1pbik7XG4gICAgICAgICAgICAgICAgeU1pbiA9IE1hdGgubWF4KHIgLSBjeSwgeU1pbik7XG4gICAgICAgICAgICAgICAgeU1heCA9IE1hdGgubWF4KGN5ICsgciwgeU1heCk7XG4gICAgICAgICAgICAgICAgeE1heCA9IE1hdGgubWF4KGN4ICsgciwgeE1heCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgeE1heCA9IE1hdGgubWF4KHhNYXggLSB0aGlzLmRpbXMud2lkdGgsIDApO1xuICAgICAgICB5TWF4ID0gTWF0aC5tYXgoeU1heCAtIHRoaXMuZGltcy5oZWlnaHQsIDApO1xuICAgICAgICByZXR1cm4gW3lNaW4sIHhNYXgsIHlNYXgsIHhNaW5dO1xuICAgIH07XG4gICAgQnViYmxlQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLnNldFNjYWxlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHdpZHRoID0gdGhpcy5kaW1zLndpZHRoO1xuICAgICAgICBpZiAodGhpcy54U2NhbGVNaW4gPT09IHVuZGVmaW5lZCAmJiB0aGlzLnhTY2FsZU1heCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3aWR0aCA9IHdpZHRoIC0gdGhpcy5idWJibGVQYWRkaW5nWzFdO1xuICAgICAgICB9XG4gICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLmRpbXMuaGVpZ2h0O1xuICAgICAgICBpZiAodGhpcy55U2NhbGVNaW4gPT09IHVuZGVmaW5lZCAmJiB0aGlzLnlTY2FsZU1heCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBoZWlnaHQgPSBoZWlnaHQgLSB0aGlzLmJ1YmJsZVBhZGRpbmdbMl07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy54U2NhbGUgPSB0aGlzLmdldFhTY2FsZSh0aGlzLnhEb21haW4sIHdpZHRoKTtcbiAgICAgICAgdGhpcy55U2NhbGUgPSB0aGlzLmdldFlTY2FsZSh0aGlzLnlEb21haW4sIGhlaWdodCk7XG4gICAgfTtcbiAgICBCdWJibGVDaGFydENvbXBvbmVudC5wcm90b3R5cGUuZ2V0WVNjYWxlID0gZnVuY3Rpb24gKGRvbWFpbiwgaGVpZ2h0KSB7XG4gICAgICAgIHJldHVybiBnZXRTY2FsZShkb21haW4sIFtoZWlnaHQsIHRoaXMuYnViYmxlUGFkZGluZ1swXV0sIHRoaXMueVNjYWxlVHlwZSwgdGhpcy5yb3VuZERvbWFpbnMpO1xuICAgIH07XG4gICAgQnViYmxlQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLmdldFhTY2FsZSA9IGZ1bmN0aW9uIChkb21haW4sIHdpZHRoKSB7XG4gICAgICAgIHJldHVybiBnZXRTY2FsZShkb21haW4sIFt0aGlzLmJ1YmJsZVBhZGRpbmdbM10sIHdpZHRoXSwgdGhpcy54U2NhbGVUeXBlLCB0aGlzLnJvdW5kRG9tYWlucyk7XG4gICAgfTtcbiAgICBCdWJibGVDaGFydENvbXBvbmVudC5wcm90b3R5cGUuZ2V0UlNjYWxlID0gZnVuY3Rpb24gKGRvbWFpbiwgcmFuZ2UkJDEpIHtcbiAgICAgICAgdmFyIHNjYWxlID0gc2NhbGVMaW5lYXIoKVxuICAgICAgICAgICAgLnJhbmdlKHJhbmdlJCQxKVxuICAgICAgICAgICAgLmRvbWFpbihkb21haW4pO1xuICAgICAgICByZXR1cm4gdGhpcy5yb3VuZERvbWFpbnMgPyBzY2FsZS5uaWNlKCkgOiBzY2FsZTtcbiAgICB9O1xuICAgIEJ1YmJsZUNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZS5nZXRMZWdlbmRPcHRpb25zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgb3B0cyA9IHtcbiAgICAgICAgICAgIHNjYWxlVHlwZTogdGhpcy5zY2hlbWVUeXBlLFxuICAgICAgICAgICAgY29sb3JzOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBkb21haW46IFtdLFxuICAgICAgICAgICAgcG9zaXRpb246IHRoaXMubGVnZW5kUG9zaXRpb24sXG4gICAgICAgICAgICB0aXRsZTogdW5kZWZpbmVkXG4gICAgICAgIH07XG4gICAgICAgIGlmIChvcHRzLnNjYWxlVHlwZSA9PT0gJ29yZGluYWwnKSB7XG4gICAgICAgICAgICBvcHRzLmRvbWFpbiA9IHRoaXMuc2VyaWVzRG9tYWluO1xuICAgICAgICAgICAgb3B0cy5jb2xvcnMgPSB0aGlzLmNvbG9ycztcbiAgICAgICAgICAgIG9wdHMudGl0bGUgPSB0aGlzLmxlZ2VuZFRpdGxlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb3B0cy5kb21haW4gPSB0aGlzLnJEb21haW47XG4gICAgICAgICAgICBvcHRzLmNvbG9ycyA9IHRoaXMuY29sb3JzLnNjYWxlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvcHRzO1xuICAgIH07XG4gICAgQnViYmxlQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLmdldFhEb21haW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB2YWx1ZXMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHRoaXMucmVzdWx0czsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHZhciByZXN1bHRzID0gX2FbX2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgX2IgPSAwLCBfYyA9IHJlc3VsdHMuc2VyaWVzOyBfYiA8IF9jLmxlbmd0aDsgX2IrKykge1xuICAgICAgICAgICAgICAgIHZhciBkID0gX2NbX2JdO1xuICAgICAgICAgICAgICAgIGlmICghdmFsdWVzLmluY2x1ZGVzKGQueCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVzLnB1c2goZC54KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy54U2NhbGVUeXBlID0gZ2V0U2NhbGVUeXBlKHZhbHVlcyk7XG4gICAgICAgIHJldHVybiBnZXREb21haW4odmFsdWVzLCB0aGlzLnhTY2FsZVR5cGUsIHRoaXMuYXV0b1NjYWxlLCB0aGlzLnhTY2FsZU1pbiwgdGhpcy54U2NhbGVNYXgpO1xuICAgIH07XG4gICAgQnViYmxlQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLmdldFlEb21haW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB2YWx1ZXMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHRoaXMucmVzdWx0czsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHZhciByZXN1bHRzID0gX2FbX2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgX2IgPSAwLCBfYyA9IHJlc3VsdHMuc2VyaWVzOyBfYiA8IF9jLmxlbmd0aDsgX2IrKykge1xuICAgICAgICAgICAgICAgIHZhciBkID0gX2NbX2JdO1xuICAgICAgICAgICAgICAgIGlmICghdmFsdWVzLmluY2x1ZGVzKGQueSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVzLnB1c2goZC55KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy55U2NhbGVUeXBlID0gZ2V0U2NhbGVUeXBlKHZhbHVlcyk7XG4gICAgICAgIHJldHVybiBnZXREb21haW4odmFsdWVzLCB0aGlzLnlTY2FsZVR5cGUsIHRoaXMuYXV0b1NjYWxlLCB0aGlzLnlTY2FsZU1pbiwgdGhpcy55U2NhbGVNYXgpO1xuICAgIH07XG4gICAgQnViYmxlQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLmdldFJEb21haW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBtaW4kJDEgPSBJbmZpbml0eTtcbiAgICAgICAgdmFyIG1heCQkMSA9IC1JbmZpbml0eTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHRoaXMucmVzdWx0czsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHZhciByZXN1bHRzID0gX2FbX2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgX2IgPSAwLCBfYyA9IHJlc3VsdHMuc2VyaWVzOyBfYiA8IF9jLmxlbmd0aDsgX2IrKykge1xuICAgICAgICAgICAgICAgIHZhciBkID0gX2NbX2JdO1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IE51bWJlcihkLnIpIHx8IDE7XG4gICAgICAgICAgICAgICAgbWluJCQxID0gTWF0aC5taW4obWluJCQxLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgbWF4JCQxID0gTWF0aC5tYXgobWF4JCQxLCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFttaW4kJDEsIG1heCQkMV07XG4gICAgfTtcbiAgICBCdWJibGVDaGFydENvbXBvbmVudC5wcm90b3R5cGUudXBkYXRlWUF4aXNXaWR0aCA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgd2lkdGggPSBfYS53aWR0aDtcbiAgICAgICAgdGhpcy55QXhpc1dpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfTtcbiAgICBCdWJibGVDaGFydENvbXBvbmVudC5wcm90b3R5cGUudXBkYXRlWEF4aXNIZWlnaHQgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIGhlaWdodCA9IF9hLmhlaWdodDtcbiAgICAgICAgdGhpcy54QXhpc0hlaWdodCA9IGhlaWdodDtcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICB9O1xuICAgIEJ1YmJsZUNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZS5vbkFjdGl2YXRlID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgdmFyIGlkeCA9IHRoaXMuYWN0aXZlRW50cmllcy5maW5kSW5kZXgoZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgIHJldHVybiBkLm5hbWUgPT09IGl0ZW0ubmFtZTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChpZHggPiAtMSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWN0aXZlRW50cmllcyA9IFtpdGVtXS5jb25jYXQodGhpcy5hY3RpdmVFbnRyaWVzKTtcbiAgICAgICAgdGhpcy5hY3RpdmF0ZS5lbWl0KHsgdmFsdWU6IGl0ZW0sIGVudHJpZXM6IHRoaXMuYWN0aXZlRW50cmllcyB9KTtcbiAgICB9O1xuICAgIEJ1YmJsZUNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZS5vbkRlYWN0aXZhdGUgPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICB2YXIgaWR4ID0gdGhpcy5hY3RpdmVFbnRyaWVzLmZpbmRJbmRleChmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgcmV0dXJuIGQubmFtZSA9PT0gaXRlbS5uYW1lO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5hY3RpdmVFbnRyaWVzLnNwbGljZShpZHgsIDEpO1xuICAgICAgICB0aGlzLmFjdGl2ZUVudHJpZXMgPSB0aGlzLmFjdGl2ZUVudHJpZXMuc2xpY2UoKTtcbiAgICAgICAgdGhpcy5kZWFjdGl2YXRlLmVtaXQoeyB2YWx1ZTogaXRlbSwgZW50cmllczogdGhpcy5hY3RpdmVFbnRyaWVzIH0pO1xuICAgIH07XG4gICAgQnViYmxlQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLmRlYWN0aXZhdGVBbGwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuYWN0aXZlRW50cmllcyA9IHRoaXMuYWN0aXZlRW50cmllcy5zbGljZSgpO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gdGhpcy5hY3RpdmVFbnRyaWVzOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIGVudHJ5ID0gX2FbX2ldO1xuICAgICAgICAgICAgdGhpcy5kZWFjdGl2YXRlLmVtaXQoeyB2YWx1ZTogZW50cnksIGVudHJpZXM6IFtdIH0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWN0aXZlRW50cmllcyA9IFtdO1xuICAgIH07XG4gICAgQnViYmxlQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLnRyYWNrQnkgPSBmdW5jdGlvbiAoaW5kZXgsIGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIGl0ZW0ubmFtZTtcbiAgICB9O1xuICAgIHZhciBfYSwgX2IsIF9jO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbiAgICBdLCBCdWJibGVDaGFydENvbXBvbmVudC5wcm90b3R5cGUsIFwic2hvd0dyaWRMaW5lc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEJ1YmJsZUNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJsZWdlbmRcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcbiAgICBdLCBCdWJibGVDaGFydENvbXBvbmVudC5wcm90b3R5cGUsIFwibGVnZW5kVGl0bGVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcbiAgICBdLCBCdWJibGVDaGFydENvbXBvbmVudC5wcm90b3R5cGUsIFwibGVnZW5kUG9zaXRpb25cIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEJvb2xlYW4pXG4gICAgXSwgQnViYmxlQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLCBcInhBeGlzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIEJ1YmJsZUNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJ5QXhpc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbiAgICBdLCBCdWJibGVDaGFydENvbXBvbmVudC5wcm90b3R5cGUsIFwic2hvd1hBeGlzTGFiZWxcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEJvb2xlYW4pXG4gICAgXSwgQnViYmxlQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLCBcInNob3dZQXhpc0xhYmVsXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBTdHJpbmcpXG4gICAgXSwgQnViYmxlQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLCBcInhBeGlzTGFiZWxcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcbiAgICBdLCBCdWJibGVDaGFydENvbXBvbmVudC5wcm90b3R5cGUsIFwieUF4aXNMYWJlbFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbiAgICBdLCBCdWJibGVDaGFydENvbXBvbmVudC5wcm90b3R5cGUsIFwidHJpbVhBeGlzVGlja3NcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEJvb2xlYW4pXG4gICAgXSwgQnViYmxlQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLCBcInRyaW1ZQXhpc1RpY2tzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIEJ1YmJsZUNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJyb3RhdGVYQXhpc1RpY2tzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBOdW1iZXIpXG4gICAgXSwgQnViYmxlQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLCBcIm1heFhBeGlzVGlja0xlbmd0aFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgTnVtYmVyKVxuICAgIF0sIEJ1YmJsZUNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJtYXhZQXhpc1RpY2tMZW5ndGhcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBCdWJibGVDaGFydENvbXBvbmVudC5wcm90b3R5cGUsIFwieEF4aXNUaWNrRm9ybWF0dGluZ1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEJ1YmJsZUNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJ5QXhpc1RpY2tGb3JtYXR0aW5nXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBBcnJheSlcbiAgICBdLCBCdWJibGVDaGFydENvbXBvbmVudC5wcm90b3R5cGUsIFwieEF4aXNUaWNrc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQXJyYXkpXG4gICAgXSwgQnViYmxlQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLCBcInlBeGlzVGlja3NcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEJvb2xlYW4pXG4gICAgXSwgQnViYmxlQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLCBcInJvdW5kRG9tYWluc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEJ1YmJsZUNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJtYXhSYWRpdXNcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBCdWJibGVDaGFydENvbXBvbmVudC5wcm90b3R5cGUsIFwibWluUmFkaXVzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIEJ1YmJsZUNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJhdXRvU2NhbGVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBCdWJibGVDaGFydENvbXBvbmVudC5wcm90b3R5cGUsIFwic2NoZW1lVHlwZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbiAgICBdLCBCdWJibGVDaGFydENvbXBvbmVudC5wcm90b3R5cGUsIFwidG9vbHRpcERpc2FibGVkXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQnViYmxlQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLCBcInhTY2FsZU1pblwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEJ1YmJsZUNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJ4U2NhbGVNYXhcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBCdWJibGVDaGFydENvbXBvbmVudC5wcm90b3R5cGUsIFwieVNjYWxlTWluXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQnViYmxlQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLCBcInlTY2FsZU1heFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBPdXRwdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIHR5cGVvZiAoX2EgPSB0eXBlb2YgRXZlbnRFbWl0dGVyICE9PSBcInVuZGVmaW5lZFwiICYmIEV2ZW50RW1pdHRlcikgPT09IFwiZnVuY3Rpb25cIiA/IF9hIDogT2JqZWN0KVxuICAgIF0sIEJ1YmJsZUNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJhY3RpdmF0ZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBPdXRwdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIHR5cGVvZiAoX2IgPSB0eXBlb2YgRXZlbnRFbWl0dGVyICE9PSBcInVuZGVmaW5lZFwiICYmIEV2ZW50RW1pdHRlcikgPT09IFwiZnVuY3Rpb25cIiA/IF9iIDogT2JqZWN0KVxuICAgIF0sIEJ1YmJsZUNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJkZWFjdGl2YXRlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIENvbnRlbnRDaGlsZCgndG9vbHRpcFRlbXBsYXRlJywgeyBzdGF0aWM6IGZhbHNlIH0pLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgdHlwZW9mIChfYyA9IHR5cGVvZiBUZW1wbGF0ZVJlZiAhPT0gXCJ1bmRlZmluZWRcIiAmJiBUZW1wbGF0ZVJlZikgPT09IFwiZnVuY3Rpb25cIiA/IF9jIDogT2JqZWN0KVxuICAgIF0sIEJ1YmJsZUNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJ0b29sdGlwVGVtcGxhdGVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSG9zdExpc3RlbmVyKCdtb3VzZWxlYXZlJyksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBGdW5jdGlvbiksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cGFyYW10eXBlc1wiLCBbXSksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cmV0dXJudHlwZVwiLCB2b2lkIDApXG4gICAgXSwgQnViYmxlQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLCBcImhpZGVDaXJjbGVzXCIsIG51bGwpO1xuICAgIEJ1YmJsZUNoYXJ0Q29tcG9uZW50ID0gX19kZWNvcmF0ZShbXG4gICAgICAgIENvbXBvbmVudCh7XG4gICAgICAgICAgICBzZWxlY3RvcjogJ25neC1jaGFydHMtYnViYmxlLWNoYXJ0JyxcbiAgICAgICAgICAgIHRlbXBsYXRlOiBcIlxcbiAgICA8bmd4LWNoYXJ0cy1jaGFydFxcbiAgICAgIFt2aWV3XT1cXFwiW3dpZHRoLCBoZWlnaHRdXFxcIlxcbiAgICAgIFtzaG93TGVnZW5kXT1cXFwibGVnZW5kXFxcIlxcbiAgICAgIFthY3RpdmVFbnRyaWVzXT1cXFwiYWN0aXZlRW50cmllc1xcXCJcXG4gICAgICBbbGVnZW5kT3B0aW9uc109XFxcImxlZ2VuZE9wdGlvbnNcXFwiXFxuICAgICAgW2FuaW1hdGlvbnNdPVxcXCJhbmltYXRpb25zXFxcIlxcbiAgICAgIChsZWdlbmRMYWJlbENsaWNrKT1cXFwib25DbGljaygkZXZlbnQpXFxcIlxcbiAgICAgIChsZWdlbmRMYWJlbEFjdGl2YXRlKT1cXFwib25BY3RpdmF0ZSgkZXZlbnQpXFxcIlxcbiAgICAgIChsZWdlbmRMYWJlbERlYWN0aXZhdGUpPVxcXCJvbkRlYWN0aXZhdGUoJGV2ZW50KVxcXCJcXG4gICAgPlxcbiAgICAgIDxzdmc6ZGVmcz5cXG4gICAgICAgIDxzdmc6Y2xpcFBhdGggW2F0dHIuaWRdPVxcXCJjbGlwUGF0aElkXFxcIj5cXG4gICAgICAgICAgPHN2ZzpyZWN0XFxuICAgICAgICAgICAgW2F0dHIud2lkdGhdPVxcXCJkaW1zLndpZHRoICsgMTBcXFwiXFxuICAgICAgICAgICAgW2F0dHIuaGVpZ2h0XT1cXFwiZGltcy5oZWlnaHQgKyAxMFxcXCJcXG4gICAgICAgICAgICBbYXR0ci50cmFuc2Zvcm1dPVxcXCIndHJhbnNsYXRlKC01LCAtNSknXFxcIlxcbiAgICAgICAgICAvPlxcbiAgICAgICAgPC9zdmc6Y2xpcFBhdGg+XFxuICAgICAgPC9zdmc6ZGVmcz5cXG4gICAgICA8c3ZnOmcgW2F0dHIudHJhbnNmb3JtXT1cXFwidHJhbnNmb3JtXFxcIiBjbGFzcz1cXFwiYnViYmxlLWNoYXJ0IGNoYXJ0XFxcIj5cXG4gICAgICAgIDxzdmc6Z1xcbiAgICAgICAgICBuZ3gtY2hhcnRzLXgtYXhpc1xcbiAgICAgICAgICAqbmdJZj1cXFwieEF4aXNcXFwiXFxuICAgICAgICAgIFtzaG93R3JpZExpbmVzXT1cXFwic2hvd0dyaWRMaW5lc1xcXCJcXG4gICAgICAgICAgW2RpbXNdPVxcXCJkaW1zXFxcIlxcbiAgICAgICAgICBbeFNjYWxlXT1cXFwieFNjYWxlXFxcIlxcbiAgICAgICAgICBbc2hvd0xhYmVsXT1cXFwic2hvd1hBeGlzTGFiZWxcXFwiXFxuICAgICAgICAgIFtsYWJlbFRleHRdPVxcXCJ4QXhpc0xhYmVsXFxcIlxcbiAgICAgICAgICBbdHJpbVRpY2tzXT1cXFwidHJpbVhBeGlzVGlja3NcXFwiXFxuICAgICAgICAgIFtyb3RhdGVUaWNrc109XFxcInJvdGF0ZVhBeGlzVGlja3NcXFwiXFxuICAgICAgICAgIFttYXhUaWNrTGVuZ3RoXT1cXFwibWF4WEF4aXNUaWNrTGVuZ3RoXFxcIlxcbiAgICAgICAgICBbdGlja0Zvcm1hdHRpbmddPVxcXCJ4QXhpc1RpY2tGb3JtYXR0aW5nXFxcIlxcbiAgICAgICAgICBbdGlja3NdPVxcXCJ4QXhpc1RpY2tzXFxcIlxcbiAgICAgICAgICAoZGltZW5zaW9uc0NoYW5nZWQpPVxcXCJ1cGRhdGVYQXhpc0hlaWdodCgkZXZlbnQpXFxcIlxcbiAgICAgICAgLz5cXG4gICAgICAgIDxzdmc6Z1xcbiAgICAgICAgICBuZ3gtY2hhcnRzLXktYXhpc1xcbiAgICAgICAgICAqbmdJZj1cXFwieUF4aXNcXFwiXFxuICAgICAgICAgIFtzaG93R3JpZExpbmVzXT1cXFwic2hvd0dyaWRMaW5lc1xcXCJcXG4gICAgICAgICAgW3lTY2FsZV09XFxcInlTY2FsZVxcXCJcXG4gICAgICAgICAgW2RpbXNdPVxcXCJkaW1zXFxcIlxcbiAgICAgICAgICBbc2hvd0xhYmVsXT1cXFwic2hvd1lBeGlzTGFiZWxcXFwiXFxuICAgICAgICAgIFtsYWJlbFRleHRdPVxcXCJ5QXhpc0xhYmVsXFxcIlxcbiAgICAgICAgICBbdHJpbVRpY2tzXT1cXFwidHJpbVlBeGlzVGlja3NcXFwiXFxuICAgICAgICAgIFttYXhUaWNrTGVuZ3RoXT1cXFwibWF4WUF4aXNUaWNrTGVuZ3RoXFxcIlxcbiAgICAgICAgICBbdGlja0Zvcm1hdHRpbmddPVxcXCJ5QXhpc1RpY2tGb3JtYXR0aW5nXFxcIlxcbiAgICAgICAgICBbdGlja3NdPVxcXCJ5QXhpc1RpY2tzXFxcIlxcbiAgICAgICAgICAoZGltZW5zaW9uc0NoYW5nZWQpPVxcXCJ1cGRhdGVZQXhpc1dpZHRoKCRldmVudClcXFwiXFxuICAgICAgICAvPlxcbiAgICAgICAgPHN2ZzpyZWN0XFxuICAgICAgICAgIGNsYXNzPVxcXCJidWJibGUtY2hhcnQtYXJlYVxcXCJcXG4gICAgICAgICAgeD1cXFwiMFxcXCJcXG4gICAgICAgICAgeT1cXFwiMFxcXCJcXG4gICAgICAgICAgW2F0dHIud2lkdGhdPVxcXCJkaW1zLndpZHRoXFxcIlxcbiAgICAgICAgICBbYXR0ci5oZWlnaHRdPVxcXCJkaW1zLmhlaWdodFxcXCJcXG4gICAgICAgICAgc3R5bGU9XFxcImZpbGw6IHJnYigyNTUsIDAsIDApOyBvcGFjaXR5OiAwOyBjdXJzb3I6ICdhdXRvJztcXFwiXFxuICAgICAgICAgIChtb3VzZWVudGVyKT1cXFwiZGVhY3RpdmF0ZUFsbCgpXFxcIlxcbiAgICAgICAgLz5cXG4gICAgICAgIDxzdmc6ZyBbYXR0ci5jbGlwLXBhdGhdPVxcXCJjbGlwUGF0aFxcXCI+XFxuICAgICAgICAgIDxzdmc6ZyAqbmdGb3I9XFxcImxldCBzZXJpZXMgb2YgZGF0YTsgdHJhY2tCeTogdHJhY2tCeVxcXCIgW0BhbmltYXRpb25TdGF0ZV09XFxcIidhY3RpdmUnXFxcIj5cXG4gICAgICAgICAgICA8c3ZnOmdcXG4gICAgICAgICAgICAgIG5neC1jaGFydHMtYnViYmxlLXNlcmllc1xcbiAgICAgICAgICAgICAgW3hTY2FsZV09XFxcInhTY2FsZVxcXCJcXG4gICAgICAgICAgICAgIFt5U2NhbGVdPVxcXCJ5U2NhbGVcXFwiXFxuICAgICAgICAgICAgICBbclNjYWxlXT1cXFwiclNjYWxlXFxcIlxcbiAgICAgICAgICAgICAgW3hTY2FsZVR5cGVdPVxcXCJ4U2NhbGVUeXBlXFxcIlxcbiAgICAgICAgICAgICAgW3lTY2FsZVR5cGVdPVxcXCJ5U2NhbGVUeXBlXFxcIlxcbiAgICAgICAgICAgICAgW3hBeGlzTGFiZWxdPVxcXCJ4QXhpc0xhYmVsXFxcIlxcbiAgICAgICAgICAgICAgW3lBeGlzTGFiZWxdPVxcXCJ5QXhpc0xhYmVsXFxcIlxcbiAgICAgICAgICAgICAgW2NvbG9yc109XFxcImNvbG9yc1xcXCJcXG4gICAgICAgICAgICAgIFtkYXRhXT1cXFwic2VyaWVzXFxcIlxcbiAgICAgICAgICAgICAgW2FjdGl2ZUVudHJpZXNdPVxcXCJhY3RpdmVFbnRyaWVzXFxcIlxcbiAgICAgICAgICAgICAgW3Rvb2x0aXBEaXNhYmxlZF09XFxcInRvb2x0aXBEaXNhYmxlZFxcXCJcXG4gICAgICAgICAgICAgIFt0b29sdGlwVGVtcGxhdGVdPVxcXCJ0b29sdGlwVGVtcGxhdGVcXFwiXFxuICAgICAgICAgICAgICAoc2VsZWN0KT1cXFwib25DbGljaygkZXZlbnQsIHNlcmllcylcXFwiXFxuICAgICAgICAgICAgICAoYWN0aXZhdGUpPVxcXCJvbkFjdGl2YXRlKCRldmVudClcXFwiXFxuICAgICAgICAgICAgICAoZGVhY3RpdmF0ZSk9XFxcIm9uRGVhY3RpdmF0ZSgkZXZlbnQpXFxcIlxcbiAgICAgICAgICAgIC8+XFxuICAgICAgICAgIDwvc3ZnOmc+XFxuICAgICAgICA8L3N2ZzpnPlxcbiAgICAgIDwvc3ZnOmc+XFxuICAgIDwvbmd4LWNoYXJ0cy1jaGFydD5cXG4gIFwiLFxuICAgICAgICAgICAgc3R5bGVzOiBbXCIubmd4LWNoYXJ0c3tmbG9hdDpsZWZ0O292ZXJmbG93OnZpc2libGV9Lm5neC1jaGFydHMgLmFyYywubmd4LWNoYXJ0cyAuYmFyLC5uZ3gtY2hhcnRzIC5jaXJjbGV7Y3Vyc29yOnBvaW50ZXJ9Lm5neC1jaGFydHMgLmFyYy5hY3RpdmUsLm5neC1jaGFydHMgLmFyYzpob3Zlciwubmd4LWNoYXJ0cyAuYmFyLmFjdGl2ZSwubmd4LWNoYXJ0cyAuYmFyOmhvdmVyLC5uZ3gtY2hhcnRzIC5jYXJkLmFjdGl2ZSwubmd4LWNoYXJ0cyAuY2FyZDpob3Zlciwubmd4LWNoYXJ0cyAuY2VsbC5hY3RpdmUsLm5neC1jaGFydHMgLmNlbGw6aG92ZXJ7b3BhY2l0eTouODt0cmFuc2l0aW9uOm9wYWNpdHkgLjFzIGVhc2UtaW4tb3V0fS5uZ3gtY2hhcnRzIC5hcmM6Zm9jdXMsLm5neC1jaGFydHMgLmJhcjpmb2N1cywubmd4LWNoYXJ0cyAuY2FyZDpmb2N1cywubmd4LWNoYXJ0cyAuY2VsbDpmb2N1c3tvdXRsaW5lOjB9Lm5neC1jaGFydHMgLmFyYy5oaWRkZW4sLm5neC1jaGFydHMgLmJhci5oaWRkZW4sLm5neC1jaGFydHMgLmNhcmQuaGlkZGVuLC5uZ3gtY2hhcnRzIC5jZWxsLmhpZGRlbntkaXNwbGF5Om5vbmV9Lm5neC1jaGFydHMgZzpmb2N1c3tvdXRsaW5lOjB9Lm5neC1jaGFydHMgLmFyZWEtc2VyaWVzLmluYWN0aXZlLC5uZ3gtY2hhcnRzIC5saW5lLXNlcmllcy1yYW5nZS5pbmFjdGl2ZSwubmd4LWNoYXJ0cyAubGluZS1zZXJpZXMuaW5hY3RpdmUsLm5neC1jaGFydHMgLnBvbGFyLXNlcmllcy1hcmVhLmluYWN0aXZlLC5uZ3gtY2hhcnRzIC5wb2xhci1zZXJpZXMtcGF0aC5pbmFjdGl2ZXt0cmFuc2l0aW9uOm9wYWNpdHkgLjFzIGVhc2UtaW4tb3V0O29wYWNpdHk6LjJ9Lm5neC1jaGFydHMgLmxpbmUtaGlnaGxpZ2h0e2Rpc3BsYXk6bm9uZX0ubmd4LWNoYXJ0cyAubGluZS1oaWdobGlnaHQuYWN0aXZle2Rpc3BsYXk6YmxvY2t9Lm5neC1jaGFydHMgLmFyZWF7b3BhY2l0eTouNn0ubmd4LWNoYXJ0cyAuY2lyY2xlOmhvdmVye2N1cnNvcjpwb2ludGVyfS5uZ3gtY2hhcnRzIC5sYWJlbHtmb250LXNpemU6MTJweDtmb250LXdlaWdodDo0MDB9Lm5neC1jaGFydHMgLnRvb2x0aXAtYW5jaG9ye2ZpbGw6IzAwMH0ubmd4LWNoYXJ0cyAuZ3JpZGxpbmUtcGF0aHtzdHJva2U6I2RkZDtzdHJva2Utd2lkdGg6MTtmaWxsOm5vbmV9Lm5neC1jaGFydHMgLnJlZmxpbmUtcGF0aHtzdHJva2U6I2E4YjJjNztzdHJva2Utd2lkdGg6MTtzdHJva2UtZGFzaGFycmF5OjU7c3Ryb2tlLWRhc2hvZmZzZXQ6NX0ubmd4LWNoYXJ0cyAucmVmbGluZS1sYWJlbHtmb250LXNpemU6OXB4fS5uZ3gtY2hhcnRzIC5yZWZlcmVuY2UtYXJlYXtmaWxsLW9wYWNpdHk6LjA1O2ZpbGw6IzAwMH0ubmd4LWNoYXJ0cyAuZ3JpZGxpbmUtcGF0aC1kb3R0ZWR7c3Ryb2tlOiNkZGQ7c3Ryb2tlLXdpZHRoOjE7ZmlsbDpub25lO3N0cm9rZS1kYXNoYXJyYXk6MSwyMDtzdHJva2UtZGFzaG9mZnNldDozfS5uZ3gtY2hhcnRzIC5ncmlkLXBhbmVsIHJlY3R7ZmlsbDpub25lfS5uZ3gtY2hhcnRzIC5ncmlkLXBhbmVsLm9kZCByZWN0e2ZpbGw6cmdiYSgwLDAsMCwuMDUpfVwiXSxcbiAgICAgICAgICAgIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoLFxuICAgICAgICAgICAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZSxcbiAgICAgICAgICAgIGFuaW1hdGlvbnM6IFtcbiAgICAgICAgICAgICAgICB0cmlnZ2VyKCdhbmltYXRpb25TdGF0ZScsIFtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbignOmxlYXZlJywgW1xuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDFcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0ZSg1MDAsIHN0eWxlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAwXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSlcbiAgICAgICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgXVxuICAgICAgICB9KVxuICAgIF0sIEJ1YmJsZUNoYXJ0Q29tcG9uZW50KTtcbiAgICByZXR1cm4gQnViYmxlQ2hhcnRDb21wb25lbnQ7XG59KEJhc2VDaGFydENvbXBvbmVudCkpO1xuXG52YXIgQnViYmxlU2VyaWVzQ29tcG9uZW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEJ1YmJsZVNlcmllc0NvbXBvbmVudCgpIHtcbiAgICAgICAgdGhpcy50b29sdGlwRGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zZWxlY3QgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgICAgIHRoaXMuYWN0aXZhdGUgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgICAgIHRoaXMuZGVhY3RpdmF0ZSA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICB9XG4gICAgQnViYmxlU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZS5uZ09uQ2hhbmdlcyA9IGZ1bmN0aW9uIChjaGFuZ2VzKSB7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfTtcbiAgICBCdWJibGVTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jaXJjbGVzID0gdGhpcy5nZXRDaXJjbGVzKCk7XG4gICAgfTtcbiAgICBCdWJibGVTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLmdldENpcmNsZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBzZXJpZXNOYW1lID0gdGhpcy5kYXRhLm5hbWU7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEuc2VyaWVzXG4gICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChkLCBpKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGQueSAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGQueCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICB2YXIgeSA9IGQueTtcbiAgICAgICAgICAgICAgICB2YXIgeCA9IGQueDtcbiAgICAgICAgICAgICAgICB2YXIgciA9IGQucjtcbiAgICAgICAgICAgICAgICB2YXIgcmFkaXVzID0gX3RoaXMuclNjYWxlKHIgfHwgMSk7XG4gICAgICAgICAgICAgICAgdmFyIHRvb2x0aXBMYWJlbCA9IGZvcm1hdExhYmVsKGQubmFtZSk7XG4gICAgICAgICAgICAgICAgdmFyIGN4ID0gX3RoaXMueFNjYWxlVHlwZSA9PT0gJ2xpbmVhcicgPyBfdGhpcy54U2NhbGUoTnVtYmVyKHgpKSA6IF90aGlzLnhTY2FsZSh4KTtcbiAgICAgICAgICAgICAgICB2YXIgY3kgPSBfdGhpcy55U2NhbGVUeXBlID09PSAnbGluZWFyJyA/IF90aGlzLnlTY2FsZShOdW1iZXIoeSkpIDogX3RoaXMueVNjYWxlKHkpO1xuICAgICAgICAgICAgICAgIHZhciBjb2xvciA9IF90aGlzLmNvbG9ycy5zY2FsZVR5cGUgPT09ICdsaW5lYXInID8gX3RoaXMuY29sb3JzLmdldENvbG9yKHIpIDogX3RoaXMuY29sb3JzLmdldENvbG9yKHNlcmllc05hbWUpO1xuICAgICAgICAgICAgICAgIHZhciBpc0FjdGl2ZSA9ICFfdGhpcy5hY3RpdmVFbnRyaWVzLmxlbmd0aCA/IHRydWUgOiBfdGhpcy5pc0FjdGl2ZSh7IG5hbWU6IHNlcmllc05hbWUgfSk7XG4gICAgICAgICAgICAgICAgdmFyIG9wYWNpdHkgPSBpc0FjdGl2ZSA/IDEgOiAwLjM7XG4gICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBPYmplY3QuYXNzaWduKHt9LCBkLCB7XG4gICAgICAgICAgICAgICAgICAgIHNlcmllczogc2VyaWVzTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogZC5uYW1lLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZC55LFxuICAgICAgICAgICAgICAgICAgICB4OiBkLngsXG4gICAgICAgICAgICAgICAgICAgIHJhZGl1czogZC5yXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgeDogeCxcbiAgICAgICAgICAgICAgICAgICAgeTogeSxcbiAgICAgICAgICAgICAgICAgICAgcjogcixcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lczogW1wiY2lyY2xlLWRhdGEtXCIgKyBpXSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHksXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiB4LFxuICAgICAgICAgICAgICAgICAgICBjeDogY3gsXG4gICAgICAgICAgICAgICAgICAgIGN5OiBjeSxcbiAgICAgICAgICAgICAgICAgICAgcmFkaXVzOiByYWRpdXMsXG4gICAgICAgICAgICAgICAgICAgIHRvb2x0aXBMYWJlbDogdG9vbHRpcExhYmVsLFxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogY29sb3IsXG4gICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IG9wYWNpdHksXG4gICAgICAgICAgICAgICAgICAgIHNlcmllc05hbWU6IHNlcmllc05hbWUsXG4gICAgICAgICAgICAgICAgICAgIGlzQWN0aXZlOiBpc0FjdGl2ZSxcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiBcInRyYW5zbGF0ZShcIiArIGN4ICsgXCIsXCIgKyBjeSArIFwiKVwiXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKGNpcmNsZSkgeyByZXR1cm4gY2lyY2xlICE9PSB1bmRlZmluZWQ7IH0pO1xuICAgIH07XG4gICAgQnViYmxlU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZS5nZXRUb29sdGlwVGV4dCA9IGZ1bmN0aW9uIChjaXJjbGUpIHtcbiAgICAgICAgdmFyIGhhc1JhZGl1cyA9IHR5cGVvZiBjaXJjbGUuciAhPT0gJ3VuZGVmaW5lZCc7XG4gICAgICAgIHZhciBoYXNUb29sdGlwTGFiZWwgPSBjaXJjbGUudG9vbHRpcExhYmVsICYmIGNpcmNsZS50b29sdGlwTGFiZWwubGVuZ3RoO1xuICAgICAgICB2YXIgaGFzU2VyaWVzTmFtZSA9IGNpcmNsZS5zZXJpZXNOYW1lICYmIGNpcmNsZS5zZXJpZXNOYW1lLmxlbmd0aDtcbiAgICAgICAgdmFyIHJhZGl1c1ZhbHVlID0gaGFzUmFkaXVzID8gZm9ybWF0TGFiZWwoY2lyY2xlLnIpIDogJyc7XG4gICAgICAgIHZhciB4QXhpc0xhYmVsID0gdGhpcy54QXhpc0xhYmVsICYmIHRoaXMueEF4aXNMYWJlbCAhPT0gJycgPyB0aGlzLnhBeGlzTGFiZWwgKyBcIjpcIiA6ICcnO1xuICAgICAgICB2YXIgeUF4aXNMYWJlbCA9IHRoaXMueUF4aXNMYWJlbCAmJiB0aGlzLnlBeGlzTGFiZWwgIT09ICcnID8gdGhpcy55QXhpc0xhYmVsICsgXCI6XCIgOiAnJztcbiAgICAgICAgdmFyIHggPSBmb3JtYXRMYWJlbChjaXJjbGUueCk7XG4gICAgICAgIHZhciB5ID0gZm9ybWF0TGFiZWwoY2lyY2xlLnkpO1xuICAgICAgICB2YXIgbmFtZSA9IGhhc1Nlcmllc05hbWUgJiYgaGFzVG9vbHRpcExhYmVsXG4gICAgICAgICAgICA/IGNpcmNsZS5zZXJpZXNOYW1lICsgXCIgXFx1MjAyMiBcIiArIGNpcmNsZS50b29sdGlwTGFiZWxcbiAgICAgICAgICAgIDogY2lyY2xlLnNlcmllc05hbWUgKyBjaXJjbGUudG9vbHRpcExhYmVsO1xuICAgICAgICB2YXIgdG9vbHRpcFRpdGxlID0gaGFzU2VyaWVzTmFtZSB8fCBoYXNUb29sdGlwTGFiZWwgP1xuICAgICAgICAgICAgXCI8c3BhbiBjbGFzcz1cXFwidG9vbHRpcC1sYWJlbFxcXCI+XCIgKyBlc2NhcGVMYWJlbChuYW1lKSArIFwiPC9zcGFuPlwiIDogJyc7XG4gICAgICAgIHJldHVybiBcIlxcbiAgICAgIFwiICsgdG9vbHRpcFRpdGxlICsgXCJcXG4gICAgICA8c3BhbiBjbGFzcz1cXFwidG9vbHRpcC1sYWJlbFxcXCI+XFxuICAgICAgICA8bGFiZWw+XCIgKyBlc2NhcGVMYWJlbCh4QXhpc0xhYmVsKSArIFwiPC9sYWJlbD4gXCIgKyBlc2NhcGVMYWJlbCh4KSArIFwiPGJyIC8+XFxuICAgICAgICA8bGFiZWw+XCIgKyBlc2NhcGVMYWJlbCh5QXhpc0xhYmVsKSArIFwiPC9sYWJlbD4gXCIgKyBlc2NhcGVMYWJlbCh5KSArIFwiXFxuICAgICAgPC9zcGFuPlxcbiAgICAgIDxzcGFuIGNsYXNzPVxcXCJ0b29sdGlwLXZhbFxcXCI+XFxuICAgICAgICBcIiArIGVzY2FwZUxhYmVsKHJhZGl1c1ZhbHVlKSArIFwiXFxuICAgICAgPC9zcGFuPlxcbiAgICBcIjtcbiAgICB9O1xuICAgIEJ1YmJsZVNlcmllc0NvbXBvbmVudC5wcm90b3R5cGUub25DbGljayA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0LmVtaXQoZGF0YSk7XG4gICAgfTtcbiAgICBCdWJibGVTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLmlzQWN0aXZlID0gZnVuY3Rpb24gKGVudHJ5KSB7XG4gICAgICAgIGlmICghdGhpcy5hY3RpdmVFbnRyaWVzKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB2YXIgaXRlbSA9IHRoaXMuYWN0aXZlRW50cmllcy5maW5kKGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICByZXR1cm4gZW50cnkubmFtZSA9PT0gZC5uYW1lO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGl0ZW0gIT09IHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIEJ1YmJsZVNlcmllc0NvbXBvbmVudC5wcm90b3R5cGUuaXNWaXNpYmxlID0gZnVuY3Rpb24gKGNpcmNsZSkge1xuICAgICAgICBpZiAodGhpcy5hY3RpdmVFbnRyaWVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmlzQWN0aXZlKHsgbmFtZTogY2lyY2xlLnNlcmllc05hbWUgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNpcmNsZS5vcGFjaXR5ICE9PSAwO1xuICAgIH07XG4gICAgQnViYmxlU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZS5hY3RpdmF0ZUNpcmNsZSA9IGZ1bmN0aW9uIChjaXJjbGUpIHtcbiAgICAgICAgY2lyY2xlLmJhclZpc2libGUgPSB0cnVlO1xuICAgICAgICB0aGlzLmFjdGl2YXRlLmVtaXQoeyBuYW1lOiB0aGlzLmRhdGEubmFtZSB9KTtcbiAgICB9O1xuICAgIEJ1YmJsZVNlcmllc0NvbXBvbmVudC5wcm90b3R5cGUuZGVhY3RpdmF0ZUNpcmNsZSA9IGZ1bmN0aW9uIChjaXJjbGUpIHtcbiAgICAgICAgY2lyY2xlLmJhclZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5kZWFjdGl2YXRlLmVtaXQoeyBuYW1lOiB0aGlzLmRhdGEubmFtZSB9KTtcbiAgICB9O1xuICAgIEJ1YmJsZVNlcmllc0NvbXBvbmVudC5wcm90b3R5cGUudHJhY2tCeSA9IGZ1bmN0aW9uIChpbmRleCwgY2lyY2xlKSB7XG4gICAgICAgIHJldHVybiBjaXJjbGUuZGF0YS5zZXJpZXMgKyBcIiBcIiArIGNpcmNsZS5kYXRhLm5hbWU7XG4gICAgfTtcbiAgICB2YXIgX2E7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQnViYmxlU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJkYXRhXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQnViYmxlU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ4U2NhbGVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBCdWJibGVTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLCBcInlTY2FsZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEJ1YmJsZVNlcmllc0NvbXBvbmVudC5wcm90b3R5cGUsIFwiclNjYWxlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQnViYmxlU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ4U2NhbGVUeXBlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQnViYmxlU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ5U2NhbGVUeXBlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQnViYmxlU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJjb2xvcnNcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBCdWJibGVTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLCBcInZpc2libGVWYWx1ZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQXJyYXkpXG4gICAgXSwgQnViYmxlU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJhY3RpdmVFbnRyaWVzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBTdHJpbmcpXG4gICAgXSwgQnViYmxlU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ4QXhpc0xhYmVsXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBTdHJpbmcpXG4gICAgXSwgQnViYmxlU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ5QXhpc0xhYmVsXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIEJ1YmJsZVNlcmllc0NvbXBvbmVudC5wcm90b3R5cGUsIFwidG9vbHRpcERpc2FibGVkXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCB0eXBlb2YgKF9hID0gdHlwZW9mIFRlbXBsYXRlUmVmICE9PSBcInVuZGVmaW5lZFwiICYmIFRlbXBsYXRlUmVmKSA9PT0gXCJmdW5jdGlvblwiID8gX2EgOiBPYmplY3QpXG4gICAgXSwgQnViYmxlU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ0b29sdGlwVGVtcGxhdGVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgT3V0cHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQnViYmxlU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJzZWxlY3RcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgT3V0cHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQnViYmxlU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJhY3RpdmF0ZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBPdXRwdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBCdWJibGVTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLCBcImRlYWN0aXZhdGVcIiwgdm9pZCAwKTtcbiAgICBCdWJibGVTZXJpZXNDb21wb25lbnQgPSBfX2RlY29yYXRlKFtcbiAgICAgICAgQ29tcG9uZW50KHtcbiAgICAgICAgICAgIHNlbGVjdG9yOiAnZ1tuZ3gtY2hhcnRzLWJ1YmJsZS1zZXJpZXNdJyxcbiAgICAgICAgICAgIHRlbXBsYXRlOiBcIlxcbiAgICA8c3ZnOmcgKm5nRm9yPVxcXCJsZXQgY2lyY2xlIG9mIGNpcmNsZXM7IHRyYWNrQnk6IHRyYWNrQnlcXFwiPlxcbiAgICAgIDxzdmc6ZyBbYXR0ci50cmFuc2Zvcm1dPVxcXCJjaXJjbGUudHJhbnNmb3JtXFxcIj5cXG4gICAgICAgIDxzdmc6Z1xcbiAgICAgICAgICBuZ3gtY2hhcnRzLWNpcmNsZVxcbiAgICAgICAgICBbQGFuaW1hdGlvblN0YXRlXT1cXFwiJ2FjdGl2ZSdcXFwiXFxuICAgICAgICAgIGNsYXNzPVxcXCJjaXJjbGVcXFwiXFxuICAgICAgICAgIFtjeF09XFxcIjBcXFwiXFxuICAgICAgICAgIFtjeV09XFxcIjBcXFwiXFxuICAgICAgICAgIFtyXT1cXFwiY2lyY2xlLnJhZGl1c1xcXCJcXG4gICAgICAgICAgW2ZpbGxdPVxcXCJjaXJjbGUuY29sb3JcXFwiXFxuICAgICAgICAgIFtzdHlsZS5vcGFjaXR5XT1cXFwiY2lyY2xlLm9wYWNpdHlcXFwiXFxuICAgICAgICAgIFtjbGFzcy5hY3RpdmVdPVxcXCJjaXJjbGUuaXNBY3RpdmVcXFwiXFxuICAgICAgICAgIFtwb2ludGVyRXZlbnRzXT1cXFwiJ2FsbCdcXFwiXFxuICAgICAgICAgIFtkYXRhXT1cXFwiY2lyY2xlLnZhbHVlXFxcIlxcbiAgICAgICAgICBbY2xhc3NOYW1lc109XFxcImNpcmNsZS5jbGFzc05hbWVzXFxcIlxcbiAgICAgICAgICAoc2VsZWN0KT1cXFwib25DbGljayhjaXJjbGUuZGF0YSlcXFwiXFxuICAgICAgICAgIChhY3RpdmF0ZSk9XFxcImFjdGl2YXRlQ2lyY2xlKGNpcmNsZSlcXFwiXFxuICAgICAgICAgIChkZWFjdGl2YXRlKT1cXFwiZGVhY3RpdmF0ZUNpcmNsZShjaXJjbGUpXFxcIlxcbiAgICAgICAgICBuZ3gtdG9vbHRpcFxcbiAgICAgICAgICBbdG9vbHRpcERpc2FibGVkXT1cXFwidG9vbHRpcERpc2FibGVkXFxcIlxcbiAgICAgICAgICBbdG9vbHRpcFBsYWNlbWVudF09XFxcIid0b3AnXFxcIlxcbiAgICAgICAgICBbdG9vbHRpcFR5cGVdPVxcXCIndG9vbHRpcCdcXFwiXFxuICAgICAgICAgIFt0b29sdGlwVGl0bGVdPVxcXCJ0b29sdGlwVGVtcGxhdGUgPyB1bmRlZmluZWQgOiBnZXRUb29sdGlwVGV4dChjaXJjbGUpXFxcIlxcbiAgICAgICAgICBbdG9vbHRpcFRlbXBsYXRlXT1cXFwidG9vbHRpcFRlbXBsYXRlXFxcIlxcbiAgICAgICAgICBbdG9vbHRpcENvbnRleHRdPVxcXCJjaXJjbGUuZGF0YVxcXCJcXG4gICAgICAgIC8+XFxuICAgICAgPC9zdmc6Zz5cXG4gICAgPC9zdmc6Zz5cXG4gIFwiLFxuICAgICAgICAgICAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXG4gICAgICAgICAgICBhbmltYXRpb25zOiBbXG4gICAgICAgICAgICAgICAgdHJpZ2dlcignYW5pbWF0aW9uU3RhdGUnLCBbXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb24oJzplbnRlcicsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogJ3NjYWxlKDApJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRlKDI1MCwgc3R5bGUoeyBvcGFjaXR5OiAxLCB0cmFuc2Zvcm06ICdzY2FsZSgxKScgfSkpXG4gICAgICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgIF1cbiAgICAgICAgfSlcbiAgICBdLCBCdWJibGVTZXJpZXNDb21wb25lbnQpO1xuICAgIHJldHVybiBCdWJibGVTZXJpZXNDb21wb25lbnQ7XG59KCkpO1xuXG52YXIgQnViYmxlQ2hhcnRNb2R1bGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQnViYmxlQ2hhcnRNb2R1bGUoKSB7XG4gICAgfVxuICAgIEJ1YmJsZUNoYXJ0TW9kdWxlID0gX19kZWNvcmF0ZShbXG4gICAgICAgIE5nTW9kdWxlKHtcbiAgICAgICAgICAgIGltcG9ydHM6IFtDaGFydENvbW1vbk1vZHVsZV0sXG4gICAgICAgICAgICBkZWNsYXJhdGlvbnM6IFtcbiAgICAgICAgICAgICAgICBCdWJibGVDaGFydENvbXBvbmVudCxcbiAgICAgICAgICAgICAgICBCdWJibGVTZXJpZXNDb21wb25lbnRcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBleHBvcnRzOiBbXG4gICAgICAgICAgICAgICAgQnViYmxlQ2hhcnRDb21wb25lbnQsXG4gICAgICAgICAgICAgICAgQnViYmxlU2VyaWVzQ29tcG9uZW50XG4gICAgICAgICAgICBdXG4gICAgICAgIH0pXG4gICAgXSwgQnViYmxlQ2hhcnRNb2R1bGUpO1xuICAgIHJldHVybiBCdWJibGVDaGFydE1vZHVsZTtcbn0oKSk7XG5cbnZhciBGb3JjZURpcmVjdGVkR3JhcGhDb21wb25lbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEZvcmNlRGlyZWN0ZWRHcmFwaENvbXBvbmVudCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBGb3JjZURpcmVjdGVkR3JhcGhDb21wb25lbnQoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5mb3JjZSA9IGZvcmNlU2ltdWxhdGlvbigpXG4gICAgICAgICAgICAuZm9yY2UoJ2NoYXJnZScsIGZvcmNlTWFueUJvZHkoKSlcbiAgICAgICAgICAgIC5mb3JjZSgnY29sbGlkZScsIGZvcmNlQ29sbGlkZSg1KSlcbiAgICAgICAgICAgIC5mb3JjZSgneCcsIGZvcmNlWCgpKVxuICAgICAgICAgICAgLmZvcmNlKCd5JywgZm9yY2VZKCkpO1xuICAgICAgICBfdGhpcy5mb3JjZUxpbmsgPSBmb3JjZUxpbmsoKS5pZChmdW5jdGlvbiAobm9kZSkgeyByZXR1cm4gbm9kZS52YWx1ZTsgfSk7XG4gICAgICAgIF90aGlzLmxlZ2VuZFRpdGxlID0gJ0xlZ2VuZCc7XG4gICAgICAgIF90aGlzLmxlZ2VuZFBvc2l0aW9uID0gJ3JpZ2h0JztcbiAgICAgICAgX3RoaXMubm9kZXMgPSBbXTtcbiAgICAgICAgX3RoaXMubGlua3MgPSBbXTtcbiAgICAgICAgX3RoaXMuYWN0aXZlRW50cmllcyA9IFtdO1xuICAgICAgICBfdGhpcy50b29sdGlwRGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuYWN0aXZhdGUgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgICAgIF90aGlzLmRlYWN0aXZhdGUgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgICAgIF90aGlzLm1hcmdpbiA9IFswLCAwLCAwLCAwXTtcbiAgICAgICAgX3RoaXMucmVzdWx0cyA9IFtdO1xuICAgICAgICBfdGhpcy5ncm91cFJlc3VsdHNCeSA9IGZ1bmN0aW9uIChub2RlKSB7IHJldHVybiBub2RlLnZhbHVlOyB9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEZvcmNlRGlyZWN0ZWRHcmFwaENvbXBvbmVudC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLnVwZGF0ZS5jYWxsKHRoaXMpO1xuICAgICAgICB0aGlzLmRpbXMgPSBjYWxjdWxhdGVWaWV3RGltZW5zaW9ucyh7XG4gICAgICAgICAgICB3aWR0aDogdGhpcy53aWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogdGhpcy5oZWlnaHQsXG4gICAgICAgICAgICBtYXJnaW5zOiB0aGlzLm1hcmdpbixcbiAgICAgICAgICAgIHNob3dMZWdlbmQ6IHRoaXMubGVnZW5kLFxuICAgICAgICAgICAgbGVnZW5kUG9zaXRpb246IHRoaXMubGVnZW5kUG9zaXRpb25cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc2VyaWVzRG9tYWluID0gdGhpcy5nZXRTZXJpZXNEb21haW4oKTtcbiAgICAgICAgdGhpcy5zZXRDb2xvcnMoKTtcbiAgICAgICAgdGhpcy5sZWdlbmRPcHRpb25zID0gdGhpcy5nZXRMZWdlbmRPcHRpb25zKCk7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtID0gXCJcXG4gICAgICB0cmFuc2xhdGUoXCIgKyAodGhpcy5kaW1zLnhPZmZzZXQgKyB0aGlzLmRpbXMud2lkdGggLyAyKSArIFwiLCBcIiArICh0aGlzLm1hcmdpblswXSArIHRoaXMuZGltcy5oZWlnaHQgLyAyKSArIFwiKVxcbiAgICBcIjtcbiAgICAgICAgaWYgKHRoaXMuZm9yY2UpIHtcbiAgICAgICAgICAgIHRoaXMuZm9yY2VcbiAgICAgICAgICAgICAgICAubm9kZXModGhpcy5ub2RlcylcbiAgICAgICAgICAgICAgICAuZm9yY2UoJ2xpbmsnLCB0aGlzLmZvcmNlTGluay5saW5rcyh0aGlzLmxpbmtzKSlcbiAgICAgICAgICAgICAgICAuYWxwaGEoMC41KVxuICAgICAgICAgICAgICAgIC5yZXN0YXJ0KCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEZvcmNlRGlyZWN0ZWRHcmFwaENvbXBvbmVudC5wcm90b3R5cGUub25DbGljayA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0LmVtaXQoZGF0YSk7XG4gICAgfTtcbiAgICBGb3JjZURpcmVjdGVkR3JhcGhDb21wb25lbnQucHJvdG90eXBlLm9uQWN0aXZhdGUgPSBmdW5jdGlvbiAoZXZlbnQkJDEpIHtcbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlRW50cmllcy5pbmRleE9mKGV2ZW50JCQxKSA+IC0xKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0aGlzLmFjdGl2ZUVudHJpZXMgPSBbZXZlbnQkJDFdLmNvbmNhdCh0aGlzLmFjdGl2ZUVudHJpZXMpO1xuICAgICAgICB0aGlzLmFjdGl2YXRlLmVtaXQoeyB2YWx1ZTogZXZlbnQkJDEsIGVudHJpZXM6IHRoaXMuYWN0aXZlRW50cmllcyB9KTtcbiAgICB9O1xuICAgIEZvcmNlRGlyZWN0ZWRHcmFwaENvbXBvbmVudC5wcm90b3R5cGUub25EZWFjdGl2YXRlID0gZnVuY3Rpb24gKGV2ZW50JCQxKSB7XG4gICAgICAgIHZhciBpZHggPSB0aGlzLmFjdGl2ZUVudHJpZXMuaW5kZXhPZihldmVudCQkMSk7XG4gICAgICAgIHRoaXMuYWN0aXZlRW50cmllcy5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgdGhpcy5hY3RpdmVFbnRyaWVzID0gdGhpcy5hY3RpdmVFbnRyaWVzLnNsaWNlKCk7XG4gICAgICAgIHRoaXMuZGVhY3RpdmF0ZS5lbWl0KHsgdmFsdWU6IGV2ZW50JCQxLCBlbnRyaWVzOiB0aGlzLmFjdGl2ZUVudHJpZXMgfSk7XG4gICAgfTtcbiAgICBGb3JjZURpcmVjdGVkR3JhcGhDb21wb25lbnQucHJvdG90eXBlLmdldFNlcmllc0RvbWFpbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcmV0dXJuIHRoaXMubm9kZXNcbiAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKGQpIHsgcmV0dXJuIF90aGlzLmdyb3VwUmVzdWx0c0J5KGQpOyB9KVxuICAgICAgICAgICAgLnJlZHVjZShmdW5jdGlvbiAobm9kZXMsIG5vZGUpIHsgcmV0dXJuIChub2Rlcy5pbmNsdWRlcyhub2RlKSA/IG5vZGVzIDogbm9kZXMuY29uY2F0KFtub2RlXSkpOyB9LCBbXSlcbiAgICAgICAgICAgIC5zb3J0KCk7XG4gICAgfTtcbiAgICBGb3JjZURpcmVjdGVkR3JhcGhDb21wb25lbnQucHJvdG90eXBlLnRyYWNrTGlua0J5ID0gZnVuY3Rpb24gKGluZGV4LCBsaW5rKSB7XG4gICAgICAgIHJldHVybiBsaW5rLmluZGV4O1xuICAgIH07XG4gICAgRm9yY2VEaXJlY3RlZEdyYXBoQ29tcG9uZW50LnByb3RvdHlwZS50cmFja05vZGVCeSA9IGZ1bmN0aW9uIChpbmRleCwgbm9kZSkge1xuICAgICAgICByZXR1cm4gbm9kZS52YWx1ZTtcbiAgICB9O1xuICAgIEZvcmNlRGlyZWN0ZWRHcmFwaENvbXBvbmVudC5wcm90b3R5cGUuc2V0Q29sb3JzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmNvbG9ycyA9IG5ldyBDb2xvckhlbHBlcih0aGlzLnNjaGVtZSwgJ29yZGluYWwnLCB0aGlzLnNlcmllc0RvbWFpbiwgdGhpcy5jdXN0b21Db2xvcnMpO1xuICAgIH07XG4gICAgRm9yY2VEaXJlY3RlZEdyYXBoQ29tcG9uZW50LnByb3RvdHlwZS5nZXRMZWdlbmRPcHRpb25zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc2NhbGVUeXBlOiAnb3JkaW5hbCcsXG4gICAgICAgICAgICBkb21haW46IHRoaXMuc2VyaWVzRG9tYWluLFxuICAgICAgICAgICAgY29sb3JzOiB0aGlzLmNvbG9ycyxcbiAgICAgICAgICAgIHRpdGxlOiB0aGlzLmxlZ2VuZFRpdGxlLFxuICAgICAgICAgICAgcG9zaXRpb246IHRoaXMubGVnZW5kUG9zaXRpb25cbiAgICAgICAgfTtcbiAgICB9O1xuICAgIEZvcmNlRGlyZWN0ZWRHcmFwaENvbXBvbmVudC5wcm90b3R5cGUub25EcmFnU3RhcnQgPSBmdW5jdGlvbiAobm9kZSwgJGV2ZW50KSB7XG4gICAgICAgIHRoaXMuZm9yY2UuYWxwaGFUYXJnZXQoMC4zKS5yZXN0YXJ0KCk7XG4gICAgICAgIHRoaXMuZHJhZ2dpbmdOb2RlID0gbm9kZTtcbiAgICAgICAgdGhpcy5kcmFnZ2luZ1N0YXJ0ID0geyB4OiAkZXZlbnQueCAtIG5vZGUueCwgeTogJGV2ZW50LnkgLSBub2RlLnkgfTtcbiAgICAgICAgdGhpcy5kcmFnZ2luZ05vZGUuZnggPSAkZXZlbnQueCAtIHRoaXMuZHJhZ2dpbmdTdGFydC54O1xuICAgICAgICB0aGlzLmRyYWdnaW5nTm9kZS5meSA9ICRldmVudC55IC0gdGhpcy5kcmFnZ2luZ1N0YXJ0Lnk7XG4gICAgfTtcbiAgICBGb3JjZURpcmVjdGVkR3JhcGhDb21wb25lbnQucHJvdG90eXBlLm9uRHJhZyA9IGZ1bmN0aW9uICgkZXZlbnQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmRyYWdnaW5nTm9kZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy5kcmFnZ2luZ05vZGUuZnggPSAkZXZlbnQueCAtIHRoaXMuZHJhZ2dpbmdTdGFydC54O1xuICAgICAgICB0aGlzLmRyYWdnaW5nTm9kZS5meSA9ICRldmVudC55IC0gdGhpcy5kcmFnZ2luZ1N0YXJ0Lnk7XG4gICAgfTtcbiAgICBGb3JjZURpcmVjdGVkR3JhcGhDb21wb25lbnQucHJvdG90eXBlLm9uRHJhZ0VuZCA9IGZ1bmN0aW9uICgkZXZlbnQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmRyYWdnaW5nTm9kZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy5mb3JjZS5hbHBoYVRhcmdldCgwKTtcbiAgICAgICAgdGhpcy5kcmFnZ2luZ05vZGUuZnggPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuZHJhZ2dpbmdOb2RlLmZ5ID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmRyYWdnaW5nTm9kZSA9IHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIEZvcmNlRGlyZWN0ZWRHcmFwaENvbXBvbmVudC5wcm90b3R5cGUuZXNjYXBlID0gZnVuY3Rpb24gKGxhYmVsKSB7XG4gICAgICAgIHJldHVybiBlc2NhcGVMYWJlbChsYWJlbCk7XG4gICAgfTtcbiAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZiwgX2csIF9oLCBfajtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBGb3JjZURpcmVjdGVkR3JhcGhDb21wb25lbnQucHJvdG90eXBlLCBcImZvcmNlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgRm9yY2VEaXJlY3RlZEdyYXBoQ29tcG9uZW50LnByb3RvdHlwZSwgXCJmb3JjZUxpbmtcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEJvb2xlYW4pXG4gICAgXSwgRm9yY2VEaXJlY3RlZEdyYXBoQ29tcG9uZW50LnByb3RvdHlwZSwgXCJsZWdlbmRcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcbiAgICBdLCBGb3JjZURpcmVjdGVkR3JhcGhDb21wb25lbnQucHJvdG90eXBlLCBcImxlZ2VuZFRpdGxlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBTdHJpbmcpXG4gICAgXSwgRm9yY2VEaXJlY3RlZEdyYXBoQ29tcG9uZW50LnByb3RvdHlwZSwgXCJsZWdlbmRQb3NpdGlvblwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQXJyYXkpXG4gICAgXSwgRm9yY2VEaXJlY3RlZEdyYXBoQ29tcG9uZW50LnByb3RvdHlwZSwgXCJub2Rlc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgdHlwZW9mIChfYSA9IHR5cGVvZiBBcnJheSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBBcnJheSkgPT09IFwiZnVuY3Rpb25cIiA/IF9hIDogT2JqZWN0KVxuICAgIF0sIEZvcmNlRGlyZWN0ZWRHcmFwaENvbXBvbmVudC5wcm90b3R5cGUsIFwibGlua3NcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEFycmF5KVxuICAgIF0sIEZvcmNlRGlyZWN0ZWRHcmFwaENvbXBvbmVudC5wcm90b3R5cGUsIFwiYWN0aXZlRW50cmllc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbiAgICBdLCBGb3JjZURpcmVjdGVkR3JhcGhDb21wb25lbnQucHJvdG90eXBlLCBcInRvb2x0aXBEaXNhYmxlZFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBPdXRwdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIHR5cGVvZiAoX2IgPSB0eXBlb2YgRXZlbnRFbWl0dGVyICE9PSBcInVuZGVmaW5lZFwiICYmIEV2ZW50RW1pdHRlcikgPT09IFwiZnVuY3Rpb25cIiA/IF9iIDogT2JqZWN0KVxuICAgIF0sIEZvcmNlRGlyZWN0ZWRHcmFwaENvbXBvbmVudC5wcm90b3R5cGUsIFwiYWN0aXZhdGVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgT3V0cHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCB0eXBlb2YgKF9jID0gdHlwZW9mIEV2ZW50RW1pdHRlciAhPT0gXCJ1bmRlZmluZWRcIiAmJiBFdmVudEVtaXR0ZXIpID09PSBcImZ1bmN0aW9uXCIgPyBfYyA6IE9iamVjdClcbiAgICBdLCBGb3JjZURpcmVjdGVkR3JhcGhDb21wb25lbnQucHJvdG90eXBlLCBcImRlYWN0aXZhdGVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgQ29udGVudENoaWxkKCdsaW5rVGVtcGxhdGUnLCB7IHN0YXRpYzogZmFsc2UgfSksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCB0eXBlb2YgKF9kID0gdHlwZW9mIFRlbXBsYXRlUmVmICE9PSBcInVuZGVmaW5lZFwiICYmIFRlbXBsYXRlUmVmKSA9PT0gXCJmdW5jdGlvblwiID8gX2QgOiBPYmplY3QpXG4gICAgXSwgRm9yY2VEaXJlY3RlZEdyYXBoQ29tcG9uZW50LnByb3RvdHlwZSwgXCJsaW5rVGVtcGxhdGVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgQ29udGVudENoaWxkKCdub2RlVGVtcGxhdGUnLCB7IHN0YXRpYzogZmFsc2UgfSksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCB0eXBlb2YgKF9lID0gdHlwZW9mIFRlbXBsYXRlUmVmICE9PSBcInVuZGVmaW5lZFwiICYmIFRlbXBsYXRlUmVmKSA9PT0gXCJmdW5jdGlvblwiID8gX2UgOiBPYmplY3QpXG4gICAgXSwgRm9yY2VEaXJlY3RlZEdyYXBoQ29tcG9uZW50LnByb3RvdHlwZSwgXCJub2RlVGVtcGxhdGVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgQ29udGVudENoaWxkKCd0b29sdGlwVGVtcGxhdGUnLCB7IHN0YXRpYzogZmFsc2UgfSksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCB0eXBlb2YgKF9mID0gdHlwZW9mIFRlbXBsYXRlUmVmICE9PSBcInVuZGVmaW5lZFwiICYmIFRlbXBsYXRlUmVmKSA9PT0gXCJmdW5jdGlvblwiID8gX2YgOiBPYmplY3QpXG4gICAgXSwgRm9yY2VEaXJlY3RlZEdyYXBoQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ0b29sdGlwVGVtcGxhdGVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgVmlld0NoaWxkKENoYXJ0Q29tcG9uZW50LCB7IHJlYWQ6IEVsZW1lbnRSZWYsIHN0YXRpYzogZmFsc2UgfSksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCB0eXBlb2YgKF9nID0gdHlwZW9mIEVsZW1lbnRSZWYgIT09IFwidW5kZWZpbmVkXCIgJiYgRWxlbWVudFJlZikgPT09IFwiZnVuY3Rpb25cIiA/IF9nIDogT2JqZWN0KVxuICAgIF0sIEZvcmNlRGlyZWN0ZWRHcmFwaENvbXBvbmVudC5wcm90b3R5cGUsIFwiY2hhcnRcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEZ1bmN0aW9uKVxuICAgIF0sIEZvcmNlRGlyZWN0ZWRHcmFwaENvbXBvbmVudC5wcm90b3R5cGUsIFwiZ3JvdXBSZXN1bHRzQnlcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSG9zdExpc3RlbmVyKCdkb2N1bWVudDptb3VzZW1vdmUnLCBbJyRldmVudCddKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEZ1bmN0aW9uKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjpwYXJhbXR5cGVzXCIsIFt0eXBlb2YgKF9oID0gdHlwZW9mIE1vdXNlRXZlbnQgIT09IFwidW5kZWZpbmVkXCIgJiYgTW91c2VFdmVudCkgPT09IFwiZnVuY3Rpb25cIiA/IF9oIDogT2JqZWN0XSksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cmV0dXJudHlwZVwiLCB2b2lkIDApXG4gICAgXSwgRm9yY2VEaXJlY3RlZEdyYXBoQ29tcG9uZW50LnByb3RvdHlwZSwgXCJvbkRyYWdcIiwgbnVsbCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIEhvc3RMaXN0ZW5lcignZG9jdW1lbnQ6bW91c2V1cCcsIFsnJGV2ZW50J10pLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgRnVuY3Rpb24pLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW3R5cGVvZiAoX2ogPSB0eXBlb2YgTW91c2VFdmVudCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBNb3VzZUV2ZW50KSA9PT0gXCJmdW5jdGlvblwiID8gX2ogOiBPYmplY3RdKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjpyZXR1cm50eXBlXCIsIHZvaWQgMClcbiAgICBdLCBGb3JjZURpcmVjdGVkR3JhcGhDb21wb25lbnQucHJvdG90eXBlLCBcIm9uRHJhZ0VuZFwiLCBudWxsKTtcbiAgICBGb3JjZURpcmVjdGVkR3JhcGhDb21wb25lbnQgPSBfX2RlY29yYXRlKFtcbiAgICAgICAgQ29tcG9uZW50KHtcbiAgICAgICAgICAgIHNlbGVjdG9yOiAnbmd4LWNoYXJ0cy1mb3JjZS1kaXJlY3RlZC1ncmFwaCcsXG4gICAgICAgICAgICB0ZW1wbGF0ZTogXCJcXG4gICAgPG5neC1jaGFydHMtY2hhcnRcXG4gICAgICBbdmlld109XFxcIlt3aWR0aCwgaGVpZ2h0XVxcXCJcXG4gICAgICBbc2hvd0xlZ2VuZF09XFxcImxlZ2VuZFxcXCJcXG4gICAgICBbbGVnZW5kT3B0aW9uc109XFxcImxlZ2VuZE9wdGlvbnNcXFwiXFxuICAgICAgW2FuaW1hdGlvbnNdPVxcXCJhbmltYXRpb25zXFxcIlxcbiAgICAgIChsZWdlbmRMYWJlbENsaWNrKT1cXFwib25DbGljaygkZXZlbnQpXFxcIlxcbiAgICAgIChsZWdlbmRMYWJlbEFjdGl2YXRlKT1cXFwib25BY3RpdmF0ZSgkZXZlbnQpXFxcIlxcbiAgICAgIChsZWdlbmRMYWJlbERlYWN0aXZhdGUpPVxcXCJvbkRlYWN0aXZhdGUoJGV2ZW50KVxcXCJcXG4gICAgPlxcbiAgICAgIDxzdmc6ZyBbYXR0ci50cmFuc2Zvcm1dPVxcXCJ0cmFuc2Zvcm1cXFwiIGNsYXNzPVxcXCJmb3JjZS1kaXJlY3RlZC1ncmFwaCBjaGFydFxcXCI+XFxuICAgICAgICA8c3ZnOmcgY2xhc3M9XFxcImxpbmtzXFxcIj5cXG4gICAgICAgICAgPHN2ZzpnICpuZ0Zvcj1cXFwibGV0IGxpbmsgb2YgbGlua3M7IHRyYWNrQnk6IHRyYWNrTGlua0J5XFxcIj5cXG4gICAgICAgICAgICA8bmctdGVtcGxhdGVcXG4gICAgICAgICAgICAgICpuZ0lmPVxcXCJsaW5rVGVtcGxhdGVcXFwiXFxuICAgICAgICAgICAgICBbbmdUZW1wbGF0ZU91dGxldF09XFxcImxpbmtUZW1wbGF0ZVxcXCJcXG4gICAgICAgICAgICAgIFtuZ1RlbXBsYXRlT3V0bGV0Q29udGV4dF09XFxcInsgJGltcGxpY2l0OiBsaW5rIH1cXFwiXFxuICAgICAgICAgICAgPjwvbmctdGVtcGxhdGU+XFxuICAgICAgICAgICAgPHN2ZzpsaW5lXFxuICAgICAgICAgICAgICAqbmdJZj1cXFwiIWxpbmtUZW1wbGF0ZVxcXCJcXG4gICAgICAgICAgICAgIHN0cm9rZVdpZHRoPVxcXCIxXFxcIlxcbiAgICAgICAgICAgICAgY2xhc3M9XFxcImVkZ2VcXFwiXFxuICAgICAgICAgICAgICBbYXR0ci54MV09XFxcImxpbmsuc291cmNlLnhcXFwiXFxuICAgICAgICAgICAgICBbYXR0ci55MV09XFxcImxpbmsuc291cmNlLnlcXFwiXFxuICAgICAgICAgICAgICBbYXR0ci54Ml09XFxcImxpbmsudGFyZ2V0LnhcXFwiXFxuICAgICAgICAgICAgICBbYXR0ci55Ml09XFxcImxpbmsudGFyZ2V0LnlcXFwiXFxuICAgICAgICAgICAgLz5cXG4gICAgICAgICAgPC9zdmc6Zz5cXG4gICAgICAgIDwvc3ZnOmc+XFxuICAgICAgICA8c3ZnOmcgY2xhc3M9XFxcIm5vZGVzXFxcIj5cXG4gICAgICAgICAgPHN2ZzpnXFxuICAgICAgICAgICAgKm5nRm9yPVxcXCJsZXQgbm9kZSBvZiBub2RlczsgdHJhY2tCeTogdHJhY2tOb2RlQnlcXFwiXFxuICAgICAgICAgICAgW2F0dHIudHJhbnNmb3JtXT1cXFwiJ3RyYW5zbGF0ZSgnICsgbm9kZS54ICsgJywnICsgbm9kZS55ICsgJyknXFxcIlxcbiAgICAgICAgICAgIFthdHRyLmZpbGxdPVxcXCJjb2xvcnMuZ2V0Q29sb3IoZ3JvdXBSZXN1bHRzQnkobm9kZSkpXFxcIlxcbiAgICAgICAgICAgIFthdHRyLnN0cm9rZV09XFxcImNvbG9ycy5nZXRDb2xvcihncm91cFJlc3VsdHNCeShub2RlKSlcXFwiXFxuICAgICAgICAgICAgKG1vdXNlZG93bik9XFxcIm9uRHJhZ1N0YXJ0KG5vZGUsICRldmVudClcXFwiXFxuICAgICAgICAgICAgKGNsaWNrKT1cXFwib25DbGljayh7IG5hbWU6IG5vZGUudmFsdWUgfSlcXFwiXFxuICAgICAgICAgICAgbmd4LXRvb2x0aXBcXG4gICAgICAgICAgICBbdG9vbHRpcERpc2FibGVkXT1cXFwidG9vbHRpcERpc2FibGVkXFxcIlxcbiAgICAgICAgICAgIFt0b29sdGlwUGxhY2VtZW50XT1cXFwiJ3RvcCdcXFwiXFxuICAgICAgICAgICAgW3Rvb2x0aXBUeXBlXT1cXFwiJ3Rvb2x0aXAnXFxcIlxcbiAgICAgICAgICAgIFt0b29sdGlwVGl0bGVdPVxcXCJ0b29sdGlwVGVtcGxhdGUgPyB1bmRlZmluZWQgOiBlc2NhcGUobm9kZS52YWx1ZSlcXFwiXFxuICAgICAgICAgICAgW3Rvb2x0aXBUZW1wbGF0ZV09XFxcInRvb2x0aXBUZW1wbGF0ZVxcXCJcXG4gICAgICAgICAgICBbdG9vbHRpcENvbnRleHRdPVxcXCJub2RlXFxcIlxcbiAgICAgICAgICA+XFxuICAgICAgICAgICAgPG5nLXRlbXBsYXRlXFxuICAgICAgICAgICAgICAqbmdJZj1cXFwibm9kZVRlbXBsYXRlXFxcIlxcbiAgICAgICAgICAgICAgW25nVGVtcGxhdGVPdXRsZXRdPVxcXCJub2RlVGVtcGxhdGVcXFwiXFxuICAgICAgICAgICAgICBbbmdUZW1wbGF0ZU91dGxldENvbnRleHRdPVxcXCJ7ICRpbXBsaWNpdDogbm9kZSB9XFxcIlxcbiAgICAgICAgICAgID48L25nLXRlbXBsYXRlPlxcbiAgICAgICAgICAgIDxzdmc6Y2lyY2xlICpuZ0lmPVxcXCIhbm9kZVRlbXBsYXRlXFxcIiByPVxcXCI1XFxcIiAvPlxcbiAgICAgICAgICA8L3N2ZzpnPlxcbiAgICAgICAgPC9zdmc6Zz5cXG4gICAgICA8L3N2ZzpnPlxcbiAgICA8L25neC1jaGFydHMtY2hhcnQ+XFxuICBcIixcbiAgICAgICAgICAgIHN0eWxlczogW1wiLm5neC1jaGFydHN7ZmxvYXQ6bGVmdDtvdmVyZmxvdzp2aXNpYmxlfS5uZ3gtY2hhcnRzIC5hcmMsLm5neC1jaGFydHMgLmJhciwubmd4LWNoYXJ0cyAuY2lyY2xle2N1cnNvcjpwb2ludGVyfS5uZ3gtY2hhcnRzIC5hcmMuYWN0aXZlLC5uZ3gtY2hhcnRzIC5hcmM6aG92ZXIsLm5neC1jaGFydHMgLmJhci5hY3RpdmUsLm5neC1jaGFydHMgLmJhcjpob3Zlciwubmd4LWNoYXJ0cyAuY2FyZC5hY3RpdmUsLm5neC1jaGFydHMgLmNhcmQ6aG92ZXIsLm5neC1jaGFydHMgLmNlbGwuYWN0aXZlLC5uZ3gtY2hhcnRzIC5jZWxsOmhvdmVye29wYWNpdHk6Ljg7dHJhbnNpdGlvbjpvcGFjaXR5IC4xcyBlYXNlLWluLW91dH0ubmd4LWNoYXJ0cyAuYXJjOmZvY3VzLC5uZ3gtY2hhcnRzIC5iYXI6Zm9jdXMsLm5neC1jaGFydHMgLmNhcmQ6Zm9jdXMsLm5neC1jaGFydHMgLmNlbGw6Zm9jdXN7b3V0bGluZTowfS5uZ3gtY2hhcnRzIC5hcmMuaGlkZGVuLC5uZ3gtY2hhcnRzIC5iYXIuaGlkZGVuLC5uZ3gtY2hhcnRzIC5jYXJkLmhpZGRlbiwubmd4LWNoYXJ0cyAuY2VsbC5oaWRkZW57ZGlzcGxheTpub25lfS5uZ3gtY2hhcnRzIGc6Zm9jdXN7b3V0bGluZTowfS5uZ3gtY2hhcnRzIC5hcmVhLXNlcmllcy5pbmFjdGl2ZSwubmd4LWNoYXJ0cyAubGluZS1zZXJpZXMtcmFuZ2UuaW5hY3RpdmUsLm5neC1jaGFydHMgLmxpbmUtc2VyaWVzLmluYWN0aXZlLC5uZ3gtY2hhcnRzIC5wb2xhci1zZXJpZXMtYXJlYS5pbmFjdGl2ZSwubmd4LWNoYXJ0cyAucG9sYXItc2VyaWVzLXBhdGguaW5hY3RpdmV7dHJhbnNpdGlvbjpvcGFjaXR5IC4xcyBlYXNlLWluLW91dDtvcGFjaXR5Oi4yfS5uZ3gtY2hhcnRzIC5saW5lLWhpZ2hsaWdodHtkaXNwbGF5Om5vbmV9Lm5neC1jaGFydHMgLmxpbmUtaGlnaGxpZ2h0LmFjdGl2ZXtkaXNwbGF5OmJsb2NrfS5uZ3gtY2hhcnRzIC5hcmVhe29wYWNpdHk6LjZ9Lm5neC1jaGFydHMgLmNpcmNsZTpob3ZlcntjdXJzb3I6cG9pbnRlcn0ubmd4LWNoYXJ0cyAubGFiZWx7Zm9udC1zaXplOjEycHg7Zm9udC13ZWlnaHQ6NDAwfS5uZ3gtY2hhcnRzIC50b29sdGlwLWFuY2hvcntmaWxsOiMwMDB9Lm5neC1jaGFydHMgLmdyaWRsaW5lLXBhdGh7c3Ryb2tlOiNkZGQ7c3Ryb2tlLXdpZHRoOjE7ZmlsbDpub25lfS5uZ3gtY2hhcnRzIC5yZWZsaW5lLXBhdGh7c3Ryb2tlOiNhOGIyYzc7c3Ryb2tlLXdpZHRoOjE7c3Ryb2tlLWRhc2hhcnJheTo1O3N0cm9rZS1kYXNob2Zmc2V0OjV9Lm5neC1jaGFydHMgLnJlZmxpbmUtbGFiZWx7Zm9udC1zaXplOjlweH0ubmd4LWNoYXJ0cyAucmVmZXJlbmNlLWFyZWF7ZmlsbC1vcGFjaXR5Oi4wNTtmaWxsOiMwMDB9Lm5neC1jaGFydHMgLmdyaWRsaW5lLXBhdGgtZG90dGVke3N0cm9rZTojZGRkO3N0cm9rZS13aWR0aDoxO2ZpbGw6bm9uZTtzdHJva2UtZGFzaGFycmF5OjEsMjA7c3Ryb2tlLWRhc2hvZmZzZXQ6M30ubmd4LWNoYXJ0cyAuZ3JpZC1wYW5lbCByZWN0e2ZpbGw6bm9uZX0ubmd4LWNoYXJ0cyAuZ3JpZC1wYW5lbC5vZGQgcmVjdHtmaWxsOnJnYmEoMCwwLDAsLjA1KX1cIiwgXCIuZm9yY2UtZGlyZWN0ZWQtZ3JhcGggLmVkZ2V7c3Ryb2tlOiMzMzN9XCJdLFxuICAgICAgICAgICAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZSxcbiAgICAgICAgICAgIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoXG4gICAgICAgIH0pXG4gICAgXSwgRm9yY2VEaXJlY3RlZEdyYXBoQ29tcG9uZW50KTtcbiAgICByZXR1cm4gRm9yY2VEaXJlY3RlZEdyYXBoQ29tcG9uZW50O1xufShCYXNlQ2hhcnRDb21wb25lbnQpKTtcblxudmFyIEZvcmNlRGlyZWN0ZWRHcmFwaE1vZHVsZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBGb3JjZURpcmVjdGVkR3JhcGhNb2R1bGUoKSB7XG4gICAgfVxuICAgIEZvcmNlRGlyZWN0ZWRHcmFwaE1vZHVsZSA9IF9fZGVjb3JhdGUoW1xuICAgICAgICBOZ01vZHVsZSh7XG4gICAgICAgICAgICBpbXBvcnRzOiBbQ2hhcnRDb21tb25Nb2R1bGVdLFxuICAgICAgICAgICAgZGVjbGFyYXRpb25zOiBbXG4gICAgICAgICAgICAgICAgRm9yY2VEaXJlY3RlZEdyYXBoQ29tcG9uZW50LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIGV4cG9ydHM6IFtcbiAgICAgICAgICAgICAgICBGb3JjZURpcmVjdGVkR3JhcGhDb21wb25lbnQsXG4gICAgICAgICAgICBdXG4gICAgICAgIH0pXG4gICAgXSwgRm9yY2VEaXJlY3RlZEdyYXBoTW9kdWxlKTtcbiAgICByZXR1cm4gRm9yY2VEaXJlY3RlZEdyYXBoTW9kdWxlO1xufSgpKTtcblxudmFyIEhlYXRNYXBDZWxsQ29tcG9uZW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEhlYXRNYXBDZWxsQ29tcG9uZW50KGVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5ncmFkaWVudCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmFuaW1hdGlvbnMgPSB0cnVlO1xuICAgICAgICB0aGlzLnNlbGVjdCA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5hY3RpdmF0ZSA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5kZWFjdGl2YXRlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50Lm5hdGl2ZUVsZW1lbnQ7XG4gICAgfVxuICAgIEhlYXRNYXBDZWxsQ29tcG9uZW50LnByb3RvdHlwZS5uZ09uQ2hhbmdlcyA9IGZ1bmN0aW9uIChjaGFuZ2VzKSB7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtID0gXCJ0cmFuc2xhdGUoXCIgKyB0aGlzLnggKyBcIiAsIFwiICsgdGhpcy55ICsgXCIpXCI7XG4gICAgICAgIHRoaXMuc3RhcnRPcGFjaXR5ID0gMC4zO1xuICAgICAgICB0aGlzLmdyYWRpZW50SWQgPSAnZ3JhZCcgKyBpZCgpLnRvU3RyaW5nKCk7XG4gICAgICAgIHRoaXMuZ3JhZGllbnRVcmwgPSBcInVybCgjXCIgKyB0aGlzLmdyYWRpZW50SWQgKyBcIilcIjtcbiAgICAgICAgdGhpcy5ncmFkaWVudFN0b3BzID0gdGhpcy5nZXRHcmFkaWVudFN0b3BzKCk7XG4gICAgICAgIGlmICh0aGlzLmFuaW1hdGlvbnMpIHtcbiAgICAgICAgICAgIHRoaXMubG9hZEFuaW1hdGlvbigpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBIZWF0TWFwQ2VsbENvbXBvbmVudC5wcm90b3R5cGUuZ2V0R3JhZGllbnRTdG9wcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IDAsXG4gICAgICAgICAgICAgICAgY29sb3I6IHRoaXMuZmlsbCxcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiB0aGlzLnN0YXJ0T3BhY2l0eVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IDEwMCxcbiAgICAgICAgICAgICAgICBjb2xvcjogdGhpcy5maWxsLFxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IDFcbiAgICAgICAgICAgIH1cbiAgICAgICAgXTtcbiAgICB9O1xuICAgIEhlYXRNYXBDZWxsQ29tcG9uZW50LnByb3RvdHlwZS5sb2FkQW5pbWF0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbm9kZSA9IHNlbGVjdCh0aGlzLmVsZW1lbnQpLnNlbGVjdCgnLmNlbGwnKTtcbiAgICAgICAgbm9kZS5hdHRyKCdvcGFjaXR5JywgMCk7XG4gICAgICAgIHRoaXMuYW5pbWF0ZVRvQ3VycmVudEZvcm0oKTtcbiAgICB9O1xuICAgIEhlYXRNYXBDZWxsQ29tcG9uZW50LnByb3RvdHlwZS5hbmltYXRlVG9DdXJyZW50Rm9ybSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG5vZGUgPSBzZWxlY3QodGhpcy5lbGVtZW50KS5zZWxlY3QoJy5jZWxsJyk7XG4gICAgICAgIG5vZGVcbiAgICAgICAgICAgIC50cmFuc2l0aW9uKClcbiAgICAgICAgICAgIC5kdXJhdGlvbig3NTApXG4gICAgICAgICAgICAuYXR0cignb3BhY2l0eScsIDEpO1xuICAgIH07XG4gICAgSGVhdE1hcENlbGxDb21wb25lbnQucHJvdG90eXBlLm9uQ2xpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0LmVtaXQodGhpcy5kYXRhKTtcbiAgICB9O1xuICAgIEhlYXRNYXBDZWxsQ29tcG9uZW50LnByb3RvdHlwZS5vbk1vdXNlRW50ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuYWN0aXZhdGUuZW1pdCh0aGlzLmRhdGEpO1xuICAgIH07XG4gICAgSGVhdE1hcENlbGxDb21wb25lbnQucHJvdG90eXBlLm9uTW91c2VMZWF2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5kZWFjdGl2YXRlLmVtaXQodGhpcy5kYXRhKTtcbiAgICB9O1xuICAgIHZhciBfYTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBIZWF0TWFwQ2VsbENvbXBvbmVudC5wcm90b3R5cGUsIFwiZmlsbFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEhlYXRNYXBDZWxsQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ4XCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgSGVhdE1hcENlbGxDb21wb25lbnQucHJvdG90eXBlLCBcInlcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBIZWF0TWFwQ2VsbENvbXBvbmVudC5wcm90b3R5cGUsIFwid2lkdGhcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBIZWF0TWFwQ2VsbENvbXBvbmVudC5wcm90b3R5cGUsIFwiaGVpZ2h0XCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgSGVhdE1hcENlbGxDb21wb25lbnQucHJvdG90eXBlLCBcImRhdGFcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBIZWF0TWFwQ2VsbENvbXBvbmVudC5wcm90b3R5cGUsIFwibGFiZWxcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEJvb2xlYW4pXG4gICAgXSwgSGVhdE1hcENlbGxDb21wb25lbnQucHJvdG90eXBlLCBcImdyYWRpZW50XCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIEhlYXRNYXBDZWxsQ29tcG9uZW50LnByb3RvdHlwZSwgXCJhbmltYXRpb25zXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIE91dHB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEhlYXRNYXBDZWxsQ29tcG9uZW50LnByb3RvdHlwZSwgXCJzZWxlY3RcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgT3V0cHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgSGVhdE1hcENlbGxDb21wb25lbnQucHJvdG90eXBlLCBcImFjdGl2YXRlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIE91dHB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEhlYXRNYXBDZWxsQ29tcG9uZW50LnByb3RvdHlwZSwgXCJkZWFjdGl2YXRlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIEhvc3RMaXN0ZW5lcignbW91c2VlbnRlcicpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgRnVuY3Rpb24pLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW10pLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnJldHVybnR5cGVcIiwgdm9pZCAwKVxuICAgIF0sIEhlYXRNYXBDZWxsQ29tcG9uZW50LnByb3RvdHlwZSwgXCJvbk1vdXNlRW50ZXJcIiwgbnVsbCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIEhvc3RMaXN0ZW5lcignbW91c2VsZWF2ZScpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgRnVuY3Rpb24pLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW10pLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnJldHVybnR5cGVcIiwgdm9pZCAwKVxuICAgIF0sIEhlYXRNYXBDZWxsQ29tcG9uZW50LnByb3RvdHlwZSwgXCJvbk1vdXNlTGVhdmVcIiwgbnVsbCk7XG4gICAgSGVhdE1hcENlbGxDb21wb25lbnQgPSBfX2RlY29yYXRlKFtcbiAgICAgICAgQ29tcG9uZW50KHtcbiAgICAgICAgICAgIHNlbGVjdG9yOiAnZ1tuZ3gtY2hhcnRzLWhlYXQtbWFwLWNlbGxdJyxcbiAgICAgICAgICAgIHRlbXBsYXRlOiBcIlxcbiAgICA8c3ZnOmcgW2F0dHIudHJhbnNmb3JtXT1cXFwidHJhbnNmb3JtXFxcIiBjbGFzcz1cXFwiY2VsbFxcXCI+XFxuICAgICAgPGRlZnMgKm5nSWY9XFxcImdyYWRpZW50XFxcIj5cXG4gICAgICAgIDxzdmc6ZyBuZ3gtY2hhcnRzLXN2Zy1saW5lYXItZ3JhZGllbnQgb3JpZW50YXRpb249XFxcInZlcnRpY2FsXFxcIiBbbmFtZV09XFxcImdyYWRpZW50SWRcXFwiIFtzdG9wc109XFxcImdyYWRpZW50U3RvcHNcXFwiIC8+XFxuICAgICAgPC9kZWZzPlxcbiAgICAgIDxzdmc6cmVjdFxcbiAgICAgICAgW2F0dHIuZmlsbF09XFxcImdyYWRpZW50ID8gZ3JhZGllbnRVcmwgOiBmaWxsXFxcIlxcbiAgICAgICAgcng9XFxcIjNcXFwiXFxuICAgICAgICBbYXR0ci53aWR0aF09XFxcIndpZHRoXFxcIlxcbiAgICAgICAgW2F0dHIuaGVpZ2h0XT1cXFwiaGVpZ2h0XFxcIlxcbiAgICAgICAgY2xhc3M9XFxcImNlbGxcXFwiXFxuICAgICAgICBzdHlsZT1cXFwiY3Vyc29yOiBwb2ludGVyXFxcIlxcbiAgICAgICAgKGNsaWNrKT1cXFwib25DbGljaygpXFxcIlxcbiAgICAgIC8+XFxuICAgIDwvc3ZnOmc+XFxuICBcIixcbiAgICAgICAgICAgIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoXG4gICAgICAgIH0pLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW3R5cGVvZiAoX2EgPSB0eXBlb2YgRWxlbWVudFJlZiAhPT0gXCJ1bmRlZmluZWRcIiAmJiBFbGVtZW50UmVmKSA9PT0gXCJmdW5jdGlvblwiID8gX2EgOiBPYmplY3RdKVxuICAgIF0sIEhlYXRNYXBDZWxsQ29tcG9uZW50KTtcbiAgICByZXR1cm4gSGVhdE1hcENlbGxDb21wb25lbnQ7XG59KCkpO1xuXG52YXIgSGVhdENlbGxTZXJpZXNDb21wb25lbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSGVhdENlbGxTZXJpZXNDb21wb25lbnQoKSB7XG4gICAgICAgIHRoaXMudG9vbHRpcERpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucyA9IHRydWU7XG4gICAgICAgIHRoaXMuc2VsZWN0ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICB0aGlzLmFjdGl2YXRlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICB0aGlzLmRlYWN0aXZhdGUgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgfVxuICAgIEhlYXRDZWxsU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZS5uZ09uSW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnRvb2x0aXBUZXh0KSB7XG4gICAgICAgICAgICB0aGlzLnRvb2x0aXBUZXh0ID0gdGhpcy5nZXRUb29sdGlwVGV4dDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgSGVhdENlbGxTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLm5nT25DaGFuZ2VzID0gZnVuY3Rpb24gKGNoYW5nZXMpIHtcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICB9O1xuICAgIEhlYXRDZWxsU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY2VsbHMgPSB0aGlzLmdldENlbGxzKCk7XG4gICAgfTtcbiAgICBIZWF0Q2VsbFNlcmllc0NvbXBvbmVudC5wcm90b3R5cGUuZ2V0Q2VsbHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBjZWxscyA9IFtdO1xuICAgICAgICB0aGlzLmRhdGEubWFwKGZ1bmN0aW9uIChyb3cpIHtcbiAgICAgICAgICAgIHJvdy5zZXJpZXMubWFwKGZ1bmN0aW9uIChjZWxsKSB7XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gY2VsbC52YWx1ZTtcbiAgICAgICAgICAgICAgICBjZWxsLnNlcmllcyA9IHJvdy5uYW1lO1xuICAgICAgICAgICAgICAgIGNlbGxzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICByb3c6IHJvdyxcbiAgICAgICAgICAgICAgICAgICAgY2VsbDogY2VsbCxcbiAgICAgICAgICAgICAgICAgICAgeDogX3RoaXMueFNjYWxlKHJvdy5uYW1lKSxcbiAgICAgICAgICAgICAgICAgICAgeTogX3RoaXMueVNjYWxlKGNlbGwubmFtZSksXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiBfdGhpcy54U2NhbGUuYmFuZHdpZHRoKCksXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogX3RoaXMueVNjYWxlLmJhbmR3aWR0aCgpLFxuICAgICAgICAgICAgICAgICAgICBmaWxsOiBfdGhpcy5jb2xvcnMuZ2V0Q29sb3IodmFsdWUpLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IGZvcm1hdExhYmVsKGNlbGwubmFtZSksXG4gICAgICAgICAgICAgICAgICAgIHNlcmllczogcm93Lm5hbWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGNlbGxzO1xuICAgIH07XG4gICAgSGVhdENlbGxTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLmdldFRvb2x0aXBUZXh0ID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciBsYWJlbCA9IF9hLmxhYmVsLCBkYXRhID0gX2EuZGF0YSwgc2VyaWVzID0gX2Euc2VyaWVzO1xuICAgICAgICByZXR1cm4gXCJcXG4gICAgICA8c3BhbiBjbGFzcz1cXFwidG9vbHRpcC1sYWJlbFxcXCI+XCIgKyBlc2NhcGVMYWJlbChzZXJpZXMpICsgXCIgXFx1MjAyMiBcIiArIGVzY2FwZUxhYmVsKGxhYmVsKSArIFwiPC9zcGFuPlxcbiAgICAgIDxzcGFuIGNsYXNzPVxcXCJ0b29sdGlwLXZhbFxcXCI+XCIgKyBkYXRhLnRvTG9jYWxlU3RyaW5nKCkgKyBcIjwvc3Bhbj5cXG4gICAgXCI7XG4gICAgfTtcbiAgICBIZWF0Q2VsbFNlcmllc0NvbXBvbmVudC5wcm90b3R5cGUudHJhY2tCeSA9IGZ1bmN0aW9uIChpbmRleCwgaXRlbSkge1xuICAgICAgICByZXR1cm4gaXRlbS50b29sdGlwVGV4dDtcbiAgICB9O1xuICAgIEhlYXRDZWxsU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZS5vbkNsaWNrID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdGhpcy5zZWxlY3QuZW1pdChkYXRhKTtcbiAgICB9O1xuICAgIHZhciBfYSwgX2IsIF9jO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEhlYXRDZWxsU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJkYXRhXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgSGVhdENlbGxTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLCBcImNvbG9yc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEhlYXRDZWxsU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ4U2NhbGVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBIZWF0Q2VsbFNlcmllc0NvbXBvbmVudC5wcm90b3R5cGUsIFwieVNjYWxlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIEhlYXRDZWxsU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJncmFkaWVudFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbiAgICBdLCBIZWF0Q2VsbFNlcmllc0NvbXBvbmVudC5wcm90b3R5cGUsIFwidG9vbHRpcERpc2FibGVkXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgSGVhdENlbGxTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLCBcInRvb2x0aXBUZXh0XCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCB0eXBlb2YgKF9hID0gdHlwZW9mIFRlbXBsYXRlUmVmICE9PSBcInVuZGVmaW5lZFwiICYmIFRlbXBsYXRlUmVmKSA9PT0gXCJmdW5jdGlvblwiID8gX2EgOiBPYmplY3QpXG4gICAgXSwgSGVhdENlbGxTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLCBcInRvb2x0aXBUZW1wbGF0ZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbiAgICBdLCBIZWF0Q2VsbFNlcmllc0NvbXBvbmVudC5wcm90b3R5cGUsIFwiYW5pbWF0aW9uc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBPdXRwdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBIZWF0Q2VsbFNlcmllc0NvbXBvbmVudC5wcm90b3R5cGUsIFwic2VsZWN0XCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIE91dHB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgdHlwZW9mIChfYiA9IHR5cGVvZiBFdmVudEVtaXR0ZXIgIT09IFwidW5kZWZpbmVkXCIgJiYgRXZlbnRFbWl0dGVyKSA9PT0gXCJmdW5jdGlvblwiID8gX2IgOiBPYmplY3QpXG4gICAgXSwgSGVhdENlbGxTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLCBcImFjdGl2YXRlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIE91dHB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgdHlwZW9mIChfYyA9IHR5cGVvZiBFdmVudEVtaXR0ZXIgIT09IFwidW5kZWZpbmVkXCIgJiYgRXZlbnRFbWl0dGVyKSA9PT0gXCJmdW5jdGlvblwiID8gX2MgOiBPYmplY3QpXG4gICAgXSwgSGVhdENlbGxTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLCBcImRlYWN0aXZhdGVcIiwgdm9pZCAwKTtcbiAgICBIZWF0Q2VsbFNlcmllc0NvbXBvbmVudCA9IF9fZGVjb3JhdGUoW1xuICAgICAgICBDb21wb25lbnQoe1xuICAgICAgICAgICAgc2VsZWN0b3I6ICdnW25neC1jaGFydHMtaGVhdC1tYXAtY2VsbC1zZXJpZXNdJyxcbiAgICAgICAgICAgIHRlbXBsYXRlOiBcIlxcbiAgICA8c3ZnOmdcXG4gICAgICBuZ3gtY2hhcnRzLWhlYXQtbWFwLWNlbGxcXG4gICAgICAqbmdGb3I9XFxcImxldCBjIG9mIGNlbGxzOyB0cmFja0J5OiB0cmFja0J5XFxcIlxcbiAgICAgIFt4XT1cXFwiYy54XFxcIlxcbiAgICAgIFt5XT1cXFwiYy55XFxcIlxcbiAgICAgIFt3aWR0aF09XFxcImMud2lkdGhcXFwiXFxuICAgICAgW2hlaWdodF09XFxcImMuaGVpZ2h0XFxcIlxcbiAgICAgIFtmaWxsXT1cXFwiYy5maWxsXFxcIlxcbiAgICAgIFtkYXRhXT1cXFwiYy5kYXRhXFxcIlxcbiAgICAgIChzZWxlY3QpPVxcXCJvbkNsaWNrKGMuY2VsbClcXFwiXFxuICAgICAgKGFjdGl2YXRlKT1cXFwiYWN0aXZhdGUuZW1pdChjLmNlbGwpXFxcIlxcbiAgICAgIChkZWFjdGl2YXRlKT1cXFwiZGVhY3RpdmF0ZS5lbWl0KGMuY2VsbClcXFwiXFxuICAgICAgW2dyYWRpZW50XT1cXFwiZ3JhZGllbnRcXFwiXFxuICAgICAgW2FuaW1hdGlvbnNdPVxcXCJhbmltYXRpb25zXFxcIlxcbiAgICAgIG5neC10b29sdGlwXFxuICAgICAgW3Rvb2x0aXBEaXNhYmxlZF09XFxcInRvb2x0aXBEaXNhYmxlZFxcXCJcXG4gICAgICBbdG9vbHRpcFBsYWNlbWVudF09XFxcIid0b3AnXFxcIlxcbiAgICAgIFt0b29sdGlwVHlwZV09XFxcIid0b29sdGlwJ1xcXCJcXG4gICAgICBbdG9vbHRpcFRpdGxlXT1cXFwidG9vbHRpcFRlbXBsYXRlID8gdW5kZWZpbmVkIDogdG9vbHRpcFRleHQoYylcXFwiXFxuICAgICAgW3Rvb2x0aXBUZW1wbGF0ZV09XFxcInRvb2x0aXBUZW1wbGF0ZVxcXCJcXG4gICAgICBbdG9vbHRpcENvbnRleHRdPVxcXCJ7IHNlcmllczogYy5zZXJpZXMsIG5hbWU6IGMubGFiZWwsIHZhbHVlOiBjLmRhdGEgfVxcXCJcXG4gICAgPjwvc3ZnOmc+XFxuICBcIixcbiAgICAgICAgICAgIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoXG4gICAgICAgIH0pXG4gICAgXSwgSGVhdENlbGxTZXJpZXNDb21wb25lbnQpO1xuICAgIHJldHVybiBIZWF0Q2VsbFNlcmllc0NvbXBvbmVudDtcbn0oKSk7XG5cbnZhciBIZWF0TWFwQ29tcG9uZW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhIZWF0TWFwQ29tcG9uZW50LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEhlYXRNYXBDb21wb25lbnQoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5sZWdlbmRUaXRsZSA9ICdMZWdlbmQnO1xuICAgICAgICBfdGhpcy5sZWdlbmRQb3NpdGlvbiA9ICdyaWdodCc7XG4gICAgICAgIF90aGlzLmlubmVyUGFkZGluZyA9IDg7XG4gICAgICAgIF90aGlzLnRyaW1YQXhpc1RpY2tzID0gdHJ1ZTtcbiAgICAgICAgX3RoaXMudHJpbVlBeGlzVGlja3MgPSB0cnVlO1xuICAgICAgICBfdGhpcy5yb3RhdGVYQXhpc1RpY2tzID0gdHJ1ZTtcbiAgICAgICAgX3RoaXMubWF4WEF4aXNUaWNrTGVuZ3RoID0gMTY7XG4gICAgICAgIF90aGlzLm1heFlBeGlzVGlja0xlbmd0aCA9IDE2O1xuICAgICAgICBfdGhpcy50b29sdGlwRGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuYWN0aXZlRW50cmllcyA9IFtdO1xuICAgICAgICBfdGhpcy5hY3RpdmF0ZSA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICAgICAgX3RoaXMuZGVhY3RpdmF0ZSA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICAgICAgX3RoaXMubWFyZ2luID0gWzEwLCAyMCwgMTAsIDIwXTtcbiAgICAgICAgX3RoaXMueEF4aXNIZWlnaHQgPSAwO1xuICAgICAgICBfdGhpcy55QXhpc1dpZHRoID0gMDtcbiAgICAgICAgX3RoaXMuc2NhbGVUeXBlID0gJ2xpbmVhcic7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgSGVhdE1hcENvbXBvbmVudC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLnVwZGF0ZS5jYWxsKHRoaXMpO1xuICAgICAgICB0aGlzLmZvcm1hdERhdGVzKCk7XG4gICAgICAgIHRoaXMueERvbWFpbiA9IHRoaXMuZ2V0WERvbWFpbigpO1xuICAgICAgICB0aGlzLnlEb21haW4gPSB0aGlzLmdldFlEb21haW4oKTtcbiAgICAgICAgdGhpcy52YWx1ZURvbWFpbiA9IHRoaXMuZ2V0VmFsdWVEb21haW4oKTtcbiAgICAgICAgdGhpcy5zY2FsZVR5cGUgPSBnZXRTY2FsZVR5cGUodGhpcy52YWx1ZURvbWFpbiwgZmFsc2UpO1xuICAgICAgICB0aGlzLmRpbXMgPSBjYWxjdWxhdGVWaWV3RGltZW5zaW9ucyh7XG4gICAgICAgICAgICB3aWR0aDogdGhpcy53aWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogdGhpcy5oZWlnaHQsXG4gICAgICAgICAgICBtYXJnaW5zOiB0aGlzLm1hcmdpbixcbiAgICAgICAgICAgIHNob3dYQXhpczogdGhpcy54QXhpcyxcbiAgICAgICAgICAgIHNob3dZQXhpczogdGhpcy55QXhpcyxcbiAgICAgICAgICAgIHhBeGlzSGVpZ2h0OiB0aGlzLnhBeGlzSGVpZ2h0LFxuICAgICAgICAgICAgeUF4aXNXaWR0aDogdGhpcy55QXhpc1dpZHRoLFxuICAgICAgICAgICAgc2hvd1hMYWJlbDogdGhpcy5zaG93WEF4aXNMYWJlbCxcbiAgICAgICAgICAgIHNob3dZTGFiZWw6IHRoaXMuc2hvd1lBeGlzTGFiZWwsXG4gICAgICAgICAgICBzaG93TGVnZW5kOiB0aGlzLmxlZ2VuZCxcbiAgICAgICAgICAgIGxlZ2VuZFR5cGU6IHRoaXMuc2NhbGVUeXBlLFxuICAgICAgICAgICAgbGVnZW5kUG9zaXRpb246IHRoaXMubGVnZW5kUG9zaXRpb25cbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh0aGlzLnNjYWxlVHlwZSA9PT0gJ2xpbmVhcicpIHtcbiAgICAgICAgICAgIHZhciBtaW4kJDEgPSB0aGlzLm1pbjtcbiAgICAgICAgICAgIHZhciBtYXgkJDEgPSB0aGlzLm1heDtcbiAgICAgICAgICAgIGlmICghdGhpcy5taW4pIHtcbiAgICAgICAgICAgICAgICBtaW4kJDEgPSBNYXRoLm1pbi5hcHBseShNYXRoLCBbMF0uY29uY2F0KHRoaXMudmFsdWVEb21haW4pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGhpcy5tYXgpIHtcbiAgICAgICAgICAgICAgICBtYXgkJDEgPSBNYXRoLm1heC5hcHBseShNYXRoLCB0aGlzLnZhbHVlRG9tYWluKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudmFsdWVEb21haW4gPSBbbWluJCQxLCBtYXgkJDFdO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMueFNjYWxlID0gdGhpcy5nZXRYU2NhbGUoKTtcbiAgICAgICAgdGhpcy55U2NhbGUgPSB0aGlzLmdldFlTY2FsZSgpO1xuICAgICAgICB0aGlzLnNldENvbG9ycygpO1xuICAgICAgICB0aGlzLmxlZ2VuZE9wdGlvbnMgPSB0aGlzLmdldExlZ2VuZE9wdGlvbnMoKTtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0gPSBcInRyYW5zbGF0ZShcIiArIHRoaXMuZGltcy54T2Zmc2V0ICsgXCIgLCBcIiArIHRoaXMubWFyZ2luWzBdICsgXCIpXCI7XG4gICAgICAgIHRoaXMucmVjdHMgPSB0aGlzLmdldFJlY3RzKCk7XG4gICAgfTtcbiAgICBIZWF0TWFwQ29tcG9uZW50LnByb3RvdHlwZS5nZXRYRG9tYWluID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZG9tYWluID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSB0aGlzLnJlc3VsdHM7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgZ3JvdXAgPSBfYVtfaV07XG4gICAgICAgICAgICBpZiAoIWRvbWFpbi5pbmNsdWRlcyhncm91cC5uYW1lKSkge1xuICAgICAgICAgICAgICAgIGRvbWFpbi5wdXNoKGdyb3VwLm5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkb21haW47XG4gICAgfTtcbiAgICBIZWF0TWFwQ29tcG9uZW50LnByb3RvdHlwZS5nZXRZRG9tYWluID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZG9tYWluID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSB0aGlzLnJlc3VsdHM7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgZ3JvdXAgPSBfYVtfaV07XG4gICAgICAgICAgICBmb3IgKHZhciBfYiA9IDAsIF9jID0gZ3JvdXAuc2VyaWVzOyBfYiA8IF9jLmxlbmd0aDsgX2IrKykge1xuICAgICAgICAgICAgICAgIHZhciBkID0gX2NbX2JdO1xuICAgICAgICAgICAgICAgIGlmICghZG9tYWluLmluY2x1ZGVzKGQubmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZG9tYWluLnB1c2goZC5uYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRvbWFpbjtcbiAgICB9O1xuICAgIEhlYXRNYXBDb21wb25lbnQucHJvdG90eXBlLmdldFZhbHVlRG9tYWluID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZG9tYWluID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSB0aGlzLnJlc3VsdHM7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgZ3JvdXAgPSBfYVtfaV07XG4gICAgICAgICAgICBmb3IgKHZhciBfYiA9IDAsIF9jID0gZ3JvdXAuc2VyaWVzOyBfYiA8IF9jLmxlbmd0aDsgX2IrKykge1xuICAgICAgICAgICAgICAgIHZhciBkID0gX2NbX2JdO1xuICAgICAgICAgICAgICAgIGlmICghZG9tYWluLmluY2x1ZGVzKGQudmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGRvbWFpbi5wdXNoKGQudmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZG9tYWluO1xuICAgIH07XG4gICAgSGVhdE1hcENvbXBvbmVudC5wcm90b3R5cGUuZ2V0RGltZW5zaW9uID0gZnVuY3Rpb24gKHZhbHVlLCBpbmRleCwgTiwgTCkge1xuICAgICAgICBpZiAoaW5kZXggPT09IHZvaWQgMCkgeyBpbmRleCA9IDA7IH1cbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWVcbiAgICAgICAgICAgICAgICAucmVwbGFjZSgnWycsICcnKVxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKCddJywgJycpXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoJ3B4JywgJycpXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoJ1xcJycsICcnKTtcbiAgICAgICAgICAgIGlmICh2YWx1ZS5pbmNsdWRlcygnLCcpKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5zcGxpdCgnLCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSAmJiB0eXBlb2YgaW5kZXggPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXREaW1lbnNpb24odmFsdWVbaW5kZXhdLCBudWxsLCBOLCBMKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyAmJiB2YWx1ZS5pbmNsdWRlcygnJScpKSB7XG4gICAgICAgICAgICByZXR1cm4gK3ZhbHVlLnJlcGxhY2UoJyUnLCAnJykgLyAxMDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE4gLyAoTCAvICt2YWx1ZSArIDEpO1xuICAgIH07XG4gICAgSGVhdE1hcENvbXBvbmVudC5wcm90b3R5cGUuZ2V0WFNjYWxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZiA9IHRoaXMuZ2V0RGltZW5zaW9uKHRoaXMuaW5uZXJQYWRkaW5nLCAwLCB0aGlzLnhEb21haW4ubGVuZ3RoLCB0aGlzLmRpbXMud2lkdGgpO1xuICAgICAgICByZXR1cm4gc2NhbGVCYW5kKClcbiAgICAgICAgICAgIC5yYW5nZVJvdW5kKFswLCB0aGlzLmRpbXMud2lkdGhdKVxuICAgICAgICAgICAgLmRvbWFpbih0aGlzLnhEb21haW4pXG4gICAgICAgICAgICAucGFkZGluZ0lubmVyKGYpO1xuICAgIH07XG4gICAgSGVhdE1hcENvbXBvbmVudC5wcm90b3R5cGUuZ2V0WVNjYWxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZiA9IHRoaXMuZ2V0RGltZW5zaW9uKHRoaXMuaW5uZXJQYWRkaW5nLCAxLCB0aGlzLnlEb21haW4ubGVuZ3RoLCB0aGlzLmRpbXMuaGVpZ2h0KTtcbiAgICAgICAgcmV0dXJuIHNjYWxlQmFuZCgpXG4gICAgICAgICAgICAucmFuZ2VSb3VuZChbdGhpcy5kaW1zLmhlaWdodCwgMF0pXG4gICAgICAgICAgICAuZG9tYWluKHRoaXMueURvbWFpbilcbiAgICAgICAgICAgIC5wYWRkaW5nSW5uZXIoZik7XG4gICAgfTtcbiAgICBIZWF0TWFwQ29tcG9uZW50LnByb3RvdHlwZS5nZXRSZWN0cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHJlY3RzID0gW107XG4gICAgICAgIHRoaXMueERvbWFpbi5tYXAoZnVuY3Rpb24gKHhWYWwpIHtcbiAgICAgICAgICAgIF90aGlzLnlEb21haW4ubWFwKGZ1bmN0aW9uICh5VmFsKSB7XG4gICAgICAgICAgICAgICAgcmVjdHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHg6IF90aGlzLnhTY2FsZSh4VmFsKSxcbiAgICAgICAgICAgICAgICAgICAgeTogX3RoaXMueVNjYWxlKHlWYWwpLFxuICAgICAgICAgICAgICAgICAgICByeDogMyxcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IF90aGlzLnhTY2FsZS5iYW5kd2lkdGgoKSxcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBfdGhpcy55U2NhbGUuYmFuZHdpZHRoKCksXG4gICAgICAgICAgICAgICAgICAgIGZpbGw6ICdyZ2JhKDIwMCwyMDAsMjAwLDAuMDMpJ1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcmVjdHM7XG4gICAgfTtcbiAgICBIZWF0TWFwQ29tcG9uZW50LnByb3RvdHlwZS5vbkNsaWNrID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdGhpcy5zZWxlY3QuZW1pdChkYXRhKTtcbiAgICB9O1xuICAgIEhlYXRNYXBDb21wb25lbnQucHJvdG90eXBlLnNldENvbG9ycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jb2xvcnMgPSBuZXcgQ29sb3JIZWxwZXIodGhpcy5zY2hlbWUsIHRoaXMuc2NhbGVUeXBlLCB0aGlzLnZhbHVlRG9tYWluKTtcbiAgICB9O1xuICAgIEhlYXRNYXBDb21wb25lbnQucHJvdG90eXBlLmdldExlZ2VuZE9wdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzY2FsZVR5cGU6IHRoaXMuc2NhbGVUeXBlLFxuICAgICAgICAgICAgZG9tYWluOiB0aGlzLnZhbHVlRG9tYWluLFxuICAgICAgICAgICAgY29sb3JzOiB0aGlzLnNjYWxlVHlwZSA9PT0gJ29yZGluYWwnID8gdGhpcy5jb2xvcnMgOiB0aGlzLmNvbG9ycy5zY2FsZSxcbiAgICAgICAgICAgIHRpdGxlOiB0aGlzLnNjYWxlVHlwZSA9PT0gJ29yZGluYWwnID8gdGhpcy5sZWdlbmRUaXRsZSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHBvc2l0aW9uOiB0aGlzLmxlZ2VuZFBvc2l0aW9uXG4gICAgICAgIH07XG4gICAgfTtcbiAgICBIZWF0TWFwQ29tcG9uZW50LnByb3RvdHlwZS51cGRhdGVZQXhpc1dpZHRoID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciB3aWR0aCA9IF9hLndpZHRoO1xuICAgICAgICB0aGlzLnlBeGlzV2lkdGggPSB3aWR0aDtcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICB9O1xuICAgIEhlYXRNYXBDb21wb25lbnQucHJvdG90eXBlLnVwZGF0ZVhBeGlzSGVpZ2h0ID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciBoZWlnaHQgPSBfYS5oZWlnaHQ7XG4gICAgICAgIHRoaXMueEF4aXNIZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfTtcbiAgICBIZWF0TWFwQ29tcG9uZW50LnByb3RvdHlwZS5vbkFjdGl2YXRlID0gZnVuY3Rpb24gKGV2ZW50JCQxLCBncm91cCwgZnJvbUxlZ2VuZCkge1xuICAgICAgICBpZiAoZnJvbUxlZ2VuZCA9PT0gdm9pZCAwKSB7IGZyb21MZWdlbmQgPSBmYWxzZTsgfVxuICAgICAgICB2YXIgaXRlbSA9IE9iamVjdC5hc3NpZ24oe30sIGV2ZW50JCQxKTtcbiAgICAgICAgaWYgKGdyb3VwKSB7XG4gICAgICAgICAgICBpdGVtLnNlcmllcyA9IGdyb3VwLm5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGl0ZW1zID0gdGhpcy5yZXN1bHRzXG4gICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChnKSB7IHJldHVybiBnLnNlcmllczsgfSlcbiAgICAgICAgICAgIC5mbGF0KClcbiAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgIGlmIChmcm9tTGVnZW5kKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGkubGFiZWwgPT09IGl0ZW0ubmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBpLm5hbWUgPT09IGl0ZW0ubmFtZSAmJiBpLnNlcmllcyA9PT0gaXRlbS5zZXJpZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmFjdGl2ZUVudHJpZXMgPSBpdGVtcy5zbGljZSgpO1xuICAgICAgICB0aGlzLmFjdGl2YXRlLmVtaXQoeyB2YWx1ZTogaXRlbSwgZW50cmllczogdGhpcy5hY3RpdmVFbnRyaWVzIH0pO1xuICAgIH07XG4gICAgSGVhdE1hcENvbXBvbmVudC5wcm90b3R5cGUub25EZWFjdGl2YXRlID0gZnVuY3Rpb24gKGV2ZW50JCQxLCBncm91cCwgZnJvbUxlZ2VuZCkge1xuICAgICAgICBpZiAoZnJvbUxlZ2VuZCA9PT0gdm9pZCAwKSB7IGZyb21MZWdlbmQgPSBmYWxzZTsgfVxuICAgICAgICB2YXIgaXRlbSA9IE9iamVjdC5hc3NpZ24oe30sIGV2ZW50JCQxKTtcbiAgICAgICAgaWYgKGdyb3VwKSB7XG4gICAgICAgICAgICBpdGVtLnNlcmllcyA9IGdyb3VwLm5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hY3RpdmVFbnRyaWVzID0gdGhpcy5hY3RpdmVFbnRyaWVzLmZpbHRlcihmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgaWYgKGZyb21MZWdlbmQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaS5sYWJlbCAhPT0gaXRlbS5uYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICEoaS5uYW1lID09PSBpdGVtLm5hbWUgJiYgaS5zZXJpZXMgPT09IGl0ZW0uc2VyaWVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZGVhY3RpdmF0ZS5lbWl0KHsgdmFsdWU6IGl0ZW0sIGVudHJpZXM6IHRoaXMuYWN0aXZlRW50cmllcyB9KTtcbiAgICB9O1xuICAgIHZhciBfYSwgX2IsIF9jO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEhlYXRNYXBDb21wb25lbnQucHJvdG90eXBlLCBcImxlZ2VuZFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgU3RyaW5nKVxuICAgIF0sIEhlYXRNYXBDb21wb25lbnQucHJvdG90eXBlLCBcImxlZ2VuZFRpdGxlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBTdHJpbmcpXG4gICAgXSwgSGVhdE1hcENvbXBvbmVudC5wcm90b3R5cGUsIFwibGVnZW5kUG9zaXRpb25cIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBIZWF0TWFwQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ4QXhpc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEhlYXRNYXBDb21wb25lbnQucHJvdG90eXBlLCBcInlBeGlzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgSGVhdE1hcENvbXBvbmVudC5wcm90b3R5cGUsIFwic2hvd1hBeGlzTGFiZWxcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBIZWF0TWFwQ29tcG9uZW50LnByb3RvdHlwZSwgXCJzaG93WUF4aXNMYWJlbFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEhlYXRNYXBDb21wb25lbnQucHJvdG90eXBlLCBcInhBeGlzTGFiZWxcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBIZWF0TWFwQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ5QXhpc0xhYmVsXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIEhlYXRNYXBDb21wb25lbnQucHJvdG90eXBlLCBcImdyYWRpZW50XCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgSGVhdE1hcENvbXBvbmVudC5wcm90b3R5cGUsIFwiaW5uZXJQYWRkaW5nXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIEhlYXRNYXBDb21wb25lbnQucHJvdG90eXBlLCBcInRyaW1YQXhpc1RpY2tzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIEhlYXRNYXBDb21wb25lbnQucHJvdG90eXBlLCBcInRyaW1ZQXhpc1RpY2tzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIEhlYXRNYXBDb21wb25lbnQucHJvdG90eXBlLCBcInJvdGF0ZVhBeGlzVGlja3NcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE51bWJlcilcbiAgICBdLCBIZWF0TWFwQ29tcG9uZW50LnByb3RvdHlwZSwgXCJtYXhYQXhpc1RpY2tMZW5ndGhcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE51bWJlcilcbiAgICBdLCBIZWF0TWFwQ29tcG9uZW50LnByb3RvdHlwZSwgXCJtYXhZQXhpc1RpY2tMZW5ndGhcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBIZWF0TWFwQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ4QXhpc1RpY2tGb3JtYXR0aW5nXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgSGVhdE1hcENvbXBvbmVudC5wcm90b3R5cGUsIFwieUF4aXNUaWNrRm9ybWF0dGluZ1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQXJyYXkpXG4gICAgXSwgSGVhdE1hcENvbXBvbmVudC5wcm90b3R5cGUsIFwieEF4aXNUaWNrc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQXJyYXkpXG4gICAgXSwgSGVhdE1hcENvbXBvbmVudC5wcm90b3R5cGUsIFwieUF4aXNUaWNrc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbiAgICBdLCBIZWF0TWFwQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ0b29sdGlwRGlzYWJsZWRcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBIZWF0TWFwQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ0b29sdGlwVGV4dFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEhlYXRNYXBDb21wb25lbnQucHJvdG90eXBlLCBcIm1pblwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEhlYXRNYXBDb21wb25lbnQucHJvdG90eXBlLCBcIm1heFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQXJyYXkpXG4gICAgXSwgSGVhdE1hcENvbXBvbmVudC5wcm90b3R5cGUsIFwiYWN0aXZlRW50cmllc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBPdXRwdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIHR5cGVvZiAoX2EgPSB0eXBlb2YgRXZlbnRFbWl0dGVyICE9PSBcInVuZGVmaW5lZFwiICYmIEV2ZW50RW1pdHRlcikgPT09IFwiZnVuY3Rpb25cIiA/IF9hIDogT2JqZWN0KVxuICAgIF0sIEhlYXRNYXBDb21wb25lbnQucHJvdG90eXBlLCBcImFjdGl2YXRlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIE91dHB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgdHlwZW9mIChfYiA9IHR5cGVvZiBFdmVudEVtaXR0ZXIgIT09IFwidW5kZWZpbmVkXCIgJiYgRXZlbnRFbWl0dGVyKSA9PT0gXCJmdW5jdGlvblwiID8gX2IgOiBPYmplY3QpXG4gICAgXSwgSGVhdE1hcENvbXBvbmVudC5wcm90b3R5cGUsIFwiZGVhY3RpdmF0ZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBDb250ZW50Q2hpbGQoJ3Rvb2x0aXBUZW1wbGF0ZScsIHsgc3RhdGljOiBmYWxzZSB9KSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIHR5cGVvZiAoX2MgPSB0eXBlb2YgVGVtcGxhdGVSZWYgIT09IFwidW5kZWZpbmVkXCIgJiYgVGVtcGxhdGVSZWYpID09PSBcImZ1bmN0aW9uXCIgPyBfYyA6IE9iamVjdClcbiAgICBdLCBIZWF0TWFwQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ0b29sdGlwVGVtcGxhdGVcIiwgdm9pZCAwKTtcbiAgICBIZWF0TWFwQ29tcG9uZW50ID0gX19kZWNvcmF0ZShbXG4gICAgICAgIENvbXBvbmVudCh7XG4gICAgICAgICAgICBzZWxlY3RvcjogJ25neC1jaGFydHMtaGVhdC1tYXAnLFxuICAgICAgICAgICAgdGVtcGxhdGU6IFwiXFxuICAgIDxuZ3gtY2hhcnRzLWNoYXJ0XFxuICAgICAgW3ZpZXddPVxcXCJbd2lkdGgsIGhlaWdodF1cXFwiXFxuICAgICAgW3Nob3dMZWdlbmRdPVxcXCJsZWdlbmRcXFwiXFxuICAgICAgW2FuaW1hdGlvbnNdPVxcXCJhbmltYXRpb25zXFxcIlxcbiAgICAgIFtsZWdlbmRPcHRpb25zXT1cXFwibGVnZW5kT3B0aW9uc1xcXCJcXG4gICAgICAobGVnZW5kTGFiZWxDbGljayk9XFxcIm9uQ2xpY2soJGV2ZW50KVxcXCJcXG4gICAgPlxcbiAgICAgIDxzdmc6ZyBbYXR0ci50cmFuc2Zvcm1dPVxcXCJ0cmFuc2Zvcm1cXFwiIGNsYXNzPVxcXCJoZWF0LW1hcCBjaGFydFxcXCI+XFxuICAgICAgICA8c3ZnOmdcXG4gICAgICAgICAgbmd4LWNoYXJ0cy14LWF4aXNcXG4gICAgICAgICAgKm5nSWY9XFxcInhBeGlzXFxcIlxcbiAgICAgICAgICBbeFNjYWxlXT1cXFwieFNjYWxlXFxcIlxcbiAgICAgICAgICBbZGltc109XFxcImRpbXNcXFwiXFxuICAgICAgICAgIFtzaG93TGFiZWxdPVxcXCJzaG93WEF4aXNMYWJlbFxcXCJcXG4gICAgICAgICAgW2xhYmVsVGV4dF09XFxcInhBeGlzTGFiZWxcXFwiXFxuICAgICAgICAgIFt0cmltVGlja3NdPVxcXCJ0cmltWEF4aXNUaWNrc1xcXCJcXG4gICAgICAgICAgW3JvdGF0ZVRpY2tzXT1cXFwicm90YXRlWEF4aXNUaWNrc1xcXCJcXG4gICAgICAgICAgW21heFRpY2tMZW5ndGhdPVxcXCJtYXhYQXhpc1RpY2tMZW5ndGhcXFwiXFxuICAgICAgICAgIFt0aWNrRm9ybWF0dGluZ109XFxcInhBeGlzVGlja0Zvcm1hdHRpbmdcXFwiXFxuICAgICAgICAgIFt0aWNrc109XFxcInhBeGlzVGlja3NcXFwiXFxuICAgICAgICAgIChkaW1lbnNpb25zQ2hhbmdlZCk9XFxcInVwZGF0ZVhBeGlzSGVpZ2h0KCRldmVudClcXFwiXFxuICAgICAgICA+PC9zdmc6Zz5cXG4gICAgICAgIDxzdmc6Z1xcbiAgICAgICAgICBuZ3gtY2hhcnRzLXktYXhpc1xcbiAgICAgICAgICAqbmdJZj1cXFwieUF4aXNcXFwiXFxuICAgICAgICAgIFt5U2NhbGVdPVxcXCJ5U2NhbGVcXFwiXFxuICAgICAgICAgIFtkaW1zXT1cXFwiZGltc1xcXCJcXG4gICAgICAgICAgW3Nob3dMYWJlbF09XFxcInNob3dZQXhpc0xhYmVsXFxcIlxcbiAgICAgICAgICBbbGFiZWxUZXh0XT1cXFwieUF4aXNMYWJlbFxcXCJcXG4gICAgICAgICAgW3RyaW1UaWNrc109XFxcInRyaW1ZQXhpc1RpY2tzXFxcIlxcbiAgICAgICAgICBbbWF4VGlja0xlbmd0aF09XFxcIm1heFlBeGlzVGlja0xlbmd0aFxcXCJcXG4gICAgICAgICAgW3RpY2tGb3JtYXR0aW5nXT1cXFwieUF4aXNUaWNrRm9ybWF0dGluZ1xcXCJcXG4gICAgICAgICAgW3RpY2tzXT1cXFwieUF4aXNUaWNrc1xcXCJcXG4gICAgICAgICAgKGRpbWVuc2lvbnNDaGFuZ2VkKT1cXFwidXBkYXRlWUF4aXNXaWR0aCgkZXZlbnQpXFxcIlxcbiAgICAgICAgPjwvc3ZnOmc+XFxuICAgICAgICA8c3ZnOnJlY3RcXG4gICAgICAgICAgKm5nRm9yPVxcXCJsZXQgcmVjdCBvZiByZWN0c1xcXCJcXG4gICAgICAgICAgW2F0dHIueF09XFxcInJlY3QueFxcXCJcXG4gICAgICAgICAgW2F0dHIueV09XFxcInJlY3QueVxcXCJcXG4gICAgICAgICAgW2F0dHIucnhdPVxcXCJyZWN0LnJ4XFxcIlxcbiAgICAgICAgICBbYXR0ci53aWR0aF09XFxcInJlY3Qud2lkdGhcXFwiXFxuICAgICAgICAgIFthdHRyLmhlaWdodF09XFxcInJlY3QuaGVpZ2h0XFxcIlxcbiAgICAgICAgICBbYXR0ci5maWxsXT1cXFwicmVjdC5maWxsXFxcIlxcbiAgICAgICAgLz5cXG4gICAgICAgIDxzdmc6Z1xcbiAgICAgICAgICBuZ3gtY2hhcnRzLWhlYXQtbWFwLWNlbGwtc2VyaWVzXFxuICAgICAgICAgIFt4U2NhbGVdPVxcXCJ4U2NhbGVcXFwiXFxuICAgICAgICAgIFt5U2NhbGVdPVxcXCJ5U2NhbGVcXFwiXFxuICAgICAgICAgIFtjb2xvcnNdPVxcXCJjb2xvcnNcXFwiXFxuICAgICAgICAgIFtkYXRhXT1cXFwicmVzdWx0c1xcXCJcXG4gICAgICAgICAgW2dyYWRpZW50XT1cXFwiZ3JhZGllbnRcXFwiXFxuICAgICAgICAgIFthbmltYXRpb25zXT1cXFwiYW5pbWF0aW9uc1xcXCJcXG4gICAgICAgICAgW3Rvb2x0aXBEaXNhYmxlZF09XFxcInRvb2x0aXBEaXNhYmxlZFxcXCJcXG4gICAgICAgICAgW3Rvb2x0aXBUZW1wbGF0ZV09XFxcInRvb2x0aXBUZW1wbGF0ZVxcXCJcXG4gICAgICAgICAgW3Rvb2x0aXBUZXh0XT1cXFwidG9vbHRpcFRleHRcXFwiXFxuICAgICAgICAgIChzZWxlY3QpPVxcXCJvbkNsaWNrKCRldmVudClcXFwiXFxuICAgICAgICAgIChhY3RpdmF0ZSk9XFxcIm9uQWN0aXZhdGUoJGV2ZW50LCB1bmRlZmluZWQpXFxcIlxcbiAgICAgICAgICAoZGVhY3RpdmF0ZSk9XFxcIm9uRGVhY3RpdmF0ZSgkZXZlbnQsIHVuZGVmaW5lZClcXFwiXFxuICAgICAgICAvPlxcbiAgICAgIDwvc3ZnOmc+XFxuICAgIDwvbmd4LWNoYXJ0cy1jaGFydD5cXG4gIFwiLFxuICAgICAgICAgICAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXG4gICAgICAgICAgICBzdHlsZXM6IFtcIi5uZ3gtY2hhcnRze2Zsb2F0OmxlZnQ7b3ZlcmZsb3c6dmlzaWJsZX0ubmd4LWNoYXJ0cyAuYXJjLC5uZ3gtY2hhcnRzIC5iYXIsLm5neC1jaGFydHMgLmNpcmNsZXtjdXJzb3I6cG9pbnRlcn0ubmd4LWNoYXJ0cyAuYXJjLmFjdGl2ZSwubmd4LWNoYXJ0cyAuYXJjOmhvdmVyLC5uZ3gtY2hhcnRzIC5iYXIuYWN0aXZlLC5uZ3gtY2hhcnRzIC5iYXI6aG92ZXIsLm5neC1jaGFydHMgLmNhcmQuYWN0aXZlLC5uZ3gtY2hhcnRzIC5jYXJkOmhvdmVyLC5uZ3gtY2hhcnRzIC5jZWxsLmFjdGl2ZSwubmd4LWNoYXJ0cyAuY2VsbDpob3ZlcntvcGFjaXR5Oi44O3RyYW5zaXRpb246b3BhY2l0eSAuMXMgZWFzZS1pbi1vdXR9Lm5neC1jaGFydHMgLmFyYzpmb2N1cywubmd4LWNoYXJ0cyAuYmFyOmZvY3VzLC5uZ3gtY2hhcnRzIC5jYXJkOmZvY3VzLC5uZ3gtY2hhcnRzIC5jZWxsOmZvY3Vze291dGxpbmU6MH0ubmd4LWNoYXJ0cyAuYXJjLmhpZGRlbiwubmd4LWNoYXJ0cyAuYmFyLmhpZGRlbiwubmd4LWNoYXJ0cyAuY2FyZC5oaWRkZW4sLm5neC1jaGFydHMgLmNlbGwuaGlkZGVue2Rpc3BsYXk6bm9uZX0ubmd4LWNoYXJ0cyBnOmZvY3Vze291dGxpbmU6MH0ubmd4LWNoYXJ0cyAuYXJlYS1zZXJpZXMuaW5hY3RpdmUsLm5neC1jaGFydHMgLmxpbmUtc2VyaWVzLXJhbmdlLmluYWN0aXZlLC5uZ3gtY2hhcnRzIC5saW5lLXNlcmllcy5pbmFjdGl2ZSwubmd4LWNoYXJ0cyAucG9sYXItc2VyaWVzLWFyZWEuaW5hY3RpdmUsLm5neC1jaGFydHMgLnBvbGFyLXNlcmllcy1wYXRoLmluYWN0aXZle3RyYW5zaXRpb246b3BhY2l0eSAuMXMgZWFzZS1pbi1vdXQ7b3BhY2l0eTouMn0ubmd4LWNoYXJ0cyAubGluZS1oaWdobGlnaHR7ZGlzcGxheTpub25lfS5uZ3gtY2hhcnRzIC5saW5lLWhpZ2hsaWdodC5hY3RpdmV7ZGlzcGxheTpibG9ja30ubmd4LWNoYXJ0cyAuYXJlYXtvcGFjaXR5Oi42fS5uZ3gtY2hhcnRzIC5jaXJjbGU6aG92ZXJ7Y3Vyc29yOnBvaW50ZXJ9Lm5neC1jaGFydHMgLmxhYmVse2ZvbnQtc2l6ZToxMnB4O2ZvbnQtd2VpZ2h0OjQwMH0ubmd4LWNoYXJ0cyAudG9vbHRpcC1hbmNob3J7ZmlsbDojMDAwfS5uZ3gtY2hhcnRzIC5ncmlkbGluZS1wYXRoe3N0cm9rZTojZGRkO3N0cm9rZS13aWR0aDoxO2ZpbGw6bm9uZX0ubmd4LWNoYXJ0cyAucmVmbGluZS1wYXRoe3N0cm9rZTojYThiMmM3O3N0cm9rZS13aWR0aDoxO3N0cm9rZS1kYXNoYXJyYXk6NTtzdHJva2UtZGFzaG9mZnNldDo1fS5uZ3gtY2hhcnRzIC5yZWZsaW5lLWxhYmVse2ZvbnQtc2l6ZTo5cHh9Lm5neC1jaGFydHMgLnJlZmVyZW5jZS1hcmVhe2ZpbGwtb3BhY2l0eTouMDU7ZmlsbDojMDAwfS5uZ3gtY2hhcnRzIC5ncmlkbGluZS1wYXRoLWRvdHRlZHtzdHJva2U6I2RkZDtzdHJva2Utd2lkdGg6MTtmaWxsOm5vbmU7c3Ryb2tlLWRhc2hhcnJheToxLDIwO3N0cm9rZS1kYXNob2Zmc2V0OjN9Lm5neC1jaGFydHMgLmdyaWQtcGFuZWwgcmVjdHtmaWxsOm5vbmV9Lm5neC1jaGFydHMgLmdyaWQtcGFuZWwub2RkIHJlY3R7ZmlsbDpyZ2JhKDAsMCwwLC4wNSl9XCJdLFxuICAgICAgICAgICAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZVxuICAgICAgICB9KVxuICAgIF0sIEhlYXRNYXBDb21wb25lbnQpO1xuICAgIHJldHVybiBIZWF0TWFwQ29tcG9uZW50O1xufShCYXNlQ2hhcnRDb21wb25lbnQpKTtcblxudmFyIEhlYXRNYXBNb2R1bGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSGVhdE1hcE1vZHVsZSgpIHtcbiAgICB9XG4gICAgSGVhdE1hcE1vZHVsZSA9IF9fZGVjb3JhdGUoW1xuICAgICAgICBOZ01vZHVsZSh7XG4gICAgICAgICAgICBpbXBvcnRzOiBbQ2hhcnRDb21tb25Nb2R1bGVdLFxuICAgICAgICAgICAgZGVjbGFyYXRpb25zOiBbXG4gICAgICAgICAgICAgICAgSGVhdE1hcENlbGxDb21wb25lbnQsXG4gICAgICAgICAgICAgICAgSGVhdENlbGxTZXJpZXNDb21wb25lbnQsXG4gICAgICAgICAgICAgICAgSGVhdE1hcENvbXBvbmVudFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIGV4cG9ydHM6IFtcbiAgICAgICAgICAgICAgICBIZWF0TWFwQ2VsbENvbXBvbmVudCxcbiAgICAgICAgICAgICAgICBIZWF0Q2VsbFNlcmllc0NvbXBvbmVudCxcbiAgICAgICAgICAgICAgICBIZWF0TWFwQ29tcG9uZW50XG4gICAgICAgICAgICBdXG4gICAgICAgIH0pXG4gICAgXSwgSGVhdE1hcE1vZHVsZSk7XG4gICAgcmV0dXJuIEhlYXRNYXBNb2R1bGU7XG59KCkpO1xuXG52YXIgTGluZUNvbXBvbmVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBMaW5lQ29tcG9uZW50KGVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgdGhpcy5maWxsID0gJ25vbmUnO1xuICAgICAgICB0aGlzLmFuaW1hdGlvbnMgPSB0cnVlO1xuICAgICAgICB0aGlzLnNlbGVjdCA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplZCA9IGZhbHNlO1xuICAgIH1cbiAgICBMaW5lQ29tcG9uZW50LnByb3RvdHlwZS5uZ09uQ2hhbmdlcyA9IGZ1bmN0aW9uIChjaGFuZ2VzKSB7XG4gICAgICAgIGlmICghdGhpcy5pbml0aWFsaXplZCkge1xuICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmluaXRpYWxQYXRoID0gdGhpcy5wYXRoO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVQYXRoRWwoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTGluZUNvbXBvbmVudC5wcm90b3R5cGUudXBkYXRlUGF0aEVsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbm9kZSA9IHNlbGVjdCh0aGlzLmVsZW1lbnQubmF0aXZlRWxlbWVudCkuc2VsZWN0KCcubGluZScpO1xuICAgICAgICBpZiAodGhpcy5hbmltYXRpb25zKSB7XG4gICAgICAgICAgICBub2RlXG4gICAgICAgICAgICAgICAgLnRyYW5zaXRpb24oKS5kdXJhdGlvbig3NTApXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2QnLCB0aGlzLnBhdGgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbm9kZS5hdHRyKCdkJywgdGhpcy5wYXRoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdmFyIF9hO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIExpbmVDb21wb25lbnQucHJvdG90eXBlLCBcInBhdGhcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBMaW5lQ29tcG9uZW50LnByb3RvdHlwZSwgXCJzdHJva2VcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBMaW5lQ29tcG9uZW50LnByb3RvdHlwZSwgXCJkYXRhXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBTdHJpbmcpXG4gICAgXSwgTGluZUNvbXBvbmVudC5wcm90b3R5cGUsIFwiZmlsbFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbiAgICBdLCBMaW5lQ29tcG9uZW50LnByb3RvdHlwZSwgXCJhbmltYXRpb25zXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIE91dHB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIExpbmVDb21wb25lbnQucHJvdG90eXBlLCBcInNlbGVjdFwiLCB2b2lkIDApO1xuICAgIExpbmVDb21wb25lbnQgPSBfX2RlY29yYXRlKFtcbiAgICAgICAgQ29tcG9uZW50KHtcbiAgICAgICAgICAgIHNlbGVjdG9yOiAnZ1tuZ3gtY2hhcnRzLWxpbmVdJyxcbiAgICAgICAgICAgIHRlbXBsYXRlOiBcIlxcbiAgICA8c3ZnOnBhdGhcXG4gICAgICBbQGFuaW1hdGlvblN0YXRlXT1cXFwiJ2FjdGl2ZSdcXFwiXFxuICAgICAgY2xhc3M9XFxcImxpbmVcXFwiXFxuICAgICAgW2F0dHIuZF09XFxcImluaXRpYWxQYXRoXFxcIlxcbiAgICAgIFthdHRyLmZpbGxdPVxcXCJmaWxsXFxcIlxcbiAgICAgIFthdHRyLnN0cm9rZV09XFxcInN0cm9rZVxcXCJcXG4gICAgICBzdHJva2Utd2lkdGg9XFxcIjEuNXB4XFxcIlxcbiAgICAvPlxcbiAgXCIsXG4gICAgICAgICAgICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcbiAgICAgICAgICAgIGFuaW1hdGlvbnM6IFtcbiAgICAgICAgICAgICAgICB0cmlnZ2VyKCdhbmltYXRpb25TdGF0ZScsIFtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbignOmVudGVyJywgW1xuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZURhc2hhcnJheTogMjAwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJva2VEYXNob2Zmc2V0OiAyMDAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRlKDEwMDAsIHN0eWxlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJva2VEYXNob2Zmc2V0OiAwXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSlcbiAgICAgICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgXVxuICAgICAgICB9KSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjpwYXJhbXR5cGVzXCIsIFt0eXBlb2YgKF9hID0gdHlwZW9mIEVsZW1lbnRSZWYgIT09IFwidW5kZWZpbmVkXCIgJiYgRWxlbWVudFJlZikgPT09IFwiZnVuY3Rpb25cIiA/IF9hIDogT2JqZWN0XSlcbiAgICBdLCBMaW5lQ29tcG9uZW50KTtcbiAgICByZXR1cm4gTGluZUNvbXBvbmVudDtcbn0oKSk7XG5cbnZhciBMaW5lQ2hhcnRDb21wb25lbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKExpbmVDaGFydENvbXBvbmVudCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBMaW5lQ2hhcnRDb21wb25lbnQoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5sZWdlbmRUaXRsZSA9ICdMZWdlbmQnO1xuICAgICAgICBfdGhpcy5sZWdlbmRQb3NpdGlvbiA9ICdyaWdodCc7XG4gICAgICAgIF90aGlzLnNob3dHcmlkTGluZXMgPSB0cnVlO1xuICAgICAgICBfdGhpcy5jdXJ2ZSA9IGN1cnZlTGluZWFyO1xuICAgICAgICBfdGhpcy5hY3RpdmVFbnRyaWVzID0gW107XG4gICAgICAgIF90aGlzLnRyaW1YQXhpc1RpY2tzID0gdHJ1ZTtcbiAgICAgICAgX3RoaXMudHJpbVlBeGlzVGlja3MgPSB0cnVlO1xuICAgICAgICBfdGhpcy5yb3RhdGVYQXhpc1RpY2tzID0gdHJ1ZTtcbiAgICAgICAgX3RoaXMubWF4WEF4aXNUaWNrTGVuZ3RoID0gMTY7XG4gICAgICAgIF90aGlzLm1heFlBeGlzVGlja0xlbmd0aCA9IDE2O1xuICAgICAgICBfdGhpcy5yb3VuZERvbWFpbnMgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMudG9vbHRpcERpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIF90aGlzLnNob3dSZWZMaW5lcyA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5zaG93UmVmTGFiZWxzID0gdHJ1ZTtcbiAgICAgICAgX3RoaXMuYWN0aXZhdGUgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgICAgIF90aGlzLmRlYWN0aXZhdGUgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgICAgIF90aGlzLm1hcmdpbiA9IFsxMCwgMjAsIDEwLCAyMF07XG4gICAgICAgIF90aGlzLnhBeGlzSGVpZ2h0ID0gMDtcbiAgICAgICAgX3RoaXMueUF4aXNXaWR0aCA9IDA7XG4gICAgICAgIF90aGlzLnRpbWVsaW5lSGVpZ2h0ID0gNTA7XG4gICAgICAgIF90aGlzLnRpbWVsaW5lUGFkZGluZyA9IDEwO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIExpbmVDaGFydENvbXBvbmVudC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLnVwZGF0ZS5jYWxsKHRoaXMpO1xuICAgICAgICB0aGlzLmRpbXMgPSBjYWxjdWxhdGVWaWV3RGltZW5zaW9ucyh7XG4gICAgICAgICAgICB3aWR0aDogdGhpcy53aWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogdGhpcy5oZWlnaHQsXG4gICAgICAgICAgICBtYXJnaW5zOiB0aGlzLm1hcmdpbixcbiAgICAgICAgICAgIHNob3dYQXhpczogdGhpcy54QXhpcyxcbiAgICAgICAgICAgIHNob3dZQXhpczogdGhpcy55QXhpcyxcbiAgICAgICAgICAgIHhBeGlzSGVpZ2h0OiB0aGlzLnhBeGlzSGVpZ2h0LFxuICAgICAgICAgICAgeUF4aXNXaWR0aDogdGhpcy55QXhpc1dpZHRoLFxuICAgICAgICAgICAgc2hvd1hMYWJlbDogdGhpcy5zaG93WEF4aXNMYWJlbCxcbiAgICAgICAgICAgIHNob3dZTGFiZWw6IHRoaXMuc2hvd1lBeGlzTGFiZWwsXG4gICAgICAgICAgICBzaG93TGVnZW5kOiB0aGlzLmxlZ2VuZCxcbiAgICAgICAgICAgIGxlZ2VuZFR5cGU6IHRoaXMuc2NoZW1lVHlwZSxcbiAgICAgICAgICAgIGxlZ2VuZFBvc2l0aW9uOiB0aGlzLmxlZ2VuZFBvc2l0aW9uXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAodGhpcy50aW1lbGluZSkge1xuICAgICAgICAgICAgdGhpcy5kaW1zLmhlaWdodCAtPSB0aGlzLnRpbWVsaW5lSGVpZ2h0ICsgdGhpcy5tYXJnaW5bMl0gKyB0aGlzLnRpbWVsaW5lUGFkZGluZztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnhEb21haW4gPSB0aGlzLmdldFhEb21haW4oKTtcbiAgICAgICAgaWYgKHRoaXMuZmlsdGVyZWREb21haW4pIHtcbiAgICAgICAgICAgIHRoaXMueERvbWFpbiA9IHRoaXMuZmlsdGVyZWREb21haW47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy55RG9tYWluID0gdGhpcy5nZXRZRG9tYWluKCk7XG4gICAgICAgIHRoaXMuc2VyaWVzRG9tYWluID0gdGhpcy5nZXRTZXJpZXNEb21haW4oKTtcbiAgICAgICAgdGhpcy54U2NhbGUgPSB0aGlzLmdldFhTY2FsZSh0aGlzLnhEb21haW4sIHRoaXMuZGltcy53aWR0aCk7XG4gICAgICAgIHRoaXMueVNjYWxlID0gdGhpcy5nZXRZU2NhbGUodGhpcy55RG9tYWluLCB0aGlzLmRpbXMuaGVpZ2h0KTtcbiAgICAgICAgdGhpcy51cGRhdGVUaW1lbGluZSgpO1xuICAgICAgICB0aGlzLnNldENvbG9ycygpO1xuICAgICAgICB0aGlzLmxlZ2VuZE9wdGlvbnMgPSB0aGlzLmdldExlZ2VuZE9wdGlvbnMoKTtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0gPSBcInRyYW5zbGF0ZShcIiArIHRoaXMuZGltcy54T2Zmc2V0ICsgXCIgLCBcIiArIHRoaXMubWFyZ2luWzBdICsgXCIpXCI7XG4gICAgICAgIHRoaXMuY2xpcFBhdGhJZCA9ICdjbGlwJyArIGlkKCkudG9TdHJpbmcoKTtcbiAgICAgICAgdGhpcy5jbGlwUGF0aCA9IFwidXJsKCNcIiArIHRoaXMuY2xpcFBhdGhJZCArIFwiKVwiO1xuICAgIH07XG4gICAgTGluZUNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZS51cGRhdGVUaW1lbGluZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMudGltZWxpbmUpIHtcbiAgICAgICAgICAgIHRoaXMudGltZWxpbmVXaWR0aCA9IHRoaXMuZGltcy53aWR0aDtcbiAgICAgICAgICAgIHRoaXMudGltZWxpbmVYRG9tYWluID0gdGhpcy5nZXRYRG9tYWluKCk7XG4gICAgICAgICAgICB0aGlzLnRpbWVsaW5lWFNjYWxlID0gdGhpcy5nZXRYU2NhbGUodGhpcy50aW1lbGluZVhEb21haW4sIHRoaXMudGltZWxpbmVXaWR0aCk7XG4gICAgICAgICAgICB0aGlzLnRpbWVsaW5lWVNjYWxlID0gdGhpcy5nZXRZU2NhbGUodGhpcy55RG9tYWluLCB0aGlzLnRpbWVsaW5lSGVpZ2h0KTtcbiAgICAgICAgICAgIHRoaXMudGltZWxpbmVUcmFuc2Zvcm0gPSBcInRyYW5zbGF0ZShcIiArIHRoaXMuZGltcy54T2Zmc2V0ICsgXCIsIFwiICsgLXRoaXMubWFyZ2luWzJdICsgXCIpXCI7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIExpbmVDaGFydENvbXBvbmVudC5wcm90b3R5cGUuZ2V0WERvbWFpbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHZhbHVlcyA9IGdldFVuaXF1ZVhEb21haW5WYWx1ZXModGhpcy5yZXN1bHRzKTtcbiAgICAgICAgdGhpcy5zY2FsZVR5cGUgPSBnZXRTY2FsZVR5cGUodmFsdWVzKTtcbiAgICAgICAgdmFyIGRvbWFpbiA9IFtdO1xuICAgICAgICBpZiAodGhpcy5zY2FsZVR5cGUgPT09ICdsaW5lYXInKSB7XG4gICAgICAgICAgICB2YWx1ZXMgPSB2YWx1ZXMubWFwKGZ1bmN0aW9uICh2KSB7IHJldHVybiBOdW1iZXIodik7IH0pO1xuICAgICAgICB9XG4gICAgICAgIHZhciBtaW4kJDE7XG4gICAgICAgIHZhciBtYXgkJDE7XG4gICAgICAgIGlmICh0aGlzLnNjYWxlVHlwZSA9PT0gJ3RpbWUnIHx8IHRoaXMuc2NhbGVUeXBlID09PSAnbGluZWFyJykge1xuICAgICAgICAgICAgbWluJCQxID0gdGhpcy54U2NhbGVNaW4gPyB0aGlzLnhTY2FsZU1pbiA6IE1hdGgubWluLmFwcGx5KE1hdGgsIHZhbHVlcyk7XG4gICAgICAgICAgICBtYXgkJDEgPSB0aGlzLnhTY2FsZU1heCA/IHRoaXMueFNjYWxlTWF4IDogTWF0aC5tYXguYXBwbHkoTWF0aCwgdmFsdWVzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5zY2FsZVR5cGUgPT09ICd0aW1lJykge1xuICAgICAgICAgICAgZG9tYWluID0gW25ldyBEYXRlKG1pbiQkMSksIG5ldyBEYXRlKG1heCQkMSldO1xuICAgICAgICAgICAgdGhpcy54U2V0ID0gdmFsdWVzLnNsaWNlKCkuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgICAgICAgIHZhciBhRGF0ZSA9IGEuZ2V0VGltZSgpO1xuICAgICAgICAgICAgICAgIHZhciBiRGF0ZSA9IGIuZ2V0VGltZSgpO1xuICAgICAgICAgICAgICAgIGlmIChhRGF0ZSA+IGJEYXRlKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICAgICAgICBpZiAoYkRhdGUgPiBhRGF0ZSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5zY2FsZVR5cGUgPT09ICdsaW5lYXInKSB7XG4gICAgICAgICAgICBkb21haW4gPSBbbWluJCQxLCBtYXgkJDFdO1xuICAgICAgICAgICAgdGhpcy54U2V0ID0gdmFsdWVzLnNsaWNlKCkuc29ydChmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gYSAtIGI7IH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZG9tYWluID0gdmFsdWVzO1xuICAgICAgICAgICAgdGhpcy54U2V0ID0gdmFsdWVzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkb21haW47XG4gICAgfTtcbiAgICBMaW5lQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLmdldFlEb21haW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkb21haW4gPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHRoaXMucmVzdWx0czsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHZhciByZXN1bHRzID0gX2FbX2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgX2IgPSAwLCBfYyA9IHJlc3VsdHMuc2VyaWVzOyBfYiA8IF9jLmxlbmd0aDsgX2IrKykge1xuICAgICAgICAgICAgICAgIHZhciBkID0gX2NbX2JdO1xuICAgICAgICAgICAgICAgIGlmIChkb21haW4uaW5kZXhPZihkLnZhbHVlKSA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZG9tYWluLnB1c2goZC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkLm1pbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGFzUmFuZ2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZG9tYWluLmluZGV4T2YoZC5taW4pIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZG9tYWluLnB1c2goZC5taW4pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkLm1heCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGFzUmFuZ2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZG9tYWluLmluZGV4T2YoZC5tYXgpIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZG9tYWluLnB1c2goZC5tYXgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciB2YWx1ZXMgPSBkb21haW4uc2xpY2UoKTtcbiAgICAgICAgaWYgKCF0aGlzLmF1dG9TY2FsZSkge1xuICAgICAgICAgICAgdmFsdWVzLnB1c2goMCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG1pbiQkMSA9IHRoaXMueVNjYWxlTWluID8gdGhpcy55U2NhbGVNaW4gOiBNYXRoLm1pbi5hcHBseShNYXRoLCB2YWx1ZXMpO1xuICAgICAgICB2YXIgbWF4JCQxID0gdGhpcy55U2NhbGVNYXggPyB0aGlzLnlTY2FsZU1heCA6IE1hdGgubWF4LmFwcGx5KE1hdGgsIHZhbHVlcyk7XG4gICAgICAgIHJldHVybiBbbWluJCQxLCBtYXgkJDFdO1xuICAgIH07XG4gICAgTGluZUNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZS5nZXRTZXJpZXNEb21haW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlc3VsdHMubWFwKGZ1bmN0aW9uIChkKSB7IHJldHVybiBkLm5hbWU7IH0pO1xuICAgIH07XG4gICAgTGluZUNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZS5nZXRYU2NhbGUgPSBmdW5jdGlvbiAoZG9tYWluLCB3aWR0aCkge1xuICAgICAgICB2YXIgc2NhbGU7XG4gICAgICAgIGlmICh0aGlzLnNjYWxlVHlwZSA9PT0gJ3RpbWUnKSB7XG4gICAgICAgICAgICBzY2FsZSA9IHNjYWxlVGltZSgpXG4gICAgICAgICAgICAgICAgLnJhbmdlKFswLCB3aWR0aF0pXG4gICAgICAgICAgICAgICAgLmRvbWFpbihkb21haW4pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuc2NhbGVUeXBlID09PSAnbGluZWFyJykge1xuICAgICAgICAgICAgc2NhbGUgPSBzY2FsZUxpbmVhcigpXG4gICAgICAgICAgICAgICAgLnJhbmdlKFswLCB3aWR0aF0pXG4gICAgICAgICAgICAgICAgLmRvbWFpbihkb21haW4pO1xuICAgICAgICAgICAgaWYgKHRoaXMucm91bmREb21haW5zKSB7XG4gICAgICAgICAgICAgICAgc2NhbGUgPSBzY2FsZS5uaWNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5zY2FsZVR5cGUgPT09ICdvcmRpbmFsJykge1xuICAgICAgICAgICAgc2NhbGUgPSBzY2FsZVBvaW50KClcbiAgICAgICAgICAgICAgICAucmFuZ2UoWzAsIHdpZHRoXSlcbiAgICAgICAgICAgICAgICAucGFkZGluZygwLjEpXG4gICAgICAgICAgICAgICAgLmRvbWFpbihkb21haW4pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzY2FsZTtcbiAgICB9O1xuICAgIExpbmVDaGFydENvbXBvbmVudC5wcm90b3R5cGUuZ2V0WVNjYWxlID0gZnVuY3Rpb24gKGRvbWFpbiwgaGVpZ2h0KSB7XG4gICAgICAgIHZhciBzY2FsZSA9IHNjYWxlTGluZWFyKClcbiAgICAgICAgICAgIC5yYW5nZShbaGVpZ2h0LCAwXSlcbiAgICAgICAgICAgIC5kb21haW4oZG9tYWluKTtcbiAgICAgICAgcmV0dXJuIHRoaXMucm91bmREb21haW5zID8gc2NhbGUubmljZSgpIDogc2NhbGU7XG4gICAgfTtcbiAgICBMaW5lQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLnVwZGF0ZURvbWFpbiA9IGZ1bmN0aW9uIChkb21haW4pIHtcbiAgICAgICAgdGhpcy5maWx0ZXJlZERvbWFpbiA9IGRvbWFpbjtcbiAgICAgICAgdGhpcy54RG9tYWluID0gdGhpcy5maWx0ZXJlZERvbWFpbjtcbiAgICAgICAgdGhpcy54U2NhbGUgPSB0aGlzLmdldFhTY2FsZSh0aGlzLnhEb21haW4sIHRoaXMuZGltcy53aWR0aCk7XG4gICAgfTtcbiAgICBMaW5lQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLnVwZGF0ZUhvdmVyZWRWZXJ0aWNhbCA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHRoaXMuaG92ZXJlZFZlcnRpY2FsID0gaXRlbS52YWx1ZTtcbiAgICAgICAgdGhpcy5kZWFjdGl2YXRlQWxsKCk7XG4gICAgfTtcbiAgICBMaW5lQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLmhpZGVDaXJjbGVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmhvdmVyZWRWZXJ0aWNhbCA9IG51bGw7XG4gICAgICAgIHRoaXMuZGVhY3RpdmF0ZUFsbCgpO1xuICAgIH07XG4gICAgTGluZUNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZS5vbkNsaWNrID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdGhpcy5zZWxlY3QuZW1pdChkYXRhKTtcbiAgICB9O1xuICAgIExpbmVDaGFydENvbXBvbmVudC5wcm90b3R5cGUudHJhY2tCeSA9IGZ1bmN0aW9uIChpbmRleCwgaXRlbSkge1xuICAgICAgICByZXR1cm4gaXRlbS5uYW1lO1xuICAgIH07XG4gICAgTGluZUNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZS5zZXRDb2xvcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkb21haW47XG4gICAgICAgIGlmICh0aGlzLnNjaGVtZVR5cGUgPT09ICdvcmRpbmFsJykge1xuICAgICAgICAgICAgZG9tYWluID0gdGhpcy5zZXJpZXNEb21haW47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkb21haW4gPSB0aGlzLnlEb21haW47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb2xvcnMgPSBuZXcgQ29sb3JIZWxwZXIodGhpcy5zY2hlbWUsIHRoaXMuc2NoZW1lVHlwZSwgZG9tYWluLCB0aGlzLmN1c3RvbUNvbG9ycyk7XG4gICAgfTtcbiAgICBMaW5lQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLmdldExlZ2VuZE9wdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvcHRzID0ge1xuICAgICAgICAgICAgc2NhbGVUeXBlOiB0aGlzLnNjaGVtZVR5cGUsXG4gICAgICAgICAgICBjb2xvcnM6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGRvbWFpbjogW10sXG4gICAgICAgICAgICB0aXRsZTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgcG9zaXRpb246IHRoaXMubGVnZW5kUG9zaXRpb25cbiAgICAgICAgfTtcbiAgICAgICAgaWYgKG9wdHMuc2NhbGVUeXBlID09PSAnb3JkaW5hbCcpIHtcbiAgICAgICAgICAgIG9wdHMuZG9tYWluID0gdGhpcy5zZXJpZXNEb21haW47XG4gICAgICAgICAgICBvcHRzLmNvbG9ycyA9IHRoaXMuY29sb3JzO1xuICAgICAgICAgICAgb3B0cy50aXRsZSA9IHRoaXMubGVnZW5kVGl0bGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvcHRzLmRvbWFpbiA9IHRoaXMueURvbWFpbjtcbiAgICAgICAgICAgIG9wdHMuY29sb3JzID0gdGhpcy5jb2xvcnMuc2NhbGU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9wdHM7XG4gICAgfTtcbiAgICBMaW5lQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLnVwZGF0ZVlBeGlzV2lkdGggPSBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIHdpZHRoID0gX2Eud2lkdGg7XG4gICAgICAgIHRoaXMueUF4aXNXaWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIH07XG4gICAgTGluZUNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZS51cGRhdGVYQXhpc0hlaWdodCA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgaGVpZ2h0ID0gX2EuaGVpZ2h0O1xuICAgICAgICB0aGlzLnhBeGlzSGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIH07XG4gICAgTGluZUNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZS5vbkFjdGl2YXRlID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgdGhpcy5kZWFjdGl2YXRlQWxsKCk7XG4gICAgICAgIHZhciBpZHggPSB0aGlzLmFjdGl2ZUVudHJpZXMuZmluZEluZGV4KGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICByZXR1cm4gZC5uYW1lID09PSBpdGVtLm5hbWUgJiYgZC52YWx1ZSA9PT0gaXRlbS52YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChpZHggPiAtMSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWN0aXZlRW50cmllcyA9IFtpdGVtXTtcbiAgICAgICAgdGhpcy5hY3RpdmF0ZS5lbWl0KHsgdmFsdWU6IGl0ZW0sIGVudHJpZXM6IHRoaXMuYWN0aXZlRW50cmllcyB9KTtcbiAgICB9O1xuICAgIExpbmVDaGFydENvbXBvbmVudC5wcm90b3R5cGUub25EZWFjdGl2YXRlID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgdmFyIGlkeCA9IHRoaXMuYWN0aXZlRW50cmllcy5maW5kSW5kZXgoZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgIHJldHVybiBkLm5hbWUgPT09IGl0ZW0ubmFtZSAmJiBkLnZhbHVlID09PSBpdGVtLnZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5hY3RpdmVFbnRyaWVzLnNwbGljZShpZHgsIDEpO1xuICAgICAgICB0aGlzLmFjdGl2ZUVudHJpZXMgPSB0aGlzLmFjdGl2ZUVudHJpZXMuc2xpY2UoKTtcbiAgICAgICAgdGhpcy5kZWFjdGl2YXRlLmVtaXQoeyB2YWx1ZTogaXRlbSwgZW50cmllczogdGhpcy5hY3RpdmVFbnRyaWVzIH0pO1xuICAgIH07XG4gICAgTGluZUNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZS5kZWFjdGl2YXRlQWxsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmFjdGl2ZUVudHJpZXMgPSB0aGlzLmFjdGl2ZUVudHJpZXMuc2xpY2UoKTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHRoaXMuYWN0aXZlRW50cmllczsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHZhciBlbnRyeSA9IF9hW19pXTtcbiAgICAgICAgICAgIHRoaXMuZGVhY3RpdmF0ZS5lbWl0KHsgdmFsdWU6IGVudHJ5LCBlbnRyaWVzOiBbXSB9KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFjdGl2ZUVudHJpZXMgPSBbXTtcbiAgICB9O1xuICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBMaW5lQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLCBcImxlZ2VuZFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgU3RyaW5nKVxuICAgIF0sIExpbmVDaGFydENvbXBvbmVudC5wcm90b3R5cGUsIFwibGVnZW5kVGl0bGVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcbiAgICBdLCBMaW5lQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLCBcImxlZ2VuZFBvc2l0aW9uXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgTGluZUNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJ4QXhpc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIExpbmVDaGFydENvbXBvbmVudC5wcm90b3R5cGUsIFwieUF4aXNcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBMaW5lQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLCBcInNob3dYQXhpc0xhYmVsXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgTGluZUNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJzaG93WUF4aXNMYWJlbFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIExpbmVDaGFydENvbXBvbmVudC5wcm90b3R5cGUsIFwieEF4aXNMYWJlbFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIExpbmVDaGFydENvbXBvbmVudC5wcm90b3R5cGUsIFwieUF4aXNMYWJlbFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIExpbmVDaGFydENvbXBvbmVudC5wcm90b3R5cGUsIFwiYXV0b1NjYWxlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgTGluZUNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJ0aW1lbGluZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbiAgICBdLCBMaW5lQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLCBcImdyYWRpZW50XCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIExpbmVDaGFydENvbXBvbmVudC5wcm90b3R5cGUsIFwic2hvd0dyaWRMaW5lc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIExpbmVDaGFydENvbXBvbmVudC5wcm90b3R5cGUsIFwiY3VydmVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEFycmF5KVxuICAgIF0sIExpbmVDaGFydENvbXBvbmVudC5wcm90b3R5cGUsIFwiYWN0aXZlRW50cmllc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgU3RyaW5nKVxuICAgIF0sIExpbmVDaGFydENvbXBvbmVudC5wcm90b3R5cGUsIFwic2NoZW1lVHlwZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgTnVtYmVyKVxuICAgIF0sIExpbmVDaGFydENvbXBvbmVudC5wcm90b3R5cGUsIFwicmFuZ2VGaWxsT3BhY2l0eVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbiAgICBdLCBMaW5lQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLCBcInRyaW1YQXhpc1RpY2tzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIExpbmVDaGFydENvbXBvbmVudC5wcm90b3R5cGUsIFwidHJpbVlBeGlzVGlja3NcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEJvb2xlYW4pXG4gICAgXSwgTGluZUNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJyb3RhdGVYQXhpc1RpY2tzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBOdW1iZXIpXG4gICAgXSwgTGluZUNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJtYXhYQXhpc1RpY2tMZW5ndGhcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE51bWJlcilcbiAgICBdLCBMaW5lQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLCBcIm1heFlBeGlzVGlja0xlbmd0aFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIExpbmVDaGFydENvbXBvbmVudC5wcm90b3R5cGUsIFwieEF4aXNUaWNrRm9ybWF0dGluZ1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIExpbmVDaGFydENvbXBvbmVudC5wcm90b3R5cGUsIFwieUF4aXNUaWNrRm9ybWF0dGluZ1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQXJyYXkpXG4gICAgXSwgTGluZUNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJ4QXhpc1RpY2tzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBBcnJheSlcbiAgICBdLCBMaW5lQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLCBcInlBeGlzVGlja3NcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEJvb2xlYW4pXG4gICAgXSwgTGluZUNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJyb3VuZERvbWFpbnNcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEJvb2xlYW4pXG4gICAgXSwgTGluZUNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJ0b29sdGlwRGlzYWJsZWRcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEJvb2xlYW4pXG4gICAgXSwgTGluZUNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJzaG93UmVmTGluZXNcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBMaW5lQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLCBcInJlZmVyZW5jZUxpbmVzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIExpbmVDaGFydENvbXBvbmVudC5wcm90b3R5cGUsIFwic2hvd1JlZkxhYmVsc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIExpbmVDaGFydENvbXBvbmVudC5wcm90b3R5cGUsIFwieFNjYWxlTWluXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgTGluZUNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJ4U2NhbGVNYXhcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE51bWJlcilcbiAgICBdLCBMaW5lQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLCBcInlTY2FsZU1pblwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgTnVtYmVyKVxuICAgIF0sIExpbmVDaGFydENvbXBvbmVudC5wcm90b3R5cGUsIFwieVNjYWxlTWF4XCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIE91dHB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgdHlwZW9mIChfYSA9IHR5cGVvZiBFdmVudEVtaXR0ZXIgIT09IFwidW5kZWZpbmVkXCIgJiYgRXZlbnRFbWl0dGVyKSA9PT0gXCJmdW5jdGlvblwiID8gX2EgOiBPYmplY3QpXG4gICAgXSwgTGluZUNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJhY3RpdmF0ZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBPdXRwdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIHR5cGVvZiAoX2IgPSB0eXBlb2YgRXZlbnRFbWl0dGVyICE9PSBcInVuZGVmaW5lZFwiICYmIEV2ZW50RW1pdHRlcikgPT09IFwiZnVuY3Rpb25cIiA/IF9iIDogT2JqZWN0KVxuICAgIF0sIExpbmVDaGFydENvbXBvbmVudC5wcm90b3R5cGUsIFwiZGVhY3RpdmF0ZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBDb250ZW50Q2hpbGQoJ3Rvb2x0aXBUZW1wbGF0ZScsIHsgc3RhdGljOiBmYWxzZSB9KSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIHR5cGVvZiAoX2MgPSB0eXBlb2YgVGVtcGxhdGVSZWYgIT09IFwidW5kZWZpbmVkXCIgJiYgVGVtcGxhdGVSZWYpID09PSBcImZ1bmN0aW9uXCIgPyBfYyA6IE9iamVjdClcbiAgICBdLCBMaW5lQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLCBcInRvb2x0aXBUZW1wbGF0ZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBDb250ZW50Q2hpbGQoJ3Nlcmllc1Rvb2x0aXBUZW1wbGF0ZScsIHsgc3RhdGljOiBmYWxzZSB9KSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIHR5cGVvZiAoX2QgPSB0eXBlb2YgVGVtcGxhdGVSZWYgIT09IFwidW5kZWZpbmVkXCIgJiYgVGVtcGxhdGVSZWYpID09PSBcImZ1bmN0aW9uXCIgPyBfZCA6IE9iamVjdClcbiAgICBdLCBMaW5lQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLCBcInNlcmllc1Rvb2x0aXBUZW1wbGF0ZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBIb3N0TGlzdGVuZXIoJ21vdXNlbGVhdmUnKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEZ1bmN0aW9uKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjpwYXJhbXR5cGVzXCIsIFtdKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjpyZXR1cm50eXBlXCIsIHZvaWQgMClcbiAgICBdLCBMaW5lQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLCBcImhpZGVDaXJjbGVzXCIsIG51bGwpO1xuICAgIExpbmVDaGFydENvbXBvbmVudCA9IF9fZGVjb3JhdGUoW1xuICAgICAgICBDb21wb25lbnQoe1xuICAgICAgICAgICAgc2VsZWN0b3I6ICduZ3gtY2hhcnRzLWxpbmUtY2hhcnQnLFxuICAgICAgICAgICAgdGVtcGxhdGU6IFwiXFxuICAgIDxuZ3gtY2hhcnRzLWNoYXJ0XFxuICAgICAgW3ZpZXddPVxcXCJbd2lkdGgsIGhlaWdodF1cXFwiXFxuICAgICAgW3Nob3dMZWdlbmRdPVxcXCJsZWdlbmRcXFwiXFxuICAgICAgW2xlZ2VuZE9wdGlvbnNdPVxcXCJsZWdlbmRPcHRpb25zXFxcIlxcbiAgICAgIFthY3RpdmVFbnRyaWVzXT1cXFwiYWN0aXZlRW50cmllc1xcXCJcXG4gICAgICBbYW5pbWF0aW9uc109XFxcImFuaW1hdGlvbnNcXFwiXFxuICAgICAgKGxlZ2VuZExhYmVsQ2xpY2spPVxcXCJvbkNsaWNrKCRldmVudClcXFwiXFxuICAgICAgKGxlZ2VuZExhYmVsQWN0aXZhdGUpPVxcXCJvbkFjdGl2YXRlKCRldmVudClcXFwiXFxuICAgICAgKGxlZ2VuZExhYmVsRGVhY3RpdmF0ZSk9XFxcIm9uRGVhY3RpdmF0ZSgkZXZlbnQpXFxcIlxcbiAgICA+XFxuICAgICAgPHN2ZzpkZWZzPlxcbiAgICAgICAgPHN2ZzpjbGlwUGF0aCBbYXR0ci5pZF09XFxcImNsaXBQYXRoSWRcXFwiPlxcbiAgICAgICAgICA8c3ZnOnJlY3RcXG4gICAgICAgICAgICBbYXR0ci53aWR0aF09XFxcImRpbXMud2lkdGggKyAxMFxcXCJcXG4gICAgICAgICAgICBbYXR0ci5oZWlnaHRdPVxcXCJkaW1zLmhlaWdodCArIDEwXFxcIlxcbiAgICAgICAgICAgIFthdHRyLnRyYW5zZm9ybV09XFxcIid0cmFuc2xhdGUoLTUsIC01KSdcXFwiXFxuICAgICAgICAgIC8+XFxuICAgICAgICA8L3N2ZzpjbGlwUGF0aD5cXG4gICAgICA8L3N2ZzpkZWZzPlxcbiAgICAgIDxzdmc6ZyBbYXR0ci50cmFuc2Zvcm1dPVxcXCJ0cmFuc2Zvcm1cXFwiIGNsYXNzPVxcXCJsaW5lLWNoYXJ0IGNoYXJ0XFxcIj5cXG4gICAgICAgIDxzdmc6Z1xcbiAgICAgICAgICBuZ3gtY2hhcnRzLXgtYXhpc1xcbiAgICAgICAgICAqbmdJZj1cXFwieEF4aXNcXFwiXFxuICAgICAgICAgIFt4U2NhbGVdPVxcXCJ4U2NhbGVcXFwiXFxuICAgICAgICAgIFtkaW1zXT1cXFwiZGltc1xcXCJcXG4gICAgICAgICAgW3Nob3dHcmlkTGluZXNdPVxcXCJzaG93R3JpZExpbmVzXFxcIlxcbiAgICAgICAgICBbc2hvd0xhYmVsXT1cXFwic2hvd1hBeGlzTGFiZWxcXFwiXFxuICAgICAgICAgIFtsYWJlbFRleHRdPVxcXCJ4QXhpc0xhYmVsXFxcIlxcbiAgICAgICAgICBbdHJpbVRpY2tzXT1cXFwidHJpbVhBeGlzVGlja3NcXFwiXFxuICAgICAgICAgIFtyb3RhdGVUaWNrc109XFxcInJvdGF0ZVhBeGlzVGlja3NcXFwiXFxuICAgICAgICAgIFttYXhUaWNrTGVuZ3RoXT1cXFwibWF4WEF4aXNUaWNrTGVuZ3RoXFxcIlxcbiAgICAgICAgICBbdGlja0Zvcm1hdHRpbmddPVxcXCJ4QXhpc1RpY2tGb3JtYXR0aW5nXFxcIlxcbiAgICAgICAgICBbdGlja3NdPVxcXCJ4QXhpc1RpY2tzXFxcIlxcbiAgICAgICAgICAoZGltZW5zaW9uc0NoYW5nZWQpPVxcXCJ1cGRhdGVYQXhpc0hlaWdodCgkZXZlbnQpXFxcIlxcbiAgICAgICAgPjwvc3ZnOmc+XFxuICAgICAgICA8c3ZnOmdcXG4gICAgICAgICAgbmd4LWNoYXJ0cy15LWF4aXNcXG4gICAgICAgICAgKm5nSWY9XFxcInlBeGlzXFxcIlxcbiAgICAgICAgICBbeVNjYWxlXT1cXFwieVNjYWxlXFxcIlxcbiAgICAgICAgICBbZGltc109XFxcImRpbXNcXFwiXFxuICAgICAgICAgIFtzaG93R3JpZExpbmVzXT1cXFwic2hvd0dyaWRMaW5lc1xcXCJcXG4gICAgICAgICAgW3Nob3dMYWJlbF09XFxcInNob3dZQXhpc0xhYmVsXFxcIlxcbiAgICAgICAgICBbbGFiZWxUZXh0XT1cXFwieUF4aXNMYWJlbFxcXCJcXG4gICAgICAgICAgW3RyaW1UaWNrc109XFxcInRyaW1ZQXhpc1RpY2tzXFxcIlxcbiAgICAgICAgICBbbWF4VGlja0xlbmd0aF09XFxcIm1heFlBeGlzVGlja0xlbmd0aFxcXCJcXG4gICAgICAgICAgW3RpY2tGb3JtYXR0aW5nXT1cXFwieUF4aXNUaWNrRm9ybWF0dGluZ1xcXCJcXG4gICAgICAgICAgW3RpY2tzXT1cXFwieUF4aXNUaWNrc1xcXCJcXG4gICAgICAgICAgW3JlZmVyZW5jZUxpbmVzXT1cXFwicmVmZXJlbmNlTGluZXNcXFwiXFxuICAgICAgICAgIFtzaG93UmVmTGluZXNdPVxcXCJzaG93UmVmTGluZXNcXFwiXFxuICAgICAgICAgIFtzaG93UmVmTGFiZWxzXT1cXFwic2hvd1JlZkxhYmVsc1xcXCJcXG4gICAgICAgICAgKGRpbWVuc2lvbnNDaGFuZ2VkKT1cXFwidXBkYXRlWUF4aXNXaWR0aCgkZXZlbnQpXFxcIlxcbiAgICAgICAgPjwvc3ZnOmc+XFxuICAgICAgICA8c3ZnOmcgW2F0dHIuY2xpcC1wYXRoXT1cXFwiY2xpcFBhdGhcXFwiPlxcbiAgICAgICAgICA8c3ZnOmcgKm5nRm9yPVxcXCJsZXQgc2VyaWVzIG9mIHJlc3VsdHM7IHRyYWNrQnk6IHRyYWNrQnlcXFwiIFtAYW5pbWF0aW9uU3RhdGVdPVxcXCInYWN0aXZlJ1xcXCI+XFxuICAgICAgICAgICAgPHN2ZzpnXFxuICAgICAgICAgICAgICBuZ3gtY2hhcnRzLWxpbmUtc2VyaWVzXFxuICAgICAgICAgICAgICBbeFNjYWxlXT1cXFwieFNjYWxlXFxcIlxcbiAgICAgICAgICAgICAgW3lTY2FsZV09XFxcInlTY2FsZVxcXCJcXG4gICAgICAgICAgICAgIFtjb2xvcnNdPVxcXCJjb2xvcnNcXFwiXFxuICAgICAgICAgICAgICBbZGF0YV09XFxcInNlcmllc1xcXCJcXG4gICAgICAgICAgICAgIFthY3RpdmVFbnRyaWVzXT1cXFwiYWN0aXZlRW50cmllc1xcXCJcXG4gICAgICAgICAgICAgIFtzY2FsZVR5cGVdPVxcXCJzY2FsZVR5cGVcXFwiXFxuICAgICAgICAgICAgICBbY3VydmVdPVxcXCJjdXJ2ZVxcXCJcXG4gICAgICAgICAgICAgIFtyYW5nZUZpbGxPcGFjaXR5XT1cXFwicmFuZ2VGaWxsT3BhY2l0eVxcXCJcXG4gICAgICAgICAgICAgIFtoYXNSYW5nZV09XFxcImhhc1JhbmdlXFxcIlxcbiAgICAgICAgICAgICAgW2FuaW1hdGlvbnNdPVxcXCJhbmltYXRpb25zXFxcIlxcbiAgICAgICAgICAgIC8+XFxuICAgICAgICAgIDwvc3ZnOmc+XFxuXFxuICAgICAgICAgIDxzdmc6ZyAqbmdJZj1cXFwiIXRvb2x0aXBEaXNhYmxlZFxcXCIgKG1vdXNlbGVhdmUpPVxcXCJoaWRlQ2lyY2xlcygpXFxcIj5cXG4gICAgICAgICAgICA8c3ZnOmdcXG4gICAgICAgICAgICAgIG5neC1jaGFydHMtdG9vbHRpcC1hcmVhXFxuICAgICAgICAgICAgICBbZGltc109XFxcImRpbXNcXFwiXFxuICAgICAgICAgICAgICBbeFNldF09XFxcInhTZXRcXFwiXFxuICAgICAgICAgICAgICBbeFNjYWxlXT1cXFwieFNjYWxlXFxcIlxcbiAgICAgICAgICAgICAgW3lTY2FsZV09XFxcInlTY2FsZVxcXCJcXG4gICAgICAgICAgICAgIFtyZXN1bHRzXT1cXFwicmVzdWx0c1xcXCJcXG4gICAgICAgICAgICAgIFtjb2xvcnNdPVxcXCJjb2xvcnNcXFwiXFxuICAgICAgICAgICAgICBbdG9vbHRpcERpc2FibGVkXT1cXFwidG9vbHRpcERpc2FibGVkXFxcIlxcbiAgICAgICAgICAgICAgW3Rvb2x0aXBUZW1wbGF0ZV09XFxcInNlcmllc1Rvb2x0aXBUZW1wbGF0ZVxcXCJcXG4gICAgICAgICAgICAgIChob3Zlcik9XFxcInVwZGF0ZUhvdmVyZWRWZXJ0aWNhbCgkZXZlbnQpXFxcIlxcbiAgICAgICAgICAgIC8+XFxuXFxuICAgICAgICAgICAgPHN2ZzpnICpuZ0Zvcj1cXFwibGV0IHNlcmllcyBvZiByZXN1bHRzXFxcIj5cXG4gICAgICAgICAgICAgIDxzdmc6Z1xcbiAgICAgICAgICAgICAgICBuZ3gtY2hhcnRzLWNpcmNsZS1zZXJpZXNcXG4gICAgICAgICAgICAgICAgW3hTY2FsZV09XFxcInhTY2FsZVxcXCJcXG4gICAgICAgICAgICAgICAgW3lTY2FsZV09XFxcInlTY2FsZVxcXCJcXG4gICAgICAgICAgICAgICAgW2NvbG9yc109XFxcImNvbG9yc1xcXCJcXG4gICAgICAgICAgICAgICAgW2RhdGFdPVxcXCJzZXJpZXNcXFwiXFxuICAgICAgICAgICAgICAgIFtzY2FsZVR5cGVdPVxcXCJzY2FsZVR5cGVcXFwiXFxuICAgICAgICAgICAgICAgIFt2aXNpYmxlVmFsdWVdPVxcXCJob3ZlcmVkVmVydGljYWxcXFwiXFxuICAgICAgICAgICAgICAgIFthY3RpdmVFbnRyaWVzXT1cXFwiYWN0aXZlRW50cmllc1xcXCJcXG4gICAgICAgICAgICAgICAgW3Rvb2x0aXBEaXNhYmxlZF09XFxcInRvb2x0aXBEaXNhYmxlZFxcXCJcXG4gICAgICAgICAgICAgICAgW3Rvb2x0aXBUZW1wbGF0ZV09XFxcInRvb2x0aXBUZW1wbGF0ZVxcXCJcXG4gICAgICAgICAgICAgICAgKHNlbGVjdCk9XFxcIm9uQ2xpY2soJGV2ZW50KVxcXCJcXG4gICAgICAgICAgICAgICAgKGFjdGl2YXRlKT1cXFwib25BY3RpdmF0ZSgkZXZlbnQpXFxcIlxcbiAgICAgICAgICAgICAgICAoZGVhY3RpdmF0ZSk9XFxcIm9uRGVhY3RpdmF0ZSgkZXZlbnQpXFxcIlxcbiAgICAgICAgICAgICAgLz5cXG4gICAgICAgICAgICA8L3N2ZzpnPlxcbiAgICAgICAgICA8L3N2ZzpnPlxcbiAgICAgICAgPC9zdmc6Zz5cXG4gICAgICA8L3N2ZzpnPlxcbiAgICAgIDxzdmc6Z1xcbiAgICAgICAgbmd4LWNoYXJ0cy10aW1lbGluZVxcbiAgICAgICAgKm5nSWY9XFxcInRpbWVsaW5lICYmIHNjYWxlVHlwZSAhPSAnb3JkaW5hbCdcXFwiXFxuICAgICAgICBbYXR0ci50cmFuc2Zvcm1dPVxcXCJ0aW1lbGluZVRyYW5zZm9ybVxcXCJcXG4gICAgICAgIFtyZXN1bHRzXT1cXFwicmVzdWx0c1xcXCJcXG4gICAgICAgIFt2aWV3XT1cXFwiW3RpbWVsaW5lV2lkdGgsIGhlaWdodF1cXFwiXFxuICAgICAgICBbaGVpZ2h0XT1cXFwidGltZWxpbmVIZWlnaHRcXFwiXFxuICAgICAgICBbc2NoZW1lXT1cXFwic2NoZW1lXFxcIlxcbiAgICAgICAgW2N1c3RvbUNvbG9yc109XFxcImN1c3RvbUNvbG9yc1xcXCJcXG4gICAgICAgIFtzY2FsZVR5cGVdPVxcXCJzY2FsZVR5cGVcXFwiXFxuICAgICAgICBbbGVnZW5kXT1cXFwibGVnZW5kXFxcIlxcbiAgICAgICAgKG9uRG9tYWluQ2hhbmdlKT1cXFwidXBkYXRlRG9tYWluKCRldmVudClcXFwiXFxuICAgICAgPlxcbiAgICAgICAgPHN2ZzpnICpuZ0Zvcj1cXFwibGV0IHNlcmllcyBvZiByZXN1bHRzOyB0cmFja0J5OiB0cmFja0J5XFxcIj5cXG4gICAgICAgICAgPHN2ZzpnXFxuICAgICAgICAgICAgbmd4LWNoYXJ0cy1saW5lLXNlcmllc1xcbiAgICAgICAgICAgIFt4U2NhbGVdPVxcXCJ0aW1lbGluZVhTY2FsZVxcXCJcXG4gICAgICAgICAgICBbeVNjYWxlXT1cXFwidGltZWxpbmVZU2NhbGVcXFwiXFxuICAgICAgICAgICAgW2NvbG9yc109XFxcImNvbG9yc1xcXCJcXG4gICAgICAgICAgICBbZGF0YV09XFxcInNlcmllc1xcXCJcXG4gICAgICAgICAgICBbc2NhbGVUeXBlXT1cXFwic2NhbGVUeXBlXFxcIlxcbiAgICAgICAgICAgIFtjdXJ2ZV09XFxcImN1cnZlXFxcIlxcbiAgICAgICAgICAgIFtoYXNSYW5nZV09XFxcImhhc1JhbmdlXFxcIlxcbiAgICAgICAgICAgIFthbmltYXRpb25zXT1cXFwiYW5pbWF0aW9uc1xcXCJcXG4gICAgICAgICAgLz5cXG4gICAgICAgIDwvc3ZnOmc+XFxuICAgICAgPC9zdmc6Zz5cXG4gICAgPC9uZ3gtY2hhcnRzLWNoYXJ0PlxcbiAgXCIsXG4gICAgICAgICAgICBzdHlsZXM6IFtcIi5uZ3gtY2hhcnRze2Zsb2F0OmxlZnQ7b3ZlcmZsb3c6dmlzaWJsZX0ubmd4LWNoYXJ0cyAuYXJjLC5uZ3gtY2hhcnRzIC5iYXIsLm5neC1jaGFydHMgLmNpcmNsZXtjdXJzb3I6cG9pbnRlcn0ubmd4LWNoYXJ0cyAuYXJjLmFjdGl2ZSwubmd4LWNoYXJ0cyAuYXJjOmhvdmVyLC5uZ3gtY2hhcnRzIC5iYXIuYWN0aXZlLC5uZ3gtY2hhcnRzIC5iYXI6aG92ZXIsLm5neC1jaGFydHMgLmNhcmQuYWN0aXZlLC5uZ3gtY2hhcnRzIC5jYXJkOmhvdmVyLC5uZ3gtY2hhcnRzIC5jZWxsLmFjdGl2ZSwubmd4LWNoYXJ0cyAuY2VsbDpob3ZlcntvcGFjaXR5Oi44O3RyYW5zaXRpb246b3BhY2l0eSAuMXMgZWFzZS1pbi1vdXR9Lm5neC1jaGFydHMgLmFyYzpmb2N1cywubmd4LWNoYXJ0cyAuYmFyOmZvY3VzLC5uZ3gtY2hhcnRzIC5jYXJkOmZvY3VzLC5uZ3gtY2hhcnRzIC5jZWxsOmZvY3Vze291dGxpbmU6MH0ubmd4LWNoYXJ0cyAuYXJjLmhpZGRlbiwubmd4LWNoYXJ0cyAuYmFyLmhpZGRlbiwubmd4LWNoYXJ0cyAuY2FyZC5oaWRkZW4sLm5neC1jaGFydHMgLmNlbGwuaGlkZGVue2Rpc3BsYXk6bm9uZX0ubmd4LWNoYXJ0cyBnOmZvY3Vze291dGxpbmU6MH0ubmd4LWNoYXJ0cyAuYXJlYS1zZXJpZXMuaW5hY3RpdmUsLm5neC1jaGFydHMgLmxpbmUtc2VyaWVzLXJhbmdlLmluYWN0aXZlLC5uZ3gtY2hhcnRzIC5saW5lLXNlcmllcy5pbmFjdGl2ZSwubmd4LWNoYXJ0cyAucG9sYXItc2VyaWVzLWFyZWEuaW5hY3RpdmUsLm5neC1jaGFydHMgLnBvbGFyLXNlcmllcy1wYXRoLmluYWN0aXZle3RyYW5zaXRpb246b3BhY2l0eSAuMXMgZWFzZS1pbi1vdXQ7b3BhY2l0eTouMn0ubmd4LWNoYXJ0cyAubGluZS1oaWdobGlnaHR7ZGlzcGxheTpub25lfS5uZ3gtY2hhcnRzIC5saW5lLWhpZ2hsaWdodC5hY3RpdmV7ZGlzcGxheTpibG9ja30ubmd4LWNoYXJ0cyAuYXJlYXtvcGFjaXR5Oi42fS5uZ3gtY2hhcnRzIC5jaXJjbGU6aG92ZXJ7Y3Vyc29yOnBvaW50ZXJ9Lm5neC1jaGFydHMgLmxhYmVse2ZvbnQtc2l6ZToxMnB4O2ZvbnQtd2VpZ2h0OjQwMH0ubmd4LWNoYXJ0cyAudG9vbHRpcC1hbmNob3J7ZmlsbDojMDAwfS5uZ3gtY2hhcnRzIC5ncmlkbGluZS1wYXRoe3N0cm9rZTojZGRkO3N0cm9rZS13aWR0aDoxO2ZpbGw6bm9uZX0ubmd4LWNoYXJ0cyAucmVmbGluZS1wYXRoe3N0cm9rZTojYThiMmM3O3N0cm9rZS13aWR0aDoxO3N0cm9rZS1kYXNoYXJyYXk6NTtzdHJva2UtZGFzaG9mZnNldDo1fS5uZ3gtY2hhcnRzIC5yZWZsaW5lLWxhYmVse2ZvbnQtc2l6ZTo5cHh9Lm5neC1jaGFydHMgLnJlZmVyZW5jZS1hcmVhe2ZpbGwtb3BhY2l0eTouMDU7ZmlsbDojMDAwfS5uZ3gtY2hhcnRzIC5ncmlkbGluZS1wYXRoLWRvdHRlZHtzdHJva2U6I2RkZDtzdHJva2Utd2lkdGg6MTtmaWxsOm5vbmU7c3Ryb2tlLWRhc2hhcnJheToxLDIwO3N0cm9rZS1kYXNob2Zmc2V0OjN9Lm5neC1jaGFydHMgLmdyaWQtcGFuZWwgcmVjdHtmaWxsOm5vbmV9Lm5neC1jaGFydHMgLmdyaWQtcGFuZWwub2RkIHJlY3R7ZmlsbDpyZ2JhKDAsMCwwLC4wNSl9XCJdLFxuICAgICAgICAgICAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZSxcbiAgICAgICAgICAgIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoLFxuICAgICAgICAgICAgYW5pbWF0aW9uczogW1xuICAgICAgICAgICAgICAgIHRyaWdnZXIoJ2FuaW1hdGlvblN0YXRlJywgW1xuICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uKCc6bGVhdmUnLCBbXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMVxuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRlKDUwMCwgc3R5bGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDBcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKVxuICAgICAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICBdXG4gICAgICAgIH0pXG4gICAgXSwgTGluZUNoYXJ0Q29tcG9uZW50KTtcbiAgICByZXR1cm4gTGluZUNoYXJ0Q29tcG9uZW50O1xufShCYXNlQ2hhcnRDb21wb25lbnQpKTtcblxudmFyIExpbmVTZXJpZXNDb21wb25lbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTGluZVNlcmllc0NvbXBvbmVudCgpIHtcbiAgICAgICAgdGhpcy5hbmltYXRpb25zID0gdHJ1ZTtcbiAgICB9XG4gICAgTGluZVNlcmllc0NvbXBvbmVudC5wcm90b3R5cGUubmdPbkNoYW5nZXMgPSBmdW5jdGlvbiAoY2hhbmdlcykge1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIH07XG4gICAgTGluZVNlcmllc0NvbXBvbmVudC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnVwZGF0ZUdyYWRpZW50cygpO1xuICAgICAgICB2YXIgZGF0YSA9IHRoaXMuc29ydERhdGEodGhpcy5kYXRhLnNlcmllcyk7XG4gICAgICAgIHZhciBsaW5lR2VuID0gdGhpcy5nZXRMaW5lR2VuZXJhdG9yKCk7XG4gICAgICAgIHRoaXMucGF0aCA9IGxpbmVHZW4oZGF0YSkgfHwgJyc7XG4gICAgICAgIHZhciBhcmVhR2VuID0gdGhpcy5nZXRBcmVhR2VuZXJhdG9yKCk7XG4gICAgICAgIHRoaXMuYXJlYVBhdGggPSBhcmVhR2VuKGRhdGEpIHx8ICcnO1xuICAgICAgICBpZiAodGhpcy5oYXNSYW5nZSkge1xuICAgICAgICAgICAgdmFyIHJhbmdlJCQxID0gdGhpcy5nZXRSYW5nZUdlbmVyYXRvcigpO1xuICAgICAgICAgICAgdGhpcy5vdXRlclBhdGggPSByYW5nZSQkMShkYXRhKSB8fCAnJztcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5oYXNHcmFkaWVudCkge1xuICAgICAgICAgICAgdGhpcy5zdHJva2UgPSB0aGlzLmdyYWRpZW50VXJsO1xuICAgICAgICAgICAgdmFyIHZhbHVlcyA9IHRoaXMuZGF0YS5zZXJpZXMubWFwKGZ1bmN0aW9uIChkKSB7IHJldHVybiBkLnZhbHVlOyB9KTtcbiAgICAgICAgICAgIHZhciBtYXgkJDEgPSBNYXRoLm1heC5hcHBseShNYXRoLCB2YWx1ZXMpO1xuICAgICAgICAgICAgdmFyIG1pbiQkMSA9IE1hdGgubWluLmFwcGx5KE1hdGgsIHZhbHVlcyk7XG4gICAgICAgICAgICBpZiAobWF4JCQxID09PSBtaW4kJDEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0cm9rZSA9IHRoaXMuY29sb3JzLmdldENvbG9yKG1heCQkMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN0cm9rZSA9IHRoaXMuY29sb3JzLmdldENvbG9yKHRoaXMuZGF0YS5uYW1lKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTGluZVNlcmllc0NvbXBvbmVudC5wcm90b3R5cGUuZ2V0TGluZUdlbmVyYXRvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcmV0dXJuIGxpbmUoKVxuICAgICAgICAgICAgLngoZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgIHZhciBsYWJlbCA9IGQubmFtZTtcbiAgICAgICAgICAgIHZhciB2YWx1ZTtcbiAgICAgICAgICAgIGlmIChfdGhpcy5zY2FsZVR5cGUgPT09ICd0aW1lJykge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gX3RoaXMueFNjYWxlKGxhYmVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKF90aGlzLnNjYWxlVHlwZSA9PT0gJ2xpbmVhcicpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IF90aGlzLnhTY2FsZShOdW1iZXIobGFiZWwpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gX3RoaXMueFNjYWxlKGxhYmVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC55KGZ1bmN0aW9uIChkKSB7IHJldHVybiBfdGhpcy55U2NhbGUoZC52YWx1ZSk7IH0pXG4gICAgICAgICAgICAuY3VydmUodGhpcy5jdXJ2ZSk7XG4gICAgfTtcbiAgICBMaW5lU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZS5nZXRSYW5nZUdlbmVyYXRvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcmV0dXJuIGFyZWEoKVxuICAgICAgICAgICAgLngoZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgIHZhciBsYWJlbCA9IGQubmFtZTtcbiAgICAgICAgICAgIHZhciB2YWx1ZTtcbiAgICAgICAgICAgIGlmIChfdGhpcy5zY2FsZVR5cGUgPT09ICd0aW1lJykge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gX3RoaXMueFNjYWxlKGxhYmVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKF90aGlzLnNjYWxlVHlwZSA9PT0gJ2xpbmVhcicpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IF90aGlzLnhTY2FsZShOdW1iZXIobGFiZWwpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gX3RoaXMueFNjYWxlKGxhYmVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC55MChmdW5jdGlvbiAoZCkgeyByZXR1cm4gX3RoaXMueVNjYWxlKHR5cGVvZiBkLm1pbiA9PT0gJ251bWJlcicgPyBkLm1pbiA6IGQudmFsdWUpOyB9KVxuICAgICAgICAgICAgLnkxKGZ1bmN0aW9uIChkKSB7IHJldHVybiBfdGhpcy55U2NhbGUodHlwZW9mIGQubWF4ID09PSAnbnVtYmVyJyA/IGQubWF4IDogZC52YWx1ZSk7IH0pXG4gICAgICAgICAgICAuY3VydmUodGhpcy5jdXJ2ZSk7XG4gICAgfTtcbiAgICBMaW5lU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZS5nZXRBcmVhR2VuZXJhdG9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgeFByb3BlcnR5ID0gZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgIHZhciBsYWJlbCA9IGQubmFtZTtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy54U2NhbGUobGFiZWwpO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gYXJlYSgpXG4gICAgICAgICAgICAueCh4UHJvcGVydHkpXG4gICAgICAgICAgICAueTAoZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMueVNjYWxlLnJhbmdlKClbMF07IH0pXG4gICAgICAgICAgICAueTEoZnVuY3Rpb24gKGQpIHsgcmV0dXJuIF90aGlzLnlTY2FsZShkLnZhbHVlKTsgfSlcbiAgICAgICAgICAgIC5jdXJ2ZSh0aGlzLmN1cnZlKTtcbiAgICB9O1xuICAgIExpbmVTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLnNvcnREYXRhID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgaWYgKHRoaXMuc2NhbGVUeXBlID09PSAnbGluZWFyJykge1xuICAgICAgICAgICAgZGF0YSA9IHNvcnRMaW5lYXIoZGF0YSwgJ25hbWUnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnNjYWxlVHlwZSA9PT0gJ3RpbWUnKSB7XG4gICAgICAgICAgICBkYXRhID0gc29ydEJ5VGltZShkYXRhLCAnbmFtZScpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZGF0YSA9IHNvcnRCeURvbWFpbihkYXRhLCAnbmFtZScsICdhc2MnLCB0aGlzLnhTY2FsZS5kb21haW4oKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfTtcbiAgICBMaW5lU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZS51cGRhdGVHcmFkaWVudHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbG9ycy5zY2FsZVR5cGUgPT09ICdsaW5lYXInKSB7XG4gICAgICAgICAgICB0aGlzLmhhc0dyYWRpZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuZ3JhZGllbnRJZCA9ICdncmFkJyArIGlkKCkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIHRoaXMuZ3JhZGllbnRVcmwgPSBcInVybCgjXCIgKyB0aGlzLmdyYWRpZW50SWQgKyBcIilcIjtcbiAgICAgICAgICAgIHZhciB2YWx1ZXMgPSB0aGlzLmRhdGEuc2VyaWVzLm1hcChmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC52YWx1ZTsgfSk7XG4gICAgICAgICAgICB2YXIgbWF4JCQxID0gTWF0aC5tYXguYXBwbHkoTWF0aCwgdmFsdWVzKTtcbiAgICAgICAgICAgIHZhciBtaW4kJDEgPSBNYXRoLm1pbi5hcHBseShNYXRoLCB2YWx1ZXMpO1xuICAgICAgICAgICAgdGhpcy5ncmFkaWVudFN0b3BzID0gdGhpcy5jb2xvcnMuZ2V0TGluZWFyR3JhZGllbnRTdG9wcyhtYXgkJDEsIG1pbiQkMSk7XG4gICAgICAgICAgICB0aGlzLmFyZWFHcmFkaWVudFN0b3BzID0gdGhpcy5jb2xvcnMuZ2V0TGluZWFyR3JhZGllbnRTdG9wcyhtYXgkJDEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5oYXNHcmFkaWVudCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5ncmFkaWVudFN0b3BzID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgdGhpcy5hcmVhR3JhZGllbnRTdG9wcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTGluZVNlcmllc0NvbXBvbmVudC5wcm90b3R5cGUuaXNBY3RpdmUgPSBmdW5jdGlvbiAoZW50cnkpIHtcbiAgICAgICAgaWYgKCF0aGlzLmFjdGl2ZUVudHJpZXMpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIHZhciBpdGVtID0gdGhpcy5hY3RpdmVFbnRyaWVzLmZpbmQoZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgIHJldHVybiBlbnRyeS5uYW1lID09PSBkLm5hbWU7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gaXRlbSAhPT0gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgTGluZVNlcmllc0NvbXBvbmVudC5wcm90b3R5cGUuaXNJbmFjdGl2ZSA9IGZ1bmN0aW9uIChlbnRyeSkge1xuICAgICAgICBpZiAoIXRoaXMuYWN0aXZlRW50cmllcyB8fCB0aGlzLmFjdGl2ZUVudHJpZXMubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB2YXIgaXRlbSA9IHRoaXMuYWN0aXZlRW50cmllcy5maW5kKGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICByZXR1cm4gZW50cnkubmFtZSA9PT0gZC5uYW1lO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGl0ZW0gPT09IHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIExpbmVTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLCBcImRhdGFcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBMaW5lU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ4U2NhbGVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBMaW5lU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ5U2NhbGVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBMaW5lU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJjb2xvcnNcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBMaW5lU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJzY2FsZVR5cGVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBMaW5lU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJjdXJ2ZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQXJyYXkpXG4gICAgXSwgTGluZVNlcmllc0NvbXBvbmVudC5wcm90b3R5cGUsIFwiYWN0aXZlRW50cmllc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgTnVtYmVyKVxuICAgIF0sIExpbmVTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLCBcInJhbmdlRmlsbE9wYWNpdHlcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEJvb2xlYW4pXG4gICAgXSwgTGluZVNlcmllc0NvbXBvbmVudC5wcm90b3R5cGUsIFwiaGFzUmFuZ2VcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEJvb2xlYW4pXG4gICAgXSwgTGluZVNlcmllc0NvbXBvbmVudC5wcm90b3R5cGUsIFwiYW5pbWF0aW9uc1wiLCB2b2lkIDApO1xuICAgIExpbmVTZXJpZXNDb21wb25lbnQgPSBfX2RlY29yYXRlKFtcbiAgICAgICAgQ29tcG9uZW50KHtcbiAgICAgICAgICAgIHNlbGVjdG9yOiAnZ1tuZ3gtY2hhcnRzLWxpbmUtc2VyaWVzXScsXG4gICAgICAgICAgICB0ZW1wbGF0ZTogXCJcXG4gICAgPHN2ZzpnPlxcbiAgICAgIDxkZWZzPlxcbiAgICAgICAgPHN2ZzpnIG5neC1jaGFydHMtc3ZnLWxpbmVhci1ncmFkaWVudCAqbmdJZj1cXFwiaGFzR3JhZGllbnRcXFwiXFxuICAgICAgICAgIG9yaWVudGF0aW9uPVxcXCJ2ZXJ0aWNhbFxcXCJcXG4gICAgICAgICAgW25hbWVdPVxcXCJncmFkaWVudElkXFxcIlxcbiAgICAgICAgICBbc3RvcHNdPVxcXCJncmFkaWVudFN0b3BzXFxcIlxcbiAgICAgICAgLz5cXG4gICAgICA8L2RlZnM+XFxuICAgICAgPHN2ZzpnIG5neC1jaGFydHMtYXJlYVxcbiAgICAgICAgY2xhc3M9XFxcImxpbmUtaGlnaGxpZ2h0XFxcIlxcbiAgICAgICAgW2RhdGFdPVxcXCJkYXRhXFxcIlxcbiAgICAgICAgW3BhdGhdPVxcXCJhcmVhUGF0aFxcXCJcXG4gICAgICAgIFtmaWxsXT1cXFwiaGFzR3JhZGllbnQgPyBncmFkaWVudFVybCA6IGNvbG9ycy5nZXRDb2xvcihkYXRhLm5hbWUpXFxcIlxcbiAgICAgICAgW29wYWNpdHldPVxcXCIwLjI1XFxcIlxcbiAgICAgICAgW3N0YXJ0T3BhY2l0eV09XFxcIjBcXFwiXFxuICAgICAgICBbZ3JhZGllbnRdPVxcXCJ0cnVlXFxcIlxcbiAgICAgICAgW3N0b3BzXT1cXFwiYXJlYUdyYWRpZW50U3RvcHNcXFwiXFxuICAgICAgICBbY2xhc3MuYWN0aXZlXT1cXFwiaXNBY3RpdmUoZGF0YSlcXFwiXFxuICAgICAgICBbY2xhc3MuaW5hY3RpdmVdPVxcXCJpc0luYWN0aXZlKGRhdGEpXFxcIlxcbiAgICAgICAgW2FuaW1hdGlvbnNdPVxcXCJhbmltYXRpb25zXFxcIlxcbiAgICAgIC8+XFxuICAgICAgPHN2ZzpnIG5neC1jaGFydHMtbGluZVxcbiAgICAgICAgY2xhc3M9XFxcImxpbmUtc2VyaWVzXFxcIlxcbiAgICAgICAgW2RhdGFdPVxcXCJkYXRhXFxcIlxcbiAgICAgICAgW3BhdGhdPVxcXCJwYXRoXFxcIlxcbiAgICAgICAgW3N0cm9rZV09XFxcInN0cm9rZVxcXCJcXG4gICAgICAgIFthbmltYXRpb25zXT1cXFwiYW5pbWF0aW9uc1xcXCJcXG4gICAgICAgIFtjbGFzcy5hY3RpdmVdPVxcXCJpc0FjdGl2ZShkYXRhKVxcXCJcXG4gICAgICAgIFtjbGFzcy5pbmFjdGl2ZV09XFxcImlzSW5hY3RpdmUoZGF0YSlcXFwiXFxuICAgICAgLz5cXG4gICAgIDxzdmc6ZyBuZ3gtY2hhcnRzLWFyZWFcXG4gICAgICAgICpuZ0lmPVxcXCJoYXNSYW5nZVxcXCJcXG4gICAgICAgIGNsYXNzPVxcXCJsaW5lLXNlcmllcy1yYW5nZVxcXCJcXG4gICAgICAgIFtkYXRhXT1cXFwiZGF0YVxcXCJcXG4gICAgICAgIFtwYXRoXT1cXFwib3V0ZXJQYXRoXFxcIlxcbiAgICAgICAgW2ZpbGxdPVxcXCJoYXNHcmFkaWVudCA/IGdyYWRpZW50VXJsIDogY29sb3JzLmdldENvbG9yKGRhdGEubmFtZSlcXFwiXFxuICAgICAgICBbY2xhc3MuYWN0aXZlXT1cXFwiaXNBY3RpdmUoZGF0YSlcXFwiXFxuICAgICAgICBbY2xhc3MuaW5hY3RpdmVdPVxcXCJpc0luYWN0aXZlKGRhdGEpXFxcIlxcbiAgICAgICAgW29wYWNpdHldPVxcXCJyYW5nZUZpbGxPcGFjaXR5XFxcIlxcbiAgICAgICAgW2FuaW1hdGlvbnNdPVxcXCJhbmltYXRpb25zXFxcIlxcbiAgICAgIC8+XFxuICAgIDwvc3ZnOmc+XFxuICBcIixcbiAgICAgICAgICAgIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoXG4gICAgICAgIH0pXG4gICAgXSwgTGluZVNlcmllc0NvbXBvbmVudCk7XG4gICAgcmV0dXJuIExpbmVTZXJpZXNDb21wb25lbnQ7XG59KCkpO1xuXG52YXIgTGluZUNoYXJ0TW9kdWxlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIExpbmVDaGFydE1vZHVsZSgpIHtcbiAgICB9XG4gICAgTGluZUNoYXJ0TW9kdWxlID0gX19kZWNvcmF0ZShbXG4gICAgICAgIE5nTW9kdWxlKHtcbiAgICAgICAgICAgIGltcG9ydHM6IFtDaGFydENvbW1vbk1vZHVsZV0sXG4gICAgICAgICAgICBkZWNsYXJhdGlvbnM6IFtcbiAgICAgICAgICAgICAgICBMaW5lQ29tcG9uZW50LFxuICAgICAgICAgICAgICAgIExpbmVDaGFydENvbXBvbmVudCxcbiAgICAgICAgICAgICAgICBMaW5lU2VyaWVzQ29tcG9uZW50XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgZXhwb3J0czogW1xuICAgICAgICAgICAgICAgIExpbmVDb21wb25lbnQsXG4gICAgICAgICAgICAgICAgTGluZUNoYXJ0Q29tcG9uZW50LFxuICAgICAgICAgICAgICAgIExpbmVTZXJpZXNDb21wb25lbnRcbiAgICAgICAgICAgIF1cbiAgICAgICAgfSlcbiAgICBdLCBMaW5lQ2hhcnRNb2R1bGUpO1xuICAgIHJldHVybiBMaW5lQ2hhcnRNb2R1bGU7XG59KCkpO1xuXG52YXIgdHdvUEkgPSAyICogTWF0aC5QSTtcbnZhciBQb2xhckNoYXJ0Q29tcG9uZW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhQb2xhckNoYXJ0Q29tcG9uZW50LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFBvbGFyQ2hhcnRDb21wb25lbnQoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5sZWdlbmRUaXRsZSA9ICdMZWdlbmQnO1xuICAgICAgICBfdGhpcy5sZWdlbmRQb3NpdGlvbiA9ICdyaWdodCc7XG4gICAgICAgIF90aGlzLnNob3dHcmlkTGluZXMgPSB0cnVlO1xuICAgICAgICBfdGhpcy5jdXJ2ZSA9IGN1cnZlQ2FyZGluYWxDbG9zZWQ7XG4gICAgICAgIF90aGlzLmFjdGl2ZUVudHJpZXMgPSBbXTtcbiAgICAgICAgX3RoaXMucmFuZ2VGaWxsT3BhY2l0eSA9IDAuMTU7XG4gICAgICAgIF90aGlzLnRyaW1ZQXhpc1RpY2tzID0gdHJ1ZTtcbiAgICAgICAgX3RoaXMubWF4WUF4aXNUaWNrTGVuZ3RoID0gMTY7XG4gICAgICAgIF90aGlzLnJvdW5kRG9tYWlucyA9IGZhbHNlO1xuICAgICAgICBfdGhpcy50b29sdGlwRGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuc2hvd1Nlcmllc09uSG92ZXIgPSB0cnVlO1xuICAgICAgICBfdGhpcy5ncmFkaWVudCA9IGZhbHNlO1xuICAgICAgICBfdGhpcy55QXhpc01pblNjYWxlID0gMDtcbiAgICAgICAgX3RoaXMubGFiZWxUcmltID0gdHJ1ZTtcbiAgICAgICAgX3RoaXMubGFiZWxUcmltU2l6ZSA9IDEwO1xuICAgICAgICBfdGhpcy5hY3RpdmF0ZSA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICAgICAgX3RoaXMuZGVhY3RpdmF0ZSA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICAgICAgX3RoaXMubWFyZ2luID0gWzEwLCAyMCwgMTAsIDIwXTtcbiAgICAgICAgX3RoaXMueEF4aXNIZWlnaHQgPSAwO1xuICAgICAgICBfdGhpcy55QXhpc1dpZHRoID0gMDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBQb2xhckNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUudXBkYXRlLmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMuc2V0RGltcygpO1xuICAgICAgICB0aGlzLnNldFNjYWxlcygpO1xuICAgICAgICB0aGlzLnNldENvbG9ycygpO1xuICAgICAgICB0aGlzLmxlZ2VuZE9wdGlvbnMgPSB0aGlzLmdldExlZ2VuZE9wdGlvbnMoKTtcbiAgICAgICAgdGhpcy5zZXRUaWNrcygpO1xuICAgIH07XG4gICAgUG9sYXJDaGFydENvbXBvbmVudC5wcm90b3R5cGUuc2V0RGltcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5kaW1zID0gY2FsY3VsYXRlVmlld0RpbWVuc2lvbnMoe1xuICAgICAgICAgICAgd2lkdGg6IHRoaXMud2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IHRoaXMuaGVpZ2h0LFxuICAgICAgICAgICAgbWFyZ2luczogdGhpcy5tYXJnaW4sXG4gICAgICAgICAgICBzaG93WEF4aXM6IHRoaXMueEF4aXMsXG4gICAgICAgICAgICBzaG93WUF4aXM6IHRoaXMueUF4aXMsXG4gICAgICAgICAgICB4QXhpc0hlaWdodDogdGhpcy54QXhpc0hlaWdodCxcbiAgICAgICAgICAgIHlBeGlzV2lkdGg6IHRoaXMueUF4aXNXaWR0aCxcbiAgICAgICAgICAgIHNob3dYTGFiZWw6IHRoaXMuc2hvd1hBeGlzTGFiZWwsXG4gICAgICAgICAgICBzaG93WUxhYmVsOiB0aGlzLnNob3dZQXhpc0xhYmVsLFxuICAgICAgICAgICAgc2hvd0xlZ2VuZDogdGhpcy5sZWdlbmQsXG4gICAgICAgICAgICBsZWdlbmRUeXBlOiB0aGlzLnNjaGVtZVR5cGUsXG4gICAgICAgICAgICBsZWdlbmRQb3NpdGlvbjogdGhpcy5sZWdlbmRQb3NpdGlvblxuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGhhbGZXaWR0aCA9IE1hdGguZmxvb3IodGhpcy5kaW1zLndpZHRoIC8gMik7XG4gICAgICAgIHZhciBoYWxmSGVpZ2h0ID0gTWF0aC5mbG9vcih0aGlzLmRpbXMuaGVpZ2h0IC8gMik7XG4gICAgICAgIHZhciBvdXRlclJhZGl1cyA9ICh0aGlzLm91dGVyUmFkaXVzID0gTWF0aC5taW4oaGFsZkhlaWdodCAvIDEuNSwgaGFsZldpZHRoIC8gMS41KSk7XG4gICAgICAgIHZhciB5T2Zmc2V0ID0gTWF0aC5tYXgoMCwgaGFsZkhlaWdodCAtIG91dGVyUmFkaXVzKTtcbiAgICAgICAgdGhpcy55QXhpc0RpbXMgPSBfX2Fzc2lnbih7fSwgdGhpcy5kaW1zLCB7IHdpZHRoOiBoYWxmV2lkdGggfSk7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtID0gXCJ0cmFuc2xhdGUoXCIgKyB0aGlzLmRpbXMueE9mZnNldCArIFwiLCBcIiArIHRoaXMubWFyZ2luWzBdICsgXCIpXCI7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtWUF4aXMgPSBcInRyYW5zbGF0ZSgwLCBcIiArIHlPZmZzZXQgKyBcIilcIjtcbiAgICAgICAgdGhpcy5sYWJlbE9mZnNldCA9IHRoaXMuZGltcy5oZWlnaHQgKyA0MDtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm1QbG90ID0gXCJ0cmFuc2xhdGUoXCIgKyBoYWxmV2lkdGggKyBcIiwgXCIgKyBoYWxmSGVpZ2h0ICsgXCIpXCI7XG4gICAgfTtcbiAgICBQb2xhckNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZS5zZXRTY2FsZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB4VmFsdWVzID0gdGhpcy5nZXRYVmFsdWVzKCk7XG4gICAgICAgIHRoaXMuc2NhbGVUeXBlID0gZ2V0U2NhbGVUeXBlKHhWYWx1ZXMpO1xuICAgICAgICB0aGlzLnhEb21haW4gPSB0aGlzLmZpbHRlcmVkRG9tYWluIHx8IHRoaXMuZ2V0WERvbWFpbih4VmFsdWVzKTtcbiAgICAgICAgdGhpcy55RG9tYWluID0gdGhpcy5nZXRZRG9tYWluKCk7XG4gICAgICAgIHRoaXMuc2VyaWVzRG9tYWluID0gdGhpcy5nZXRTZXJpZXNEb21haW4oKTtcbiAgICAgICAgdGhpcy54U2NhbGUgPSB0aGlzLmdldFhTY2FsZSh0aGlzLnhEb21haW4sIHR3b1BJKTtcbiAgICAgICAgdGhpcy55U2NhbGUgPSB0aGlzLmdldFlTY2FsZSh0aGlzLnlEb21haW4sIHRoaXMub3V0ZXJSYWRpdXMpO1xuICAgICAgICB0aGlzLnlBeGlzU2NhbGUgPSB0aGlzLmdldFlTY2FsZSh0aGlzLnlEb21haW4ucmV2ZXJzZSgpLCB0aGlzLm91dGVyUmFkaXVzKTtcbiAgICB9O1xuICAgIFBvbGFyQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLnNldFRpY2tzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgdGlja0Zvcm1hdDtcbiAgICAgICAgaWYgKHRoaXMueEF4aXNUaWNrRm9ybWF0dGluZykge1xuICAgICAgICAgICAgdGlja0Zvcm1hdCA9IHRoaXMueEF4aXNUaWNrRm9ybWF0dGluZztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnhTY2FsZS50aWNrRm9ybWF0KSB7XG4gICAgICAgICAgICB0aWNrRm9ybWF0ID0gdGhpcy54U2NhbGUudGlja0Zvcm1hdC5hcHBseSh0aGlzLnhTY2FsZSwgWzVdKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRpY2tGb3JtYXQgPSBmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgICAgIGlmIChpc0RhdGUoZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQudG9Mb2NhbGVEYXRlU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBkLnRvTG9jYWxlU3RyaW5nKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHZhciBvdXRlclJhZGl1cyA9IHRoaXMub3V0ZXJSYWRpdXM7XG4gICAgICAgIHZhciBzID0gMS4xO1xuICAgICAgICB0aGlzLnRoZXRhVGlja3MgPSB0aGlzLnhEb21haW4ubWFwKGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICB2YXIgc3RhcnRBbmdsZSA9IF90aGlzLnhTY2FsZShkKTtcbiAgICAgICAgICAgIHZhciBkZCA9IHMgKiBvdXRlclJhZGl1cyAqIChzdGFydEFuZ2xlID4gTWF0aC5QSSA/IC0xIDogMSk7XG4gICAgICAgICAgICB2YXIgbGFiZWwgPSB0aWNrRm9ybWF0KGQpO1xuICAgICAgICAgICAgdmFyIHN0YXJ0UG9zID0gW291dGVyUmFkaXVzICogTWF0aC5zaW4oc3RhcnRBbmdsZSksIC1vdXRlclJhZGl1cyAqIE1hdGguY29zKHN0YXJ0QW5nbGUpXTtcbiAgICAgICAgICAgIHZhciBwb3MgPSBbZGQsIHMgKiBzdGFydFBvc1sxXV07XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGlubmVyUmFkaXVzOiAwLFxuICAgICAgICAgICAgICAgIG91dGVyUmFkaXVzOiBvdXRlclJhZGl1cyxcbiAgICAgICAgICAgICAgICBzdGFydEFuZ2xlOiBzdGFydEFuZ2xlLFxuICAgICAgICAgICAgICAgIGVuZEFuZ2xlOiBzdGFydEFuZ2xlLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBvdXRlclJhZGl1cyxcbiAgICAgICAgICAgICAgICBsYWJlbDogbGFiZWwsXG4gICAgICAgICAgICAgICAgc3RhcnRQb3M6IHN0YXJ0UG9zLFxuICAgICAgICAgICAgICAgIHBvczogcG9zXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIG1pbkRpc3RhbmNlID0gMTA7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy50aGV0YVRpY2tzLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgICAgICAgdmFyIGEgPSB0aGlzLnRoZXRhVGlja3NbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gaSArIDE7IGogPCB0aGlzLnRoZXRhVGlja3MubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgYiA9IHRoaXMudGhldGFUaWNrc1tqXTtcbiAgICAgICAgICAgICAgICBpZiAoYi5wb3NbMF0gKiBhLnBvc1swXSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG8gPSBtaW5EaXN0YW5jZSAtIE1hdGguYWJzKGIucG9zWzFdIC0gYS5wb3NbMV0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAobyA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGIucG9zWzFdICs9IE1hdGguc2lnbihiLnBvc1swXSkgKiBvO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMucmFkaXVzVGlja3MgPSB0aGlzLnlBeGlzU2NhbGUudGlja3MoTWF0aC5mbG9vcih0aGlzLmRpbXMuaGVpZ2h0IC8gNTApKS5tYXAoZnVuY3Rpb24gKGQpIHsgcmV0dXJuIF90aGlzLnlTY2FsZShkKTsgfSk7XG4gICAgfTtcbiAgICBQb2xhckNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZS5nZXRYVmFsdWVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdmFsdWVzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSB0aGlzLnJlc3VsdHM7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0cyA9IF9hW19pXTtcbiAgICAgICAgICAgIGZvciAodmFyIF9iID0gMCwgX2MgPSByZXN1bHRzLnNlcmllczsgX2IgPCBfYy5sZW5ndGg7IF9iKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgZCA9IF9jW19iXTtcbiAgICAgICAgICAgICAgICBpZiAoIXZhbHVlcy5pbmNsdWRlcyhkLm5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlcy5wdXNoKGQubmFtZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgfTtcbiAgICBQb2xhckNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZS5nZXRYRG9tYWluID0gZnVuY3Rpb24gKHZhbHVlcykge1xuICAgICAgICBpZiAodmFsdWVzID09PSB2b2lkIDApIHsgdmFsdWVzID0gdGhpcy5nZXRYVmFsdWVzKCk7IH1cbiAgICAgICAgaWYgKHRoaXMuc2NhbGVUeXBlID09PSAndGltZScpIHtcbiAgICAgICAgICAgIHZhciBtaW4kJDEgPSBNYXRoLm1pbi5hcHBseShNYXRoLCB2YWx1ZXMpO1xuICAgICAgICAgICAgdmFyIG1heCQkMSA9IE1hdGgubWF4LmFwcGx5KE1hdGgsIHZhbHVlcyk7XG4gICAgICAgICAgICByZXR1cm4gW21pbiQkMSwgbWF4JCQxXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnNjYWxlVHlwZSA9PT0gJ2xpbmVhcicpIHtcbiAgICAgICAgICAgIHZhbHVlcyA9IHZhbHVlcy5tYXAoZnVuY3Rpb24gKHYpIHsgcmV0dXJuIE51bWJlcih2KTsgfSk7XG4gICAgICAgICAgICB2YXIgbWluJCQxID0gTWF0aC5taW4uYXBwbHkoTWF0aCwgdmFsdWVzKTtcbiAgICAgICAgICAgIHZhciBtYXgkJDEgPSBNYXRoLm1heC5hcHBseShNYXRoLCB2YWx1ZXMpO1xuICAgICAgICAgICAgcmV0dXJuIFttaW4kJDEsIG1heCQkMV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlcztcbiAgICB9O1xuICAgIFBvbGFyQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLmdldFlWYWx1ZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkb21haW4gPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHRoaXMucmVzdWx0czsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHZhciByZXN1bHRzID0gX2FbX2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgX2IgPSAwLCBfYyA9IHJlc3VsdHMuc2VyaWVzOyBfYiA8IF9jLmxlbmd0aDsgX2IrKykge1xuICAgICAgICAgICAgICAgIHZhciBkID0gX2NbX2JdO1xuICAgICAgICAgICAgICAgIGlmIChkb21haW4uaW5kZXhPZihkLnZhbHVlKSA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZG9tYWluLnB1c2goZC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkLm1pbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkb21haW4uaW5kZXhPZihkLm1pbikgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkb21haW4ucHVzaChkLm1pbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGQubWF4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRvbWFpbi5pbmRleE9mKGQubWF4KSA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvbWFpbi5wdXNoKGQubWF4KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZG9tYWluO1xuICAgIH07XG4gICAgUG9sYXJDaGFydENvbXBvbmVudC5wcm90b3R5cGUuZ2V0WURvbWFpbiA9IGZ1bmN0aW9uIChkb21haW4pIHtcbiAgICAgICAgaWYgKGRvbWFpbiA9PT0gdm9pZCAwKSB7IGRvbWFpbiA9IHRoaXMuZ2V0WVZhbHVlcygpOyB9XG4gICAgICAgIHZhciBtaW4kJDEgPSBNYXRoLm1pbi5hcHBseShNYXRoLCBkb21haW4pO1xuICAgICAgICB2YXIgbWF4JCQxID0gTWF0aC5tYXguYXBwbHkoTWF0aCwgW3RoaXMueUF4aXNNaW5TY2FsZV0uY29uY2F0KGRvbWFpbikpO1xuICAgICAgICBtaW4kJDEgPSBNYXRoLm1heCgwLCBtaW4kJDEpO1xuICAgICAgICBpZiAoIXRoaXMuYXV0b1NjYWxlKSB7XG4gICAgICAgICAgICBtaW4kJDEgPSBNYXRoLm1pbigwLCBtaW4kJDEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbbWluJCQxLCBtYXgkJDFdO1xuICAgIH07XG4gICAgUG9sYXJDaGFydENvbXBvbmVudC5wcm90b3R5cGUuZ2V0U2VyaWVzRG9tYWluID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHRzLm1hcChmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC5uYW1lOyB9KTtcbiAgICB9O1xuICAgIFBvbGFyQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLmdldFhTY2FsZSA9IGZ1bmN0aW9uIChkb21haW4sIHdpZHRoKSB7XG4gICAgICAgIHN3aXRjaCAodGhpcy5zY2FsZVR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ3RpbWUnOlxuICAgICAgICAgICAgICAgIHJldHVybiBzY2FsZVRpbWUoKVxuICAgICAgICAgICAgICAgICAgICAucmFuZ2UoWzAsIHdpZHRoXSlcbiAgICAgICAgICAgICAgICAgICAgLmRvbWFpbihkb21haW4pO1xuICAgICAgICAgICAgY2FzZSAnbGluZWFyJzpcbiAgICAgICAgICAgICAgICB2YXIgc2NhbGUgPSBzY2FsZUxpbmVhcigpXG4gICAgICAgICAgICAgICAgICAgIC5yYW5nZShbMCwgd2lkdGhdKVxuICAgICAgICAgICAgICAgICAgICAuZG9tYWluKGRvbWFpbik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucm91bmREb21haW5zID8gc2NhbGUubmljZSgpIDogc2NhbGU7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBzY2FsZVBvaW50KClcbiAgICAgICAgICAgICAgICAgICAgLnJhbmdlKFswLCB3aWR0aCAtIHR3b1BJIC8gZG9tYWluLmxlbmd0aF0pXG4gICAgICAgICAgICAgICAgICAgIC5wYWRkaW5nKDApXG4gICAgICAgICAgICAgICAgICAgIC5kb21haW4oZG9tYWluKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUG9sYXJDaGFydENvbXBvbmVudC5wcm90b3R5cGUuZ2V0WVNjYWxlID0gZnVuY3Rpb24gKGRvbWFpbiwgaGVpZ2h0KSB7XG4gICAgICAgIHZhciBzY2FsZSA9IHNjYWxlTGluZWFyKClcbiAgICAgICAgICAgIC5yYW5nZShbMCwgaGVpZ2h0XSlcbiAgICAgICAgICAgIC5kb21haW4oZG9tYWluKTtcbiAgICAgICAgcmV0dXJuIHRoaXMucm91bmREb21haW5zID8gc2NhbGUubmljZSgpIDogc2NhbGU7XG4gICAgfTtcbiAgICBQb2xhckNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZS5vbkNsaWNrID0gZnVuY3Rpb24gKGRhdGEsIHNlcmllcykge1xuICAgICAgICBpZiAoc2VyaWVzKSB7XG4gICAgICAgICAgICBkYXRhLnNlcmllcyA9IHNlcmllcy5uYW1lO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2VsZWN0LmVtaXQoZGF0YSk7XG4gICAgfTtcbiAgICBQb2xhckNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZS5zZXRDb2xvcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkb21haW4gPSB0aGlzLnNjaGVtZVR5cGUgPT09ICdvcmRpbmFsJyA/IHRoaXMuc2VyaWVzRG9tYWluIDogdGhpcy55RG9tYWluLnJldmVyc2UoKTtcbiAgICAgICAgdGhpcy5jb2xvcnMgPSBuZXcgQ29sb3JIZWxwZXIodGhpcy5zY2hlbWUsIHRoaXMuc2NoZW1lVHlwZSwgZG9tYWluLCB0aGlzLmN1c3RvbUNvbG9ycyk7XG4gICAgfTtcbiAgICBQb2xhckNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZS5nZXRMZWdlbmRPcHRpb25zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5zY2hlbWVUeXBlID09PSAnb3JkaW5hbCcpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc2NhbGVUeXBlOiB0aGlzLnNjaGVtZVR5cGUsXG4gICAgICAgICAgICAgICAgY29sb3JzOiB0aGlzLmNvbG9ycyxcbiAgICAgICAgICAgICAgICBkb21haW46IHRoaXMuc2VyaWVzRG9tYWluLFxuICAgICAgICAgICAgICAgIHRpdGxlOiB0aGlzLmxlZ2VuZFRpdGxlLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiB0aGlzLmxlZ2VuZFBvc2l0aW9uXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzY2FsZVR5cGU6IHRoaXMuc2NoZW1lVHlwZSxcbiAgICAgICAgICAgIGNvbG9yczogdGhpcy5jb2xvcnMuc2NhbGUsXG4gICAgICAgICAgICBkb21haW46IHRoaXMueURvbWFpbixcbiAgICAgICAgICAgIHRpdGxlOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBwb3NpdGlvbjogdGhpcy5sZWdlbmRQb3NpdGlvblxuICAgICAgICB9O1xuICAgIH07XG4gICAgUG9sYXJDaGFydENvbXBvbmVudC5wcm90b3R5cGUudXBkYXRlWUF4aXNXaWR0aCA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgd2lkdGggPSBfYS53aWR0aDtcbiAgICAgICAgdGhpcy55QXhpc1dpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfTtcbiAgICBQb2xhckNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZS51cGRhdGVYQXhpc0hlaWdodCA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgaGVpZ2h0ID0gX2EuaGVpZ2h0O1xuICAgICAgICB0aGlzLnhBeGlzSGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIH07XG4gICAgUG9sYXJDaGFydENvbXBvbmVudC5wcm90b3R5cGUub25BY3RpdmF0ZSA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHZhciBpZHggPSB0aGlzLmFjdGl2ZUVudHJpZXMuZmluZEluZGV4KGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICByZXR1cm4gZC5uYW1lID09PSBpdGVtLm5hbWUgJiYgZC52YWx1ZSA9PT0gaXRlbS52YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChpZHggPiAtMSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWN0aXZlRW50cmllcyA9IHRoaXMuc2hvd1Nlcmllc09uSG92ZXIgPyBbaXRlbV0uY29uY2F0KHRoaXMuYWN0aXZlRW50cmllcykgOiB0aGlzLmFjdGl2ZUVudHJpZXM7XG4gICAgICAgIHRoaXMuYWN0aXZhdGUuZW1pdCh7IHZhbHVlOiBpdGVtLCBlbnRyaWVzOiB0aGlzLmFjdGl2ZUVudHJpZXMgfSk7XG4gICAgfTtcbiAgICBQb2xhckNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZS5vbkRlYWN0aXZhdGUgPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICB2YXIgaWR4ID0gdGhpcy5hY3RpdmVFbnRyaWVzLmZpbmRJbmRleChmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgcmV0dXJuIGQubmFtZSA9PT0gaXRlbS5uYW1lICYmIGQudmFsdWUgPT09IGl0ZW0udmFsdWU7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmFjdGl2ZUVudHJpZXMuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgIHRoaXMuYWN0aXZlRW50cmllcyA9IHRoaXMuYWN0aXZlRW50cmllcy5zbGljZSgpO1xuICAgICAgICB0aGlzLmRlYWN0aXZhdGUuZW1pdCh7IHZhbHVlOiBpdGVtLCBlbnRyaWVzOiB0aGlzLmFjdGl2ZUVudHJpZXMgfSk7XG4gICAgfTtcbiAgICBQb2xhckNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZS5kZWFjdGl2YXRlQWxsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmFjdGl2ZUVudHJpZXMgPSB0aGlzLmFjdGl2ZUVudHJpZXMuc2xpY2UoKTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHRoaXMuYWN0aXZlRW50cmllczsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHZhciBlbnRyeSA9IF9hW19pXTtcbiAgICAgICAgICAgIHRoaXMuZGVhY3RpdmF0ZS5lbWl0KHsgdmFsdWU6IGVudHJ5LCBlbnRyaWVzOiBbXSB9KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFjdGl2ZUVudHJpZXMgPSBbXTtcbiAgICB9O1xuICAgIFBvbGFyQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLnRyYWNrQnkgPSBmdW5jdGlvbiAoaW5kZXgsIGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIGl0ZW0ubmFtZTtcbiAgICB9O1xuICAgIHZhciBfYSwgX2IsIF9jO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbiAgICBdLCBQb2xhckNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJsZWdlbmRcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcbiAgICBdLCBQb2xhckNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJsZWdlbmRUaXRsZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgU3RyaW5nKVxuICAgIF0sIFBvbGFyQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLCBcImxlZ2VuZFBvc2l0aW9uXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIFBvbGFyQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLCBcInhBeGlzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIFBvbGFyQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLCBcInlBeGlzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIFBvbGFyQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLCBcInNob3dYQXhpc0xhYmVsXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIFBvbGFyQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLCBcInNob3dZQXhpc0xhYmVsXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBTdHJpbmcpXG4gICAgXSwgUG9sYXJDaGFydENvbXBvbmVudC5wcm90b3R5cGUsIFwieEF4aXNMYWJlbFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgU3RyaW5nKVxuICAgIF0sIFBvbGFyQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLCBcInlBeGlzTGFiZWxcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEJvb2xlYW4pXG4gICAgXSwgUG9sYXJDaGFydENvbXBvbmVudC5wcm90b3R5cGUsIFwiYXV0b1NjYWxlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIFBvbGFyQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLCBcInNob3dHcmlkTGluZXNcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBQb2xhckNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJjdXJ2ZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQXJyYXkpXG4gICAgXSwgUG9sYXJDaGFydENvbXBvbmVudC5wcm90b3R5cGUsIFwiYWN0aXZlRW50cmllc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgU3RyaW5nKVxuICAgIF0sIFBvbGFyQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLCBcInNjaGVtZVR5cGVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE51bWJlcilcbiAgICBdLCBQb2xhckNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJyYW5nZUZpbGxPcGFjaXR5XCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIFBvbGFyQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLCBcInRyaW1ZQXhpc1RpY2tzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBOdW1iZXIpXG4gICAgXSwgUG9sYXJDaGFydENvbXBvbmVudC5wcm90b3R5cGUsIFwibWF4WUF4aXNUaWNrTGVuZ3RoXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBGdW5jdGlvbilcbiAgICBdLCBQb2xhckNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJ4QXhpc1RpY2tGb3JtYXR0aW5nXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBGdW5jdGlvbilcbiAgICBdLCBQb2xhckNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJ5QXhpc1RpY2tGb3JtYXR0aW5nXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIFBvbGFyQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLCBcInJvdW5kRG9tYWluc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbiAgICBdLCBQb2xhckNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJ0b29sdGlwRGlzYWJsZWRcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEJvb2xlYW4pXG4gICAgXSwgUG9sYXJDaGFydENvbXBvbmVudC5wcm90b3R5cGUsIFwic2hvd1Nlcmllc09uSG92ZXJcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEJvb2xlYW4pXG4gICAgXSwgUG9sYXJDaGFydENvbXBvbmVudC5wcm90b3R5cGUsIFwiZ3JhZGllbnRcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE51bWJlcilcbiAgICBdLCBQb2xhckNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJ5QXhpc01pblNjYWxlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIFBvbGFyQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLCBcImxhYmVsVHJpbVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgTnVtYmVyKVxuICAgIF0sIFBvbGFyQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLCBcImxhYmVsVHJpbVNpemVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgT3V0cHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCB0eXBlb2YgKF9hID0gdHlwZW9mIEV2ZW50RW1pdHRlciAhPT0gXCJ1bmRlZmluZWRcIiAmJiBFdmVudEVtaXR0ZXIpID09PSBcImZ1bmN0aW9uXCIgPyBfYSA6IE9iamVjdClcbiAgICBdLCBQb2xhckNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJhY3RpdmF0ZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBPdXRwdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIHR5cGVvZiAoX2IgPSB0eXBlb2YgRXZlbnRFbWl0dGVyICE9PSBcInVuZGVmaW5lZFwiICYmIEV2ZW50RW1pdHRlcikgPT09IFwiZnVuY3Rpb25cIiA/IF9iIDogT2JqZWN0KVxuICAgIF0sIFBvbGFyQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLCBcImRlYWN0aXZhdGVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgQ29udGVudENoaWxkKCd0b29sdGlwVGVtcGxhdGUnLCB7IHN0YXRpYzogZmFsc2UgfSksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCB0eXBlb2YgKF9jID0gdHlwZW9mIFRlbXBsYXRlUmVmICE9PSBcInVuZGVmaW5lZFwiICYmIFRlbXBsYXRlUmVmKSA9PT0gXCJmdW5jdGlvblwiID8gX2MgOiBPYmplY3QpXG4gICAgXSwgUG9sYXJDaGFydENvbXBvbmVudC5wcm90b3R5cGUsIFwidG9vbHRpcFRlbXBsYXRlXCIsIHZvaWQgMCk7XG4gICAgUG9sYXJDaGFydENvbXBvbmVudCA9IF9fZGVjb3JhdGUoW1xuICAgICAgICBDb21wb25lbnQoe1xuICAgICAgICAgICAgc2VsZWN0b3I6ICduZ3gtY2hhcnRzLXBvbGFyLWNoYXJ0JyxcbiAgICAgICAgICAgIHRlbXBsYXRlOiBcIlxcbiAgICA8bmd4LWNoYXJ0cy1jaGFydFxcbiAgICAgIFt2aWV3XT1cXFwiW3dpZHRoLCBoZWlnaHRdXFxcIlxcbiAgICAgIFtzaG93TGVnZW5kXT1cXFwibGVnZW5kXFxcIlxcbiAgICAgIFtsZWdlbmRPcHRpb25zXT1cXFwibGVnZW5kT3B0aW9uc1xcXCJcXG4gICAgICBbYWN0aXZlRW50cmllc109XFxcImFjdGl2ZUVudHJpZXNcXFwiXFxuICAgICAgW2FuaW1hdGlvbnNdPVxcXCJhbmltYXRpb25zXFxcIlxcbiAgICAgIChsZWdlbmRMYWJlbENsaWNrKT1cXFwib25DbGljaygkZXZlbnQpXFxcIlxcbiAgICAgIChsZWdlbmRMYWJlbEFjdGl2YXRlKT1cXFwib25BY3RpdmF0ZSgkZXZlbnQpXFxcIlxcbiAgICAgIChsZWdlbmRMYWJlbERlYWN0aXZhdGUpPVxcXCJvbkRlYWN0aXZhdGUoJGV2ZW50KVxcXCJcXG4gICAgPlxcbiAgICAgIDxzdmc6ZyBjbGFzcz1cXFwicG9sYXItY2hhcnQgY2hhcnRcXFwiIFthdHRyLnRyYW5zZm9ybV09XFxcInRyYW5zZm9ybVxcXCI+XFxuICAgICAgICA8c3ZnOmcgW2F0dHIudHJhbnNmb3JtXT1cXFwidHJhbnNmb3JtUGxvdFxcXCI+XFxuICAgICAgICAgIDxzdmc6Y2lyY2xlIGNsYXNzPVxcXCJwb2xhci1jaGFydC1iYWNrZ3JvdW5kXFxcIiBjeD1cXFwiMFxcXCIgY3k9XFxcIjBcXFwiIFthdHRyLnJdPVxcXCJ0aGlzLm91dGVyUmFkaXVzXFxcIiAvPlxcbiAgICAgICAgICA8c3ZnOmcgKm5nSWY9XFxcInNob3dHcmlkTGluZXNcXFwiPlxcbiAgICAgICAgICAgIDxzdmc6Y2lyY2xlXFxuICAgICAgICAgICAgICAqbmdGb3I9XFxcImxldCByIG9mIHJhZGl1c1RpY2tzXFxcIlxcbiAgICAgICAgICAgICAgY2xhc3M9XFxcImdyaWRsaW5lLXBhdGggcmFkaWFsLWdyaWRsaW5lLXBhdGhcXFwiXFxuICAgICAgICAgICAgICBjeD1cXFwiMFxcXCJcXG4gICAgICAgICAgICAgIGN5PVxcXCIwXFxcIlxcbiAgICAgICAgICAgICAgW2F0dHIucl09XFxcInJcXFwiXFxuICAgICAgICAgICAgLz5cXG4gICAgICAgICAgPC9zdmc6Zz5cXG4gICAgICAgICAgPHN2ZzpnICpuZ0lmPVxcXCJ4QXhpc1xcXCI+XFxuICAgICAgICAgICAgPHN2ZzpnXFxuICAgICAgICAgICAgICBuZ3gtY2hhcnRzLXBpZS1sYWJlbFxcbiAgICAgICAgICAgICAgKm5nRm9yPVxcXCJsZXQgdGljayBvZiB0aGV0YVRpY2tzXFxcIlxcbiAgICAgICAgICAgICAgW2RhdGFdPVxcXCJ0aWNrXFxcIlxcbiAgICAgICAgICAgICAgW3JhZGl1c109XFxcIm91dGVyUmFkaXVzXFxcIlxcbiAgICAgICAgICAgICAgW2xhYmVsXT1cXFwidGljay5sYWJlbFxcXCJcXG4gICAgICAgICAgICAgIFttYXhdPVxcXCJvdXRlclJhZGl1c1xcXCJcXG4gICAgICAgICAgICAgIFt2YWx1ZV09XFxcInNob3dHcmlkTGluZXMgPyAxIDogb3V0ZXJSYWRpdXNcXFwiXFxuICAgICAgICAgICAgICBbZXhwbG9kZVNsaWNlc109XFxcInRydWVcXFwiXFxuICAgICAgICAgICAgICBbYW5pbWF0aW9uc109XFxcImFuaW1hdGlvbnNcXFwiXFxuICAgICAgICAgICAgICBbbGFiZWxUcmltXT1cXFwibGFiZWxUcmltXFxcIlxcbiAgICAgICAgICAgICAgW2xhYmVsVHJpbVNpemVdPVxcXCJsYWJlbFRyaW1TaXplXFxcIlxcbiAgICAgICAgICAgID48L3N2ZzpnPlxcbiAgICAgICAgICA8L3N2ZzpnPlxcbiAgICAgICAgPC9zdmc6Zz5cXG4gICAgICAgIDxzdmc6Z1xcbiAgICAgICAgICBuZ3gtY2hhcnRzLXktYXhpc1xcbiAgICAgICAgICBbYXR0ci50cmFuc2Zvcm1dPVxcXCJ0cmFuc2Zvcm1ZQXhpc1xcXCJcXG4gICAgICAgICAgKm5nSWY9XFxcInlBeGlzXFxcIlxcbiAgICAgICAgICBbeVNjYWxlXT1cXFwieUF4aXNTY2FsZVxcXCJcXG4gICAgICAgICAgW2RpbXNdPVxcXCJ5QXhpc0RpbXNcXFwiXFxuICAgICAgICAgIFtzaG93R3JpZExpbmVzXT1cXFwic2hvd0dyaWRMaW5lc1xcXCJcXG4gICAgICAgICAgW3Nob3dMYWJlbF09XFxcInNob3dZQXhpc0xhYmVsXFxcIlxcbiAgICAgICAgICBbbGFiZWxUZXh0XT1cXFwieUF4aXNMYWJlbFxcXCJcXG4gICAgICAgICAgW3RyaW1UaWNrc109XFxcInRyaW1ZQXhpc1RpY2tzXFxcIlxcbiAgICAgICAgICBbbWF4VGlja0xlbmd0aF09XFxcIm1heFlBeGlzVGlja0xlbmd0aFxcXCJcXG4gICAgICAgICAgW3RpY2tGb3JtYXR0aW5nXT1cXFwieUF4aXNUaWNrRm9ybWF0dGluZ1xcXCJcXG4gICAgICAgICAgKGRpbWVuc2lvbnNDaGFuZ2VkKT1cXFwidXBkYXRlWUF4aXNXaWR0aCgkZXZlbnQpXFxcIlxcbiAgICAgICAgPjwvc3ZnOmc+XFxuICAgICAgICA8c3ZnOmdcXG4gICAgICAgICAgbmd4LWNoYXJ0cy1heGlzLWxhYmVsXFxuICAgICAgICAgICpuZ0lmPVxcXCJ4QXhpcyAmJiBzaG93WEF4aXNMYWJlbFxcXCJcXG4gICAgICAgICAgW2xhYmVsXT1cXFwieEF4aXNMYWJlbFxcXCJcXG4gICAgICAgICAgW29mZnNldF09XFxcImxhYmVsT2Zmc2V0XFxcIlxcbiAgICAgICAgICBbb3JpZW50XT1cXFwiJ2JvdHRvbSdcXFwiXFxuICAgICAgICAgIFtoZWlnaHRdPVxcXCJkaW1zLmhlaWdodFxcXCJcXG4gICAgICAgICAgW3dpZHRoXT1cXFwiZGltcy53aWR0aFxcXCJcXG4gICAgICAgID48L3N2ZzpnPlxcbiAgICAgICAgPHN2ZzpnIFthdHRyLnRyYW5zZm9ybV09XFxcInRyYW5zZm9ybVBsb3RcXFwiPlxcbiAgICAgICAgICA8c3ZnOmcgKm5nRm9yPVxcXCJsZXQgc2VyaWVzIG9mIHJlc3VsdHM7IHRyYWNrQnk6IHRyYWNrQnlcXFwiIFtAYW5pbWF0aW9uU3RhdGVdPVxcXCInYWN0aXZlJ1xcXCI+XFxuICAgICAgICAgICAgPHN2ZzpnXFxuICAgICAgICAgICAgICBuZ3gtY2hhcnRzLXBvbGFyLXNlcmllc1xcbiAgICAgICAgICAgICAgW2dyYWRpZW50XT1cXFwiZ3JhZGllbnRcXFwiXFxuICAgICAgICAgICAgICBbeFNjYWxlXT1cXFwieFNjYWxlXFxcIlxcbiAgICAgICAgICAgICAgW3lTY2FsZV09XFxcInlTY2FsZVxcXCJcXG4gICAgICAgICAgICAgIFtjb2xvcnNdPVxcXCJjb2xvcnNcXFwiXFxuICAgICAgICAgICAgICBbZGF0YV09XFxcInNlcmllc1xcXCJcXG4gICAgICAgICAgICAgIFthY3RpdmVFbnRyaWVzXT1cXFwiYWN0aXZlRW50cmllc1xcXCJcXG4gICAgICAgICAgICAgIFtzY2FsZVR5cGVdPVxcXCJzY2FsZVR5cGVcXFwiXFxuICAgICAgICAgICAgICBbY3VydmVdPVxcXCJjdXJ2ZVxcXCJcXG4gICAgICAgICAgICAgIFtyYW5nZUZpbGxPcGFjaXR5XT1cXFwicmFuZ2VGaWxsT3BhY2l0eVxcXCJcXG4gICAgICAgICAgICAgIFthbmltYXRpb25zXT1cXFwiYW5pbWF0aW9uc1xcXCJcXG4gICAgICAgICAgICAgIFt0b29sdGlwRGlzYWJsZWRdPVxcXCJ0b29sdGlwRGlzYWJsZWRcXFwiXFxuICAgICAgICAgICAgICBbdG9vbHRpcFRlbXBsYXRlXT1cXFwidG9vbHRpcFRlbXBsYXRlXFxcIlxcbiAgICAgICAgICAgICAgKHNlbGVjdCk9XFxcIm9uQ2xpY2soJGV2ZW50KVxcXCJcXG4gICAgICAgICAgICAgIChhY3RpdmF0ZSk9XFxcIm9uQWN0aXZhdGUoJGV2ZW50KVxcXCJcXG4gICAgICAgICAgICAgIChkZWFjdGl2YXRlKT1cXFwib25EZWFjdGl2YXRlKCRldmVudClcXFwiXFxuICAgICAgICAgICAgLz5cXG4gICAgICAgICAgPC9zdmc6Zz5cXG4gICAgICAgIDwvc3ZnOmc+XFxuICAgICAgPC9zdmc6Zz5cXG4gICAgPC9uZ3gtY2hhcnRzLWNoYXJ0PlxcbiAgXCIsXG4gICAgICAgICAgICBzdHlsZXM6IFtcbiAgICAgICAgICAgICAgICBcIi5uZ3gtY2hhcnRze2Zsb2F0OmxlZnQ7b3ZlcmZsb3c6dmlzaWJsZX0ubmd4LWNoYXJ0cyAuYXJjLC5uZ3gtY2hhcnRzIC5iYXIsLm5neC1jaGFydHMgLmNpcmNsZXtjdXJzb3I6cG9pbnRlcn0ubmd4LWNoYXJ0cyAuYXJjLmFjdGl2ZSwubmd4LWNoYXJ0cyAuYXJjOmhvdmVyLC5uZ3gtY2hhcnRzIC5iYXIuYWN0aXZlLC5uZ3gtY2hhcnRzIC5iYXI6aG92ZXIsLm5neC1jaGFydHMgLmNhcmQuYWN0aXZlLC5uZ3gtY2hhcnRzIC5jYXJkOmhvdmVyLC5uZ3gtY2hhcnRzIC5jZWxsLmFjdGl2ZSwubmd4LWNoYXJ0cyAuY2VsbDpob3ZlcntvcGFjaXR5Oi44O3RyYW5zaXRpb246b3BhY2l0eSAuMXMgZWFzZS1pbi1vdXR9Lm5neC1jaGFydHMgLmFyYzpmb2N1cywubmd4LWNoYXJ0cyAuYmFyOmZvY3VzLC5uZ3gtY2hhcnRzIC5jYXJkOmZvY3VzLC5uZ3gtY2hhcnRzIC5jZWxsOmZvY3Vze291dGxpbmU6MH0ubmd4LWNoYXJ0cyAuYXJjLmhpZGRlbiwubmd4LWNoYXJ0cyAuYmFyLmhpZGRlbiwubmd4LWNoYXJ0cyAuY2FyZC5oaWRkZW4sLm5neC1jaGFydHMgLmNlbGwuaGlkZGVue2Rpc3BsYXk6bm9uZX0ubmd4LWNoYXJ0cyBnOmZvY3Vze291dGxpbmU6MH0ubmd4LWNoYXJ0cyAuYXJlYS1zZXJpZXMuaW5hY3RpdmUsLm5neC1jaGFydHMgLmxpbmUtc2VyaWVzLXJhbmdlLmluYWN0aXZlLC5uZ3gtY2hhcnRzIC5saW5lLXNlcmllcy5pbmFjdGl2ZSwubmd4LWNoYXJ0cyAucG9sYXItc2VyaWVzLWFyZWEuaW5hY3RpdmUsLm5neC1jaGFydHMgLnBvbGFyLXNlcmllcy1wYXRoLmluYWN0aXZle3RyYW5zaXRpb246b3BhY2l0eSAuMXMgZWFzZS1pbi1vdXQ7b3BhY2l0eTouMn0ubmd4LWNoYXJ0cyAubGluZS1oaWdobGlnaHR7ZGlzcGxheTpub25lfS5uZ3gtY2hhcnRzIC5saW5lLWhpZ2hsaWdodC5hY3RpdmV7ZGlzcGxheTpibG9ja30ubmd4LWNoYXJ0cyAuYXJlYXtvcGFjaXR5Oi42fS5uZ3gtY2hhcnRzIC5jaXJjbGU6aG92ZXJ7Y3Vyc29yOnBvaW50ZXJ9Lm5neC1jaGFydHMgLmxhYmVse2ZvbnQtc2l6ZToxMnB4O2ZvbnQtd2VpZ2h0OjQwMH0ubmd4LWNoYXJ0cyAudG9vbHRpcC1hbmNob3J7ZmlsbDojMDAwfS5uZ3gtY2hhcnRzIC5ncmlkbGluZS1wYXRoe3N0cm9rZTojZGRkO3N0cm9rZS13aWR0aDoxO2ZpbGw6bm9uZX0ubmd4LWNoYXJ0cyAucmVmbGluZS1wYXRoe3N0cm9rZTojYThiMmM3O3N0cm9rZS13aWR0aDoxO3N0cm9rZS1kYXNoYXJyYXk6NTtzdHJva2UtZGFzaG9mZnNldDo1fS5uZ3gtY2hhcnRzIC5yZWZsaW5lLWxhYmVse2ZvbnQtc2l6ZTo5cHh9Lm5neC1jaGFydHMgLnJlZmVyZW5jZS1hcmVhe2ZpbGwtb3BhY2l0eTouMDU7ZmlsbDojMDAwfS5uZ3gtY2hhcnRzIC5ncmlkbGluZS1wYXRoLWRvdHRlZHtzdHJva2U6I2RkZDtzdHJva2Utd2lkdGg6MTtmaWxsOm5vbmU7c3Ryb2tlLWRhc2hhcnJheToxLDIwO3N0cm9rZS1kYXNob2Zmc2V0OjN9Lm5neC1jaGFydHMgLmdyaWQtcGFuZWwgcmVjdHtmaWxsOm5vbmV9Lm5neC1jaGFydHMgLmdyaWQtcGFuZWwub2RkIHJlY3R7ZmlsbDpyZ2JhKDAsMCwwLC4wNSl9XCIsXG4gICAgICAgICAgICAgICAgXCIucGllLWxhYmVse2ZvbnQtc2l6ZToxMXB4fS5waWUtbGFiZWwuYW5pbWF0aW9ue2FuaW1hdGlvbjo3NTBtcyBlYXNlLWluIGZhZGVJbn1Aa2V5ZnJhbWVzIGZhZGVJbntmcm9te29wYWNpdHk6MH10b3tvcGFjaXR5OjF9fS5waWUtbGFiZWwtbGluZXtzdHJva2UtZGFzaGFycmF5OjEwMCV9LnBpZS1sYWJlbC1saW5lLmFuaW1hdGlvbnthbmltYXRpb246M3MgbGluZWFyIGRyYXdPdXQ7dHJhbnNpdGlvbjpkIDc1MG1zfUBrZXlmcmFtZXMgZHJhd091dHtmcm9te3N0cm9rZS1kYXNob2Zmc2V0OjEwMCV9dG97c3Ryb2tlLWRhc2hvZmZzZXQ6MH19XCIsXG4gICAgICAgICAgICAgICAgXCIucG9sYXItY2hhcnQgLnBvbGFyLWNoYXJ0LWJhY2tncm91bmR7ZmlsbDpub25lfS5wb2xhci1jaGFydCAucmFkaWFsLWdyaWRsaW5lLXBhdGh7c3Ryb2tlLWRhc2hhcnJheToxMCAxMDtmaWxsOm5vbmV9LnBvbGFyLWNoYXJ0IC5waWUtbGFiZWwtbGluZXtzdHJva2U6IzJmMzY0Nn0ucG9sYXItY2hhcnRzLXNlcmllcyAucG9sYXItc2VyaWVzLWFyZWF7cG9pbnRlci1ldmVudHM6bm9uZX0ucG9sYXItc2VyaWVzLXBhdGh7cG9pbnRlci1ldmVudHM6bm9uZX1cIlxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmUsXG4gICAgICAgICAgICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcbiAgICAgICAgICAgIGFuaW1hdGlvbnM6IFtcbiAgICAgICAgICAgICAgICB0cmlnZ2VyKCdhbmltYXRpb25TdGF0ZScsIFtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbignOmxlYXZlJywgW1xuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDFcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0ZSg1MDAsIHN0eWxlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAwXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSlcbiAgICAgICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgXVxuICAgICAgICB9KVxuICAgIF0sIFBvbGFyQ2hhcnRDb21wb25lbnQpO1xuICAgIHJldHVybiBQb2xhckNoYXJ0Q29tcG9uZW50O1xufShCYXNlQ2hhcnRDb21wb25lbnQpKTtcblxudmFyIFBvbGFyU2VyaWVzQ29tcG9uZW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFBvbGFyU2VyaWVzQ29tcG9uZW50KCkge1xuICAgICAgICB0aGlzLnRvb2x0aXBEaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmdyYWRpZW50ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucyA9IHRydWU7XG4gICAgICAgIHRoaXMuc2VsZWN0ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICB0aGlzLmFjdGl2YXRlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICB0aGlzLmRlYWN0aXZhdGUgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgICAgIHRoaXMuY2lyY2xlUmFkaXVzID0gMztcbiAgICB9XG4gICAgUG9sYXJTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLm5nT25DaGFuZ2VzID0gZnVuY3Rpb24gKGNoYW5nZXMpIHtcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICB9O1xuICAgIFBvbGFyU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMudXBkYXRlR3JhZGllbnRzKCk7XG4gICAgICAgIHZhciBsaW5lJCQxID0gdGhpcy5nZXRMaW5lR2VuZXJhdG9yKCk7XG4gICAgICAgIHZhciBkYXRhID0gdGhpcy5zb3J0RGF0YSh0aGlzLmRhdGEuc2VyaWVzKTtcbiAgICAgICAgdmFyIHNlcmllc05hbWUgPSB0aGlzLmRhdGEubmFtZTtcbiAgICAgICAgdmFyIGxpbmVhclNjYWxlVHlwZSA9IHRoaXMuY29sb3JzLnNjYWxlVHlwZSA9PT0gJ2xpbmVhcic7XG4gICAgICAgIHZhciBtaW4kJDEgPSB0aGlzLnlTY2FsZS5kb21haW4oKVswXTtcbiAgICAgICAgdGhpcy5zZXJpZXNDb2xvciA9IHRoaXMuY29sb3JzLmdldENvbG9yKGxpbmVhclNjYWxlVHlwZSA/IG1pbiQkMSA6IHNlcmllc05hbWUpO1xuICAgICAgICB0aGlzLnBhdGggPSBsaW5lJCQxKGRhdGEpIHx8ICcnO1xuICAgICAgICB0aGlzLmNpcmNsZXMgPSBkYXRhLm1hcChmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgdmFyIGEgPSBfdGhpcy5nZXRBbmdsZShkKTtcbiAgICAgICAgICAgIHZhciByID0gX3RoaXMuZ2V0UmFkaXVzKGQpO1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gZC52YWx1ZTtcbiAgICAgICAgICAgIHZhciBjb2xvciA9IF90aGlzLmNvbG9ycy5nZXRDb2xvcihsaW5lYXJTY2FsZVR5cGUgPyBNYXRoLmFicyh2YWx1ZSkgOiBzZXJpZXNOYW1lKTtcbiAgICAgICAgICAgIHZhciBjRGF0YSA9IE9iamVjdC5hc3NpZ24oe30sIGQsIHtcbiAgICAgICAgICAgICAgICBzZXJpZXM6IHNlcmllc05hbWUsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgICAgIG5hbWU6IGQubmFtZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGRhdGE6IGNEYXRhLFxuICAgICAgICAgICAgICAgIGN4OiByICogTWF0aC5zaW4oYSksXG4gICAgICAgICAgICAgICAgY3k6IC1yICogTWF0aC5jb3MoYSksXG4gICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgICAgIGNvbG9yOiBjb2xvcixcbiAgICAgICAgICAgICAgICBsYWJlbDogZC5uYW1lXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5hY3RpdmUgPSB0aGlzLmlzQWN0aXZlKHRoaXMuZGF0YSk7XG4gICAgICAgIHRoaXMuaW5hY3RpdmUgPSB0aGlzLmlzSW5hY3RpdmUodGhpcy5kYXRhKTtcbiAgICAgICAgdGhpcy50b29sdGlwVGV4dCA9IHRoaXMudG9vbHRpcFRleHQgfHwgKGZ1bmN0aW9uIChjKSB7IHJldHVybiBfdGhpcy5kZWZhdWx0VG9vbHRpcFRleHQoYyk7IH0pO1xuICAgIH07XG4gICAgUG9sYXJTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLmdldEFuZ2xlID0gZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgdmFyIGxhYmVsID0gZC5uYW1lO1xuICAgICAgICBpZiAodGhpcy5zY2FsZVR5cGUgPT09ICd0aW1lJykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMueFNjYWxlKGxhYmVsKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnNjYWxlVHlwZSA9PT0gJ2xpbmVhcicpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnhTY2FsZShOdW1iZXIobGFiZWwpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy54U2NhbGUobGFiZWwpO1xuICAgIH07XG4gICAgUG9sYXJTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLmdldFJhZGl1cyA9IGZ1bmN0aW9uIChkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnlTY2FsZShkLnZhbHVlKTtcbiAgICB9O1xuICAgIFBvbGFyU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZS5nZXRMaW5lR2VuZXJhdG9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICByZXR1cm4gbGluZVJhZGlhbCgpXG4gICAgICAgICAgICAuYW5nbGUoZnVuY3Rpb24gKGQpIHsgcmV0dXJuIF90aGlzLmdldEFuZ2xlKGQpOyB9KVxuICAgICAgICAgICAgLnJhZGl1cyhmdW5jdGlvbiAoZCkgeyByZXR1cm4gX3RoaXMuZ2V0UmFkaXVzKGQpOyB9KVxuICAgICAgICAgICAgLmN1cnZlKHRoaXMuY3VydmUpO1xuICAgIH07XG4gICAgUG9sYXJTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLnNvcnREYXRhID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgaWYgKHRoaXMuc2NhbGVUeXBlID09PSAnbGluZWFyJykge1xuICAgICAgICAgICAgcmV0dXJuIHNvcnRMaW5lYXIoZGF0YSwgJ25hbWUnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnNjYWxlVHlwZSA9PT0gJ3RpbWUnKSB7XG4gICAgICAgICAgICByZXR1cm4gc29ydEJ5VGltZShkYXRhLCAnbmFtZScpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzb3J0QnlEb21haW4oZGF0YSwgJ25hbWUnLCAnYXNjJywgdGhpcy54U2NhbGUuZG9tYWluKCkpO1xuICAgIH07XG4gICAgUG9sYXJTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLmlzQWN0aXZlID0gZnVuY3Rpb24gKGVudHJ5KSB7XG4gICAgICAgIGlmICghdGhpcy5hY3RpdmVFbnRyaWVzKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB2YXIgaXRlbSA9IHRoaXMuYWN0aXZlRW50cmllcy5maW5kKGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICByZXR1cm4gZW50cnkubmFtZSA9PT0gZC5uYW1lO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGl0ZW0gIT09IHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIFBvbGFyU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZS5pc0luYWN0aXZlID0gZnVuY3Rpb24gKGVudHJ5KSB7XG4gICAgICAgIGlmICghdGhpcy5hY3RpdmVFbnRyaWVzIHx8IHRoaXMuYWN0aXZlRW50cmllcy5sZW5ndGggPT09IDApXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIHZhciBpdGVtID0gdGhpcy5hY3RpdmVFbnRyaWVzLmZpbmQoZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgIHJldHVybiBlbnRyeS5uYW1lID09PSBkLm5hbWU7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gaXRlbSA9PT0gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgUG9sYXJTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLmRlZmF1bHRUb29sdGlwVGV4dCA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgbGFiZWwgPSBfYS5sYWJlbCwgdmFsdWUgPSBfYS52YWx1ZTtcbiAgICAgICAgcmV0dXJuIFwiXFxuICAgICAgPHNwYW4gY2xhc3M9XFxcInRvb2x0aXAtbGFiZWxcXFwiPlwiICsgZXNjYXBlTGFiZWwodGhpcy5kYXRhLm5hbWUpICsgXCIgXFx1MjAyMiBcIiArIGVzY2FwZUxhYmVsKGxhYmVsKSArIFwiPC9zcGFuPlxcbiAgICAgIDxzcGFuIGNsYXNzPVxcXCJ0b29sdGlwLXZhbFxcXCI+XCIgKyB2YWx1ZS50b0xvY2FsZVN0cmluZygpICsgXCI8L3NwYW4+XFxuICAgIFwiO1xuICAgIH07XG4gICAgUG9sYXJTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLnVwZGF0ZUdyYWRpZW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5oYXNHcmFkaWVudCA9IHRoaXMuZ3JhZGllbnQgfHwgdGhpcy5jb2xvcnMuc2NhbGVUeXBlID09PSAnbGluZWFyJztcbiAgICAgICAgaWYgKCF0aGlzLmhhc0dyYWRpZW50KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ncmFkaWVudElkID0gJ2dyYWQnICsgaWQoKS50b1N0cmluZygpO1xuICAgICAgICB0aGlzLmdyYWRpZW50VXJsID0gXCJ1cmwoI1wiICsgdGhpcy5ncmFkaWVudElkICsgXCIpXCI7XG4gICAgICAgIGlmICh0aGlzLmNvbG9ycy5zY2FsZVR5cGUgPT09ICdsaW5lYXInKSB7XG4gICAgICAgICAgICB2YXIgdmFsdWVzID0gdGhpcy5kYXRhLnNlcmllcy5tYXAoZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQudmFsdWU7IH0pO1xuICAgICAgICAgICAgdmFyIG1heCQkMSA9IE1hdGgubWF4LmFwcGx5KE1hdGgsIHZhbHVlcyk7XG4gICAgICAgICAgICB2YXIgbWluJCQxID0gTWF0aC5taW4uYXBwbHkoTWF0aCwgdmFsdWVzKTtcbiAgICAgICAgICAgIHRoaXMuZ3JhZGllbnRTdG9wcyA9IHRoaXMuY29sb3JzLmdldExpbmVhckdyYWRpZW50U3RvcHMobWF4JCQxLCBtaW4kJDEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5ncmFkaWVudFN0b3BzID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB2YXIgX2E7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgUG9sYXJTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLCBcIm5hbWVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBQb2xhclNlcmllc0NvbXBvbmVudC5wcm90b3R5cGUsIFwiZGF0YVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIFBvbGFyU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ4U2NhbGVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBQb2xhclNlcmllc0NvbXBvbmVudC5wcm90b3R5cGUsIFwieVNjYWxlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgUG9sYXJTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLCBcImNvbG9yc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIFBvbGFyU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJzY2FsZVR5cGVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBQb2xhclNlcmllc0NvbXBvbmVudC5wcm90b3R5cGUsIFwiY3VydmVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEFycmF5KVxuICAgIF0sIFBvbGFyU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJhY3RpdmVFbnRyaWVzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBOdW1iZXIpXG4gICAgXSwgUG9sYXJTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLCBcInJhbmdlRmlsbE9wYWNpdHlcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEJvb2xlYW4pXG4gICAgXSwgUG9sYXJTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLCBcInRvb2x0aXBEaXNhYmxlZFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgRnVuY3Rpb24pXG4gICAgXSwgUG9sYXJTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLCBcInRvb2x0aXBUZXh0XCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIFBvbGFyU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJncmFkaWVudFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgdHlwZW9mIChfYSA9IHR5cGVvZiBUZW1wbGF0ZVJlZiAhPT0gXCJ1bmRlZmluZWRcIiAmJiBUZW1wbGF0ZVJlZikgPT09IFwiZnVuY3Rpb25cIiA/IF9hIDogT2JqZWN0KVxuICAgIF0sIFBvbGFyU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ0b29sdGlwVGVtcGxhdGVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEJvb2xlYW4pXG4gICAgXSwgUG9sYXJTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLCBcImFuaW1hdGlvbnNcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgT3V0cHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgUG9sYXJTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLCBcInNlbGVjdFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBPdXRwdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBQb2xhclNlcmllc0NvbXBvbmVudC5wcm90b3R5cGUsIFwiYWN0aXZhdGVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgT3V0cHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgUG9sYXJTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLCBcImRlYWN0aXZhdGVcIiwgdm9pZCAwKTtcbiAgICBQb2xhclNlcmllc0NvbXBvbmVudCA9IF9fZGVjb3JhdGUoW1xuICAgICAgICBDb21wb25lbnQoe1xuICAgICAgICAgICAgc2VsZWN0b3I6ICdnW25neC1jaGFydHMtcG9sYXItc2VyaWVzXScsXG4gICAgICAgICAgICB0ZW1wbGF0ZTogXCJcXG4gICAgPHN2ZzpnIGNsYXNzPVxcXCJwb2xhci1jaGFydHMtc2VyaWVzXFxcIj5cXG4gICAgICA8ZGVmcz5cXG4gICAgICAgIDxzdmc6Z1xcbiAgICAgICAgICBuZ3gtY2hhcnRzLXN2Zy1yYWRpYWwtZ3JhZGllbnRcXG4gICAgICAgICAgKm5nSWY9XFxcImhhc0dyYWRpZW50XFxcIlxcbiAgICAgICAgICBvcmllbnRhdGlvbj1cXFwidmVydGljYWxcXFwiXFxuICAgICAgICAgIFtjb2xvcl09XFxcInNlcmllc0NvbG9yXFxcIlxcbiAgICAgICAgICBbbmFtZV09XFxcImdyYWRpZW50SWRcXFwiXFxuICAgICAgICAgIFtzdGFydE9wYWNpdHldPVxcXCIwLjI1XFxcIlxcbiAgICAgICAgICBbZW5kT3BhY2l0eV09XFxcIjFcXFwiXFxuICAgICAgICAgIFtzdG9wc109XFxcImdyYWRpZW50U3RvcHNcXFwiXFxuICAgICAgICAvPlxcbiAgICAgIDwvZGVmcz5cXG4gICAgICA8c3ZnOmdcXG4gICAgICAgIG5neC1jaGFydHMtbGluZVxcbiAgICAgICAgY2xhc3M9XFxcInBvbGFyLXNlcmllcy1wYXRoXFxcIlxcbiAgICAgICAgW3BhdGhdPVxcXCJwYXRoXFxcIlxcbiAgICAgICAgW3N0cm9rZV09XFxcImhhc0dyYWRpZW50ID8gZ3JhZGllbnRVcmwgOiBzZXJpZXNDb2xvclxcXCJcXG4gICAgICAgIFtjbGFzcy5hY3RpdmVdPVxcXCJhY3RpdmVcXFwiXFxuICAgICAgICBbY2xhc3MuaW5hY3RpdmVdPVxcXCJpbmFjdGl2ZVxcXCJcXG4gICAgICAgIFthdHRyLmZpbGwtb3BhY2l0eV09XFxcInJhbmdlRmlsbE9wYWNpdHlcXFwiXFxuICAgICAgICBbZmlsbF09XFxcImhhc0dyYWRpZW50ID8gZ3JhZGllbnRVcmwgOiBzZXJpZXNDb2xvclxcXCJcXG4gICAgICAgIFthbmltYXRpb25zXT1cXFwiYW5pbWF0aW9uc1xcXCJcXG4gICAgICAvPlxcbiAgICAgIDxzdmc6Z1xcbiAgICAgICAgbmd4LWNoYXJ0cy1jaXJjbGVcXG4gICAgICAgICpuZ0Zvcj1cXFwibGV0IGNpcmNsZSBvZiBjaXJjbGVzXFxcIlxcbiAgICAgICAgY2xhc3M9XFxcImNpcmNsZVxcXCJcXG4gICAgICAgIFtjeF09XFxcImNpcmNsZS5jeFxcXCJcXG4gICAgICAgIFtjeV09XFxcImNpcmNsZS5jeVxcXCJcXG4gICAgICAgIFtyXT1cXFwiY2lyY2xlUmFkaXVzXFxcIlxcbiAgICAgICAgW2ZpbGxdPVxcXCJjaXJjbGUuY29sb3JcXFwiXFxuICAgICAgICBbc3R5bGUub3BhY2l0eV09XFxcImluYWN0aXZlID8gMC4yIDogMVxcXCJcXG4gICAgICAgIG5neC10b29sdGlwXFxuICAgICAgICBbdG9vbHRpcERpc2FibGVkXT1cXFwidG9vbHRpcERpc2FibGVkXFxcIlxcbiAgICAgICAgW3Rvb2x0aXBQbGFjZW1lbnRdPVxcXCIndG9wJ1xcXCJcXG4gICAgICAgIHRvb2x0aXBUeXBlPVxcXCJ0b29sdGlwXFxcIlxcbiAgICAgICAgW3Rvb2x0aXBUaXRsZV09XFxcInRvb2x0aXBUZW1wbGF0ZSA/IHVuZGVmaW5lZCA6IHRvb2x0aXBUZXh0KGNpcmNsZSlcXFwiXFxuICAgICAgICBbdG9vbHRpcFRlbXBsYXRlXT1cXFwidG9vbHRpcFRlbXBsYXRlXFxcIlxcbiAgICAgICAgW3Rvb2x0aXBDb250ZXh0XT1cXFwiY2lyY2xlLmRhdGFcXFwiXFxuICAgICAgICAoc2VsZWN0KT1cXFwic2VsZWN0LmVtaXQoY2lyY2xlLmRhdGEpXFxcIlxcbiAgICAgICAgKGFjdGl2YXRlKT1cXFwiYWN0aXZhdGUuZW1pdCh7IG5hbWU6IGNpcmNsZS5kYXRhLnNlcmllcyB9KVxcXCJcXG4gICAgICAgIChkZWFjdGl2YXRlKT1cXFwiZGVhY3RpdmF0ZS5lbWl0KHsgbmFtZTogY2lyY2xlLmRhdGEuc2VyaWVzIH0pXFxcIlxcbiAgICAgID48L3N2ZzpnPlxcbiAgICA8L3N2ZzpnPlxcbiAgXCIsXG4gICAgICAgICAgICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaFxuICAgICAgICB9KVxuICAgIF0sIFBvbGFyU2VyaWVzQ29tcG9uZW50KTtcbiAgICByZXR1cm4gUG9sYXJTZXJpZXNDb21wb25lbnQ7XG59KCkpO1xuXG52YXIgQWR2YW5jZWRQaWVDaGFydENvbXBvbmVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQWR2YW5jZWRQaWVDaGFydENvbXBvbmVudCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBZHZhbmNlZFBpZUNoYXJ0Q29tcG9uZW50KCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuYWN0aXZlRW50cmllcyA9IFtdO1xuICAgICAgICBfdGhpcy50b29sdGlwRGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMubGFiZWwgPSAnVG90YWwnO1xuICAgICAgICBfdGhpcy5hY3RpdmF0ZSA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICAgICAgX3RoaXMuZGVhY3RpdmF0ZSA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICAgICAgX3RoaXMubWFyZ2luID0gWzIwLCAyMCwgMjAsIDIwXTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBBZHZhbmNlZFBpZUNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUudXBkYXRlLmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMuZGltcyA9IGNhbGN1bGF0ZVZpZXdEaW1lbnNpb25zKHtcbiAgICAgICAgICAgIHdpZHRoOiAodGhpcy53aWR0aCAqIDQpIC8gMTIuMCxcbiAgICAgICAgICAgIGhlaWdodDogdGhpcy5oZWlnaHQsXG4gICAgICAgICAgICBtYXJnaW5zOiB0aGlzLm1hcmdpblxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5mb3JtYXREYXRlcygpO1xuICAgICAgICB0aGlzLmRvbWFpbiA9IHRoaXMuZ2V0RG9tYWluKCk7XG4gICAgICAgIHRoaXMuc2V0Q29sb3JzKCk7XG4gICAgICAgIHZhciB4T2Zmc2V0ID0gdGhpcy5kaW1zLndpZHRoIC8gMjtcbiAgICAgICAgdmFyIHlPZmZzZXQgPSB0aGlzLm1hcmdpblswXSArIHRoaXMuZGltcy5oZWlnaHQgLyAyO1xuICAgICAgICB0aGlzLmxlZ2VuZFdpZHRoID0gdGhpcy53aWR0aCAtIHRoaXMuZGltcy53aWR0aCAtIHRoaXMubWFyZ2luWzFdO1xuICAgICAgICB0aGlzLm91dGVyUmFkaXVzID0gTWF0aC5taW4odGhpcy5kaW1zLndpZHRoLCB0aGlzLmRpbXMuaGVpZ2h0KSAvIDIuNTtcbiAgICAgICAgdGhpcy5pbm5lclJhZGl1cyA9IHRoaXMub3V0ZXJSYWRpdXMgKiAwLjc1O1xuICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IFwidHJhbnNsYXRlKFwiICsgeE9mZnNldCArIFwiICwgXCIgKyB5T2Zmc2V0ICsgXCIpXCI7XG4gICAgfTtcbiAgICBBZHZhbmNlZFBpZUNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZS5nZXREb21haW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlc3VsdHMubWFwKGZ1bmN0aW9uIChkKSB7IHJldHVybiBkLmxhYmVsOyB9KTtcbiAgICB9O1xuICAgIEFkdmFuY2VkUGllQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLm9uQ2xpY2sgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB0aGlzLnNlbGVjdC5lbWl0KGRhdGEpO1xuICAgIH07XG4gICAgQWR2YW5jZWRQaWVDaGFydENvbXBvbmVudC5wcm90b3R5cGUuc2V0Q29sb3JzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmNvbG9ycyA9IG5ldyBDb2xvckhlbHBlcih0aGlzLnNjaGVtZSwgJ29yZGluYWwnLCB0aGlzLmRvbWFpbiwgdGhpcy5jdXN0b21Db2xvcnMpO1xuICAgIH07XG4gICAgQWR2YW5jZWRQaWVDaGFydENvbXBvbmVudC5wcm90b3R5cGUub25BY3RpdmF0ZSA9IGZ1bmN0aW9uIChpdGVtLCBmcm9tTGVnZW5kKSB7XG4gICAgICAgIGlmIChmcm9tTGVnZW5kID09PSB2b2lkIDApIHsgZnJvbUxlZ2VuZCA9IGZhbHNlOyB9XG4gICAgICAgIGl0ZW0gPSB0aGlzLnJlc3VsdHMuZmluZChmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgaWYgKGZyb21MZWdlbmQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZC5sYWJlbCA9PT0gaXRlbS5uYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGQubmFtZSA9PT0gaXRlbS5uYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGlkeCA9IHRoaXMuYWN0aXZlRW50cmllcy5maW5kSW5kZXgoZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgIHJldHVybiBkLm5hbWUgPT09IGl0ZW0ubmFtZSAmJiBkLnZhbHVlID09PSBpdGVtLnZhbHVlICYmIGQuc2VyaWVzID09PSBpdGVtLnNlcmllcztcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChpZHggPiAtMSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWN0aXZlRW50cmllcyA9IFtpdGVtXS5jb25jYXQodGhpcy5hY3RpdmVFbnRyaWVzKTtcbiAgICAgICAgdGhpcy5hY3RpdmF0ZS5lbWl0KHsgdmFsdWU6IGl0ZW0sIGVudHJpZXM6IHRoaXMuYWN0aXZlRW50cmllcyB9KTtcbiAgICB9O1xuICAgIEFkdmFuY2VkUGllQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLm9uRGVhY3RpdmF0ZSA9IGZ1bmN0aW9uIChpdGVtLCBmcm9tTGVnZW5kKSB7XG4gICAgICAgIGlmIChmcm9tTGVnZW5kID09PSB2b2lkIDApIHsgZnJvbUxlZ2VuZCA9IGZhbHNlOyB9XG4gICAgICAgIGl0ZW0gPSB0aGlzLnJlc3VsdHMuZmluZChmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgaWYgKGZyb21MZWdlbmQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZC5sYWJlbCA9PT0gaXRlbS5uYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGQubmFtZSA9PT0gaXRlbS5uYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGlkeCA9IHRoaXMuYWN0aXZlRW50cmllcy5maW5kSW5kZXgoZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgIHJldHVybiBkLm5hbWUgPT09IGl0ZW0ubmFtZSAmJiBkLnZhbHVlID09PSBpdGVtLnZhbHVlICYmIGQuc2VyaWVzID09PSBpdGVtLnNlcmllcztcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuYWN0aXZlRW50cmllcy5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgdGhpcy5hY3RpdmVFbnRyaWVzID0gdGhpcy5hY3RpdmVFbnRyaWVzLnNsaWNlKCk7XG4gICAgICAgIHRoaXMuZGVhY3RpdmF0ZS5lbWl0KHsgdmFsdWU6IGl0ZW0sIGVudHJpZXM6IHRoaXMuYWN0aXZlRW50cmllcyB9KTtcbiAgICB9O1xuICAgIHZhciBfYSwgX2IsIF9jO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbiAgICBdLCBBZHZhbmNlZFBpZUNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJncmFkaWVudFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQXJyYXkpXG4gICAgXSwgQWR2YW5jZWRQaWVDaGFydENvbXBvbmVudC5wcm90b3R5cGUsIFwiYWN0aXZlRW50cmllc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbiAgICBdLCBBZHZhbmNlZFBpZUNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJ0b29sdGlwRGlzYWJsZWRcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBBZHZhbmNlZFBpZUNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJ0b29sdGlwVGV4dFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgU3RyaW5nKVxuICAgIF0sIEFkdmFuY2VkUGllQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLCBcImxhYmVsXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIE91dHB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgdHlwZW9mIChfYSA9IHR5cGVvZiBFdmVudEVtaXR0ZXIgIT09IFwidW5kZWZpbmVkXCIgJiYgRXZlbnRFbWl0dGVyKSA9PT0gXCJmdW5jdGlvblwiID8gX2EgOiBPYmplY3QpXG4gICAgXSwgQWR2YW5jZWRQaWVDaGFydENvbXBvbmVudC5wcm90b3R5cGUsIFwiYWN0aXZhdGVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgT3V0cHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCB0eXBlb2YgKF9iID0gdHlwZW9mIEV2ZW50RW1pdHRlciAhPT0gXCJ1bmRlZmluZWRcIiAmJiBFdmVudEVtaXR0ZXIpID09PSBcImZ1bmN0aW9uXCIgPyBfYiA6IE9iamVjdClcbiAgICBdLCBBZHZhbmNlZFBpZUNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJkZWFjdGl2YXRlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIENvbnRlbnRDaGlsZCgndG9vbHRpcFRlbXBsYXRlJywgeyBzdGF0aWM6IGZhbHNlIH0pLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgdHlwZW9mIChfYyA9IHR5cGVvZiBUZW1wbGF0ZVJlZiAhPT0gXCJ1bmRlZmluZWRcIiAmJiBUZW1wbGF0ZVJlZikgPT09IFwiZnVuY3Rpb25cIiA/IF9jIDogT2JqZWN0KVxuICAgIF0sIEFkdmFuY2VkUGllQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLCBcInRvb2x0aXBUZW1wbGF0ZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgRnVuY3Rpb24pXG4gICAgXSwgQWR2YW5jZWRQaWVDaGFydENvbXBvbmVudC5wcm90b3R5cGUsIFwidmFsdWVGb3JtYXR0aW5nXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBGdW5jdGlvbilcbiAgICBdLCBBZHZhbmNlZFBpZUNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJuYW1lRm9ybWF0dGluZ1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgRnVuY3Rpb24pXG4gICAgXSwgQWR2YW5jZWRQaWVDaGFydENvbXBvbmVudC5wcm90b3R5cGUsIFwicGVyY2VudGFnZUZvcm1hdHRpbmdcIiwgdm9pZCAwKTtcbiAgICBBZHZhbmNlZFBpZUNoYXJ0Q29tcG9uZW50ID0gX19kZWNvcmF0ZShbXG4gICAgICAgIENvbXBvbmVudCh7XG4gICAgICAgICAgICBzZWxlY3RvcjogJ25neC1jaGFydHMtYWR2YW5jZWQtcGllLWNoYXJ0JyxcbiAgICAgICAgICAgIHRlbXBsYXRlOiBcIlxcbiAgICA8ZGl2IFtzdHlsZS53aWR0aC5weF09XFxcIndpZHRoXFxcIiBbc3R5bGUuaGVpZ2h0LnB4XT1cXFwiaGVpZ2h0XFxcIj5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJhZHZhbmNlZC1waWUgY2hhcnRcXFwiIFtzdHlsZS53aWR0aC5weF09XFxcImRpbXMud2lkdGhcXFwiIFtzdHlsZS5oZWlnaHQucHhdPVxcXCJkaW1zLmhlaWdodFxcXCI+XFxuICAgICAgICA8bmd4LWNoYXJ0cy1jaGFydCBbdmlld109XFxcIlt3aWR0aCwgaGVpZ2h0XVxcXCIgW3Nob3dMZWdlbmRdPVxcXCJmYWxzZVxcXCIgW2FuaW1hdGlvbnNdPVxcXCJhbmltYXRpb25zXFxcIj5cXG4gICAgICAgICAgPHN2ZzpnIFthdHRyLnRyYW5zZm9ybV09XFxcInRyYW5zZm9ybVxcXCIgY2xhc3M9XFxcInBpZSBjaGFydFxcXCI+XFxuICAgICAgICAgICAgPHN2ZzpnXFxuICAgICAgICAgICAgICBuZ3gtY2hhcnRzLXBpZS1zZXJpZXNcXG4gICAgICAgICAgICAgIFtjb2xvcnNdPVxcXCJjb2xvcnNcXFwiXFxuICAgICAgICAgICAgICBbc2VyaWVzXT1cXFwicmVzdWx0c1xcXCJcXG4gICAgICAgICAgICAgIFtpbm5lclJhZGl1c109XFxcImlubmVyUmFkaXVzXFxcIlxcbiAgICAgICAgICAgICAgW2FjdGl2ZUVudHJpZXNdPVxcXCJhY3RpdmVFbnRyaWVzXFxcIlxcbiAgICAgICAgICAgICAgW291dGVyUmFkaXVzXT1cXFwib3V0ZXJSYWRpdXNcXFwiXFxuICAgICAgICAgICAgICBbZ3JhZGllbnRdPVxcXCJncmFkaWVudFxcXCJcXG4gICAgICAgICAgICAgIFt0b29sdGlwRGlzYWJsZWRdPVxcXCJ0b29sdGlwRGlzYWJsZWRcXFwiXFxuICAgICAgICAgICAgICBbdG9vbHRpcFRlbXBsYXRlXT1cXFwidG9vbHRpcFRlbXBsYXRlXFxcIlxcbiAgICAgICAgICAgICAgW3Rvb2x0aXBUZXh0XT1cXFwidG9vbHRpcFRleHRcXFwiXFxuICAgICAgICAgICAgICAoc2VsZWN0KT1cXFwib25DbGljaygkZXZlbnQpXFxcIlxcbiAgICAgICAgICAgICAgKGFjdGl2YXRlKT1cXFwib25BY3RpdmF0ZSgkZXZlbnQpXFxcIlxcbiAgICAgICAgICAgICAgKGRlYWN0aXZhdGUpPVxcXCJvbkRlYWN0aXZhdGUoJGV2ZW50KVxcXCJcXG4gICAgICAgICAgICAgIFthbmltYXRpb25zXT1cXFwiYW5pbWF0aW9uc1xcXCJcXG4gICAgICAgICAgICA+PC9zdmc6Zz5cXG4gICAgICAgICAgPC9zdmc6Zz5cXG4gICAgICAgIDwvbmd4LWNoYXJ0cy1jaGFydD5cXG4gICAgICA8L2Rpdj5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJhZHZhbmNlZC1waWUtbGVnZW5kLXdyYXBwZXJcXFwiIFtzdHlsZS53aWR0aC5weF09XFxcIndpZHRoIC0gZGltcy53aWR0aFxcXCIgW3N0eWxlLmhlaWdodC5weF09XFxcImhlaWdodFxcXCI+XFxuICAgICAgICA8bmd4LWNoYXJ0cy1hZHZhbmNlZC1sZWdlbmRcXG4gICAgICAgICAgW2RhdGFdPVxcXCJyZXN1bHRzXFxcIlxcbiAgICAgICAgICBbY29sb3JzXT1cXFwiY29sb3JzXFxcIlxcbiAgICAgICAgICBbd2lkdGhdPVxcXCJ3aWR0aCAtIGRpbXMud2lkdGggLSBtYXJnaW5bMV1cXFwiXFxuICAgICAgICAgIFtsYWJlbF09XFxcImxhYmVsXFxcIlxcbiAgICAgICAgICBbYW5pbWF0aW9uc109XFxcImFuaW1hdGlvbnNcXFwiXFxuICAgICAgICAgIFt2YWx1ZUZvcm1hdHRpbmddPVxcXCJ2YWx1ZUZvcm1hdHRpbmdcXFwiXFxuICAgICAgICAgIFtsYWJlbEZvcm1hdHRpbmddPVxcXCJuYW1lRm9ybWF0dGluZ1xcXCJcXG4gICAgICAgICAgW3BlcmNlbnRhZ2VGb3JtYXR0aW5nXT1cXFwicGVyY2VudGFnZUZvcm1hdHRpbmdcXFwiXFxuICAgICAgICAgIChzZWxlY3QpPVxcXCJvbkNsaWNrKCRldmVudClcXFwiXFxuICAgICAgICAgIChhY3RpdmF0ZSk9XFxcIm9uQWN0aXZhdGUoJGV2ZW50LCB0cnVlKVxcXCJcXG4gICAgICAgICAgKGRlYWN0aXZhdGUpPVxcXCJvbkRlYWN0aXZhdGUoJGV2ZW50LCB0cnVlKVxcXCJcXG4gICAgICAgID5cXG4gICAgICAgIDwvbmd4LWNoYXJ0cy1hZHZhbmNlZC1sZWdlbmQ+XFxuICAgICAgPC9kaXY+XFxuICAgIDwvZGl2PlxcbiAgXCIsXG4gICAgICAgICAgICBzdHlsZXM6IFtcIi5uZ3gtY2hhcnRze2Zsb2F0OmxlZnQ7b3ZlcmZsb3c6dmlzaWJsZX0ubmd4LWNoYXJ0cyAuYXJjLC5uZ3gtY2hhcnRzIC5iYXIsLm5neC1jaGFydHMgLmNpcmNsZXtjdXJzb3I6cG9pbnRlcn0ubmd4LWNoYXJ0cyAuYXJjLmFjdGl2ZSwubmd4LWNoYXJ0cyAuYXJjOmhvdmVyLC5uZ3gtY2hhcnRzIC5iYXIuYWN0aXZlLC5uZ3gtY2hhcnRzIC5iYXI6aG92ZXIsLm5neC1jaGFydHMgLmNhcmQuYWN0aXZlLC5uZ3gtY2hhcnRzIC5jYXJkOmhvdmVyLC5uZ3gtY2hhcnRzIC5jZWxsLmFjdGl2ZSwubmd4LWNoYXJ0cyAuY2VsbDpob3ZlcntvcGFjaXR5Oi44O3RyYW5zaXRpb246b3BhY2l0eSAuMXMgZWFzZS1pbi1vdXR9Lm5neC1jaGFydHMgLmFyYzpmb2N1cywubmd4LWNoYXJ0cyAuYmFyOmZvY3VzLC5uZ3gtY2hhcnRzIC5jYXJkOmZvY3VzLC5uZ3gtY2hhcnRzIC5jZWxsOmZvY3Vze291dGxpbmU6MH0ubmd4LWNoYXJ0cyAuYXJjLmhpZGRlbiwubmd4LWNoYXJ0cyAuYmFyLmhpZGRlbiwubmd4LWNoYXJ0cyAuY2FyZC5oaWRkZW4sLm5neC1jaGFydHMgLmNlbGwuaGlkZGVue2Rpc3BsYXk6bm9uZX0ubmd4LWNoYXJ0cyBnOmZvY3Vze291dGxpbmU6MH0ubmd4LWNoYXJ0cyAuYXJlYS1zZXJpZXMuaW5hY3RpdmUsLm5neC1jaGFydHMgLmxpbmUtc2VyaWVzLXJhbmdlLmluYWN0aXZlLC5uZ3gtY2hhcnRzIC5saW5lLXNlcmllcy5pbmFjdGl2ZSwubmd4LWNoYXJ0cyAucG9sYXItc2VyaWVzLWFyZWEuaW5hY3RpdmUsLm5neC1jaGFydHMgLnBvbGFyLXNlcmllcy1wYXRoLmluYWN0aXZle3RyYW5zaXRpb246b3BhY2l0eSAuMXMgZWFzZS1pbi1vdXQ7b3BhY2l0eTouMn0ubmd4LWNoYXJ0cyAubGluZS1oaWdobGlnaHR7ZGlzcGxheTpub25lfS5uZ3gtY2hhcnRzIC5saW5lLWhpZ2hsaWdodC5hY3RpdmV7ZGlzcGxheTpibG9ja30ubmd4LWNoYXJ0cyAuYXJlYXtvcGFjaXR5Oi42fS5uZ3gtY2hhcnRzIC5jaXJjbGU6aG92ZXJ7Y3Vyc29yOnBvaW50ZXJ9Lm5neC1jaGFydHMgLmxhYmVse2ZvbnQtc2l6ZToxMnB4O2ZvbnQtd2VpZ2h0OjQwMH0ubmd4LWNoYXJ0cyAudG9vbHRpcC1hbmNob3J7ZmlsbDojMDAwfS5uZ3gtY2hhcnRzIC5ncmlkbGluZS1wYXRoe3N0cm9rZTojZGRkO3N0cm9rZS13aWR0aDoxO2ZpbGw6bm9uZX0ubmd4LWNoYXJ0cyAucmVmbGluZS1wYXRoe3N0cm9rZTojYThiMmM3O3N0cm9rZS13aWR0aDoxO3N0cm9rZS1kYXNoYXJyYXk6NTtzdHJva2UtZGFzaG9mZnNldDo1fS5uZ3gtY2hhcnRzIC5yZWZsaW5lLWxhYmVse2ZvbnQtc2l6ZTo5cHh9Lm5neC1jaGFydHMgLnJlZmVyZW5jZS1hcmVhe2ZpbGwtb3BhY2l0eTouMDU7ZmlsbDojMDAwfS5uZ3gtY2hhcnRzIC5ncmlkbGluZS1wYXRoLWRvdHRlZHtzdHJva2U6I2RkZDtzdHJva2Utd2lkdGg6MTtmaWxsOm5vbmU7c3Ryb2tlLWRhc2hhcnJheToxLDIwO3N0cm9rZS1kYXNob2Zmc2V0OjN9Lm5neC1jaGFydHMgLmdyaWQtcGFuZWwgcmVjdHtmaWxsOm5vbmV9Lm5neC1jaGFydHMgLmdyaWQtcGFuZWwub2RkIHJlY3R7ZmlsbDpyZ2JhKDAsMCwwLC4wNSl9XCIsIFwiLmFkdmFuY2VkLXBpZXtkaXNwbGF5OmlubGluZS1ibG9jaztmbG9hdDpsZWZ0fS5hZHZhbmNlZC1waWUtbGVnZW5kLXdyYXBwZXJ7ZGlzcGxheTppbmxpbmUtYmxvY2t9XCJdLFxuICAgICAgICAgICAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZSxcbiAgICAgICAgICAgIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoXG4gICAgICAgIH0pXG4gICAgXSwgQWR2YW5jZWRQaWVDaGFydENvbXBvbmVudCk7XG4gICAgcmV0dXJuIEFkdmFuY2VkUGllQ2hhcnRDb21wb25lbnQ7XG59KEJhc2VDaGFydENvbXBvbmVudCkpO1xuXG52YXIgUGllTGFiZWxDb21wb25lbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUGllTGFiZWxDb21wb25lbnQoKSB7XG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucyA9IHRydWU7XG4gICAgICAgIHRoaXMubGFiZWxUcmltID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5sYWJlbFRyaW1TaXplID0gMTA7XG4gICAgICAgIHRoaXMuaXNJRSA9IC8oZWRnZXxtc2llfHRyaWRlbnQpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgICAgICAgdGhpcy50cmltTGFiZWwgPSB0cmltTGFiZWw7XG4gICAgfVxuICAgIFBpZUxhYmVsQ29tcG9uZW50LnByb3RvdHlwZS5uZ09uQ2hhbmdlcyA9IGZ1bmN0aW9uIChjaGFuZ2VzKSB7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfTtcbiAgICBQaWVMYWJlbENvbXBvbmVudC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc3RhcnRSYWRpdXMgPSB0aGlzLnJhZGl1cztcbiAgICAgICAgaWYgKHRoaXMuZXhwbG9kZVNsaWNlcykge1xuICAgICAgICAgICAgc3RhcnRSYWRpdXMgPSB0aGlzLnJhZGl1cyAqIHRoaXMudmFsdWUgLyB0aGlzLm1heDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaW5uZXJBcmMgPSBhcmMoKVxuICAgICAgICAgICAgLmlubmVyUmFkaXVzKHN0YXJ0UmFkaXVzKVxuICAgICAgICAgICAgLm91dGVyUmFkaXVzKHN0YXJ0UmFkaXVzKTtcbiAgICAgICAgLy8gQ2FsY3VsYXRlIGlubmVyUG9zIHRoZW4gc2NhbGUgb3V0ZXIgcG9zaXRpb24gdG8gbWF0Y2ggbGFiZWwgcG9zaXRpb25cbiAgICAgICAgdmFyIGlubmVyUG9zID0gaW5uZXJBcmMuY2VudHJvaWQodGhpcy5kYXRhKTtcbiAgICAgICAgdmFyIHNjYWxlID0gdGhpcy5kYXRhLnBvc1sxXSAvIGlubmVyUG9zWzFdO1xuICAgICAgICBpZiAodGhpcy5kYXRhLnBvc1sxXSA9PT0gMCB8fCBpbm5lclBvc1sxXSA9PT0gMCkge1xuICAgICAgICAgICAgc2NhbGUgPSAxO1xuICAgICAgICB9XG4gICAgICAgIHZhciBvdXRlclBvcyA9IFtzY2FsZSAqIGlubmVyUG9zWzBdLCBzY2FsZSAqIGlubmVyUG9zWzFdXTtcbiAgICAgICAgdGhpcy5saW5lID0gXCJNXCIgKyBpbm5lclBvcyArIFwiTFwiICsgb3V0ZXJQb3MgKyBcIkxcIiArIHRoaXMuZGF0YS5wb3M7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUGllTGFiZWxDb21wb25lbnQucHJvdG90eXBlLCBcInRleHRYXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kYXRhLnBvc1swXTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFBpZUxhYmVsQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ0ZXh0WVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5wb3NbMV07XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQaWVMYWJlbENvbXBvbmVudC5wcm90b3R5cGUsIFwic3R5bGVUcmFuc2Zvcm1cIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmlzSUUgPyBudWxsIDogXCJ0cmFuc2xhdGUzZChcIiArIHRoaXMudGV4dFggKyBcInB4LFwiICsgdGhpcy50ZXh0WSArIFwicHgsIDApXCI7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQaWVMYWJlbENvbXBvbmVudC5wcm90b3R5cGUsIFwiYXR0clRyYW5zZm9ybVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuICF0aGlzLmlzSUUgPyBudWxsIDogXCJ0cmFuc2xhdGUoXCIgKyB0aGlzLnRleHRYICsgXCIsXCIgKyB0aGlzLnRleHRZICsgXCIpXCI7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQaWVMYWJlbENvbXBvbmVudC5wcm90b3R5cGUsIFwidGV4dFRyYW5zaXRpb25cIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmlzSUUgfHwgIXRoaXMuYW5pbWF0aW9ucyA/IG51bGwgOiAndHJhbnNmb3JtIDAuNzVzJztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgUGllTGFiZWxDb21wb25lbnQucHJvdG90eXBlLnRleHRBbmNob3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1pZEFuZ2xlKHRoaXMuZGF0YSkgPCBNYXRoLlBJID8gJ3N0YXJ0JyA6ICdlbmQnO1xuICAgIH07XG4gICAgUGllTGFiZWxDb21wb25lbnQucHJvdG90eXBlLm1pZEFuZ2xlID0gZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgcmV0dXJuIGQuc3RhcnRBbmdsZSArIChkLmVuZEFuZ2xlIC0gZC5zdGFydEFuZ2xlKSAvIDI7XG4gICAgfTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBQaWVMYWJlbENvbXBvbmVudC5wcm90b3R5cGUsIFwiZGF0YVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIFBpZUxhYmVsQ29tcG9uZW50LnByb3RvdHlwZSwgXCJyYWRpdXNcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBQaWVMYWJlbENvbXBvbmVudC5wcm90b3R5cGUsIFwibGFiZWxcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBQaWVMYWJlbENvbXBvbmVudC5wcm90b3R5cGUsIFwiY29sb3JcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBQaWVMYWJlbENvbXBvbmVudC5wcm90b3R5cGUsIFwibWF4XCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgUGllTGFiZWxDb21wb25lbnQucHJvdG90eXBlLCBcInZhbHVlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgUGllTGFiZWxDb21wb25lbnQucHJvdG90eXBlLCBcImV4cGxvZGVTbGljZXNcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEJvb2xlYW4pXG4gICAgXSwgUGllTGFiZWxDb21wb25lbnQucHJvdG90eXBlLCBcImFuaW1hdGlvbnNcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEJvb2xlYW4pXG4gICAgXSwgUGllTGFiZWxDb21wb25lbnQucHJvdG90eXBlLCBcImxhYmVsVHJpbVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgTnVtYmVyKVxuICAgIF0sIFBpZUxhYmVsQ29tcG9uZW50LnByb3RvdHlwZSwgXCJsYWJlbFRyaW1TaXplXCIsIHZvaWQgMCk7XG4gICAgUGllTGFiZWxDb21wb25lbnQgPSBfX2RlY29yYXRlKFtcbiAgICAgICAgQ29tcG9uZW50KHtcbiAgICAgICAgICAgIHNlbGVjdG9yOiAnZ1tuZ3gtY2hhcnRzLXBpZS1sYWJlbF0nLFxuICAgICAgICAgICAgdGVtcGxhdGU6IFwiXFxuICAgIDx0aXRsZT57e2xhYmVsfX08L3RpdGxlPlxcbiAgICA8c3ZnOmdcXG4gICAgICBbYXR0ci50cmFuc2Zvcm1dPVxcXCJhdHRyVHJhbnNmb3JtXFxcIlxcbiAgICAgIFtzdHlsZS50cmFuc2Zvcm1dPVxcXCJzdHlsZVRyYW5zZm9ybVxcXCJcXG4gICAgICBbc3R5bGUudHJhbnNpdGlvbl09XFxcInRleHRUcmFuc2l0aW9uXFxcIj5cXG4gICAgICA8c3ZnOnRleHRcXG4gICAgICAgIGNsYXNzPVxcXCJwaWUtbGFiZWxcXFwiXFxuICAgICAgICBbY2xhc3MuYW5pbWF0aW9uXT1cXFwiYW5pbWF0aW9uc1xcXCJcXG4gICAgICAgIGR5PVxcXCIuMzVlbVxcXCJcXG4gICAgICAgIFtzdHlsZS50ZXh0QW5jaG9yXT1cXFwidGV4dEFuY2hvcigpXFxcIlxcbiAgICAgICAgW3N0eWxlLnNoYXBlUmVuZGVyaW5nXT1cXFwiJ2NyaXNwRWRnZXMnXFxcIj5cXG4gICAgICAgIHt7bGFiZWxUcmltID8gdHJpbUxhYmVsKGxhYmVsLCBsYWJlbFRyaW1TaXplKSA6IGxhYmVsfX1cXG4gICAgICA8L3N2Zzp0ZXh0PlxcbiAgICA8L3N2ZzpnPlxcbiAgICA8c3ZnOnBhdGhcXG4gICAgICBbYXR0ci5kXT1cXFwibGluZVxcXCJcXG4gICAgICBbYXR0ci5zdHJva2VdPVxcXCJjb2xvclxcXCJcXG4gICAgICBmaWxsPVxcXCJub25lXFxcIlxcbiAgICAgIGNsYXNzPVxcXCJwaWUtbGFiZWwtbGluZSBsaW5lXFxcIlxcbiAgICAgIFtjbGFzcy5hbmltYXRpb25dPVxcXCJhbmltYXRpb25zXFxcIj5cXG4gICAgPC9zdmc6cGF0aD5cXG4gIFwiLFxuICAgICAgICAgICAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2hcbiAgICAgICAgfSksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cGFyYW10eXBlc1wiLCBbXSlcbiAgICBdLCBQaWVMYWJlbENvbXBvbmVudCk7XG4gICAgcmV0dXJuIFBpZUxhYmVsQ29tcG9uZW50O1xufSgpKTtcblxudmFyIFBpZUFyY0NvbXBvbmVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBQaWVBcmNDb21wb25lbnQoZWxlbWVudCkge1xuICAgICAgICB0aGlzLnN0YXJ0QW5nbGUgPSAwO1xuICAgICAgICB0aGlzLmVuZEFuZ2xlID0gTWF0aC5QSSAqIDI7XG4gICAgICAgIHRoaXMuY29ybmVyUmFkaXVzID0gMDtcbiAgICAgICAgdGhpcy5leHBsb2RlU2xpY2VzID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZ3JhZGllbnQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5hbmltYXRlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5wb2ludGVyRXZlbnRzID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5pc0FjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnNlbGVjdCA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5hY3RpdmF0ZSA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5kZWFjdGl2YXRlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICB0aGlzLmRibGNsaWNrID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICB0aGlzLmluaXRpYWxpemVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQubmF0aXZlRWxlbWVudDtcbiAgICB9XG4gICAgUGllQXJjQ29tcG9uZW50LnByb3RvdHlwZS5uZ09uQ2hhbmdlcyA9IGZ1bmN0aW9uIChjaGFuZ2VzKSB7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfTtcbiAgICBQaWVBcmNDb21wb25lbnQucHJvdG90eXBlLmdldEdyYWRpZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ncmFkaWVudCA/IHRoaXMuZ3JhZGllbnRGaWxsIDogdGhpcy5maWxsO1xuICAgIH07XG4gICAgUGllQXJjQ29tcG9uZW50LnByb3RvdHlwZS5nZXRQb2ludGVyRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wb2ludGVyRXZlbnRzID8gJ2F1dG8nIDogJ25vbmUnO1xuICAgIH07XG4gICAgUGllQXJjQ29tcG9uZW50LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjYWxjID0gdGhpcy5jYWxjdWxhdGVBcmMoKTtcbiAgICAgICAgdGhpcy5zdGFydE9wYWNpdHkgPSAwLjU7XG4gICAgICAgIHRoaXMucmFkaWFsR3JhZGllbnRJZCA9ICdsaW5lYXJHcmFkJyArIGlkKCkudG9TdHJpbmcoKTtcbiAgICAgICAgdGhpcy5ncmFkaWVudEZpbGwgPSBcInVybCgjXCIgKyB0aGlzLnJhZGlhbEdyYWRpZW50SWQgKyBcIilcIjtcbiAgICAgICAgaWYgKHRoaXMuYW5pbWF0ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuaW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUFuaW1hdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkQW5pbWF0aW9uKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnBhdGggPSBjYWxjLnN0YXJ0QW5nbGUodGhpcy5zdGFydEFuZ2xlKS5lbmRBbmdsZSh0aGlzLmVuZEFuZ2xlKSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBQaWVBcmNDb21wb25lbnQucHJvdG90eXBlLmNhbGN1bGF0ZUFyYyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG91dGVyUmFkaXVzID0gdGhpcy5vdXRlclJhZGl1cztcbiAgICAgICAgaWYgKHRoaXMuZXhwbG9kZVNsaWNlcyAmJiB0aGlzLmlubmVyUmFkaXVzID09PSAwKSB7XG4gICAgICAgICAgICBvdXRlclJhZGl1cyA9ICh0aGlzLm91dGVyUmFkaXVzICogdGhpcy52YWx1ZSkgLyB0aGlzLm1heDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXJjKClcbiAgICAgICAgICAgIC5pbm5lclJhZGl1cyh0aGlzLmlubmVyUmFkaXVzKVxuICAgICAgICAgICAgLm91dGVyUmFkaXVzKG91dGVyUmFkaXVzKVxuICAgICAgICAgICAgLmNvcm5lclJhZGl1cyh0aGlzLmNvcm5lclJhZGl1cyk7XG4gICAgfTtcbiAgICBQaWVBcmNDb21wb25lbnQucHJvdG90eXBlLmxvYWRBbmltYXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBub2RlID0gc2VsZWN0KHRoaXMuZWxlbWVudClcbiAgICAgICAgICAgIC5zZWxlY3RBbGwoJy5hcmMnKVxuICAgICAgICAgICAgLmRhdGEoW3sgc3RhcnRBbmdsZTogdGhpcy5zdGFydEFuZ2xlLCBlbmRBbmdsZTogdGhpcy5lbmRBbmdsZSB9XSk7XG4gICAgICAgIHZhciBjYWxjID0gdGhpcy5jYWxjdWxhdGVBcmMoKTtcbiAgICAgICAgbm9kZVxuICAgICAgICAgICAgLnRyYW5zaXRpb24oKVxuICAgICAgICAgICAgLmF0dHJUd2VlbignZCcsIGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50ID0gdGhpcy5fY3VycmVudCB8fCBkO1xuICAgICAgICAgICAgdmFyIGNvcHlPZkQgPSBPYmplY3QuYXNzaWduKHt9LCBkKTtcbiAgICAgICAgICAgIGNvcHlPZkQuZW5kQW5nbGUgPSBjb3B5T2ZELnN0YXJ0QW5nbGU7XG4gICAgICAgICAgICB2YXIgaW50ZXJwb2xhdGVyID0gaW50ZXJwb2xhdGUoY29weU9mRCwgY29weU9mRCk7XG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50ID0gaW50ZXJwb2xhdGVyKDApO1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhbGMoaW50ZXJwb2xhdGVyKHQpKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pXG4gICAgICAgICAgICAudHJhbnNpdGlvbigpXG4gICAgICAgICAgICAuZHVyYXRpb24oNzUwKVxuICAgICAgICAgICAgLmF0dHJUd2VlbignZCcsIGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50ID0gdGhpcy5fY3VycmVudCB8fCBkO1xuICAgICAgICAgICAgdmFyIGludGVycG9sYXRlciA9IGludGVycG9sYXRlKHRoaXMuX2N1cnJlbnQsIGQpO1xuICAgICAgICAgICAgdGhpcy5fY3VycmVudCA9IGludGVycG9sYXRlcigwKTtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAodCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjYWxjKGludGVycG9sYXRlcih0KSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFBpZUFyY0NvbXBvbmVudC5wcm90b3R5cGUudXBkYXRlQW5pbWF0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbm9kZSA9IHNlbGVjdCh0aGlzLmVsZW1lbnQpXG4gICAgICAgICAgICAuc2VsZWN0QWxsKCcuYXJjJylcbiAgICAgICAgICAgIC5kYXRhKFt7IHN0YXJ0QW5nbGU6IHRoaXMuc3RhcnRBbmdsZSwgZW5kQW5nbGU6IHRoaXMuZW5kQW5nbGUgfV0pO1xuICAgICAgICB2YXIgY2FsYyA9IHRoaXMuY2FsY3VsYXRlQXJjKCk7XG4gICAgICAgIG5vZGVcbiAgICAgICAgICAgIC50cmFuc2l0aW9uKClcbiAgICAgICAgICAgIC5kdXJhdGlvbig3NTApXG4gICAgICAgICAgICAuYXR0clR3ZWVuKCdkJywgZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnQgPSB0aGlzLl9jdXJyZW50IHx8IGQ7XG4gICAgICAgICAgICB2YXIgaW50ZXJwb2xhdGVyID0gaW50ZXJwb2xhdGUodGhpcy5fY3VycmVudCwgZCk7XG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50ID0gaW50ZXJwb2xhdGVyKDApO1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhbGMoaW50ZXJwb2xhdGVyKHQpKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgUGllQXJjQ29tcG9uZW50LnByb3RvdHlwZS5vbkNsaWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fdGltZW91dCk7XG4gICAgICAgIHRoaXMuX3RpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLnNlbGVjdC5lbWl0KF90aGlzLmRhdGEpOyB9LCAyMDApO1xuICAgIH07XG4gICAgUGllQXJjQ29tcG9uZW50LnByb3RvdHlwZS5vbkRibENsaWNrID0gZnVuY3Rpb24gKGV2ZW50JCQxKSB7XG4gICAgICAgIGV2ZW50JCQxLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGV2ZW50JCQxLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fdGltZW91dCk7XG4gICAgICAgIHRoaXMuZGJsY2xpY2suZW1pdCh7XG4gICAgICAgICAgICBkYXRhOiB0aGlzLmRhdGEsXG4gICAgICAgICAgICBuYXRpdmVFdmVudDogZXZlbnQkJDFcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICB2YXIgX2E7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgUGllQXJjQ29tcG9uZW50LnByb3RvdHlwZSwgXCJmaWxsXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBOdW1iZXIpXG4gICAgXSwgUGllQXJjQ29tcG9uZW50LnByb3RvdHlwZSwgXCJzdGFydEFuZ2xlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBOdW1iZXIpXG4gICAgXSwgUGllQXJjQ29tcG9uZW50LnByb3RvdHlwZSwgXCJlbmRBbmdsZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIFBpZUFyY0NvbXBvbmVudC5wcm90b3R5cGUsIFwiaW5uZXJSYWRpdXNcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBQaWVBcmNDb21wb25lbnQucHJvdG90eXBlLCBcIm91dGVyUmFkaXVzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBOdW1iZXIpXG4gICAgXSwgUGllQXJjQ29tcG9uZW50LnByb3RvdHlwZSwgXCJjb3JuZXJSYWRpdXNcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBQaWVBcmNDb21wb25lbnQucHJvdG90eXBlLCBcInZhbHVlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgUGllQXJjQ29tcG9uZW50LnByb3RvdHlwZSwgXCJtYXhcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBQaWVBcmNDb21wb25lbnQucHJvdG90eXBlLCBcImRhdGFcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEJvb2xlYW4pXG4gICAgXSwgUGllQXJjQ29tcG9uZW50LnByb3RvdHlwZSwgXCJleHBsb2RlU2xpY2VzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIFBpZUFyY0NvbXBvbmVudC5wcm90b3R5cGUsIFwiZ3JhZGllbnRcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEJvb2xlYW4pXG4gICAgXSwgUGllQXJjQ29tcG9uZW50LnByb3RvdHlwZSwgXCJhbmltYXRlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIFBpZUFyY0NvbXBvbmVudC5wcm90b3R5cGUsIFwicG9pbnRlckV2ZW50c1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbiAgICBdLCBQaWVBcmNDb21wb25lbnQucHJvdG90eXBlLCBcImlzQWN0aXZlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIE91dHB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIFBpZUFyY0NvbXBvbmVudC5wcm90b3R5cGUsIFwic2VsZWN0XCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIE91dHB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIFBpZUFyY0NvbXBvbmVudC5wcm90b3R5cGUsIFwiYWN0aXZhdGVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgT3V0cHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgUGllQXJjQ29tcG9uZW50LnByb3RvdHlwZSwgXCJkZWFjdGl2YXRlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIE91dHB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIFBpZUFyY0NvbXBvbmVudC5wcm90b3R5cGUsIFwiZGJsY2xpY2tcIiwgdm9pZCAwKTtcbiAgICBQaWVBcmNDb21wb25lbnQgPSBfX2RlY29yYXRlKFtcbiAgICAgICAgQ29tcG9uZW50KHtcbiAgICAgICAgICAgIHNlbGVjdG9yOiAnZ1tuZ3gtY2hhcnRzLXBpZS1hcmNdJyxcbiAgICAgICAgICAgIHRlbXBsYXRlOiBcIlxcbiAgICA8c3ZnOmcgY2xhc3M9XFxcImFyYy1ncm91cFxcXCI+XFxuICAgICAgPHN2ZzpkZWZzICpuZ0lmPVxcXCJncmFkaWVudFxcXCI+XFxuICAgICAgICA8c3ZnOmcgbmd4LWNoYXJ0cy1zdmctcmFkaWFsLWdyYWRpZW50XFxuICAgICAgICAgIFtjb2xvcl09XFxcImZpbGxcXFwiXFxuICAgICAgICAgIG9yaWVudGF0aW9uPVxcXCJ2ZXJ0aWNhbFxcXCJcXG4gICAgICAgICAgW25hbWVdPVxcXCJyYWRpYWxHcmFkaWVudElkXFxcIlxcbiAgICAgICAgICBbc3RhcnRPcGFjaXR5XT1cXFwic3RhcnRPcGFjaXR5XFxcIlxcbiAgICAgICAgLz5cXG4gICAgICA8L3N2ZzpkZWZzPlxcbiAgICAgIDxzdmc6cGF0aFxcbiAgICAgICAgW2F0dHIuZF09XFxcInBhdGhcXFwiXFxuICAgICAgICBjbGFzcz1cXFwiYXJjXFxcIlxcbiAgICAgICAgW2NsYXNzLmFjdGl2ZV09XFxcImlzQWN0aXZlXFxcIlxcbiAgICAgICAgW2F0dHIuZmlsbF09XFxcImdldEdyYWRpZW50KClcXFwiXFxuICAgICAgICAoY2xpY2spPVxcXCJvbkNsaWNrKClcXFwiXFxuICAgICAgICAoZGJsY2xpY2spPVxcXCJvbkRibENsaWNrKCRldmVudClcXFwiXFxuICAgICAgICAobW91c2VlbnRlcik9XFxcImFjdGl2YXRlLmVtaXQoZGF0YSlcXFwiXFxuICAgICAgICAobW91c2VsZWF2ZSk9XFxcImRlYWN0aXZhdGUuZW1pdChkYXRhKVxcXCJcXG4gICAgICAgIFtzdHlsZS5wb2ludGVyLWV2ZW50c109XFxcImdldFBvaW50ZXJFdmVudHMoKVxcXCJcXG4gICAgICAvPlxcbiAgICA8L3N2ZzpnPlxcbiAgXCIsXG4gICAgICAgICAgICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaFxuICAgICAgICB9KSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjpwYXJhbXR5cGVzXCIsIFt0eXBlb2YgKF9hID0gdHlwZW9mIEVsZW1lbnRSZWYgIT09IFwidW5kZWZpbmVkXCIgJiYgRWxlbWVudFJlZikgPT09IFwiZnVuY3Rpb25cIiA/IF9hIDogT2JqZWN0XSlcbiAgICBdLCBQaWVBcmNDb21wb25lbnQpO1xuICAgIHJldHVybiBQaWVBcmNDb21wb25lbnQ7XG59KCkpO1xuXG52YXIgUGllQ2hhcnRDb21wb25lbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFBpZUNoYXJ0Q29tcG9uZW50LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFBpZUNoYXJ0Q29tcG9uZW50KCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMubGFiZWxzID0gZmFsc2U7XG4gICAgICAgIF90aGlzLmxlZ2VuZCA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5sZWdlbmRUaXRsZSA9ICdMZWdlbmQnO1xuICAgICAgICBfdGhpcy5sZWdlbmRQb3NpdGlvbiA9ICdyaWdodCc7XG4gICAgICAgIF90aGlzLmV4cGxvZGVTbGljZXMgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuZG91Z2hudXQgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuYXJjV2lkdGggPSAwLjI1O1xuICAgICAgICBfdGhpcy5hY3RpdmVFbnRyaWVzID0gW107XG4gICAgICAgIF90aGlzLnRvb2x0aXBEaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICBfdGhpcy50cmltTGFiZWxzID0gdHJ1ZTtcbiAgICAgICAgX3RoaXMubWF4TGFiZWxMZW5ndGggPSAxMDtcbiAgICAgICAgX3RoaXMuZGJsY2xpY2sgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgICAgIF90aGlzLnNlbGVjdCA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICAgICAgX3RoaXMuYWN0aXZhdGUgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgICAgIF90aGlzLmRlYWN0aXZhdGUgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgUGllQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS51cGRhdGUuY2FsbCh0aGlzKTtcbiAgICAgICAgaWYgKHRoaXMubGFiZWxzICYmIHRoaXMuaGFzTm9PcHRpb25hbE1hcmdpbnNTZXQoKSkge1xuICAgICAgICAgICAgdGhpcy5tYXJnaW5zID0gWzMwLCA4MCwgMzAsIDgwXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghdGhpcy5sYWJlbHMgJiYgdGhpcy5oYXNOb09wdGlvbmFsTWFyZ2luc1NldCgpKSB7XG4gICAgICAgICAgICB0aGlzLm1hcmdpbnMgPSBbMjAsIDIwLCAyMCwgMjBdO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGltcyA9IGNhbGN1bGF0ZVZpZXdEaW1lbnNpb25zKHtcbiAgICAgICAgICAgIHdpZHRoOiB0aGlzLndpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLmhlaWdodCxcbiAgICAgICAgICAgIG1hcmdpbnM6IHRoaXMubWFyZ2lucyxcbiAgICAgICAgICAgIHNob3dMZWdlbmQ6IHRoaXMubGVnZW5kLFxuICAgICAgICAgICAgbGVnZW5kUG9zaXRpb246IHRoaXMubGVnZW5kUG9zaXRpb25cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZm9ybWF0RGF0ZXMoKTtcbiAgICAgICAgdmFyIHhPZmZzZXQgPSB0aGlzLm1hcmdpbnNbM10gKyB0aGlzLmRpbXMud2lkdGggLyAyO1xuICAgICAgICB2YXIgeU9mZnNldCA9IHRoaXMubWFyZ2luc1swXSArIHRoaXMuZGltcy5oZWlnaHQgLyAyO1xuICAgICAgICB0aGlzLnRyYW5zbGF0aW9uID0gXCJ0cmFuc2xhdGUoXCIgKyB4T2Zmc2V0ICsgXCIsIFwiICsgeU9mZnNldCArIFwiKVwiO1xuICAgICAgICB0aGlzLm91dGVyUmFkaXVzID0gTWF0aC5taW4odGhpcy5kaW1zLndpZHRoLCB0aGlzLmRpbXMuaGVpZ2h0KTtcbiAgICAgICAgaWYgKHRoaXMubGFiZWxzKSB7XG4gICAgICAgICAgICB0aGlzLm91dGVyUmFkaXVzIC89IDM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm91dGVyUmFkaXVzIC89IDI7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbm5lclJhZGl1cyA9IDA7XG4gICAgICAgIGlmICh0aGlzLmRvdWdobnV0KSB7XG4gICAgICAgICAgICB0aGlzLmlubmVyUmFkaXVzID0gdGhpcy5vdXRlclJhZGl1cyAqICgxIC0gdGhpcy5hcmNXaWR0aCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kb21haW4gPSB0aGlzLmdldERvbWFpbigpO1xuICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLnJlc3VsdHMuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLmRvbWFpbi5pbmRleE9mKGEubmFtZSkgLSBfdGhpcy5kb21haW4uaW5kZXhPZihiLm5hbWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zZXRDb2xvcnMoKTtcbiAgICAgICAgdGhpcy5sZWdlbmRPcHRpb25zID0gdGhpcy5nZXRMZWdlbmRPcHRpb25zKCk7XG4gICAgfTtcbiAgICBQaWVDaGFydENvbXBvbmVudC5wcm90b3R5cGUuZ2V0RG9tYWluID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHRzLm1hcChmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC5sYWJlbDsgfSk7XG4gICAgfTtcbiAgICBQaWVDaGFydENvbXBvbmVudC5wcm90b3R5cGUub25DbGljayA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0LmVtaXQoZGF0YSk7XG4gICAgfTtcbiAgICBQaWVDaGFydENvbXBvbmVudC5wcm90b3R5cGUuc2V0Q29sb3JzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmNvbG9ycyA9IG5ldyBDb2xvckhlbHBlcih0aGlzLnNjaGVtZSwgJ29yZGluYWwnLCB0aGlzLmRvbWFpbiwgdGhpcy5jdXN0b21Db2xvcnMpO1xuICAgIH07XG4gICAgUGllQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLmdldExlZ2VuZE9wdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzY2FsZVR5cGU6ICdvcmRpbmFsJyxcbiAgICAgICAgICAgIGRvbWFpbjogdGhpcy5kb21haW4sXG4gICAgICAgICAgICBjb2xvcnM6IHRoaXMuY29sb3JzLFxuICAgICAgICAgICAgdGl0bGU6IHRoaXMubGVnZW5kVGl0bGUsXG4gICAgICAgICAgICBwb3NpdGlvbjogdGhpcy5sZWdlbmRQb3NpdGlvblxuICAgICAgICB9O1xuICAgIH07XG4gICAgUGllQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLm9uQWN0aXZhdGUgPSBmdW5jdGlvbiAoaXRlbSwgZnJvbUxlZ2VuZCkge1xuICAgICAgICBpZiAoZnJvbUxlZ2VuZCA9PT0gdm9pZCAwKSB7IGZyb21MZWdlbmQgPSBmYWxzZTsgfVxuICAgICAgICBpdGVtID0gdGhpcy5yZXN1bHRzLmZpbmQoZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgIGlmIChmcm9tTGVnZW5kKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGQubGFiZWwgPT09IGl0ZW0ubmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBkLm5hbWUgPT09IGl0ZW0ubmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBpZHggPSB0aGlzLmFjdGl2ZUVudHJpZXMuZmluZEluZGV4KGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICByZXR1cm4gZC5uYW1lID09PSBpdGVtLm5hbWUgJiYgZC52YWx1ZSA9PT0gaXRlbS52YWx1ZSAmJiBkLnNlcmllcyA9PT0gaXRlbS5zZXJpZXM7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoaWR4ID4gLTEpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFjdGl2ZUVudHJpZXMgPSBbaXRlbV0uY29uY2F0KHRoaXMuYWN0aXZlRW50cmllcyk7XG4gICAgICAgIHRoaXMuYWN0aXZhdGUuZW1pdCh7IHZhbHVlOiBpdGVtLCBlbnRyaWVzOiB0aGlzLmFjdGl2ZUVudHJpZXMgfSk7XG4gICAgfTtcbiAgICBQaWVDaGFydENvbXBvbmVudC5wcm90b3R5cGUub25EZWFjdGl2YXRlID0gZnVuY3Rpb24gKGl0ZW0sIGZyb21MZWdlbmQpIHtcbiAgICAgICAgaWYgKGZyb21MZWdlbmQgPT09IHZvaWQgMCkgeyBmcm9tTGVnZW5kID0gZmFsc2U7IH1cbiAgICAgICAgaXRlbSA9IHRoaXMucmVzdWx0cy5maW5kKGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICBpZiAoZnJvbUxlZ2VuZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBkLmxhYmVsID09PSBpdGVtLm5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZC5uYW1lID09PSBpdGVtLm5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgaWR4ID0gdGhpcy5hY3RpdmVFbnRyaWVzLmZpbmRJbmRleChmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgcmV0dXJuIGQubmFtZSA9PT0gaXRlbS5uYW1lICYmIGQudmFsdWUgPT09IGl0ZW0udmFsdWUgJiYgZC5zZXJpZXMgPT09IGl0ZW0uc2VyaWVzO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5hY3RpdmVFbnRyaWVzLnNwbGljZShpZHgsIDEpO1xuICAgICAgICB0aGlzLmFjdGl2ZUVudHJpZXMgPSB0aGlzLmFjdGl2ZUVudHJpZXMuc2xpY2UoKTtcbiAgICAgICAgdGhpcy5kZWFjdGl2YXRlLmVtaXQoeyB2YWx1ZTogaXRlbSwgZW50cmllczogdGhpcy5hY3RpdmVFbnRyaWVzIH0pO1xuICAgIH07XG4gICAgUGllQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLmhhc05vT3B0aW9uYWxNYXJnaW5zU2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gIXRoaXMubWFyZ2lucyB8fCB0aGlzLm1hcmdpbnMubGVuZ3RoIDw9IDA7XG4gICAgfTtcbiAgICB2YXIgX2EsIF9iLCBfYztcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBQaWVDaGFydENvbXBvbmVudC5wcm90b3R5cGUsIFwibGFiZWxzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgUGllQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLCBcImxlZ2VuZFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgU3RyaW5nKVxuICAgIF0sIFBpZUNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJsZWdlbmRUaXRsZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgU3RyaW5nKVxuICAgIF0sIFBpZUNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJsZWdlbmRQb3NpdGlvblwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIFBpZUNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJleHBsb2RlU2xpY2VzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgUGllQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLCBcImRvdWdobnV0XCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgUGllQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLCBcImFyY1dpZHRoXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIFBpZUNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJncmFkaWVudFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQXJyYXkpXG4gICAgXSwgUGllQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLCBcImFjdGl2ZUVudHJpZXNcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEJvb2xlYW4pXG4gICAgXSwgUGllQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLCBcInRvb2x0aXBEaXNhYmxlZFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIFBpZUNoYXJ0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJsYWJlbEZvcm1hdHRpbmdcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEJvb2xlYW4pXG4gICAgXSwgUGllQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLCBcInRyaW1MYWJlbHNcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE51bWJlcilcbiAgICBdLCBQaWVDaGFydENvbXBvbmVudC5wcm90b3R5cGUsIFwibWF4TGFiZWxMZW5ndGhcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBQaWVDaGFydENvbXBvbmVudC5wcm90b3R5cGUsIFwidG9vbHRpcFRleHRcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgT3V0cHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgUGllQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLCBcImRibGNsaWNrXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBBcnJheSlcbiAgICBdLCBQaWVDaGFydENvbXBvbmVudC5wcm90b3R5cGUsIFwibWFyZ2luc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBPdXRwdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBQaWVDaGFydENvbXBvbmVudC5wcm90b3R5cGUsIFwic2VsZWN0XCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIE91dHB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgdHlwZW9mIChfYSA9IHR5cGVvZiBFdmVudEVtaXR0ZXIgIT09IFwidW5kZWZpbmVkXCIgJiYgRXZlbnRFbWl0dGVyKSA9PT0gXCJmdW5jdGlvblwiID8gX2EgOiBPYmplY3QpXG4gICAgXSwgUGllQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLCBcImFjdGl2YXRlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIE91dHB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgdHlwZW9mIChfYiA9IHR5cGVvZiBFdmVudEVtaXR0ZXIgIT09IFwidW5kZWZpbmVkXCIgJiYgRXZlbnRFbWl0dGVyKSA9PT0gXCJmdW5jdGlvblwiID8gX2IgOiBPYmplY3QpXG4gICAgXSwgUGllQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLCBcImRlYWN0aXZhdGVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgQ29udGVudENoaWxkKCd0b29sdGlwVGVtcGxhdGUnLCB7IHN0YXRpYzogZmFsc2UgfSksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCB0eXBlb2YgKF9jID0gdHlwZW9mIFRlbXBsYXRlUmVmICE9PSBcInVuZGVmaW5lZFwiICYmIFRlbXBsYXRlUmVmKSA9PT0gXCJmdW5jdGlvblwiID8gX2MgOiBPYmplY3QpXG4gICAgXSwgUGllQ2hhcnRDb21wb25lbnQucHJvdG90eXBlLCBcInRvb2x0aXBUZW1wbGF0ZVwiLCB2b2lkIDApO1xuICAgIFBpZUNoYXJ0Q29tcG9uZW50ID0gX19kZWNvcmF0ZShbXG4gICAgICAgIENvbXBvbmVudCh7XG4gICAgICAgICAgICBzZWxlY3RvcjogJ25neC1jaGFydHMtcGllLWNoYXJ0JyxcbiAgICAgICAgICAgIHRlbXBsYXRlOiBcIlxcbiAgICA8bmd4LWNoYXJ0cy1jaGFydFxcbiAgICAgIFt2aWV3XT1cXFwiW3dpZHRoLCBoZWlnaHRdXFxcIlxcbiAgICAgIFtzaG93TGVnZW5kXT1cXFwibGVnZW5kXFxcIlxcbiAgICAgIFtsZWdlbmRPcHRpb25zXT1cXFwibGVnZW5kT3B0aW9uc1xcXCJcXG4gICAgICBbYWN0aXZlRW50cmllc109XFxcImFjdGl2ZUVudHJpZXNcXFwiXFxuICAgICAgW2FuaW1hdGlvbnNdPVxcXCJhbmltYXRpb25zXFxcIlxcbiAgICAgIChsZWdlbmRMYWJlbEFjdGl2YXRlKT1cXFwib25BY3RpdmF0ZSgkZXZlbnQsIHRydWUpXFxcIlxcbiAgICAgIChsZWdlbmRMYWJlbERlYWN0aXZhdGUpPVxcXCJvbkRlYWN0aXZhdGUoJGV2ZW50LCB0cnVlKVxcXCJcXG4gICAgICAobGVnZW5kTGFiZWxDbGljayk9XFxcIm9uQ2xpY2soJGV2ZW50KVxcXCJcXG4gICAgPlxcbiAgICAgIDxzdmc6ZyBbYXR0ci50cmFuc2Zvcm1dPVxcXCJ0cmFuc2xhdGlvblxcXCIgY2xhc3M9XFxcInBpZS1jaGFydCBjaGFydFxcXCI+XFxuICAgICAgICA8c3ZnOmdcXG4gICAgICAgICAgbmd4LWNoYXJ0cy1waWUtc2VyaWVzXFxuICAgICAgICAgIFtjb2xvcnNdPVxcXCJjb2xvcnNcXFwiXFxuICAgICAgICAgIFtzZXJpZXNdPVxcXCJkYXRhXFxcIlxcbiAgICAgICAgICBbc2hvd0xhYmVsc109XFxcImxhYmVsc1xcXCJcXG4gICAgICAgICAgW2xhYmVsRm9ybWF0dGluZ109XFxcImxhYmVsRm9ybWF0dGluZ1xcXCJcXG4gICAgICAgICAgW3RyaW1MYWJlbHNdPVxcXCJ0cmltTGFiZWxzXFxcIlxcbiAgICAgICAgICBbbWF4TGFiZWxMZW5ndGhdPVxcXCJtYXhMYWJlbExlbmd0aFxcXCJcXG4gICAgICAgICAgW2FjdGl2ZUVudHJpZXNdPVxcXCJhY3RpdmVFbnRyaWVzXFxcIlxcbiAgICAgICAgICBbaW5uZXJSYWRpdXNdPVxcXCJpbm5lclJhZGl1c1xcXCJcXG4gICAgICAgICAgW291dGVyUmFkaXVzXT1cXFwib3V0ZXJSYWRpdXNcXFwiXFxuICAgICAgICAgIFtleHBsb2RlU2xpY2VzXT1cXFwiZXhwbG9kZVNsaWNlc1xcXCJcXG4gICAgICAgICAgW2dyYWRpZW50XT1cXFwiZ3JhZGllbnRcXFwiXFxuICAgICAgICAgIFthbmltYXRpb25zXT1cXFwiYW5pbWF0aW9uc1xcXCJcXG4gICAgICAgICAgW3Rvb2x0aXBEaXNhYmxlZF09XFxcInRvb2x0aXBEaXNhYmxlZFxcXCJcXG4gICAgICAgICAgW3Rvb2x0aXBUZW1wbGF0ZV09XFxcInRvb2x0aXBUZW1wbGF0ZVxcXCJcXG4gICAgICAgICAgW3Rvb2x0aXBUZXh0XT1cXFwidG9vbHRpcFRleHRcXFwiXFxuICAgICAgICAgIChkYmxjbGljayk9XFxcImRibGNsaWNrLmVtaXQoJGV2ZW50KVxcXCJcXG4gICAgICAgICAgKHNlbGVjdCk9XFxcIm9uQ2xpY2soJGV2ZW50KVxcXCJcXG4gICAgICAgICAgKGFjdGl2YXRlKT1cXFwib25BY3RpdmF0ZSgkZXZlbnQpXFxcIlxcbiAgICAgICAgICAoZGVhY3RpdmF0ZSk9XFxcIm9uRGVhY3RpdmF0ZSgkZXZlbnQpXFxcIlxcbiAgICAgICAgLz5cXG4gICAgICA8L3N2ZzpnPlxcbiAgICA8L25neC1jaGFydHMtY2hhcnQ+XFxuICBcIixcbiAgICAgICAgICAgIHN0eWxlczogW1wiLm5neC1jaGFydHN7ZmxvYXQ6bGVmdDtvdmVyZmxvdzp2aXNpYmxlfS5uZ3gtY2hhcnRzIC5hcmMsLm5neC1jaGFydHMgLmJhciwubmd4LWNoYXJ0cyAuY2lyY2xle2N1cnNvcjpwb2ludGVyfS5uZ3gtY2hhcnRzIC5hcmMuYWN0aXZlLC5uZ3gtY2hhcnRzIC5hcmM6aG92ZXIsLm5neC1jaGFydHMgLmJhci5hY3RpdmUsLm5neC1jaGFydHMgLmJhcjpob3Zlciwubmd4LWNoYXJ0cyAuY2FyZC5hY3RpdmUsLm5neC1jaGFydHMgLmNhcmQ6aG92ZXIsLm5neC1jaGFydHMgLmNlbGwuYWN0aXZlLC5uZ3gtY2hhcnRzIC5jZWxsOmhvdmVye29wYWNpdHk6Ljg7dHJhbnNpdGlvbjpvcGFjaXR5IC4xcyBlYXNlLWluLW91dH0ubmd4LWNoYXJ0cyAuYXJjOmZvY3VzLC5uZ3gtY2hhcnRzIC5iYXI6Zm9jdXMsLm5neC1jaGFydHMgLmNhcmQ6Zm9jdXMsLm5neC1jaGFydHMgLmNlbGw6Zm9jdXN7b3V0bGluZTowfS5uZ3gtY2hhcnRzIC5hcmMuaGlkZGVuLC5uZ3gtY2hhcnRzIC5iYXIuaGlkZGVuLC5uZ3gtY2hhcnRzIC5jYXJkLmhpZGRlbiwubmd4LWNoYXJ0cyAuY2VsbC5oaWRkZW57ZGlzcGxheTpub25lfS5uZ3gtY2hhcnRzIGc6Zm9jdXN7b3V0bGluZTowfS5uZ3gtY2hhcnRzIC5hcmVhLXNlcmllcy5pbmFjdGl2ZSwubmd4LWNoYXJ0cyAubGluZS1zZXJpZXMtcmFuZ2UuaW5hY3RpdmUsLm5neC1jaGFydHMgLmxpbmUtc2VyaWVzLmluYWN0aXZlLC5uZ3gtY2hhcnRzIC5wb2xhci1zZXJpZXMtYXJlYS5pbmFjdGl2ZSwubmd4LWNoYXJ0cyAucG9sYXItc2VyaWVzLXBhdGguaW5hY3RpdmV7dHJhbnNpdGlvbjpvcGFjaXR5IC4xcyBlYXNlLWluLW91dDtvcGFjaXR5Oi4yfS5uZ3gtY2hhcnRzIC5saW5lLWhpZ2hsaWdodHtkaXNwbGF5Om5vbmV9Lm5neC1jaGFydHMgLmxpbmUtaGlnaGxpZ2h0LmFjdGl2ZXtkaXNwbGF5OmJsb2NrfS5uZ3gtY2hhcnRzIC5hcmVhe29wYWNpdHk6LjZ9Lm5neC1jaGFydHMgLmNpcmNsZTpob3ZlcntjdXJzb3I6cG9pbnRlcn0ubmd4LWNoYXJ0cyAubGFiZWx7Zm9udC1zaXplOjEycHg7Zm9udC13ZWlnaHQ6NDAwfS5uZ3gtY2hhcnRzIC50b29sdGlwLWFuY2hvcntmaWxsOiMwMDB9Lm5neC1jaGFydHMgLmdyaWRsaW5lLXBhdGh7c3Ryb2tlOiNkZGQ7c3Ryb2tlLXdpZHRoOjE7ZmlsbDpub25lfS5uZ3gtY2hhcnRzIC5yZWZsaW5lLXBhdGh7c3Ryb2tlOiNhOGIyYzc7c3Ryb2tlLXdpZHRoOjE7c3Ryb2tlLWRhc2hhcnJheTo1O3N0cm9rZS1kYXNob2Zmc2V0OjV9Lm5neC1jaGFydHMgLnJlZmxpbmUtbGFiZWx7Zm9udC1zaXplOjlweH0ubmd4LWNoYXJ0cyAucmVmZXJlbmNlLWFyZWF7ZmlsbC1vcGFjaXR5Oi4wNTtmaWxsOiMwMDB9Lm5neC1jaGFydHMgLmdyaWRsaW5lLXBhdGgtZG90dGVke3N0cm9rZTojZGRkO3N0cm9rZS13aWR0aDoxO2ZpbGw6bm9uZTtzdHJva2UtZGFzaGFycmF5OjEsMjA7c3Ryb2tlLWRhc2hvZmZzZXQ6M30ubmd4LWNoYXJ0cyAuZ3JpZC1wYW5lbCByZWN0e2ZpbGw6bm9uZX0ubmd4LWNoYXJ0cyAuZ3JpZC1wYW5lbC5vZGQgcmVjdHtmaWxsOnJnYmEoMCwwLDAsLjA1KX1cIiwgXCIucGllLWxhYmVse2ZvbnQtc2l6ZToxMXB4fS5waWUtbGFiZWwuYW5pbWF0aW9ue2FuaW1hdGlvbjo3NTBtcyBlYXNlLWluIGZhZGVJbn1Aa2V5ZnJhbWVzIGZhZGVJbntmcm9te29wYWNpdHk6MH10b3tvcGFjaXR5OjF9fS5waWUtbGFiZWwtbGluZXtzdHJva2UtZGFzaGFycmF5OjEwMCV9LnBpZS1sYWJlbC1saW5lLmFuaW1hdGlvbnthbmltYXRpb246M3MgbGluZWFyIGRyYXdPdXQ7dHJhbnNpdGlvbjpkIDc1MG1zfUBrZXlmcmFtZXMgZHJhd091dHtmcm9te3N0cm9rZS1kYXNob2Zmc2V0OjEwMCV9dG97c3Ryb2tlLWRhc2hvZmZzZXQ6MH19XCJdLFxuICAgICAgICAgICAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZSxcbiAgICAgICAgICAgIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoXG4gICAgICAgIH0pXG4gICAgXSwgUGllQ2hhcnRDb21wb25lbnQpO1xuICAgIHJldHVybiBQaWVDaGFydENvbXBvbmVudDtcbn0oQmFzZUNoYXJ0Q29tcG9uZW50KSk7XG5cbmZ1bmN0aW9uIGdyaWRTaXplKGRpbXMsIGxlbiwgbWluV2lkdGgpIHtcbiAgICB2YXIgcm93cyA9IDE7XG4gICAgdmFyIGNvbHMgPSBsZW47XG4gICAgdmFyIHdpZHRoID0gZGltcy53aWR0aDtcbiAgICBpZiAod2lkdGggPiBtaW5XaWR0aCkge1xuICAgICAgICB3aGlsZSAod2lkdGggLyBjb2xzIDwgbWluV2lkdGgpIHtcbiAgICAgICAgICAgIHJvd3MgKz0gMTtcbiAgICAgICAgICAgIGNvbHMgPSBNYXRoLmNlaWwobGVuIC8gcm93cyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIFtjb2xzLCByb3dzXTtcbn1cbmZ1bmN0aW9uIGdyaWRMYXlvdXQoZGltcywgZGF0YSwgbWluV2lkdGgsIGRlc2lnbmF0ZWRUb3RhbCkge1xuICAgIHZhciB4U2NhbGUgPSBzY2FsZUJhbmQoKTtcbiAgICB2YXIgeVNjYWxlID0gc2NhbGVCYW5kKCk7XG4gICAgdmFyIHdpZHRoID0gZGltcy53aWR0aDtcbiAgICB2YXIgaGVpZ2h0ID0gZGltcy5oZWlnaHQ7XG4gICAgdmFyIF9hID0gZ3JpZFNpemUoZGltcywgZGF0YS5sZW5ndGgsIG1pbldpZHRoKSwgY29sdW1ucyA9IF9hWzBdLCByb3dzID0gX2FbMV07XG4gICAgdmFyIHhEb21haW4gPSBbXTtcbiAgICB2YXIgeURvbWFpbiA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcm93czsgaSsrKSB7XG4gICAgICAgIHlEb21haW4ucHVzaChpKTtcbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb2x1bW5zOyBpKyspIHtcbiAgICAgICAgeERvbWFpbi5wdXNoKGkpO1xuICAgIH1cbiAgICB4U2NhbGUuZG9tYWluKHhEb21haW4pO1xuICAgIHlTY2FsZS5kb21haW4oeURvbWFpbik7XG4gICAgeFNjYWxlLnJhbmdlUm91bmQoWzAsIHdpZHRoXSwgMC4xKTtcbiAgICB5U2NhbGUucmFuZ2VSb3VuZChbMCwgaGVpZ2h0XSwgMC4xKTtcbiAgICB2YXIgcmVzID0gW107XG4gICAgdmFyIHRvdGFsID0gZGVzaWduYXRlZFRvdGFsID8gZGVzaWduYXRlZFRvdGFsIDogZ2V0VG90YWwoZGF0YSk7XG4gICAgdmFyIGNhcmRXaWR0aCA9IHhTY2FsZS5iYW5kd2lkdGgoKTtcbiAgICB2YXIgY2FyZEhlaWdodCA9IHlTY2FsZS5iYW5kd2lkdGgoKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgcmVzW2ldID0ge307XG4gICAgICAgIHJlc1tpXS5kYXRhID0ge1xuICAgICAgICAgICAgbmFtZTogZGF0YVtpXSA/IGRhdGFbaV0ubmFtZSA6ICcnLFxuICAgICAgICAgICAgdmFsdWU6IGRhdGFbaV0gPyBkYXRhW2ldLnZhbHVlIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgZXh0cmE6IGRhdGFbaV0gPyBkYXRhW2ldLmV4dHJhIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgbGFiZWw6IGRhdGFbaV0gPyBkYXRhW2ldLmxhYmVsIDogJydcbiAgICAgICAgfTtcbiAgICAgICAgcmVzW2ldLnggPSB4U2NhbGUoaSAlIGNvbHVtbnMpO1xuICAgICAgICByZXNbaV0ueSA9IHlTY2FsZShNYXRoLmZsb29yKGkgLyBjb2x1bW5zKSk7XG4gICAgICAgIHJlc1tpXS53aWR0aCA9IGNhcmRXaWR0aDtcbiAgICAgICAgcmVzW2ldLmhlaWdodCA9IGNhcmRIZWlnaHQ7XG4gICAgICAgIHJlc1tpXS5kYXRhLnBlcmNlbnQgPSB0b3RhbCA+IDAgPyByZXNbaV0uZGF0YS52YWx1ZSAvIHRvdGFsIDogMDtcbiAgICAgICAgcmVzW2ldLmRhdGEudG90YWwgPSB0b3RhbDtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn1cbmZ1bmN0aW9uIGdldFRvdGFsKHJlc3VsdHMpIHtcbiAgICByZXR1cm4gcmVzdWx0cy5tYXAoZnVuY3Rpb24gKGQpIHsgcmV0dXJuIChkID8gZC52YWx1ZSA6IDApOyB9KS5yZWR1Y2UoZnVuY3Rpb24gKHN1bSwgdmFsKSB7IHJldHVybiBzdW0gKyB2YWw7IH0sIDApO1xufVxuXG52YXIgUGllR3JpZENvbXBvbmVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUGllR3JpZENvbXBvbmVudCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBQaWVHcmlkQ29tcG9uZW50KCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMudG9vbHRpcERpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIF90aGlzLmxhYmVsID0gJ1RvdGFsJztcbiAgICAgICAgX3RoaXMubWluV2lkdGggPSAxNTA7XG4gICAgICAgIF90aGlzLmFjdGl2ZUVudHJpZXMgPSBbXTtcbiAgICAgICAgX3RoaXMuYWN0aXZhdGUgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgICAgIF90aGlzLmRlYWN0aXZhdGUgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgICAgIF90aGlzLm1hcmdpbiA9IFsyMCwgMjAsIDIwLCAyMF07XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgUGllR3JpZENvbXBvbmVudC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLnVwZGF0ZS5jYWxsKHRoaXMpO1xuICAgICAgICB0aGlzLmRpbXMgPSBjYWxjdWxhdGVWaWV3RGltZW5zaW9ucyh7XG4gICAgICAgICAgICB3aWR0aDogdGhpcy53aWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogdGhpcy5oZWlnaHQsXG4gICAgICAgICAgICBtYXJnaW5zOiB0aGlzLm1hcmdpblxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5mb3JtYXREYXRlcygpO1xuICAgICAgICB0aGlzLmRvbWFpbiA9IHRoaXMuZ2V0RG9tYWluKCk7XG4gICAgICAgIHRoaXMuZGF0YSA9IGdyaWRMYXlvdXQodGhpcy5kaW1zLCB0aGlzLnJlc3VsdHMsIHRoaXMubWluV2lkdGgsIHRoaXMuZGVzaWduYXRlZFRvdGFsKTtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0gPSBcInRyYW5zbGF0ZShcIiArIHRoaXMubWFyZ2luWzNdICsgXCIgLCBcIiArIHRoaXMubWFyZ2luWzBdICsgXCIpXCI7XG4gICAgICAgIHRoaXMuc2VyaWVzID0gdGhpcy5nZXRTZXJpZXMoKTtcbiAgICAgICAgdGhpcy5zZXRDb2xvcnMoKTtcbiAgICAgICAgdGhpcy50b29sdGlwVGV4dCA9IHRoaXMudG9vbHRpcFRleHQgfHwgdGhpcy5kZWZhdWx0VG9vbHRpcFRleHQ7XG4gICAgfTtcbiAgICBQaWVHcmlkQ29tcG9uZW50LnByb3RvdHlwZS5kZWZhdWx0VG9vbHRpcFRleHQgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIGRhdGEgPSBfYS5kYXRhO1xuICAgICAgICB2YXIgbGFiZWwgPSB0cmltTGFiZWwoZm9ybWF0TGFiZWwoZGF0YS5uYW1lKSk7XG4gICAgICAgIHZhciB2YWwgPSBkYXRhLnZhbHVlLnRvTG9jYWxlU3RyaW5nKCk7XG4gICAgICAgIHJldHVybiBcIlxcbiAgICAgIDxzcGFuIGNsYXNzPVxcXCJ0b29sdGlwLWxhYmVsXFxcIj5cIiArIGxhYmVsICsgXCI8L3NwYW4+XFxuICAgICAgPHNwYW4gY2xhc3M9XFxcInRvb2x0aXAtdmFsXFxcIj5cIiArIHZhbCArIFwiPC9zcGFuPlxcbiAgICBcIjtcbiAgICB9O1xuICAgIFBpZUdyaWRDb21wb25lbnQucHJvdG90eXBlLmdldERvbWFpbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVzdWx0cy5tYXAoZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQubGFiZWw7IH0pO1xuICAgIH07XG4gICAgUGllR3JpZENvbXBvbmVudC5wcm90b3R5cGUuZ2V0U2VyaWVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgdG90YWwgPSB0aGlzLmRlc2lnbmF0ZWRUb3RhbCA/IHRoaXMuZGVzaWduYXRlZFRvdGFsIDogdGhpcy5nZXRUb3RhbCgpO1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLm1hcChmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgdmFyIGJhc2VsaW5lTGFiZWxIZWlnaHQgPSAyMDtcbiAgICAgICAgICAgIHZhciBwYWRkaW5nID0gMTA7XG4gICAgICAgICAgICB2YXIgbmFtZSA9IGQuZGF0YS5uYW1lO1xuICAgICAgICAgICAgdmFyIGxhYmVsID0gZm9ybWF0TGFiZWwobmFtZSk7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBkLmRhdGEudmFsdWU7XG4gICAgICAgICAgICB2YXIgcmFkaXVzID0gbWluKFtkLndpZHRoIC0gcGFkZGluZywgZC5oZWlnaHQgLSBiYXNlbGluZUxhYmVsSGVpZ2h0XSkgLyAyIC0gNTtcbiAgICAgICAgICAgIHZhciBpbm5lclJhZGl1cyA9IHJhZGl1cyAqIDAuOTtcbiAgICAgICAgICAgIHZhciBjb3VudCA9IDA7XG4gICAgICAgICAgICB2YXIgY29sb3JzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGNvdW50ICs9IDE7XG4gICAgICAgICAgICAgICAgaWYgKGNvdW50ID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAncmdiYSgxMDAsMTAwLDEwMCwwLjMpJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5jb2xvclNjYWxlLmdldENvbG9yKGxhYmVsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIHhQb3MgPSBkLnggKyAoZC53aWR0aCAtIHBhZGRpbmcpIC8gMjtcbiAgICAgICAgICAgIHZhciB5UG9zID0gZC55ICsgKGQuaGVpZ2h0IC0gYmFzZWxpbmVMYWJlbEhlaWdodCkgLyAyO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IFwidHJhbnNsYXRlKFwiICsgeFBvcyArIFwiLCBcIiArIHlQb3MgKyBcIilcIixcbiAgICAgICAgICAgICAgICBjb2xvcnM6IGNvbG9ycyxcbiAgICAgICAgICAgICAgICBpbm5lclJhZGl1czogaW5uZXJSYWRpdXMsXG4gICAgICAgICAgICAgICAgb3V0ZXJSYWRpdXM6IHJhZGl1cyxcbiAgICAgICAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgICAgICAgIGxhYmVsOiB0cmltTGFiZWwobGFiZWwpLFxuICAgICAgICAgICAgICAgIHRvdGFsOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICAgICAgcGVyY2VudDogZm9ybWF0KCcuMSUnKShkLmRhdGEucGVyY2VudCksXG4gICAgICAgICAgICAgICAgZGF0YTogW1xuICAgICAgICAgICAgICAgICAgICBkLFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3RoZXI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRvdGFsIC0gdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogZC5kYXRhLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgUGllR3JpZENvbXBvbmVudC5wcm90b3R5cGUuZ2V0VG90YWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlc3VsdHMubWFwKGZ1bmN0aW9uIChkKSB7IHJldHVybiBkLnZhbHVlOyB9KS5yZWR1Y2UoZnVuY3Rpb24gKHN1bSwgZCkgeyByZXR1cm4gc3VtICsgZDsgfSwgMCk7XG4gICAgfTtcbiAgICBQaWVHcmlkQ29tcG9uZW50LnByb3RvdHlwZS5vbkNsaWNrID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdGhpcy5zZWxlY3QuZW1pdChkYXRhKTtcbiAgICB9O1xuICAgIFBpZUdyaWRDb21wb25lbnQucHJvdG90eXBlLnNldENvbG9ycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jb2xvclNjYWxlID0gbmV3IENvbG9ySGVscGVyKHRoaXMuc2NoZW1lLCAnb3JkaW5hbCcsIHRoaXMuZG9tYWluLCB0aGlzLmN1c3RvbUNvbG9ycyk7XG4gICAgfTtcbiAgICBQaWVHcmlkQ29tcG9uZW50LnByb3RvdHlwZS5vbkFjdGl2YXRlID0gZnVuY3Rpb24gKGl0ZW0sIGZyb21MZWdlbmQpIHtcbiAgICAgICAgaWYgKGZyb21MZWdlbmQgPT09IHZvaWQgMCkgeyBmcm9tTGVnZW5kID0gZmFsc2U7IH1cbiAgICAgICAgaXRlbSA9IHRoaXMucmVzdWx0cy5maW5kKGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICBpZiAoZnJvbUxlZ2VuZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBkLmxhYmVsID09PSBpdGVtLm5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZC5uYW1lID09PSBpdGVtLm5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgaWR4ID0gdGhpcy5hY3RpdmVFbnRyaWVzLmZpbmRJbmRleChmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgcmV0dXJuIGQubmFtZSA9PT0gaXRlbS5uYW1lICYmIGQudmFsdWUgPT09IGl0ZW0udmFsdWUgJiYgZC5zZXJpZXMgPT09IGl0ZW0uc2VyaWVzO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGlkeCA+IC0xKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hY3RpdmVFbnRyaWVzID0gW2l0ZW1dLmNvbmNhdCh0aGlzLmFjdGl2ZUVudHJpZXMpO1xuICAgICAgICB0aGlzLmFjdGl2YXRlLmVtaXQoeyB2YWx1ZTogaXRlbSwgZW50cmllczogdGhpcy5hY3RpdmVFbnRyaWVzIH0pO1xuICAgIH07XG4gICAgUGllR3JpZENvbXBvbmVudC5wcm90b3R5cGUub25EZWFjdGl2YXRlID0gZnVuY3Rpb24gKGl0ZW0sIGZyb21MZWdlbmQpIHtcbiAgICAgICAgaWYgKGZyb21MZWdlbmQgPT09IHZvaWQgMCkgeyBmcm9tTGVnZW5kID0gZmFsc2U7IH1cbiAgICAgICAgaXRlbSA9IHRoaXMucmVzdWx0cy5maW5kKGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICBpZiAoZnJvbUxlZ2VuZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBkLmxhYmVsID09PSBpdGVtLm5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZC5uYW1lID09PSBpdGVtLm5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgaWR4ID0gdGhpcy5hY3RpdmVFbnRyaWVzLmZpbmRJbmRleChmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgcmV0dXJuIGQubmFtZSA9PT0gaXRlbS5uYW1lICYmIGQudmFsdWUgPT09IGl0ZW0udmFsdWUgJiYgZC5zZXJpZXMgPT09IGl0ZW0uc2VyaWVzO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5hY3RpdmVFbnRyaWVzLnNwbGljZShpZHgsIDEpO1xuICAgICAgICB0aGlzLmFjdGl2ZUVudHJpZXMgPSB0aGlzLmFjdGl2ZUVudHJpZXMuc2xpY2UoKTtcbiAgICAgICAgdGhpcy5kZWFjdGl2YXRlLmVtaXQoeyB2YWx1ZTogaXRlbSwgZW50cmllczogdGhpcy5hY3RpdmVFbnRyaWVzIH0pO1xuICAgIH07XG4gICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBOdW1iZXIpXG4gICAgXSwgUGllR3JpZENvbXBvbmVudC5wcm90b3R5cGUsIFwiZGVzaWduYXRlZFRvdGFsXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIFBpZUdyaWRDb21wb25lbnQucHJvdG90eXBlLCBcInRvb2x0aXBEaXNhYmxlZFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgRnVuY3Rpb24pXG4gICAgXSwgUGllR3JpZENvbXBvbmVudC5wcm90b3R5cGUsIFwidG9vbHRpcFRleHRcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcbiAgICBdLCBQaWVHcmlkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJsYWJlbFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgTnVtYmVyKVxuICAgIF0sIFBpZUdyaWRDb21wb25lbnQucHJvdG90eXBlLCBcIm1pbldpZHRoXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBBcnJheSlcbiAgICBdLCBQaWVHcmlkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJhY3RpdmVFbnRyaWVzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIE91dHB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgdHlwZW9mIChfYSA9IHR5cGVvZiBFdmVudEVtaXR0ZXIgIT09IFwidW5kZWZpbmVkXCIgJiYgRXZlbnRFbWl0dGVyKSA9PT0gXCJmdW5jdGlvblwiID8gX2EgOiBPYmplY3QpXG4gICAgXSwgUGllR3JpZENvbXBvbmVudC5wcm90b3R5cGUsIFwiYWN0aXZhdGVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgT3V0cHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCB0eXBlb2YgKF9iID0gdHlwZW9mIEV2ZW50RW1pdHRlciAhPT0gXCJ1bmRlZmluZWRcIiAmJiBFdmVudEVtaXR0ZXIpID09PSBcImZ1bmN0aW9uXCIgPyBfYiA6IE9iamVjdClcbiAgICBdLCBQaWVHcmlkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJkZWFjdGl2YXRlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIENvbnRlbnRDaGlsZCgndG9vbHRpcFRlbXBsYXRlJywgeyBzdGF0aWM6IGZhbHNlIH0pLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgdHlwZW9mIChfYyA9IHR5cGVvZiBUZW1wbGF0ZVJlZiAhPT0gXCJ1bmRlZmluZWRcIiAmJiBUZW1wbGF0ZVJlZikgPT09IFwiZnVuY3Rpb25cIiA/IF9jIDogT2JqZWN0KVxuICAgIF0sIFBpZUdyaWRDb21wb25lbnQucHJvdG90eXBlLCBcInRvb2x0aXBUZW1wbGF0ZVwiLCB2b2lkIDApO1xuICAgIFBpZUdyaWRDb21wb25lbnQgPSBfX2RlY29yYXRlKFtcbiAgICAgICAgQ29tcG9uZW50KHtcbiAgICAgICAgICAgIHNlbGVjdG9yOiAnbmd4LWNoYXJ0cy1waWUtZ3JpZCcsXG4gICAgICAgICAgICB0ZW1wbGF0ZTogXCJcXG4gICAgPG5neC1jaGFydHMtY2hhcnQgW3ZpZXddPVxcXCJbd2lkdGgsIGhlaWdodF1cXFwiIFtzaG93TGVnZW5kXT1cXFwiZmFsc2VcXFwiIFthbmltYXRpb25zXT1cXFwiYW5pbWF0aW9uc1xcXCI+XFxuICAgICAgPHN2ZzpnIFthdHRyLnRyYW5zZm9ybV09XFxcInRyYW5zZm9ybVxcXCIgY2xhc3M9XFxcInBpZS1ncmlkIGNoYXJ0XFxcIj5cXG4gICAgICAgIDxzdmc6ZyAqbmdGb3I9XFxcImxldCBzZXJpZXMgb2Ygc2VyaWVzXFxcIiBjbGFzcz1cXFwicGllLWdyaWQtaXRlbVxcXCIgW2F0dHIudHJhbnNmb3JtXT1cXFwic2VyaWVzLnRyYW5zZm9ybVxcXCI+XFxuICAgICAgICAgIDxzdmc6Z1xcbiAgICAgICAgICAgIG5neC1jaGFydHMtcGllLWdyaWQtc2VyaWVzXFxuICAgICAgICAgICAgW2NvbG9yc109XFxcInNlcmllcy5jb2xvcnNcXFwiXFxuICAgICAgICAgICAgW2RhdGFdPVxcXCJzZXJpZXMuZGF0YVxcXCJcXG4gICAgICAgICAgICBbaW5uZXJSYWRpdXNdPVxcXCJzZXJpZXMuaW5uZXJSYWRpdXNcXFwiXFxuICAgICAgICAgICAgW291dGVyUmFkaXVzXT1cXFwic2VyaWVzLm91dGVyUmFkaXVzXFxcIlxcbiAgICAgICAgICAgIFthbmltYXRpb25zXT1cXFwiYW5pbWF0aW9uc1xcXCJcXG4gICAgICAgICAgICAoc2VsZWN0KT1cXFwib25DbGljaygkZXZlbnQpXFxcIlxcbiAgICAgICAgICAgIG5neC10b29sdGlwXFxuICAgICAgICAgICAgW3Rvb2x0aXBEaXNhYmxlZF09XFxcInRvb2x0aXBEaXNhYmxlZFxcXCJcXG4gICAgICAgICAgICBbdG9vbHRpcFBsYWNlbWVudF09XFxcIid0b3AnXFxcIlxcbiAgICAgICAgICAgIFt0b29sdGlwVHlwZV09XFxcIid0b29sdGlwJ1xcXCJcXG4gICAgICAgICAgICBbdG9vbHRpcFRpdGxlXT1cXFwidG9vbHRpcFRlbXBsYXRlID8gdW5kZWZpbmVkIDogdG9vbHRpcFRleHQoeyBkYXRhOiBzZXJpZXMgfSlcXFwiXFxuICAgICAgICAgICAgW3Rvb2x0aXBUZW1wbGF0ZV09XFxcInRvb2x0aXBUZW1wbGF0ZVxcXCJcXG4gICAgICAgICAgICBbdG9vbHRpcENvbnRleHRdPVxcXCJzZXJpZXMuZGF0YVswXS5kYXRhXFxcIlxcbiAgICAgICAgICAgIChhY3RpdmF0ZSk9XFxcIm9uQWN0aXZhdGUoJGV2ZW50KVxcXCJcXG4gICAgICAgICAgICAoZGVhY3RpdmF0ZSk9XFxcIm9uRGVhY3RpdmF0ZSgkZXZlbnQpXFxcIlxcbiAgICAgICAgICAvPlxcbiAgICAgICAgICA8c3ZnOnRleHRcXG4gICAgICAgICAgICAqbmdJZj1cXFwiYW5pbWF0aW9uc1xcXCJcXG4gICAgICAgICAgICBjbGFzcz1cXFwibGFiZWwgcGVyY2VudC1sYWJlbFxcXCJcXG4gICAgICAgICAgICBkeT1cXFwiLTAuNWVtXFxcIlxcbiAgICAgICAgICAgIHg9XFxcIjBcXFwiXFxuICAgICAgICAgICAgeT1cXFwiNVxcXCJcXG4gICAgICAgICAgICBuZ3gtY2hhcnRzLWNvdW50LXVwXFxuICAgICAgICAgICAgW2NvdW50VG9dPVxcXCJzZXJpZXMucGVyY2VudFxcXCJcXG4gICAgICAgICAgICBbY291bnRTdWZmaXhdPVxcXCInJSdcXFwiXFxuICAgICAgICAgICAgdGV4dC1hbmNob3I9XFxcIm1pZGRsZVxcXCJcXG4gICAgICAgICAgPjwvc3ZnOnRleHQ+XFxuICAgICAgICAgIDxzdmc6dGV4dCAqbmdJZj1cXFwiIWFuaW1hdGlvbnNcXFwiIGNsYXNzPVxcXCJsYWJlbCBwZXJjZW50LWxhYmVsXFxcIiBkeT1cXFwiLTAuNWVtXFxcIiB4PVxcXCIwXFxcIiB5PVxcXCI1XFxcIiB0ZXh0LWFuY2hvcj1cXFwibWlkZGxlXFxcIj5cXG4gICAgICAgICAgICB7eyBzZXJpZXMucGVyY2VudC50b0xvY2FsZVN0cmluZygpIH19XFxuICAgICAgICAgIDwvc3ZnOnRleHQ+XFxuICAgICAgICAgIDxzdmc6dGV4dCBjbGFzcz1cXFwibGFiZWxcXFwiIGR5PVxcXCIwLjVlbVxcXCIgeD1cXFwiMFxcXCIgeT1cXFwiNVxcXCIgdGV4dC1hbmNob3I9XFxcIm1pZGRsZVxcXCI+XFxuICAgICAgICAgICAge3sgc2VyaWVzLmxhYmVsIH19XFxuICAgICAgICAgIDwvc3ZnOnRleHQ+XFxuICAgICAgICAgIDxzdmc6dGV4dFxcbiAgICAgICAgICAgICpuZ0lmPVxcXCJhbmltYXRpb25zXFxcIlxcbiAgICAgICAgICAgIGNsYXNzPVxcXCJsYWJlbFxcXCJcXG4gICAgICAgICAgICBkeT1cXFwiMS4yM2VtXFxcIlxcbiAgICAgICAgICAgIHg9XFxcIjBcXFwiXFxuICAgICAgICAgICAgW2F0dHIueV09XFxcInNlcmllcy5vdXRlclJhZGl1c1xcXCJcXG4gICAgICAgICAgICB0ZXh0LWFuY2hvcj1cXFwibWlkZGxlXFxcIlxcbiAgICAgICAgICAgIG5neC1jaGFydHMtY291bnQtdXBcXG4gICAgICAgICAgICBbY291bnRUb109XFxcInNlcmllcy50b3RhbFxcXCJcXG4gICAgICAgICAgICBbY291bnRQcmVmaXhdPVxcXCJsYWJlbCArICc6ICdcXFwiXFxuICAgICAgICAgID48L3N2Zzp0ZXh0PlxcbiAgICAgICAgICA8c3ZnOnRleHRcXG4gICAgICAgICAgICAqbmdJZj1cXFwiIWFuaW1hdGlvbnNcXFwiXFxuICAgICAgICAgICAgY2xhc3M9XFxcImxhYmVsXFxcIlxcbiAgICAgICAgICAgIGR5PVxcXCIxLjIzZW1cXFwiXFxuICAgICAgICAgICAgeD1cXFwiMFxcXCJcXG4gICAgICAgICAgICBbYXR0ci55XT1cXFwic2VyaWVzLm91dGVyUmFkaXVzXFxcIlxcbiAgICAgICAgICAgIHRleHQtYW5jaG9yPVxcXCJtaWRkbGVcXFwiXFxuICAgICAgICAgID5cXG4gICAgICAgICAgICB7eyBsYWJlbCB9fToge3sgc2VyaWVzLnRvdGFsLnRvTG9jYWxlU3RyaW5nKCkgfX1cXG4gICAgICAgICAgPC9zdmc6dGV4dD5cXG4gICAgICAgIDwvc3ZnOmc+XFxuICAgICAgPC9zdmc6Zz5cXG4gICAgPC9uZ3gtY2hhcnRzLWNoYXJ0PlxcbiAgXCIsXG4gICAgICAgICAgICBzdHlsZXM6IFtcIi5uZ3gtY2hhcnRze2Zsb2F0OmxlZnQ7b3ZlcmZsb3c6dmlzaWJsZX0ubmd4LWNoYXJ0cyAuYXJjLC5uZ3gtY2hhcnRzIC5iYXIsLm5neC1jaGFydHMgLmNpcmNsZXtjdXJzb3I6cG9pbnRlcn0ubmd4LWNoYXJ0cyAuYXJjLmFjdGl2ZSwubmd4LWNoYXJ0cyAuYXJjOmhvdmVyLC5uZ3gtY2hhcnRzIC5iYXIuYWN0aXZlLC5uZ3gtY2hhcnRzIC5iYXI6aG92ZXIsLm5neC1jaGFydHMgLmNhcmQuYWN0aXZlLC5uZ3gtY2hhcnRzIC5jYXJkOmhvdmVyLC5uZ3gtY2hhcnRzIC5jZWxsLmFjdGl2ZSwubmd4LWNoYXJ0cyAuY2VsbDpob3ZlcntvcGFjaXR5Oi44O3RyYW5zaXRpb246b3BhY2l0eSAuMXMgZWFzZS1pbi1vdXR9Lm5neC1jaGFydHMgLmFyYzpmb2N1cywubmd4LWNoYXJ0cyAuYmFyOmZvY3VzLC5uZ3gtY2hhcnRzIC5jYXJkOmZvY3VzLC5uZ3gtY2hhcnRzIC5jZWxsOmZvY3Vze291dGxpbmU6MH0ubmd4LWNoYXJ0cyAuYXJjLmhpZGRlbiwubmd4LWNoYXJ0cyAuYmFyLmhpZGRlbiwubmd4LWNoYXJ0cyAuY2FyZC5oaWRkZW4sLm5neC1jaGFydHMgLmNlbGwuaGlkZGVue2Rpc3BsYXk6bm9uZX0ubmd4LWNoYXJ0cyBnOmZvY3Vze291dGxpbmU6MH0ubmd4LWNoYXJ0cyAuYXJlYS1zZXJpZXMuaW5hY3RpdmUsLm5neC1jaGFydHMgLmxpbmUtc2VyaWVzLXJhbmdlLmluYWN0aXZlLC5uZ3gtY2hhcnRzIC5saW5lLXNlcmllcy5pbmFjdGl2ZSwubmd4LWNoYXJ0cyAucG9sYXItc2VyaWVzLWFyZWEuaW5hY3RpdmUsLm5neC1jaGFydHMgLnBvbGFyLXNlcmllcy1wYXRoLmluYWN0aXZle3RyYW5zaXRpb246b3BhY2l0eSAuMXMgZWFzZS1pbi1vdXQ7b3BhY2l0eTouMn0ubmd4LWNoYXJ0cyAubGluZS1oaWdobGlnaHR7ZGlzcGxheTpub25lfS5uZ3gtY2hhcnRzIC5saW5lLWhpZ2hsaWdodC5hY3RpdmV7ZGlzcGxheTpibG9ja30ubmd4LWNoYXJ0cyAuYXJlYXtvcGFjaXR5Oi42fS5uZ3gtY2hhcnRzIC5jaXJjbGU6aG92ZXJ7Y3Vyc29yOnBvaW50ZXJ9Lm5neC1jaGFydHMgLmxhYmVse2ZvbnQtc2l6ZToxMnB4O2ZvbnQtd2VpZ2h0OjQwMH0ubmd4LWNoYXJ0cyAudG9vbHRpcC1hbmNob3J7ZmlsbDojMDAwfS5uZ3gtY2hhcnRzIC5ncmlkbGluZS1wYXRoe3N0cm9rZTojZGRkO3N0cm9rZS13aWR0aDoxO2ZpbGw6bm9uZX0ubmd4LWNoYXJ0cyAucmVmbGluZS1wYXRoe3N0cm9rZTojYThiMmM3O3N0cm9rZS13aWR0aDoxO3N0cm9rZS1kYXNoYXJyYXk6NTtzdHJva2UtZGFzaG9mZnNldDo1fS5uZ3gtY2hhcnRzIC5yZWZsaW5lLWxhYmVse2ZvbnQtc2l6ZTo5cHh9Lm5neC1jaGFydHMgLnJlZmVyZW5jZS1hcmVhe2ZpbGwtb3BhY2l0eTouMDU7ZmlsbDojMDAwfS5uZ3gtY2hhcnRzIC5ncmlkbGluZS1wYXRoLWRvdHRlZHtzdHJva2U6I2RkZDtzdHJva2Utd2lkdGg6MTtmaWxsOm5vbmU7c3Ryb2tlLWRhc2hhcnJheToxLDIwO3N0cm9rZS1kYXNob2Zmc2V0OjN9Lm5neC1jaGFydHMgLmdyaWQtcGFuZWwgcmVjdHtmaWxsOm5vbmV9Lm5neC1jaGFydHMgLmdyaWQtcGFuZWwub2RkIHJlY3R7ZmlsbDpyZ2JhKDAsMCwwLC4wNSl9XCIsIFwiLnBpZS1ncmlkIC5hcmMxe29wYWNpdHk6LjR9LnBpZS1ncmlkIC5wZXJjZW50LWxhYmVse2ZvbnQtc2l6ZToxNnB4O2ZvbnQtd2VpZ2h0OjQwMH1cIl0sXG4gICAgICAgICAgICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lLFxuICAgICAgICAgICAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2hcbiAgICAgICAgfSlcbiAgICBdLCBQaWVHcmlkQ29tcG9uZW50KTtcbiAgICByZXR1cm4gUGllR3JpZENvbXBvbmVudDtcbn0oQmFzZUNoYXJ0Q29tcG9uZW50KSk7XG5cbnZhciBQaWVHcmlkU2VyaWVzQ29tcG9uZW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFBpZUdyaWRTZXJpZXNDb21wb25lbnQoZWxlbWVudCkge1xuICAgICAgICB0aGlzLmlubmVyUmFkaXVzID0gNzA7XG4gICAgICAgIHRoaXMub3V0ZXJSYWRpdXMgPSA4MDtcbiAgICAgICAgdGhpcy5hbmltYXRpb25zID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zZWxlY3QgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgICAgIHRoaXMuYWN0aXZhdGUgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgICAgIHRoaXMuZGVhY3RpdmF0ZSA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudC5uYXRpdmVFbGVtZW50O1xuICAgIH1cbiAgICBQaWVHcmlkU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZS5uZ09uQ2hhbmdlcyA9IGZ1bmN0aW9uIChjaGFuZ2VzKSB7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfTtcbiAgICBQaWVHcmlkU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMubGF5b3V0ID0gcGllKClcbiAgICAgICAgICAgIC52YWx1ZShmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC5kYXRhLnZhbHVlOyB9KVxuICAgICAgICAgICAgLnNvcnQobnVsbCk7XG4gICAgICAgIHRoaXMuYXJjcyA9IHRoaXMuZ2V0QXJjcygpO1xuICAgIH07XG4gICAgUGllR3JpZFNlcmllc0NvbXBvbmVudC5wcm90b3R5cGUuZ2V0QXJjcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcmV0dXJuIHRoaXMubGF5b3V0KHRoaXMuZGF0YSkubWFwKGZ1bmN0aW9uIChhcmMkJDEsIGluZGV4KSB7XG4gICAgICAgICAgICB2YXIgbGFiZWwgPSBhcmMkJDEuZGF0YS5kYXRhLm5hbWU7XG4gICAgICAgICAgICB2YXIgb3RoZXIgPSBhcmMkJDEuZGF0YS5kYXRhLm90aGVyO1xuICAgICAgICAgICAgaWYgKGluZGV4ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYXJjJCQxLnN0YXJ0QW5nbGUgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGNvbG9yID0gX3RoaXMuY29sb3JzKGxhYmVsKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgZGF0YTogYXJjJCQxLmRhdGEuZGF0YSxcbiAgICAgICAgICAgICAgICBjbGFzczogJ2FyYyAnICsgJ2FyYycgKyBpbmRleCxcbiAgICAgICAgICAgICAgICBmaWxsOiBjb2xvcixcbiAgICAgICAgICAgICAgICBzdGFydEFuZ2xlOiBvdGhlciA/IDAgOiBhcmMkJDEuc3RhcnRBbmdsZSxcbiAgICAgICAgICAgICAgICBlbmRBbmdsZTogYXJjJCQxLmVuZEFuZ2xlLFxuICAgICAgICAgICAgICAgIGFuaW1hdGU6IF90aGlzLmFuaW1hdGlvbnMgJiYgIW90aGVyLFxuICAgICAgICAgICAgICAgIHBvaW50ZXJFdmVudHM6ICFvdGhlclxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBQaWVHcmlkU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZS5vbkNsaWNrID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdGhpcy5zZWxlY3QuZW1pdCh0aGlzLmRhdGFbMF0uZGF0YSk7XG4gICAgfTtcbiAgICBQaWVHcmlkU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZS50cmFja0J5ID0gZnVuY3Rpb24gKGluZGV4LCBpdGVtKSB7XG4gICAgICAgIHJldHVybiBpdGVtLmRhdGEubmFtZTtcbiAgICB9O1xuICAgIFBpZUdyaWRTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLmxhYmVsID0gZnVuY3Rpb24gKGFyYyQkMSkge1xuICAgICAgICByZXR1cm4gYXJjJCQxLmRhdGEubmFtZTtcbiAgICB9O1xuICAgIFBpZUdyaWRTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLmNvbG9yID0gZnVuY3Rpb24gKGFyYyQkMSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb2xvcnModGhpcy5sYWJlbChhcmMkJDEpKTtcbiAgICB9O1xuICAgIHZhciBfYTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBQaWVHcmlkU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJjb2xvcnNcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBQaWVHcmlkU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJkYXRhXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgUGllR3JpZFNlcmllc0NvbXBvbmVudC5wcm90b3R5cGUsIFwiaW5uZXJSYWRpdXNcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBQaWVHcmlkU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJvdXRlclJhZGl1c1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbiAgICBdLCBQaWVHcmlkU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJhbmltYXRpb25zXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIE91dHB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIFBpZUdyaWRTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLCBcInNlbGVjdFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBPdXRwdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBQaWVHcmlkU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJhY3RpdmF0ZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBPdXRwdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBQaWVHcmlkU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJkZWFjdGl2YXRlXCIsIHZvaWQgMCk7XG4gICAgUGllR3JpZFNlcmllc0NvbXBvbmVudCA9IF9fZGVjb3JhdGUoW1xuICAgICAgICBDb21wb25lbnQoe1xuICAgICAgICAgICAgc2VsZWN0b3I6ICdnW25neC1jaGFydHMtcGllLWdyaWQtc2VyaWVzXScsXG4gICAgICAgICAgICB0ZW1wbGF0ZTogXCJcXG4gICAgPHN2ZzpnIGNsYXNzPVxcXCJwaWUtZ3JpZC1hcmNzXFxcIj5cXG4gICAgICA8c3ZnOmdcXG4gICAgICAgIG5neC1jaGFydHMtcGllLWFyY1xcbiAgICAgICAgKm5nRm9yPVxcXCJsZXQgYXJjIG9mIGFyY3M7IHRyYWNrQnk6IHRyYWNrQnlcXFwiXFxuICAgICAgICBbYXR0ci5jbGFzc109XFxcImFyYy5jbGFzc1xcXCJcXG4gICAgICAgIFtzdGFydEFuZ2xlXT1cXFwiYXJjLnN0YXJ0QW5nbGVcXFwiXFxuICAgICAgICBbZW5kQW5nbGVdPVxcXCJhcmMuZW5kQW5nbGVcXFwiXFxuICAgICAgICBbaW5uZXJSYWRpdXNdPVxcXCJpbm5lclJhZGl1c1xcXCJcXG4gICAgICAgIFtvdXRlclJhZGl1c109XFxcIm91dGVyUmFkaXVzXFxcIlxcbiAgICAgICAgW2ZpbGxdPVxcXCJjb2xvcihhcmMpXFxcIlxcbiAgICAgICAgW3ZhbHVlXT1cXFwiYXJjLmRhdGEudmFsdWVcXFwiXFxuICAgICAgICBbZGF0YV09XFxcImFyYy5kYXRhXFxcIlxcbiAgICAgICAgW2dyYWRpZW50XT1cXFwiZmFsc2VcXFwiXFxuICAgICAgICBbcG9pbnRlckV2ZW50c109XFxcImFyYy5wb2ludGVyRXZlbnRzXFxcIlxcbiAgICAgICAgW2FuaW1hdGVdPVxcXCJhcmMuYW5pbWF0ZVxcXCJcXG4gICAgICAgIChzZWxlY3QpPVxcXCJvbkNsaWNrKCRldmVudClcXFwiXFxuICAgICAgICAoYWN0aXZhdGUpPVxcXCJhY3RpdmF0ZS5lbWl0KCRldmVudClcXFwiXFxuICAgICAgICAoZGVhY3RpdmF0ZSk9XFxcImRlYWN0aXZhdGUuZW1pdCgkZXZlbnQpXFxcIlxcbiAgICAgID48L3N2ZzpnPlxcbiAgICA8L3N2ZzpnPlxcbiAgXCIsXG4gICAgICAgICAgICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaFxuICAgICAgICB9KSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjpwYXJhbXR5cGVzXCIsIFt0eXBlb2YgKF9hID0gdHlwZW9mIEVsZW1lbnRSZWYgIT09IFwidW5kZWZpbmVkXCIgJiYgRWxlbWVudFJlZikgPT09IFwiZnVuY3Rpb25cIiA/IF9hIDogT2JqZWN0XSlcbiAgICBdLCBQaWVHcmlkU2VyaWVzQ29tcG9uZW50KTtcbiAgICByZXR1cm4gUGllR3JpZFNlcmllc0NvbXBvbmVudDtcbn0oKSk7XG5cbnZhciBQaWVTZXJpZXNDb21wb25lbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUGllU2VyaWVzQ29tcG9uZW50KCkge1xuICAgICAgICB0aGlzLnNlcmllcyA9IFtdO1xuICAgICAgICB0aGlzLmlubmVyUmFkaXVzID0gNjA7XG4gICAgICAgIHRoaXMub3V0ZXJSYWRpdXMgPSA4MDtcbiAgICAgICAgdGhpcy50cmltTGFiZWxzID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5tYXhMYWJlbExlbmd0aCA9IDEwO1xuICAgICAgICB0aGlzLnRvb2x0aXBEaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmFuaW1hdGlvbnMgPSB0cnVlO1xuICAgICAgICB0aGlzLnNlbGVjdCA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5hY3RpdmF0ZSA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5kZWFjdGl2YXRlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICB0aGlzLmRibGNsaWNrID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgIH1cbiAgICBQaWVTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLm5nT25DaGFuZ2VzID0gZnVuY3Rpb24gKGNoYW5nZXMpIHtcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICB9O1xuICAgIFBpZVNlcmllc0NvbXBvbmVudC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcGllR2VuZXJhdG9yID0gcGllKClcbiAgICAgICAgICAgIC52YWx1ZShmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC52YWx1ZTsgfSlcbiAgICAgICAgICAgIC5zb3J0KG51bGwpO1xuICAgICAgICB2YXIgYXJjRGF0YSA9IHBpZUdlbmVyYXRvcih0aGlzLnNlcmllcyk7XG4gICAgICAgIHRoaXMubWF4ID0gbWF4KGFyY0RhdGEsIGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICByZXR1cm4gZC52YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZGF0YSA9IHRoaXMuY2FsY3VsYXRlTGFiZWxQb3NpdGlvbnMoYXJjRGF0YSk7XG4gICAgICAgIHRoaXMudG9vbHRpcFRleHQgPSB0aGlzLnRvb2x0aXBUZXh0IHx8IHRoaXMuZGVmYXVsdFRvb2x0aXBUZXh0O1xuICAgIH07XG4gICAgUGllU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZS5taWRBbmdsZSA9IGZ1bmN0aW9uIChkKSB7XG4gICAgICAgIHJldHVybiBkLnN0YXJ0QW5nbGUgKyAoZC5lbmRBbmdsZSAtIGQuc3RhcnRBbmdsZSkgLyAyO1xuICAgIH07XG4gICAgUGllU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZS5vdXRlckFyYyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGZhY3RvciA9IDEuNTtcbiAgICAgICAgcmV0dXJuIGFyYygpXG4gICAgICAgICAgICAuaW5uZXJSYWRpdXModGhpcy5vdXRlclJhZGl1cyAqIGZhY3RvcilcbiAgICAgICAgICAgIC5vdXRlclJhZGl1cyh0aGlzLm91dGVyUmFkaXVzICogZmFjdG9yKTtcbiAgICB9O1xuICAgIFBpZVNlcmllc0NvbXBvbmVudC5wcm90b3R5cGUuY2FsY3VsYXRlTGFiZWxQb3NpdGlvbnMgPSBmdW5jdGlvbiAocGllRGF0YSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgZmFjdG9yID0gMS41O1xuICAgICAgICB2YXIgbWluRGlzdGFuY2UgPSAxMDtcbiAgICAgICAgdmFyIGxhYmVsUG9zaXRpb25zID0gcGllRGF0YTtcbiAgICAgICAgbGFiZWxQb3NpdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgZC5wb3MgPSBfdGhpcy5vdXRlckFyYygpLmNlbnRyb2lkKGQpO1xuICAgICAgICAgICAgZC5wb3NbMF0gPSBmYWN0b3IgKiBfdGhpcy5vdXRlclJhZGl1cyAqIChfdGhpcy5taWRBbmdsZShkKSA8IE1hdGguUEkgPyAxIDogLTEpO1xuICAgICAgICB9KTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYWJlbFBvc2l0aW9ucy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBhID0gbGFiZWxQb3NpdGlvbnNbaV07XG4gICAgICAgICAgICBpZiAoIXRoaXMubGFiZWxWaXNpYmxlKGEpKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gaSArIDE7IGogPCBsYWJlbFBvc2l0aW9ucy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIHZhciBiID0gbGFiZWxQb3NpdGlvbnNbal07XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmxhYmVsVmlzaWJsZShiKSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gaWYgdGhleSdyZSBvbiB0aGUgc2FtZSBzaWRlXG4gICAgICAgICAgICAgICAgaWYgKGIucG9zWzBdICogYS5wb3NbMF0gPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZXkncmUgb3ZlcmxhcHBpbmdcbiAgICAgICAgICAgICAgICAgICAgdmFyIG8gPSBtaW5EaXN0YW5jZSAtIE1hdGguYWJzKGIucG9zWzFdIC0gYS5wb3NbMV0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAobyA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHB1c2ggdGhlIHNlY29uZCB1cCBvciBkb3duXG4gICAgICAgICAgICAgICAgICAgICAgICBiLnBvc1sxXSArPSBNYXRoLnNpZ24oYi5wb3NbMF0pICogbztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGFiZWxQb3NpdGlvbnM7XG4gICAgfTtcbiAgICBQaWVTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLmxhYmVsVmlzaWJsZSA9IGZ1bmN0aW9uIChteUFyYykge1xuICAgICAgICByZXR1cm4gdGhpcy5zaG93TGFiZWxzICYmIG15QXJjLmVuZEFuZ2xlIC0gbXlBcmMuc3RhcnRBbmdsZSA+IE1hdGguUEkgLyAzMDtcbiAgICB9O1xuICAgIFBpZVNlcmllc0NvbXBvbmVudC5wcm90b3R5cGUuZ2V0VG9vbHRpcFRpdGxlID0gZnVuY3Rpb24gKGEpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudG9vbHRpcFRlbXBsYXRlID8gdW5kZWZpbmVkIDogdGhpcy50b29sdGlwVGV4dChhKTtcbiAgICB9O1xuICAgIFBpZVNlcmllc0NvbXBvbmVudC5wcm90b3R5cGUubGFiZWxUZXh0ID0gZnVuY3Rpb24gKG15QXJjKSB7XG4gICAgICAgIGlmICh0aGlzLmxhYmVsRm9ybWF0dGluZykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGFiZWxGb3JtYXR0aW5nKG15QXJjLmRhdGEubmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMubGFiZWwobXlBcmMpO1xuICAgIH07XG4gICAgUGllU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZS5sYWJlbCA9IGZ1bmN0aW9uIChteUFyYykge1xuICAgICAgICByZXR1cm4gZm9ybWF0TGFiZWwobXlBcmMuZGF0YS5uYW1lKTtcbiAgICB9O1xuICAgIFBpZVNlcmllc0NvbXBvbmVudC5wcm90b3R5cGUuZGVmYXVsdFRvb2x0aXBUZXh0ID0gZnVuY3Rpb24gKG15QXJjKSB7XG4gICAgICAgIHZhciBsYWJlbCA9IHRoaXMubGFiZWwobXlBcmMpO1xuICAgICAgICB2YXIgdmFsID0gZm9ybWF0TGFiZWwobXlBcmMuZGF0YS52YWx1ZSk7XG4gICAgICAgIHJldHVybiBcIlxcbiAgICAgIDxzcGFuIGNsYXNzPVxcXCJ0b29sdGlwLWxhYmVsXFxcIj5cIiArIGVzY2FwZUxhYmVsKGxhYmVsKSArIFwiPC9zcGFuPlxcbiAgICAgIDxzcGFuIGNsYXNzPVxcXCJ0b29sdGlwLXZhbFxcXCI+XCIgKyB2YWwgKyBcIjwvc3Bhbj5cXG4gICAgXCI7XG4gICAgfTtcbiAgICBQaWVTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLmNvbG9yID0gZnVuY3Rpb24gKG15QXJjKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbG9ycy5nZXRDb2xvcih0aGlzLmxhYmVsKG15QXJjKSk7XG4gICAgfTtcbiAgICBQaWVTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLnRyYWNrQnkgPSBmdW5jdGlvbiAoaW5kZXgsIGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIGl0ZW0uZGF0YS5uYW1lO1xuICAgIH07XG4gICAgUGllU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZS5vbkNsaWNrID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdGhpcy5zZWxlY3QuZW1pdChkYXRhKTtcbiAgICB9O1xuICAgIFBpZVNlcmllc0NvbXBvbmVudC5wcm90b3R5cGUuaXNBY3RpdmUgPSBmdW5jdGlvbiAoZW50cnkpIHtcbiAgICAgICAgaWYgKCF0aGlzLmFjdGl2ZUVudHJpZXMpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIHZhciBpdGVtID0gdGhpcy5hY3RpdmVFbnRyaWVzLmZpbmQoZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgIHJldHVybiBlbnRyeS5uYW1lID09PSBkLm5hbWUgJiYgZW50cnkuc2VyaWVzID09PSBkLnNlcmllcztcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBpdGVtICE9PSB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICB2YXIgX2E7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgUGllU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJjb2xvcnNcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBQaWVTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLCBcInNlcmllc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIFBpZVNlcmllc0NvbXBvbmVudC5wcm90b3R5cGUsIFwiZGltc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIFBpZVNlcmllc0NvbXBvbmVudC5wcm90b3R5cGUsIFwiaW5uZXJSYWRpdXNcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBQaWVTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLCBcIm91dGVyUmFkaXVzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgUGllU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJleHBsb2RlU2xpY2VzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgUGllU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJzaG93TGFiZWxzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIFBpZVNlcmllc0NvbXBvbmVudC5wcm90b3R5cGUsIFwiZ3JhZGllbnRcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEFycmF5KVxuICAgIF0sIFBpZVNlcmllc0NvbXBvbmVudC5wcm90b3R5cGUsIFwiYWN0aXZlRW50cmllc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIFBpZVNlcmllc0NvbXBvbmVudC5wcm90b3R5cGUsIFwibGFiZWxGb3JtYXR0aW5nXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIFBpZVNlcmllc0NvbXBvbmVudC5wcm90b3R5cGUsIFwidHJpbUxhYmVsc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgTnVtYmVyKVxuICAgIF0sIFBpZVNlcmllc0NvbXBvbmVudC5wcm90b3R5cGUsIFwibWF4TGFiZWxMZW5ndGhcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEZ1bmN0aW9uKVxuICAgIF0sIFBpZVNlcmllc0NvbXBvbmVudC5wcm90b3R5cGUsIFwidG9vbHRpcFRleHRcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEJvb2xlYW4pXG4gICAgXSwgUGllU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ0b29sdGlwRGlzYWJsZWRcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIHR5cGVvZiAoX2EgPSB0eXBlb2YgVGVtcGxhdGVSZWYgIT09IFwidW5kZWZpbmVkXCIgJiYgVGVtcGxhdGVSZWYpID09PSBcImZ1bmN0aW9uXCIgPyBfYSA6IE9iamVjdClcbiAgICBdLCBQaWVTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLCBcInRvb2x0aXBUZW1wbGF0ZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbiAgICBdLCBQaWVTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLCBcImFuaW1hdGlvbnNcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgT3V0cHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgUGllU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJzZWxlY3RcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgT3V0cHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgUGllU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJhY3RpdmF0ZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBPdXRwdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBQaWVTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLCBcImRlYWN0aXZhdGVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgT3V0cHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgUGllU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJkYmxjbGlja1wiLCB2b2lkIDApO1xuICAgIFBpZVNlcmllc0NvbXBvbmVudCA9IF9fZGVjb3JhdGUoW1xuICAgICAgICBDb21wb25lbnQoe1xuICAgICAgICAgICAgc2VsZWN0b3I6ICdnW25neC1jaGFydHMtcGllLXNlcmllc10nLFxuICAgICAgICAgICAgdGVtcGxhdGU6IFwiXFxuICAgIDxzdmc6ZyAqbmdGb3I9XFxcImxldCBhcmMgb2YgZGF0YTsgdHJhY2tCeTogdHJhY2tCeVxcXCI+XFxuICAgICAgPHN2ZzpnXFxuICAgICAgICBuZ3gtY2hhcnRzLXBpZS1sYWJlbFxcbiAgICAgICAgKm5nSWY9XFxcImxhYmVsVmlzaWJsZShhcmMpXFxcIlxcbiAgICAgICAgW2RhdGFdPVxcXCJhcmNcXFwiXFxuICAgICAgICBbcmFkaXVzXT1cXFwib3V0ZXJSYWRpdXNcXFwiXFxuICAgICAgICBbY29sb3JdPVxcXCJjb2xvcihhcmMpXFxcIlxcbiAgICAgICAgW2xhYmVsXT1cXFwibGFiZWxUZXh0KGFyYylcXFwiXFxuICAgICAgICBbbGFiZWxUcmltXT1cXFwidHJpbUxhYmVsc1xcXCJcXG4gICAgICAgIFtsYWJlbFRyaW1TaXplXT1cXFwibWF4TGFiZWxMZW5ndGhcXFwiXFxuICAgICAgICBbbWF4XT1cXFwibWF4XFxcIlxcbiAgICAgICAgW3ZhbHVlXT1cXFwiYXJjLnZhbHVlXFxcIlxcbiAgICAgICAgW2V4cGxvZGVTbGljZXNdPVxcXCJleHBsb2RlU2xpY2VzXFxcIlxcbiAgICAgICAgW2FuaW1hdGlvbnNdPVxcXCJhbmltYXRpb25zXFxcIlxcbiAgICAgID48L3N2ZzpnPlxcbiAgICAgIDxzdmc6Z1xcbiAgICAgICAgbmd4LWNoYXJ0cy1waWUtYXJjXFxuICAgICAgICBbc3RhcnRBbmdsZV09XFxcImFyYy5zdGFydEFuZ2xlXFxcIlxcbiAgICAgICAgW2VuZEFuZ2xlXT1cXFwiYXJjLmVuZEFuZ2xlXFxcIlxcbiAgICAgICAgW2lubmVyUmFkaXVzXT1cXFwiaW5uZXJSYWRpdXNcXFwiXFxuICAgICAgICBbb3V0ZXJSYWRpdXNdPVxcXCJvdXRlclJhZGl1c1xcXCJcXG4gICAgICAgIFtmaWxsXT1cXFwiY29sb3IoYXJjKVxcXCJcXG4gICAgICAgIFt2YWx1ZV09XFxcImFyYy5kYXRhLnZhbHVlXFxcIlxcbiAgICAgICAgW2dyYWRpZW50XT1cXFwiZ3JhZGllbnRcXFwiXFxuICAgICAgICBbZGF0YV09XFxcImFyYy5kYXRhXFxcIlxcbiAgICAgICAgW21heF09XFxcIm1heFxcXCJcXG4gICAgICAgIFtleHBsb2RlU2xpY2VzXT1cXFwiZXhwbG9kZVNsaWNlc1xcXCJcXG4gICAgICAgIFtpc0FjdGl2ZV09XFxcImlzQWN0aXZlKGFyYy5kYXRhKVxcXCJcXG4gICAgICAgIFthbmltYXRlXT1cXFwiYW5pbWF0aW9uc1xcXCJcXG4gICAgICAgIChzZWxlY3QpPVxcXCJvbkNsaWNrKCRldmVudClcXFwiXFxuICAgICAgICAoYWN0aXZhdGUpPVxcXCJhY3RpdmF0ZS5lbWl0KCRldmVudClcXFwiXFxuICAgICAgICAoZGVhY3RpdmF0ZSk9XFxcImRlYWN0aXZhdGUuZW1pdCgkZXZlbnQpXFxcIlxcbiAgICAgICAgKGRibGNsaWNrKT1cXFwiZGJsY2xpY2suZW1pdCgkZXZlbnQpXFxcIlxcbiAgICAgICAgbmd4LXRvb2x0aXBcXG4gICAgICAgIFt0b29sdGlwRGlzYWJsZWRdPVxcXCJ0b29sdGlwRGlzYWJsZWRcXFwiXFxuICAgICAgICBbdG9vbHRpcFBsYWNlbWVudF09XFxcIid0b3AnXFxcIlxcbiAgICAgICAgW3Rvb2x0aXBUeXBlXT1cXFwiJ3Rvb2x0aXAnXFxcIlxcbiAgICAgICAgW3Rvb2x0aXBUaXRsZV09XFxcImdldFRvb2x0aXBUaXRsZShhcmMpXFxcIlxcbiAgICAgICAgW3Rvb2x0aXBUZW1wbGF0ZV09XFxcInRvb2x0aXBUZW1wbGF0ZVxcXCJcXG4gICAgICAgIFt0b29sdGlwQ29udGV4dF09XFxcImFyYy5kYXRhXFxcIlxcbiAgICAgID48L3N2ZzpnPlxcbiAgICA8L3N2ZzpnPlxcbiAgXCIsXG4gICAgICAgICAgICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaFxuICAgICAgICB9KVxuICAgIF0sIFBpZVNlcmllc0NvbXBvbmVudCk7XG4gICAgcmV0dXJuIFBpZVNlcmllc0NvbXBvbmVudDtcbn0oKSk7XG5cbnZhciBQaWVDaGFydE1vZHVsZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBQaWVDaGFydE1vZHVsZSgpIHtcbiAgICB9XG4gICAgUGllQ2hhcnRNb2R1bGUgPSBfX2RlY29yYXRlKFtcbiAgICAgICAgTmdNb2R1bGUoe1xuICAgICAgICAgICAgaW1wb3J0czogW0NoYXJ0Q29tbW9uTW9kdWxlXSxcbiAgICAgICAgICAgIGRlY2xhcmF0aW9uczogW1xuICAgICAgICAgICAgICAgIEFkdmFuY2VkUGllQ2hhcnRDb21wb25lbnQsXG4gICAgICAgICAgICAgICAgUGllTGFiZWxDb21wb25lbnQsXG4gICAgICAgICAgICAgICAgUGllQXJjQ29tcG9uZW50LFxuICAgICAgICAgICAgICAgIFBpZUNoYXJ0Q29tcG9uZW50LFxuICAgICAgICAgICAgICAgIFBpZUdyaWRDb21wb25lbnQsXG4gICAgICAgICAgICAgICAgUGllR3JpZFNlcmllc0NvbXBvbmVudCxcbiAgICAgICAgICAgICAgICBQaWVTZXJpZXNDb21wb25lbnRcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBleHBvcnRzOiBbXG4gICAgICAgICAgICAgICAgQWR2YW5jZWRQaWVDaGFydENvbXBvbmVudCxcbiAgICAgICAgICAgICAgICBQaWVMYWJlbENvbXBvbmVudCxcbiAgICAgICAgICAgICAgICBQaWVBcmNDb21wb25lbnQsXG4gICAgICAgICAgICAgICAgUGllQ2hhcnRDb21wb25lbnQsXG4gICAgICAgICAgICAgICAgUGllR3JpZENvbXBvbmVudCxcbiAgICAgICAgICAgICAgICBQaWVHcmlkU2VyaWVzQ29tcG9uZW50LFxuICAgICAgICAgICAgICAgIFBpZVNlcmllc0NvbXBvbmVudFxuICAgICAgICAgICAgXVxuICAgICAgICB9KVxuICAgIF0sIFBpZUNoYXJ0TW9kdWxlKTtcbiAgICByZXR1cm4gUGllQ2hhcnRNb2R1bGU7XG59KCkpO1xuXG52YXIgUG9sYXJDaGFydE1vZHVsZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBQb2xhckNoYXJ0TW9kdWxlKCkge1xuICAgIH1cbiAgICBQb2xhckNoYXJ0TW9kdWxlID0gX19kZWNvcmF0ZShbXG4gICAgICAgIE5nTW9kdWxlKHtcbiAgICAgICAgICAgIGltcG9ydHM6IFtDaGFydENvbW1vbk1vZHVsZSwgUGllQ2hhcnRNb2R1bGUsIExpbmVDaGFydE1vZHVsZV0sXG4gICAgICAgICAgICBkZWNsYXJhdGlvbnM6IFtcbiAgICAgICAgICAgICAgICBQb2xhckNoYXJ0Q29tcG9uZW50LFxuICAgICAgICAgICAgICAgIFBvbGFyU2VyaWVzQ29tcG9uZW50XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgZXhwb3J0czogW1xuICAgICAgICAgICAgICAgIFBvbGFyQ2hhcnRDb21wb25lbnQsXG4gICAgICAgICAgICAgICAgUG9sYXJTZXJpZXNDb21wb25lbnRcbiAgICAgICAgICAgIF1cbiAgICAgICAgfSlcbiAgICBdLCBQb2xhckNoYXJ0TW9kdWxlKTtcbiAgICByZXR1cm4gUG9sYXJDaGFydE1vZHVsZTtcbn0oKSk7XG5cbnZhciBDYXJkQ29tcG9uZW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENhcmRDb21wb25lbnQoZWxlbWVudCwgY2QsIHpvbmUpIHtcbiAgICAgICAgdGhpcy5jZCA9IGNkO1xuICAgICAgICB0aGlzLnpvbmUgPSB6b25lO1xuICAgICAgICB0aGlzLmFuaW1hdGlvbnMgPSB0cnVlO1xuICAgICAgICB0aGlzLnNlbGVjdCA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy52YWx1ZSA9ICcnO1xuICAgICAgICB0aGlzLnRleHRGb250U2l6ZSA9IDEyO1xuICAgICAgICB0aGlzLnRleHRUcmFuc2Zvcm0gPSAnJztcbiAgICAgICAgdGhpcy5pbml0aWFsaXplZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmJhbmRIZWlnaHQgPSAxMDtcbiAgICAgICAgdGhpcy50ZXh0UGFkZGluZyA9IFsxMCwgMjAsIDUsIDIwXTtcbiAgICAgICAgdGhpcy5sYWJlbEZvbnRTaXplID0gMTU7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQubmF0aXZlRWxlbWVudDtcbiAgICB9XG4gICAgQ2FyZENvbXBvbmVudC5wcm90b3R5cGUubmdPbkNoYW5nZXMgPSBmdW5jdGlvbiAoY2hhbmdlcykge1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIH07XG4gICAgQ2FyZENvbXBvbmVudC5wcm90b3R5cGUubmdPbkRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuYW5pbWF0aW9uUmVxKTtcbiAgICB9O1xuICAgIENhcmRDb21wb25lbnQucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy56b25lLnJ1bihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgaGFzVmFsdWUgPSBfdGhpcy5kYXRhICYmIHR5cGVvZiBfdGhpcy5kYXRhLnZhbHVlICE9PSAndW5kZWZpbmVkJztcbiAgICAgICAgICAgIHZhciB2YWx1ZUZvcm1hdHRpbmcgPSBfdGhpcy52YWx1ZUZvcm1hdHRpbmcgfHwgKGZ1bmN0aW9uIChjYXJkKSB7IHJldHVybiBjYXJkLnZhbHVlLnRvTG9jYWxlU3RyaW5nKCk7IH0pO1xuICAgICAgICAgICAgdmFyIGxhYmVsRm9ybWF0dGluZyA9IF90aGlzLmxhYmVsRm9ybWF0dGluZyB8fCAoZnVuY3Rpb24gKGNhcmQpIHsgcmV0dXJuIGVzY2FwZUxhYmVsKHRyaW1MYWJlbChjYXJkLmxhYmVsLCA1NSkpOyB9KTtcbiAgICAgICAgICAgIF90aGlzLnRyYW5zZm9ybSA9IFwidHJhbnNsYXRlKFwiICsgX3RoaXMueCArIFwiICwgXCIgKyBfdGhpcy55ICsgXCIpXCI7XG4gICAgICAgICAgICBfdGhpcy50ZXh0V2lkdGggPSBNYXRoLm1heCgwLCBfdGhpcy53aWR0aCkgLSBfdGhpcy50ZXh0UGFkZGluZ1sxXSAtIF90aGlzLnRleHRQYWRkaW5nWzNdO1xuICAgICAgICAgICAgX3RoaXMuY2FyZFdpZHRoID0gTWF0aC5tYXgoMCwgX3RoaXMud2lkdGgpO1xuICAgICAgICAgICAgX3RoaXMuY2FyZEhlaWdodCA9IE1hdGgubWF4KDAsIF90aGlzLmhlaWdodCk7XG4gICAgICAgICAgICBfdGhpcy5sYWJlbCA9IF90aGlzLmxhYmVsID8gX3RoaXMubGFiZWwgOiBfdGhpcy5kYXRhLm5hbWU7XG4gICAgICAgICAgICB2YXIgY2FyZERhdGEgPSB7XG4gICAgICAgICAgICAgICAgbGFiZWw6IF90aGlzLmxhYmVsLFxuICAgICAgICAgICAgICAgIGRhdGE6IF90aGlzLmRhdGEsXG4gICAgICAgICAgICAgICAgdmFsdWU6IF90aGlzLmRhdGEudmFsdWVcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBfdGhpcy5mb3JtYXR0ZWRMYWJlbCA9IGxhYmVsRm9ybWF0dGluZyhjYXJkRGF0YSk7XG4gICAgICAgICAgICBfdGhpcy50cmFuc2Zvcm1CYW5kID0gXCJ0cmFuc2xhdGUoMCAsIFwiICsgKF90aGlzLmNhcmRIZWlnaHQgLSBfdGhpcy5iYW5kSGVpZ2h0KSArIFwiKVwiO1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gaGFzVmFsdWUgPyB2YWx1ZUZvcm1hdHRpbmcoY2FyZERhdGEpIDogJyc7XG4gICAgICAgICAgICBfdGhpcy52YWx1ZSA9IF90aGlzLnBhZGRlZFZhbHVlKHZhbHVlKTtcbiAgICAgICAgICAgIF90aGlzLnNldFBhZGRpbmcoKTtcbiAgICAgICAgICAgIF90aGlzLmJhbmRQYXRoID0gcm91bmRlZFJlY3QoMCwgMCwgX3RoaXMuY2FyZFdpZHRoLCBfdGhpcy5iYW5kSGVpZ2h0LCAzLCBbZmFsc2UsIGZhbHNlLCB0cnVlLCB0cnVlXSk7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5zY2FsZVRleHQoKTtcbiAgICAgICAgICAgICAgICBfdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIGlmIChoYXNWYWx1ZSAmJiAhX3RoaXMuaW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5zdGFydENvdW50KCk7IH0sIDIwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCA4KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBDYXJkQ29tcG9uZW50LnByb3RvdHlwZS5wYWRkZWRWYWx1ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy5tZWRpYW5TaXplICYmIHRoaXMubWVkaWFuU2l6ZSA+IHZhbHVlLmxlbmd0aCkge1xuICAgICAgICAgICAgdmFsdWUgKz0gJ1xcdTIwMDcnLnJlcGVhdCh0aGlzLm1lZGlhblNpemUgLSB2YWx1ZS5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9O1xuICAgIENhcmRDb21wb25lbnQucHJvdG90eXBlLnN0YXJ0Q291bnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICghdGhpcy5pbml0aWFsaXplZCAmJiB0aGlzLmFuaW1hdGlvbnMpIHtcbiAgICAgICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuYW5pbWF0aW9uUmVxKTtcbiAgICAgICAgICAgIHZhciB2YWxfMSA9IHRoaXMuZGF0YS52YWx1ZTtcbiAgICAgICAgICAgIHZhciBkZWNzID0gZGVjaW1hbENoZWNrZXIodmFsXzEpO1xuICAgICAgICAgICAgdmFyIHZhbHVlRm9ybWF0dGluZ18xID0gdGhpcy52YWx1ZUZvcm1hdHRpbmcgfHwgKGZ1bmN0aW9uIChjYXJkKSB7IHJldHVybiBjYXJkLnZhbHVlLnRvTG9jYWxlU3RyaW5nKCk7IH0pO1xuICAgICAgICAgICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gX2EudmFsdWUsIGZpbmlzaGVkID0gX2EuZmluaXNoZWQ7XG4gICAgICAgICAgICAgICAgX3RoaXMuem9uZS5ydW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGZpbmlzaGVkID8gdmFsXzEgOiB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMudmFsdWUgPSB2YWx1ZUZvcm1hdHRpbmdfMSh7IGxhYmVsOiBfdGhpcy5sYWJlbCwgZGF0YTogX3RoaXMuZGF0YSwgdmFsdWU6IHZhbHVlIH0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWZpbmlzaGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy52YWx1ZSA9IF90aGlzLnBhZGRlZFZhbHVlKF90aGlzLnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5jZC5tYXJrRm9yQ2hlY2soKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvblJlcSA9IGNvdW50KDAsIHZhbF8xLCBkZWNzLCAxLCBjYWxsYmFjayk7XG4gICAgICAgICAgICB0aGlzLmluaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQ2FyZENvbXBvbmVudC5wcm90b3R5cGUuc2NhbGVUZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLnpvbmUucnVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfYSA9IF90aGlzLnRleHRFbC5uYXRpdmVFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCB3aWR0aCA9IF9hLndpZHRoLCBoZWlnaHQgPSBfYS5oZWlnaHQ7XG4gICAgICAgICAgICBpZiAod2lkdGggPT09IDAgfHwgaGVpZ2h0ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHRleHRQYWRkaW5nID0gKF90aGlzLnRleHRQYWRkaW5nWzFdID0gX3RoaXMudGV4dFBhZGRpbmdbM10gPSBfdGhpcy5jYXJkV2lkdGggLyA4KTtcbiAgICAgICAgICAgIHZhciBhdmFpbGFibGVXaWR0aCA9IF90aGlzLmNhcmRXaWR0aCAtIDIgKiB0ZXh0UGFkZGluZztcbiAgICAgICAgICAgIHZhciBhdmFpbGFibGVIZWlnaHQgPSBfdGhpcy5jYXJkSGVpZ2h0IC8gMztcbiAgICAgICAgICAgIHZhciByZXNpemVTY2FsZSA9IE1hdGgubWluKGF2YWlsYWJsZVdpZHRoIC8gd2lkdGgsIGF2YWlsYWJsZUhlaWdodCAvIGhlaWdodCk7XG4gICAgICAgICAgICBfdGhpcy50ZXh0Rm9udFNpemUgPSBNYXRoLmZsb29yKF90aGlzLnRleHRGb250U2l6ZSAqIHJlc2l6ZVNjYWxlKTtcbiAgICAgICAgICAgIF90aGlzLmxhYmVsRm9udFNpemUgPSBNYXRoLm1pbihfdGhpcy50ZXh0Rm9udFNpemUsIDE1KTtcbiAgICAgICAgICAgIF90aGlzLnNldFBhZGRpbmcoKTtcbiAgICAgICAgICAgIF90aGlzLmNkLm1hcmtGb3JDaGVjaygpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIENhcmRDb21wb25lbnQucHJvdG90eXBlLnNldFBhZGRpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMudGV4dFBhZGRpbmdbMV0gPSB0aGlzLnRleHRQYWRkaW5nWzNdID0gdGhpcy5jYXJkV2lkdGggLyA4O1xuICAgICAgICB2YXIgcGFkZGluZyA9IHRoaXMuY2FyZEhlaWdodCAvIDI7XG4gICAgICAgIHRoaXMudGV4dFBhZGRpbmdbMF0gPSBwYWRkaW5nIC0gdGhpcy50ZXh0Rm9udFNpemUgLSB0aGlzLmxhYmVsRm9udFNpemUgLyAyO1xuICAgICAgICB0aGlzLnRleHRQYWRkaW5nWzJdID0gcGFkZGluZyAtIHRoaXMubGFiZWxGb250U2l6ZTtcbiAgICB9O1xuICAgIENhcmRDb21wb25lbnQucHJvdG90eXBlLm9uQ2xpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0LmVtaXQodGhpcy5kYXRhKTtcbiAgICB9O1xuICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBDYXJkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJjb2xvclwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIENhcmRDb21wb25lbnQucHJvdG90eXBlLCBcImJhbmRDb2xvclwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIENhcmRDb21wb25lbnQucHJvdG90eXBlLCBcInRleHRDb2xvclwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIENhcmRDb21wb25lbnQucHJvdG90eXBlLCBcInhcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBDYXJkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ5XCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQ2FyZENvbXBvbmVudC5wcm90b3R5cGUsIFwid2lkdGhcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBDYXJkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJoZWlnaHRcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBDYXJkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJsYWJlbFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIENhcmRDb21wb25lbnQucHJvdG90eXBlLCBcImRhdGFcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE51bWJlcilcbiAgICBdLCBDYXJkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJtZWRpYW5TaXplXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQ2FyZENvbXBvbmVudC5wcm90b3R5cGUsIFwidmFsdWVGb3JtYXR0aW5nXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQ2FyZENvbXBvbmVudC5wcm90b3R5cGUsIFwibGFiZWxGb3JtYXR0aW5nXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIENhcmRDb21wb25lbnQucHJvdG90eXBlLCBcImFuaW1hdGlvbnNcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgT3V0cHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQ2FyZENvbXBvbmVudC5wcm90b3R5cGUsIFwic2VsZWN0XCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIFZpZXdDaGlsZCgndGV4dEVsJywgeyBzdGF0aWM6IGZhbHNlIH0pLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgdHlwZW9mIChfYSA9IHR5cGVvZiBFbGVtZW50UmVmICE9PSBcInVuZGVmaW5lZFwiICYmIEVsZW1lbnRSZWYpID09PSBcImZ1bmN0aW9uXCIgPyBfYSA6IE9iamVjdClcbiAgICBdLCBDYXJkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ0ZXh0RWxcIiwgdm9pZCAwKTtcbiAgICBDYXJkQ29tcG9uZW50ID0gX19kZWNvcmF0ZShbXG4gICAgICAgIENvbXBvbmVudCh7XG4gICAgICAgICAgICBzZWxlY3RvcjogJ2dbbmd4LWNoYXJ0cy1jYXJkXScsXG4gICAgICAgICAgICB0ZW1wbGF0ZTogXCJcXG4gICAgPHN2ZzpnIFthdHRyLnRyYW5zZm9ybV09XFxcInRyYW5zZm9ybVxcXCIgY2xhc3M9XFxcImNlbGxcXFwiIChjbGljayk9XFxcIm9uQ2xpY2soKVxcXCI+XFxuICAgICAgPHN2ZzpyZWN0IGNsYXNzPVxcXCJjYXJkXFxcIiBbc3R5bGUuZmlsbF09XFxcImNvbG9yXFxcIiBbYXR0ci53aWR0aF09XFxcImNhcmRXaWR0aFxcXCIgW2F0dHIuaGVpZ2h0XT1cXFwiY2FyZEhlaWdodFxcXCIgcng9XFxcIjNcXFwiIHJ5PVxcXCIzXFxcIiAvPlxcbiAgICAgIDxzdmc6cGF0aFxcbiAgICAgICAgKm5nSWY9XFxcImJhbmRDb2xvciAmJiBiYW5kQ29sb3IgIT09IGNvbG9yXFxcIlxcbiAgICAgICAgY2xhc3M9XFxcImNhcmQtYmFuZFxcXCJcXG4gICAgICAgIFthdHRyLmZpbGxdPVxcXCJiYW5kQ29sb3JcXFwiXFxuICAgICAgICBbYXR0ci50cmFuc2Zvcm1dPVxcXCJ0cmFuc2Zvcm1CYW5kXFxcIlxcbiAgICAgICAgc3Ryb2tlPVxcXCJub25lXFxcIlxcbiAgICAgICAgW2F0dHIuZF09XFxcImJhbmRQYXRoXFxcIlxcbiAgICAgIC8+XFxuICAgICAgPHRpdGxlPnt7IGxhYmVsIH19PC90aXRsZT5cXG4gICAgICA8c3ZnOmZvcmVpZ25PYmplY3RcXG4gICAgICAgIGNsYXNzPVxcXCJ0cmltbWVkLWxhYmVsXFxcIlxcbiAgICAgICAgeD1cXFwiNVxcXCJcXG4gICAgICAgIFthdHRyLnhdPVxcXCJ0ZXh0UGFkZGluZ1szXVxcXCJcXG4gICAgICAgIFthdHRyLnldPVxcXCJjYXJkSGVpZ2h0IC0gdGV4dFBhZGRpbmdbMl1cXFwiXFxuICAgICAgICBbYXR0ci53aWR0aF09XFxcInRleHRXaWR0aFxcXCJcXG4gICAgICAgIFthdHRyLmhlaWdodF09XFxcImxhYmVsRm9udFNpemUgKyB0ZXh0UGFkZGluZ1syXVxcXCJcXG4gICAgICAgIGFsaWdubWVudC1iYXNlbGluZT1cXFwiaGFuZ2luZ1xcXCJcXG4gICAgICA+XFxuICAgICAgICA8eGh0bWw6cFxcbiAgICAgICAgICBbc3R5bGUuY29sb3JdPVxcXCJ0ZXh0Q29sb3JcXFwiXFxuICAgICAgICAgIFtzdHlsZS5mb250U2l6ZS5weF09XFxcImxhYmVsRm9udFNpemVcXFwiXFxuICAgICAgICAgIFtzdHlsZS5saW5lSGVpZ2h0LnB4XT1cXFwibGFiZWxGb250U2l6ZVxcXCJcXG4gICAgICAgICAgW2lubmVySFRNTF09XFxcImZvcm1hdHRlZExhYmVsXFxcIlxcbiAgICAgICAgPlxcbiAgICAgICAgPC94aHRtbDpwPlxcbiAgICAgIDwvc3ZnOmZvcmVpZ25PYmplY3Q+XFxuICAgICAgPHN2Zzp0ZXh0XFxuICAgICAgICAjdGV4dEVsXFxuICAgICAgICBjbGFzcz1cXFwidmFsdWUtdGV4dFxcXCJcXG4gICAgICAgIFthdHRyLnhdPVxcXCJ0ZXh0UGFkZGluZ1szXVxcXCJcXG4gICAgICAgIFthdHRyLnldPVxcXCJ0ZXh0UGFkZGluZ1swXVxcXCJcXG4gICAgICAgIFtzdHlsZS5maWxsXT1cXFwidGV4dENvbG9yXFxcIlxcbiAgICAgICAgdGV4dC1hbmNob3I9XFxcInN0YXJ0XFxcIlxcbiAgICAgICAgYWxpZ25tZW50LWJhc2VsaW5lPVxcXCJoYW5naW5nXFxcIlxcbiAgICAgICAgW3N0eWxlLmZvbnQtc2l6ZS5wdF09XFxcInRleHRGb250U2l6ZVxcXCJcXG4gICAgICA+XFxuICAgICAgICB7eyB2YWx1ZSB9fVxcbiAgICAgIDwvc3ZnOnRleHQ+XFxuICAgIDwvc3ZnOmc+XFxuICBcIixcbiAgICAgICAgICAgIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoXG4gICAgICAgIH0pLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW3R5cGVvZiAoX2IgPSB0eXBlb2YgRWxlbWVudFJlZiAhPT0gXCJ1bmRlZmluZWRcIiAmJiBFbGVtZW50UmVmKSA9PT0gXCJmdW5jdGlvblwiID8gX2IgOiBPYmplY3QsIHR5cGVvZiAoX2MgPSB0eXBlb2YgQ2hhbmdlRGV0ZWN0b3JSZWYgIT09IFwidW5kZWZpbmVkXCIgJiYgQ2hhbmdlRGV0ZWN0b3JSZWYpID09PSBcImZ1bmN0aW9uXCIgPyBfYyA6IE9iamVjdCwgdHlwZW9mIChfZCA9IHR5cGVvZiBOZ1pvbmUgIT09IFwidW5kZWZpbmVkXCIgJiYgTmdab25lKSA9PT0gXCJmdW5jdGlvblwiID8gX2QgOiBPYmplY3RdKVxuICAgIF0sIENhcmRDb21wb25lbnQpO1xuICAgIHJldHVybiBDYXJkQ29tcG9uZW50O1xufSgpKTtcblxudmFyIENhcmRTZXJpZXNDb21wb25lbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ2FyZFNlcmllc0NvbXBvbmVudCgpIHtcbiAgICAgICAgdGhpcy5pbm5lclBhZGRpbmcgPSAxNTtcbiAgICAgICAgdGhpcy5lbXB0eUNvbG9yID0gJ3JnYmEoMCwgMCwgMCwgMCknO1xuICAgICAgICB0aGlzLmFuaW1hdGlvbnMgPSB0cnVlO1xuICAgICAgICB0aGlzLnNlbGVjdCA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICB9XG4gICAgQ2FyZFNlcmllc0NvbXBvbmVudC5wcm90b3R5cGUubmdPbkNoYW5nZXMgPSBmdW5jdGlvbiAoY2hhbmdlcykge1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIH07XG4gICAgQ2FyZFNlcmllc0NvbXBvbmVudC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5kYXRhLmxlbmd0aCA+IDIpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZUZvcm1hdHRpbmdfMSA9IHRoaXMudmFsdWVGb3JtYXR0aW5nIHx8IChmdW5jdGlvbiAoY2FyZCkgeyByZXR1cm4gY2FyZC52YWx1ZS50b0xvY2FsZVN0cmluZygpOyB9KTtcbiAgICAgICAgICAgIHZhciBzb3J0ZWRMZW5ndGhzID0gdGhpcy5kYXRhXG4gICAgICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgICAgIHZhciBoYXNWYWx1ZSA9IGQgJiYgZC5kYXRhICYmIHR5cGVvZiBkLmRhdGEudmFsdWUgIT09ICd1bmRlZmluZWQnICYmIGQuZGF0YS52YWx1ZSAhPT0gbnVsbDtcbiAgICAgICAgICAgICAgICByZXR1cm4gaGFzVmFsdWVcbiAgICAgICAgICAgICAgICAgICAgPyB2YWx1ZUZvcm1hdHRpbmdfMSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBkLmRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogZCA/IGQuZGF0YS5uYW1lIDogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZCAmJiBkLmRhdGEgPyBkLmRhdGEudmFsdWUgOiAnJ1xuICAgICAgICAgICAgICAgICAgICB9KS5sZW5ndGhcbiAgICAgICAgICAgICAgICAgICAgOiAwO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuc29ydChmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gYiAtIGE7IH0pO1xuICAgICAgICAgICAgdmFyIGlkeCA9IE1hdGguY2VpbCh0aGlzLmRhdGEubGVuZ3RoIC8gMik7XG4gICAgICAgICAgICB0aGlzLm1lZGlhblNpemUgPSBzb3J0ZWRMZW5ndGhzW2lkeF07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNhcmRzID0gdGhpcy5nZXRDYXJkcygpO1xuICAgICAgICB0aGlzLmNhcmRzID0gY2FyZHMuZmlsdGVyKGZ1bmN0aW9uIChkKSB7IHJldHVybiBkLmRhdGEudmFsdWUgIT09IG51bGw7IH0pO1xuICAgICAgICB0aGlzLmVtcHR5U2xvdHMgPSBjYXJkcy5maWx0ZXIoZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQuZGF0YS52YWx1ZSA9PT0gbnVsbDsgfSk7XG4gICAgfTtcbiAgICBDYXJkU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZS5nZXRDYXJkcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHlQYWRkaW5nID0gdHlwZW9mIHRoaXMuaW5uZXJQYWRkaW5nID09PSAnbnVtYmVyJyA/IHRoaXMuaW5uZXJQYWRkaW5nIDogdGhpcy5pbm5lclBhZGRpbmdbMF0gKyB0aGlzLmlubmVyUGFkZGluZ1syXTtcbiAgICAgICAgdmFyIHhQYWRkaW5nID0gdHlwZW9mIHRoaXMuaW5uZXJQYWRkaW5nID09PSAnbnVtYmVyJyA/IHRoaXMuaW5uZXJQYWRkaW5nIDogdGhpcy5pbm5lclBhZGRpbmdbMV0gKyB0aGlzLmlubmVyUGFkZGluZ1szXTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5tYXAoZnVuY3Rpb24gKGQsIGluZGV4KSB7XG4gICAgICAgICAgICB2YXIgbGFiZWwgPSBkLmRhdGEubmFtZTtcbiAgICAgICAgICAgIGlmIChsYWJlbCAmJiBsYWJlbC5jb25zdHJ1Y3Rvci5uYW1lID09PSAnRGF0ZScpIHtcbiAgICAgICAgICAgICAgICBsYWJlbCA9IGxhYmVsLnRvTG9jYWxlRGF0ZVN0cmluZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbGFiZWwgPSBsYWJlbCA/IGxhYmVsLnRvTG9jYWxlU3RyaW5nKCkgOiBsYWJlbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IGQuZGF0YS52YWx1ZTtcbiAgICAgICAgICAgIHZhciB2YWx1ZUNvbG9yID0gbGFiZWwgPyBfdGhpcy5jb2xvcnMuZ2V0Q29sb3IobGFiZWwpIDogX3RoaXMuZW1wdHlDb2xvcjtcbiAgICAgICAgICAgIHZhciBjb2xvciA9IF90aGlzLmNhcmRDb2xvciB8fCB2YWx1ZUNvbG9yIHx8ICcjMDAwJztcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgeDogZC54LFxuICAgICAgICAgICAgICAgIHk6IGQueSxcbiAgICAgICAgICAgICAgICB3aWR0aDogZC53aWR0aCAtIHhQYWRkaW5nLFxuICAgICAgICAgICAgICAgIGhlaWdodDogZC5oZWlnaHQgLSB5UGFkZGluZyxcbiAgICAgICAgICAgICAgICBjb2xvcjogY29sb3IsXG4gICAgICAgICAgICAgICAgYmFuZENvbG9yOiBfdGhpcy5iYW5kQ29sb3IgfHwgdmFsdWVDb2xvcixcbiAgICAgICAgICAgICAgICB0ZXh0Q29sb3I6IF90aGlzLnRleHRDb2xvciB8fCBpbnZlcnRDb2xvcihjb2xvciksXG4gICAgICAgICAgICAgICAgbGFiZWw6IGxhYmVsLFxuICAgICAgICAgICAgICAgIGRhdGE6IGQuZGF0YSxcbiAgICAgICAgICAgICAgICB0b29sdGlwVGV4dDogbGFiZWwgKyBcIjogXCIgKyB2YWx1ZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBDYXJkU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZS50cmFja0J5ID0gZnVuY3Rpb24gKGluZGV4LCBjYXJkKSB7XG4gICAgICAgIHJldHVybiBjYXJkLmxhYmVsO1xuICAgIH07XG4gICAgQ2FyZFNlcmllc0NvbXBvbmVudC5wcm90b3R5cGUub25DbGljayA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0LmVtaXQoZGF0YSk7XG4gICAgfTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEFycmF5KVxuICAgIF0sIENhcmRTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLCBcImRhdGFcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEFycmF5KVxuICAgIF0sIENhcmRTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLCBcInNsb3RzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgQ2FyZFNlcmllc0NvbXBvbmVudC5wcm90b3R5cGUsIFwiZGltc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIENhcmRTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLCBcImNvbG9yc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIENhcmRTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLCBcImlubmVyUGFkZGluZ1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIENhcmRTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLCBcImNhcmRDb2xvclwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIENhcmRTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLCBcImJhbmRDb2xvclwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIENhcmRTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLCBcImVtcHR5Q29sb3JcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBDYXJkU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ0ZXh0Q29sb3JcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBDYXJkU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ2YWx1ZUZvcm1hdHRpbmdcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBDYXJkU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJsYWJlbEZvcm1hdHRpbmdcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEJvb2xlYW4pXG4gICAgXSwgQ2FyZFNlcmllc0NvbXBvbmVudC5wcm90b3R5cGUsIFwiYW5pbWF0aW9uc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBPdXRwdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBDYXJkU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJzZWxlY3RcIiwgdm9pZCAwKTtcbiAgICBDYXJkU2VyaWVzQ29tcG9uZW50ID0gX19kZWNvcmF0ZShbXG4gICAgICAgIENvbXBvbmVudCh7XG4gICAgICAgICAgICBzZWxlY3RvcjogJ2dbbmd4LWNoYXJ0cy1jYXJkLXNlcmllc10nLFxuICAgICAgICAgICAgdGVtcGxhdGU6IFwiXFxuICAgIDxzdmc6cmVjdFxcbiAgICAgICpuZ0Zvcj1cXFwibGV0IGMgb2YgZW1wdHlTbG90czsgdHJhY2tCeTogdHJhY2tCeVxcXCJcXG4gICAgICBjbGFzcz1cXFwiY2FyZC1lbXB0eVxcXCJcXG4gICAgICBbYXR0ci54XT1cXFwiYy54XFxcIlxcbiAgICAgIFthdHRyLnldPVxcXCJjLnlcXFwiXFxuICAgICAgW3N0eWxlLmZpbGxdPVxcXCJlbXB0eUNvbG9yXFxcIlxcbiAgICAgIFthdHRyLndpZHRoXT1cXFwiYy53aWR0aFxcXCJcXG4gICAgICBbYXR0ci5oZWlnaHRdPVxcXCJjLmhlaWdodFxcXCJcXG4gICAgICByeD1cXFwiM1xcXCJcXG4gICAgICByeT1cXFwiM1xcXCJcXG4gICAgLz5cXG4gICAgPHN2ZzpnXFxuICAgICAgbmd4LWNoYXJ0cy1jYXJkXFxuICAgICAgKm5nRm9yPVxcXCJsZXQgYyBvZiBjYXJkczsgdHJhY2tCeTogdHJhY2tCeVxcXCJcXG4gICAgICBbeF09XFxcImMueFxcXCJcXG4gICAgICBbeV09XFxcImMueVxcXCJcXG4gICAgICBbd2lkdGhdPVxcXCJjLndpZHRoXFxcIlxcbiAgICAgIFtoZWlnaHRdPVxcXCJjLmhlaWdodFxcXCJcXG4gICAgICBbY29sb3JdPVxcXCJjLmNvbG9yXFxcIlxcbiAgICAgIFtiYW5kQ29sb3JdPVxcXCJjLmJhbmRDb2xvclxcXCJcXG4gICAgICBbdGV4dENvbG9yXT1cXFwiYy50ZXh0Q29sb3JcXFwiXFxuICAgICAgW2RhdGFdPVxcXCJjLmRhdGFcXFwiXFxuICAgICAgW2xhYmVsXT1cXFwiYy5sYWJlbFxcXCJcXG4gICAgICBbbWVkaWFuU2l6ZV09XFxcIm1lZGlhblNpemVcXFwiXFxuICAgICAgW3ZhbHVlRm9ybWF0dGluZ109XFxcInZhbHVlRm9ybWF0dGluZ1xcXCJcXG4gICAgICBbbGFiZWxGb3JtYXR0aW5nXT1cXFwibGFiZWxGb3JtYXR0aW5nXFxcIlxcbiAgICAgIFthbmltYXRpb25zXT1cXFwiYW5pbWF0aW9uc1xcXCJcXG4gICAgICAoc2VsZWN0KT1cXFwib25DbGljaygkZXZlbnQpXFxcIlxcbiAgICAvPlxcbiAgXCIsXG4gICAgICAgICAgICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaFxuICAgICAgICB9KVxuICAgIF0sIENhcmRTZXJpZXNDb21wb25lbnQpO1xuICAgIHJldHVybiBDYXJkU2VyaWVzQ29tcG9uZW50O1xufSgpKTtcblxudmFyIE51bWJlckNhcmRDb21wb25lbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE51bWJlckNhcmRDb21wb25lbnQsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gTnVtYmVyQ2FyZENvbXBvbmVudCgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmVtcHR5Q29sb3IgPSAncmdiYSgwLCAwLCAwLCAwKSc7XG4gICAgICAgIF90aGlzLmlubmVyUGFkZGluZyA9IDE1O1xuICAgICAgICBfdGhpcy5tYXJnaW4gPSBbMTAsIDEwLCAxMCwgMTBdO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOdW1iZXJDYXJkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJjbGlja2FibGVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAhIXRoaXMuc2VsZWN0Lm9ic2VydmVycy5sZW5ndGg7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE51bWJlckNhcmRDb21wb25lbnQucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS51cGRhdGUuY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5kaW1zID0gY2FsY3VsYXRlVmlld0RpbWVuc2lvbnMoe1xuICAgICAgICAgICAgd2lkdGg6IHRoaXMud2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IHRoaXMuaGVpZ2h0LFxuICAgICAgICAgICAgbWFyZ2luczogdGhpcy5tYXJnaW5cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZm9ybWF0RGF0ZXMoKTtcbiAgICAgICAgdGhpcy5kb21haW4gPSB0aGlzLmdldERvbWFpbigpO1xuICAgICAgICB0aGlzLnNldENvbG9ycygpO1xuICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IFwidHJhbnNsYXRlKFwiICsgdGhpcy5kaW1zLnhPZmZzZXQgKyBcIiAsIFwiICsgdGhpcy5tYXJnaW5bMF0gKyBcIilcIjtcbiAgICAgICAgdmFyIHNpemUgPSBncmlkU2l6ZSh0aGlzLmRpbXMsIHRoaXMucmVzdWx0cy5sZW5ndGgsIDE1MCk7XG4gICAgICAgIHZhciBOID0gc2l6ZVswXSAqIHNpemVbMV07XG4gICAgICAgIHZhciBkYXRhID0gdGhpcy5yZXN1bHRzLnNsaWNlKCk7XG4gICAgICAgIHdoaWxlIChkYXRhLmxlbmd0aCA8IE4pIHtcbiAgICAgICAgICAgIGRhdGEucHVzaCh7IHZhbHVlOiBudWxsIH0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGF0YSA9IGdyaWRMYXlvdXQodGhpcy5kaW1zLCBkYXRhLCAxNTAsIHRoaXMuZGVzaWduYXRlZFRvdGFsKTtcbiAgICB9O1xuICAgIE51bWJlckNhcmRDb21wb25lbnQucHJvdG90eXBlLmdldERvbWFpbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVzdWx0cy5tYXAoZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQubGFiZWw7IH0pO1xuICAgIH07XG4gICAgTnVtYmVyQ2FyZENvbXBvbmVudC5wcm90b3R5cGUub25DbGljayA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0LmVtaXQoZGF0YSk7XG4gICAgfTtcbiAgICBOdW1iZXJDYXJkQ29tcG9uZW50LnByb3RvdHlwZS5zZXRDb2xvcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY29sb3JzID0gbmV3IENvbG9ySGVscGVyKHRoaXMuc2NoZW1lLCAnb3JkaW5hbCcsIHRoaXMuZG9tYWluLCB0aGlzLmN1c3RvbUNvbG9ycyk7XG4gICAgfTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcbiAgICBdLCBOdW1iZXJDYXJkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJjYXJkQ29sb3JcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcbiAgICBdLCBOdW1iZXJDYXJkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJiYW5kQ29sb3JcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcbiAgICBdLCBOdW1iZXJDYXJkQ29tcG9uZW50LnByb3RvdHlwZSwgXCJlbXB0eUNvbG9yXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgTnVtYmVyQ2FyZENvbXBvbmVudC5wcm90b3R5cGUsIFwiaW5uZXJQYWRkaW5nXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBTdHJpbmcpXG4gICAgXSwgTnVtYmVyQ2FyZENvbXBvbmVudC5wcm90b3R5cGUsIFwidGV4dENvbG9yXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgTnVtYmVyQ2FyZENvbXBvbmVudC5wcm90b3R5cGUsIFwidmFsdWVGb3JtYXR0aW5nXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgTnVtYmVyQ2FyZENvbXBvbmVudC5wcm90b3R5cGUsIFwibGFiZWxGb3JtYXR0aW5nXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBOdW1iZXIpXG4gICAgXSwgTnVtYmVyQ2FyZENvbXBvbmVudC5wcm90b3R5cGUsIFwiZGVzaWduYXRlZFRvdGFsXCIsIHZvaWQgMCk7XG4gICAgTnVtYmVyQ2FyZENvbXBvbmVudCA9IF9fZGVjb3JhdGUoW1xuICAgICAgICBDb21wb25lbnQoe1xuICAgICAgICAgICAgc2VsZWN0b3I6ICduZ3gtY2hhcnRzLW51bWJlci1jYXJkJyxcbiAgICAgICAgICAgIHRlbXBsYXRlOiBcIlxcbiAgICA8bmd4LWNoYXJ0cy1jaGFydCBbdmlld109XFxcIlt3aWR0aCwgaGVpZ2h0XVxcXCIgW3Nob3dMZWdlbmRdPVxcXCJmYWxzZVxcXCIgW2FuaW1hdGlvbnNdPVxcXCJhbmltYXRpb25zXFxcIj5cXG4gICAgICA8c3ZnOmcgW2F0dHIudHJhbnNmb3JtXT1cXFwidHJhbnNmb3JtXFxcIiBjbGFzcz1cXFwibnVtYmVyLWNhcmQgY2hhcnRcXFwiIFtjbGFzcy5jbGlja2FibGVdPVxcXCJjbGlja2FibGVcXFwiPlxcbiAgICAgICAgPHN2ZzpnXFxuICAgICAgICAgIG5neC1jaGFydHMtY2FyZC1zZXJpZXNcXG4gICAgICAgICAgW2NvbG9yc109XFxcImNvbG9yc1xcXCJcXG4gICAgICAgICAgW2NhcmRDb2xvcl09XFxcImNhcmRDb2xvclxcXCJcXG4gICAgICAgICAgW2JhbmRDb2xvcl09XFxcImJhbmRDb2xvclxcXCJcXG4gICAgICAgICAgW3RleHRDb2xvcl09XFxcInRleHRDb2xvclxcXCJcXG4gICAgICAgICAgW2VtcHR5Q29sb3JdPVxcXCJlbXB0eUNvbG9yXFxcIlxcbiAgICAgICAgICBbZGF0YV09XFxcImRhdGFcXFwiXFxuICAgICAgICAgIFtkaW1zXT1cXFwiZGltc1xcXCJcXG4gICAgICAgICAgW2lubmVyUGFkZGluZ109XFxcImlubmVyUGFkZGluZ1xcXCJcXG4gICAgICAgICAgW3ZhbHVlRm9ybWF0dGluZ109XFxcInZhbHVlRm9ybWF0dGluZ1xcXCJcXG4gICAgICAgICAgW2xhYmVsRm9ybWF0dGluZ109XFxcImxhYmVsRm9ybWF0dGluZ1xcXCJcXG4gICAgICAgICAgW2FuaW1hdGlvbnNdPVxcXCJhbmltYXRpb25zXFxcIlxcbiAgICAgICAgICAoc2VsZWN0KT1cXFwib25DbGljaygkZXZlbnQpXFxcIlxcbiAgICAgICAgLz5cXG4gICAgICA8L3N2ZzpnPlxcbiAgICA8L25neC1jaGFydHMtY2hhcnQ+XFxuICBcIixcbiAgICAgICAgICAgIHN0eWxlczogW1wiLm5neC1jaGFydHN7ZmxvYXQ6bGVmdDtvdmVyZmxvdzp2aXNpYmxlfS5uZ3gtY2hhcnRzIC5hcmMsLm5neC1jaGFydHMgLmJhciwubmd4LWNoYXJ0cyAuY2lyY2xle2N1cnNvcjpwb2ludGVyfS5uZ3gtY2hhcnRzIC5hcmMuYWN0aXZlLC5uZ3gtY2hhcnRzIC5hcmM6aG92ZXIsLm5neC1jaGFydHMgLmJhci5hY3RpdmUsLm5neC1jaGFydHMgLmJhcjpob3Zlciwubmd4LWNoYXJ0cyAuY2FyZC5hY3RpdmUsLm5neC1jaGFydHMgLmNhcmQ6aG92ZXIsLm5neC1jaGFydHMgLmNlbGwuYWN0aXZlLC5uZ3gtY2hhcnRzIC5jZWxsOmhvdmVye29wYWNpdHk6Ljg7dHJhbnNpdGlvbjpvcGFjaXR5IC4xcyBlYXNlLWluLW91dH0ubmd4LWNoYXJ0cyAuYXJjOmZvY3VzLC5uZ3gtY2hhcnRzIC5iYXI6Zm9jdXMsLm5neC1jaGFydHMgLmNhcmQ6Zm9jdXMsLm5neC1jaGFydHMgLmNlbGw6Zm9jdXN7b3V0bGluZTowfS5uZ3gtY2hhcnRzIC5hcmMuaGlkZGVuLC5uZ3gtY2hhcnRzIC5iYXIuaGlkZGVuLC5uZ3gtY2hhcnRzIC5jYXJkLmhpZGRlbiwubmd4LWNoYXJ0cyAuY2VsbC5oaWRkZW57ZGlzcGxheTpub25lfS5uZ3gtY2hhcnRzIGc6Zm9jdXN7b3V0bGluZTowfS5uZ3gtY2hhcnRzIC5hcmVhLXNlcmllcy5pbmFjdGl2ZSwubmd4LWNoYXJ0cyAubGluZS1zZXJpZXMtcmFuZ2UuaW5hY3RpdmUsLm5neC1jaGFydHMgLmxpbmUtc2VyaWVzLmluYWN0aXZlLC5uZ3gtY2hhcnRzIC5wb2xhci1zZXJpZXMtYXJlYS5pbmFjdGl2ZSwubmd4LWNoYXJ0cyAucG9sYXItc2VyaWVzLXBhdGguaW5hY3RpdmV7dHJhbnNpdGlvbjpvcGFjaXR5IC4xcyBlYXNlLWluLW91dDtvcGFjaXR5Oi4yfS5uZ3gtY2hhcnRzIC5saW5lLWhpZ2hsaWdodHtkaXNwbGF5Om5vbmV9Lm5neC1jaGFydHMgLmxpbmUtaGlnaGxpZ2h0LmFjdGl2ZXtkaXNwbGF5OmJsb2NrfS5uZ3gtY2hhcnRzIC5hcmVhe29wYWNpdHk6LjZ9Lm5neC1jaGFydHMgLmNpcmNsZTpob3ZlcntjdXJzb3I6cG9pbnRlcn0ubmd4LWNoYXJ0cyAubGFiZWx7Zm9udC1zaXplOjEycHg7Zm9udC13ZWlnaHQ6NDAwfS5uZ3gtY2hhcnRzIC50b29sdGlwLWFuY2hvcntmaWxsOiMwMDB9Lm5neC1jaGFydHMgLmdyaWRsaW5lLXBhdGh7c3Ryb2tlOiNkZGQ7c3Ryb2tlLXdpZHRoOjE7ZmlsbDpub25lfS5uZ3gtY2hhcnRzIC5yZWZsaW5lLXBhdGh7c3Ryb2tlOiNhOGIyYzc7c3Ryb2tlLXdpZHRoOjE7c3Ryb2tlLWRhc2hhcnJheTo1O3N0cm9rZS1kYXNob2Zmc2V0OjV9Lm5neC1jaGFydHMgLnJlZmxpbmUtbGFiZWx7Zm9udC1zaXplOjlweH0ubmd4LWNoYXJ0cyAucmVmZXJlbmNlLWFyZWF7ZmlsbC1vcGFjaXR5Oi4wNTtmaWxsOiMwMDB9Lm5neC1jaGFydHMgLmdyaWRsaW5lLXBhdGgtZG90dGVke3N0cm9rZTojZGRkO3N0cm9rZS13aWR0aDoxO2ZpbGw6bm9uZTtzdHJva2UtZGFzaGFycmF5OjEsMjA7c3Ryb2tlLWRhc2hvZmZzZXQ6M30ubmd4LWNoYXJ0cyAuZ3JpZC1wYW5lbCByZWN0e2ZpbGw6bm9uZX0ubmd4LWNoYXJ0cyAuZ3JpZC1wYW5lbC5vZGQgcmVjdHtmaWxsOnJnYmEoMCwwLDAsLjA1KX1cIiwgXCJuZ3gtY2hhcnRzLW51bWJlci1jYXJkIC5jZWxsIC50cmltbWVkLWxhYmVse2ZvbnQtc2l6ZToxMnB4O3BvaW50ZXItZXZlbnRzOm5vbmU7b3ZlcmZsb3c6aGlkZGVuO3RleHQtYWxpZ246bGVmdDtsaW5lLWhlaWdodDoxZW19bmd4LWNoYXJ0cy1udW1iZXItY2FyZCAuY2VsbCAudHJpbW1lZC1sYWJlbCBwe292ZXJmbG93OmhpZGRlbjt3aGl0ZS1zcGFjZTpub3dyYXA7dGV4dC1vdmVyZmxvdzplbGxpcHNpczt3aWR0aDoxMDAlO3BhZGRpbmc6MDttYXJnaW46MH1uZ3gtY2hhcnRzLW51bWJlci1jYXJkIC5jZWxsIC52YWx1ZS10ZXh0e3BvaW50ZXItZXZlbnRzOm5vbmV9bmd4LWNoYXJ0cy1udW1iZXItY2FyZCAubnVtYmVyLWNhcmQuY2xpY2thYmxlIC5jZWxsIC5jYXJkLG5neC1jaGFydHMtbnVtYmVyLWNhcmQgLm51bWJlci1jYXJkLmNsaWNrYWJsZSAuY2VsbCAuY2FyZC1iYW5ke2N1cnNvcjpwb2ludGVyfVwiXSxcbiAgICAgICAgICAgIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmUsXG4gICAgICAgICAgICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaFxuICAgICAgICB9KVxuICAgIF0sIE51bWJlckNhcmRDb21wb25lbnQpO1xuICAgIHJldHVybiBOdW1iZXJDYXJkQ29tcG9uZW50O1xufShCYXNlQ2hhcnRDb21wb25lbnQpKTtcblxudmFyIE51bWJlckNhcmRNb2R1bGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTnVtYmVyQ2FyZE1vZHVsZSgpIHtcbiAgICB9XG4gICAgTnVtYmVyQ2FyZE1vZHVsZSA9IF9fZGVjb3JhdGUoW1xuICAgICAgICBOZ01vZHVsZSh7XG4gICAgICAgICAgICBpbXBvcnRzOiBbQ2hhcnRDb21tb25Nb2R1bGVdLFxuICAgICAgICAgICAgZGVjbGFyYXRpb25zOiBbXG4gICAgICAgICAgICAgICAgQ2FyZENvbXBvbmVudCxcbiAgICAgICAgICAgICAgICBDYXJkU2VyaWVzQ29tcG9uZW50LFxuICAgICAgICAgICAgICAgIE51bWJlckNhcmRDb21wb25lbnRcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBleHBvcnRzOiBbXG4gICAgICAgICAgICAgICAgQ2FyZENvbXBvbmVudCxcbiAgICAgICAgICAgICAgICBDYXJkU2VyaWVzQ29tcG9uZW50LFxuICAgICAgICAgICAgICAgIE51bWJlckNhcmRDb21wb25lbnRcbiAgICAgICAgICAgIF1cbiAgICAgICAgfSlcbiAgICBdLCBOdW1iZXJDYXJkTW9kdWxlKTtcbiAgICByZXR1cm4gTnVtYmVyQ2FyZE1vZHVsZTtcbn0oKSk7XG5cbnZhciBUcmVlTWFwQ2VsbENvbXBvbmVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUcmVlTWFwQ2VsbENvbXBvbmVudChlbGVtZW50KSB7XG4gICAgICAgIHRoaXMuZ3JhZGllbnQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5hbmltYXRpb25zID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zZWxlY3QgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudC5uYXRpdmVFbGVtZW50O1xuICAgIH1cbiAgICBUcmVlTWFwQ2VsbENvbXBvbmVudC5wcm90b3R5cGUubmdPbkNoYW5nZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgIHRoaXMudmFsdWVGb3JtYXR0aW5nID0gdGhpcy52YWx1ZUZvcm1hdHRpbmcgfHwgKGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gdmFsdWUudG9Mb2NhbGVTdHJpbmcoKTsgfSk7XG4gICAgICAgIHZhciBsYWJlbEZvcm1hdHRpbmcgPSB0aGlzLmxhYmVsRm9ybWF0dGluZyB8fCAoZnVuY3Rpb24gKGNlbGwpIHsgcmV0dXJuIGVzY2FwZUxhYmVsKHRyaW1MYWJlbChjZWxsLmxhYmVsLCA1NSkpOyB9KTtcbiAgICAgICAgdmFyIGNlbGxEYXRhID0ge1xuICAgICAgICAgICAgZGF0YTogdGhpcy5kYXRhLFxuICAgICAgICAgICAgbGFiZWw6IHRoaXMubGFiZWwsXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy52YWx1ZVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmZvcm1hdHRlZFZhbHVlID0gdGhpcy52YWx1ZUZvcm1hdHRpbmcoY2VsbERhdGEudmFsdWUpO1xuICAgICAgICB0aGlzLmZvcm1hdHRlZExhYmVsID0gbGFiZWxGb3JtYXR0aW5nKGNlbGxEYXRhKTtcbiAgICAgICAgdGhpcy5ncmFkaWVudElkID0gJ2dyYWQnICsgaWQoKS50b1N0cmluZygpO1xuICAgICAgICB0aGlzLmdyYWRpZW50VXJsID0gXCJ1cmwoI1wiICsgdGhpcy5ncmFkaWVudElkICsgXCIpXCI7XG4gICAgICAgIHRoaXMuZ3JhZGllbnRTdG9wcyA9IHRoaXMuZ2V0R3JhZGllbnRTdG9wcygpO1xuICAgIH07XG4gICAgVHJlZU1hcENlbGxDb21wb25lbnQucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuaW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0ZVRvQ3VycmVudEZvcm0oKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmFuaW1hdGlvbnMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWRBbmltYXRpb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBUcmVlTWFwQ2VsbENvbXBvbmVudC5wcm90b3R5cGUubG9hZEFuaW1hdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG5vZGUgPSBzZWxlY3QodGhpcy5lbGVtZW50KS5zZWxlY3QoJy5jZWxsJyk7XG4gICAgICAgIG5vZGVcbiAgICAgICAgICAgIC5hdHRyKCdvcGFjaXR5JywgMClcbiAgICAgICAgICAgIC5hdHRyKCd4JywgdGhpcy54KVxuICAgICAgICAgICAgLmF0dHIoJ3knLCB0aGlzLnkpO1xuICAgICAgICB0aGlzLmFuaW1hdGVUb0N1cnJlbnRGb3JtKCk7XG4gICAgfTtcbiAgICBUcmVlTWFwQ2VsbENvbXBvbmVudC5wcm90b3R5cGUuZ2V0VGV4dENvbG9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gaW52ZXJ0Q29sb3IodGhpcy5maWxsKTtcbiAgICB9O1xuICAgIFRyZWVNYXBDZWxsQ29tcG9uZW50LnByb3RvdHlwZS5hbmltYXRlVG9DdXJyZW50Rm9ybSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG5vZGUgPSBzZWxlY3QodGhpcy5lbGVtZW50KS5zZWxlY3QoJy5jZWxsJyk7XG4gICAgICAgIGlmICh0aGlzLmFuaW1hdGlvbnMpIHtcbiAgICAgICAgICAgIG5vZGVcbiAgICAgICAgICAgICAgICAudHJhbnNpdGlvbigpXG4gICAgICAgICAgICAgICAgLmR1cmF0aW9uKDc1MClcbiAgICAgICAgICAgICAgICAuYXR0cignb3BhY2l0eScsIDEpXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3gnLCB0aGlzLngpXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3knLCB0aGlzLnkpXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3dpZHRoJywgdGhpcy53aWR0aClcbiAgICAgICAgICAgICAgICAuYXR0cignaGVpZ2h0JywgdGhpcy5oZWlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbm9kZVxuICAgICAgICAgICAgICAgIC5hdHRyKCdvcGFjaXR5JywgMSlcbiAgICAgICAgICAgICAgICAuYXR0cigneCcsIHRoaXMueClcbiAgICAgICAgICAgICAgICAuYXR0cigneScsIHRoaXMueSlcbiAgICAgICAgICAgICAgICAuYXR0cignd2lkdGgnLCB0aGlzLndpZHRoKVxuICAgICAgICAgICAgICAgIC5hdHRyKCdoZWlnaHQnLCB0aGlzLmhlaWdodCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFRyZWVNYXBDZWxsQ29tcG9uZW50LnByb3RvdHlwZS5vbkNsaWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNlbGVjdC5lbWl0KHRoaXMuZGF0YSk7XG4gICAgfTtcbiAgICBUcmVlTWFwQ2VsbENvbXBvbmVudC5wcm90b3R5cGUuZ2V0R3JhZGllbnRTdG9wcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IDAsXG4gICAgICAgICAgICAgICAgY29sb3I6IHRoaXMuZmlsbCxcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiAwLjNcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgb2Zmc2V0OiAxMDAsXG4gICAgICAgICAgICAgICAgY29sb3I6IHRoaXMuZmlsbCxcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiAxXG4gICAgICAgICAgICB9XG4gICAgICAgIF07XG4gICAgfTtcbiAgICB2YXIgX2E7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgVHJlZU1hcENlbGxDb21wb25lbnQucHJvdG90eXBlLCBcImRhdGFcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBUcmVlTWFwQ2VsbENvbXBvbmVudC5wcm90b3R5cGUsIFwiZmlsbFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIFRyZWVNYXBDZWxsQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ4XCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgVHJlZU1hcENlbGxDb21wb25lbnQucHJvdG90eXBlLCBcInlcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBUcmVlTWFwQ2VsbENvbXBvbmVudC5wcm90b3R5cGUsIFwid2lkdGhcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBUcmVlTWFwQ2VsbENvbXBvbmVudC5wcm90b3R5cGUsIFwiaGVpZ2h0XCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgVHJlZU1hcENlbGxDb21wb25lbnQucHJvdG90eXBlLCBcImxhYmVsXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgVHJlZU1hcENlbGxDb21wb25lbnQucHJvdG90eXBlLCBcInZhbHVlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgVHJlZU1hcENlbGxDb21wb25lbnQucHJvdG90eXBlLCBcInZhbHVlVHlwZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIFRyZWVNYXBDZWxsQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ2YWx1ZUZvcm1hdHRpbmdcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBUcmVlTWFwQ2VsbENvbXBvbmVudC5wcm90b3R5cGUsIFwibGFiZWxGb3JtYXR0aW5nXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIFRyZWVNYXBDZWxsQ29tcG9uZW50LnByb3RvdHlwZSwgXCJncmFkaWVudFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbiAgICBdLCBUcmVlTWFwQ2VsbENvbXBvbmVudC5wcm90b3R5cGUsIFwiYW5pbWF0aW9uc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBPdXRwdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBUcmVlTWFwQ2VsbENvbXBvbmVudC5wcm90b3R5cGUsIFwic2VsZWN0XCIsIHZvaWQgMCk7XG4gICAgVHJlZU1hcENlbGxDb21wb25lbnQgPSBfX2RlY29yYXRlKFtcbiAgICAgICAgQ29tcG9uZW50KHtcbiAgICAgICAgICAgIHNlbGVjdG9yOiAnZ1tuZ3gtY2hhcnRzLXRyZWUtbWFwLWNlbGxdJyxcbiAgICAgICAgICAgIHRlbXBsYXRlOiBcIlxcbiAgICA8c3ZnOmc+XFxuICAgICAgPGRlZnMgKm5nSWY9XFxcImdyYWRpZW50XFxcIj5cXG4gICAgICAgIDxzdmc6ZyBuZ3gtY2hhcnRzLXN2Zy1saW5lYXItZ3JhZGllbnQgb3JpZW50YXRpb249XFxcInZlcnRpY2FsXFxcIiBbbmFtZV09XFxcImdyYWRpZW50SWRcXFwiIFtzdG9wc109XFxcImdyYWRpZW50U3RvcHNcXFwiIC8+XFxuICAgICAgPC9kZWZzPlxcbiAgICAgIDxzdmc6cmVjdFxcbiAgICAgICAgW2F0dHIuZmlsbF09XFxcImdyYWRpZW50ID8gZ3JhZGllbnRVcmwgOiBmaWxsXFxcIlxcbiAgICAgICAgW2F0dHIud2lkdGhdPVxcXCJ3aWR0aFxcXCJcXG4gICAgICAgIFthdHRyLmhlaWdodF09XFxcImhlaWdodFxcXCJcXG4gICAgICAgIFthdHRyLnhdPVxcXCJ4XFxcIlxcbiAgICAgICAgW2F0dHIueV09XFxcInlcXFwiXFxuICAgICAgICBbc3R5bGUuY3Vyc29yXT1cXFwiJ3BvaW50ZXInXFxcIlxcbiAgICAgICAgY2xhc3M9XFxcImNlbGxcXFwiXFxuICAgICAgICAoY2xpY2spPVxcXCJvbkNsaWNrKClcXFwiXFxuICAgICAgLz5cXG4gICAgICA8c3ZnOmZvcmVpZ25PYmplY3RcXG4gICAgICAgICpuZ0lmPVxcXCJ3aWR0aCA+PSA3MCAmJiBoZWlnaHQgPj0gMzVcXFwiXFxuICAgICAgICBbYXR0ci54XT1cXFwieFxcXCJcXG4gICAgICAgIFthdHRyLnldPVxcXCJ5XFxcIlxcbiAgICAgICAgW2F0dHIud2lkdGhdPVxcXCJ3aWR0aFxcXCJcXG4gICAgICAgIFthdHRyLmhlaWdodF09XFxcImhlaWdodFxcXCJcXG4gICAgICAgIGNsYXNzPVxcXCJ0cmVlbWFwLWxhYmVsXFxcIlxcbiAgICAgICAgW3N0eWxlLnBvaW50ZXItZXZlbnRzXT1cXFwiJ25vbmUnXFxcIlxcbiAgICAgID5cXG4gICAgICAgIDx4aHRtbDpwIFtzdHlsZS5jb2xvcl09XFxcImdldFRleHRDb2xvcigpXFxcIiBbc3R5bGUuaGVpZ2h0XT1cXFwiaGVpZ2h0ICsgJ3B4J1xcXCIgW3N0eWxlLndpZHRoXT1cXFwid2lkdGggKyAncHgnXFxcIj5cXG4gICAgICAgICAgPHhodG1sOnNwYW4gY2xhc3M9XFxcInRyZWVtYXAtbGFiZWxcXFwiIFtpbm5lckhUTUxdPVxcXCJmb3JtYXR0ZWRMYWJlbFxcXCI+IDwveGh0bWw6c3Bhbj5cXG4gICAgICAgICAgPHhodG1sOmJyIC8+XFxuICAgICAgICAgIDx4aHRtbDpzcGFuXFxuICAgICAgICAgICAgKm5nSWY9XFxcImFuaW1hdGlvbnNcXFwiXFxuICAgICAgICAgICAgY2xhc3M9XFxcInRyZWVtYXAtdmFsXFxcIlxcbiAgICAgICAgICAgIG5neC1jaGFydHMtY291bnQtdXBcXG4gICAgICAgICAgICBbY291bnRUb109XFxcInZhbHVlXFxcIlxcbiAgICAgICAgICAgIFt2YWx1ZUZvcm1hdHRpbmddPVxcXCJ2YWx1ZUZvcm1hdHRpbmdcXFwiXFxuICAgICAgICAgID5cXG4gICAgICAgICAgPC94aHRtbDpzcGFuPlxcbiAgICAgICAgICA8eGh0bWw6c3BhbiAqbmdJZj1cXFwiIWFuaW1hdGlvbnNcXFwiIGNsYXNzPVxcXCJ0cmVlbWFwLXZhbFxcXCI+XFxuICAgICAgICAgICAge3sgZm9ybWF0dGVkVmFsdWUgfX1cXG4gICAgICAgICAgPC94aHRtbDpzcGFuPlxcbiAgICAgICAgPC94aHRtbDpwPlxcbiAgICAgIDwvc3ZnOmZvcmVpZ25PYmplY3Q+XFxuICAgIDwvc3ZnOmc+XFxuICBcIixcbiAgICAgICAgICAgIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoXG4gICAgICAgIH0pLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW3R5cGVvZiAoX2EgPSB0eXBlb2YgRWxlbWVudFJlZiAhPT0gXCJ1bmRlZmluZWRcIiAmJiBFbGVtZW50UmVmKSA9PT0gXCJmdW5jdGlvblwiID8gX2EgOiBPYmplY3RdKVxuICAgIF0sIFRyZWVNYXBDZWxsQ29tcG9uZW50KTtcbiAgICByZXR1cm4gVHJlZU1hcENlbGxDb21wb25lbnQ7XG59KCkpO1xuXG52YXIgVHJlZU1hcENlbGxTZXJpZXNDb21wb25lbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVHJlZU1hcENlbGxTZXJpZXNDb21wb25lbnQoKSB7XG4gICAgICAgIHRoaXMuZ3JhZGllbnQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy50b29sdGlwRGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5hbmltYXRpb25zID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zZWxlY3QgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgfVxuICAgIFRyZWVNYXBDZWxsU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZS5uZ09uQ2hhbmdlcyA9IGZ1bmN0aW9uIChjaGFuZ2VzKSB7XG4gICAgICAgIHRoaXMuY2VsbHMgPSB0aGlzLmdldENlbGxzKCk7XG4gICAgfTtcbiAgICBUcmVlTWFwQ2VsbFNlcmllc0NvbXBvbmVudC5wcm90b3R5cGUuZ2V0Q2VsbHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEuY2hpbGRyZW5cbiAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgIHJldHVybiBkLmRlcHRoID09PSAxO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAoZCwgaW5kZXgpIHtcbiAgICAgICAgICAgIHZhciBsYWJlbCA9IGQuaWQ7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGRhdGE6IGQuZGF0YSxcbiAgICAgICAgICAgICAgICB4OiBkLngwLFxuICAgICAgICAgICAgICAgIHk6IGQueTAsXG4gICAgICAgICAgICAgICAgd2lkdGg6IGQueDEgLSBkLngwLFxuICAgICAgICAgICAgICAgIGhlaWdodDogZC55MSAtIGQueTAsXG4gICAgICAgICAgICAgICAgZmlsbDogX3RoaXMuY29sb3JzLmdldENvbG9yKGxhYmVsKSxcbiAgICAgICAgICAgICAgICBsYWJlbDogbGFiZWwsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGQudmFsdWUsXG4gICAgICAgICAgICAgICAgdmFsdWVUeXBlOiBkLnZhbHVlVHlwZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBUcmVlTWFwQ2VsbFNlcmllc0NvbXBvbmVudC5wcm90b3R5cGUuZ2V0VG9vbHRpcFRleHQgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIGxhYmVsID0gX2EubGFiZWwsIHZhbHVlID0gX2EudmFsdWU7XG4gICAgICAgIHJldHVybiBcIlxcbiAgICAgIDxzcGFuIGNsYXNzPVxcXCJ0b29sdGlwLWxhYmVsXFxcIj5cIiArIGVzY2FwZUxhYmVsKGxhYmVsKSArIFwiPC9zcGFuPlxcbiAgICAgIDxzcGFuIGNsYXNzPVxcXCJ0b29sdGlwLXZhbFxcXCI+XCIgKyB2YWx1ZS50b0xvY2FsZVN0cmluZygpICsgXCI8L3NwYW4+XFxuICAgIFwiO1xuICAgIH07XG4gICAgVHJlZU1hcENlbGxTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLm9uQ2xpY2sgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB0aGlzLnNlbGVjdC5lbWl0KGRhdGEpO1xuICAgIH07XG4gICAgVHJlZU1hcENlbGxTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLnRyYWNrQnkgPSBmdW5jdGlvbiAoaW5kZXgsIGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIGl0ZW0ubGFiZWw7XG4gICAgfTtcbiAgICB2YXIgX2E7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgVHJlZU1hcENlbGxTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLCBcImRhdGFcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBUcmVlTWFwQ2VsbFNlcmllc0NvbXBvbmVudC5wcm90b3R5cGUsIFwiZGltc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIFRyZWVNYXBDZWxsU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJjb2xvcnNcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBUcmVlTWFwQ2VsbFNlcmllc0NvbXBvbmVudC5wcm90b3R5cGUsIFwidmFsdWVGb3JtYXR0aW5nXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgVHJlZU1hcENlbGxTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLCBcImxhYmVsRm9ybWF0dGluZ1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbiAgICBdLCBUcmVlTWFwQ2VsbFNlcmllc0NvbXBvbmVudC5wcm90b3R5cGUsIFwiZ3JhZGllbnRcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEJvb2xlYW4pXG4gICAgXSwgVHJlZU1hcENlbGxTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLCBcInRvb2x0aXBEaXNhYmxlZFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgdHlwZW9mIChfYSA9IHR5cGVvZiBUZW1wbGF0ZVJlZiAhPT0gXCJ1bmRlZmluZWRcIiAmJiBUZW1wbGF0ZVJlZikgPT09IFwiZnVuY3Rpb25cIiA/IF9hIDogT2JqZWN0KVxuICAgIF0sIFRyZWVNYXBDZWxsU2VyaWVzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ0b29sdGlwVGVtcGxhdGVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEJvb2xlYW4pXG4gICAgXSwgVHJlZU1hcENlbGxTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLCBcImFuaW1hdGlvbnNcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgT3V0cHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgVHJlZU1hcENlbGxTZXJpZXNDb21wb25lbnQucHJvdG90eXBlLCBcInNlbGVjdFwiLCB2b2lkIDApO1xuICAgIFRyZWVNYXBDZWxsU2VyaWVzQ29tcG9uZW50ID0gX19kZWNvcmF0ZShbXG4gICAgICAgIENvbXBvbmVudCh7XG4gICAgICAgICAgICBzZWxlY3RvcjogJ2dbbmd4LWNoYXJ0cy10cmVlLW1hcC1jZWxsLXNlcmllc10nLFxuICAgICAgICAgICAgdGVtcGxhdGU6IFwiXFxuICAgIDxzdmc6Z1xcbiAgICAgIG5neC1jaGFydHMtdHJlZS1tYXAtY2VsbFxcbiAgICAgICpuZ0Zvcj1cXFwibGV0IGMgb2YgY2VsbHM7IHRyYWNrQnk6IHRyYWNrQnlcXFwiXFxuICAgICAgW2RhdGFdPVxcXCJjLmRhdGFcXFwiXFxuICAgICAgW3hdPVxcXCJjLnhcXFwiXFxuICAgICAgW3ldPVxcXCJjLnlcXFwiXFxuICAgICAgW3dpZHRoXT1cXFwiYy53aWR0aFxcXCJcXG4gICAgICBbaGVpZ2h0XT1cXFwiYy5oZWlnaHRcXFwiXFxuICAgICAgW2ZpbGxdPVxcXCJjLmZpbGxcXFwiXFxuICAgICAgW2xhYmVsXT1cXFwiYy5sYWJlbFxcXCJcXG4gICAgICBbdmFsdWVdPVxcXCJjLnZhbHVlXFxcIlxcbiAgICAgIFt2YWx1ZVR5cGVdPVxcXCJjLnZhbHVlVHlwZVxcXCJcXG4gICAgICBbdmFsdWVGb3JtYXR0aW5nXT1cXFwidmFsdWVGb3JtYXR0aW5nXFxcIlxcbiAgICAgIFtsYWJlbEZvcm1hdHRpbmddPVxcXCJsYWJlbEZvcm1hdHRpbmdcXFwiXFxuICAgICAgW2dyYWRpZW50XT1cXFwiZ3JhZGllbnRcXFwiXFxuICAgICAgW2FuaW1hdGlvbnNdPVxcXCJhbmltYXRpb25zXFxcIlxcbiAgICAgIChzZWxlY3QpPVxcXCJvbkNsaWNrKCRldmVudClcXFwiXFxuICAgICAgbmd4LXRvb2x0aXBcXG4gICAgICBbdG9vbHRpcERpc2FibGVkXT1cXFwidG9vbHRpcERpc2FibGVkXFxcIlxcbiAgICAgIFt0b29sdGlwUGxhY2VtZW50XT1cXFwiJ3RvcCdcXFwiXFxuICAgICAgW3Rvb2x0aXBUeXBlXT1cXFwiJ3Rvb2x0aXAnXFxcIlxcbiAgICAgIFt0b29sdGlwVGl0bGVdPVxcXCJ0b29sdGlwVGVtcGxhdGUgPyB1bmRlZmluZWQgOiBnZXRUb29sdGlwVGV4dChjKVxcXCJcXG4gICAgICBbdG9vbHRpcFRlbXBsYXRlXT1cXFwidG9vbHRpcFRlbXBsYXRlXFxcIlxcbiAgICAgIFt0b29sdGlwQ29udGV4dF09XFxcImMuZGF0YVxcXCJcXG4gICAgPjwvc3ZnOmc+XFxuICBcIixcbiAgICAgICAgICAgIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoXG4gICAgICAgIH0pXG4gICAgXSwgVHJlZU1hcENlbGxTZXJpZXNDb21wb25lbnQpO1xuICAgIHJldHVybiBUcmVlTWFwQ2VsbFNlcmllc0NvbXBvbmVudDtcbn0oKSk7XG5cbnZhciBUcmVlTWFwQ29tcG9uZW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhUcmVlTWFwQ29tcG9uZW50LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFRyZWVNYXBDb21wb25lbnQoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy50b29sdGlwRGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuZ3JhZGllbnQgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuc2VsZWN0ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICBfdGhpcy5tYXJnaW4gPSBbMTAsIDEwLCAxMCwgMTBdO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFRyZWVNYXBDb21wb25lbnQucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS51cGRhdGUuY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5kaW1zID0gY2FsY3VsYXRlVmlld0RpbWVuc2lvbnMoe1xuICAgICAgICAgICAgd2lkdGg6IHRoaXMud2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IHRoaXMuaGVpZ2h0LFxuICAgICAgICAgICAgbWFyZ2luczogdGhpcy5tYXJnaW5cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZG9tYWluID0gdGhpcy5nZXREb21haW4oKTtcbiAgICAgICAgdGhpcy50cmVlbWFwID0gdHJlZW1hcCgpLnNpemUoW3RoaXMuZGltcy53aWR0aCwgdGhpcy5kaW1zLmhlaWdodF0pO1xuICAgICAgICB2YXIgcm9vdE5vZGUgPSB7XG4gICAgICAgICAgICBuYW1lOiAncm9vdCcsXG4gICAgICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgICAgIGlzUm9vdDogdHJ1ZVxuICAgICAgICB9O1xuICAgICAgICB2YXIgcm9vdCA9IHN0cmF0aWZ5KClcbiAgICAgICAgICAgIC5pZChmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgdmFyIGxhYmVsID0gZC5uYW1lO1xuICAgICAgICAgICAgaWYgKGxhYmVsLmNvbnN0cnVjdG9yLm5hbWUgPT09ICdEYXRlJykge1xuICAgICAgICAgICAgICAgIGxhYmVsID0gbGFiZWwudG9Mb2NhbGVEYXRlU3RyaW5nKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsYWJlbCA9IGxhYmVsLnRvTG9jYWxlU3RyaW5nKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbGFiZWw7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAucGFyZW50SWQoZnVuY3Rpb24gKGQpIHsgcmV0dXJuIChkLmlzUm9vdCA/IG51bGwgOiAncm9vdCcpOyB9KShbcm9vdE5vZGVdLmNvbmNhdCh0aGlzLnJlc3VsdHMpKVxuICAgICAgICAgICAgLnN1bShmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC52YWx1ZTsgfSk7XG4gICAgICAgIHRoaXMuZGF0YSA9IHRoaXMudHJlZW1hcChyb290KTtcbiAgICAgICAgdGhpcy5zZXRDb2xvcnMoKTtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0gPSBcInRyYW5zbGF0ZShcIiArIHRoaXMuZGltcy54T2Zmc2V0ICsgXCIgLCBcIiArIHRoaXMubWFyZ2luWzBdICsgXCIpXCI7XG4gICAgfTtcbiAgICBUcmVlTWFwQ29tcG9uZW50LnByb3RvdHlwZS5nZXREb21haW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlc3VsdHMubWFwKGZ1bmN0aW9uIChkKSB7IHJldHVybiBkLm5hbWU7IH0pO1xuICAgIH07XG4gICAgVHJlZU1hcENvbXBvbmVudC5wcm90b3R5cGUub25DbGljayA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0LmVtaXQoZGF0YSk7XG4gICAgfTtcbiAgICBUcmVlTWFwQ29tcG9uZW50LnByb3RvdHlwZS5zZXRDb2xvcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY29sb3JzID0gbmV3IENvbG9ySGVscGVyKHRoaXMuc2NoZW1lLCAnb3JkaW5hbCcsIHRoaXMuZG9tYWluLCB0aGlzLmN1c3RvbUNvbG9ycyk7XG4gICAgfTtcbiAgICB2YXIgX2E7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgVHJlZU1hcENvbXBvbmVudC5wcm90b3R5cGUsIFwicmVzdWx0c1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbiAgICBdLCBUcmVlTWFwQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ0b29sdGlwRGlzYWJsZWRcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBUcmVlTWFwQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ2YWx1ZUZvcm1hdHRpbmdcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBUcmVlTWFwQ29tcG9uZW50LnByb3RvdHlwZSwgXCJsYWJlbEZvcm1hdHRpbmdcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEJvb2xlYW4pXG4gICAgXSwgVHJlZU1hcENvbXBvbmVudC5wcm90b3R5cGUsIFwiZ3JhZGllbnRcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgT3V0cHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgVHJlZU1hcENvbXBvbmVudC5wcm90b3R5cGUsIFwic2VsZWN0XCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIENvbnRlbnRDaGlsZCgndG9vbHRpcFRlbXBsYXRlJywgeyBzdGF0aWM6IGZhbHNlIH0pLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgdHlwZW9mIChfYSA9IHR5cGVvZiBUZW1wbGF0ZVJlZiAhPT0gXCJ1bmRlZmluZWRcIiAmJiBUZW1wbGF0ZVJlZikgPT09IFwiZnVuY3Rpb25cIiA/IF9hIDogT2JqZWN0KVxuICAgIF0sIFRyZWVNYXBDb21wb25lbnQucHJvdG90eXBlLCBcInRvb2x0aXBUZW1wbGF0ZVwiLCB2b2lkIDApO1xuICAgIFRyZWVNYXBDb21wb25lbnQgPSBfX2RlY29yYXRlKFtcbiAgICAgICAgQ29tcG9uZW50KHtcbiAgICAgICAgICAgIHNlbGVjdG9yOiAnbmd4LWNoYXJ0cy10cmVlLW1hcCcsXG4gICAgICAgICAgICB0ZW1wbGF0ZTogXCJcXG4gICAgPG5neC1jaGFydHMtY2hhcnQgW3ZpZXddPVxcXCJbd2lkdGgsIGhlaWdodF1cXFwiIFtzaG93TGVnZW5kXT1cXFwiZmFsc2VcXFwiIFthbmltYXRpb25zXT1cXFwiYW5pbWF0aW9uc1xcXCI+XFxuICAgICAgPHN2ZzpnIFthdHRyLnRyYW5zZm9ybV09XFxcInRyYW5zZm9ybVxcXCIgY2xhc3M9XFxcInRyZWUtbWFwIGNoYXJ0XFxcIj5cXG4gICAgICAgIDxzdmc6Z1xcbiAgICAgICAgICBuZ3gtY2hhcnRzLXRyZWUtbWFwLWNlbGwtc2VyaWVzXFxuICAgICAgICAgIFtjb2xvcnNdPVxcXCJjb2xvcnNcXFwiXFxuICAgICAgICAgIFtkYXRhXT1cXFwiZGF0YVxcXCJcXG4gICAgICAgICAgW2RpbXNdPVxcXCJkaW1zXFxcIlxcbiAgICAgICAgICBbdG9vbHRpcERpc2FibGVkXT1cXFwidG9vbHRpcERpc2FibGVkXFxcIlxcbiAgICAgICAgICBbdG9vbHRpcFRlbXBsYXRlXT1cXFwidG9vbHRpcFRlbXBsYXRlXFxcIlxcbiAgICAgICAgICBbdmFsdWVGb3JtYXR0aW5nXT1cXFwidmFsdWVGb3JtYXR0aW5nXFxcIlxcbiAgICAgICAgICBbbGFiZWxGb3JtYXR0aW5nXT1cXFwibGFiZWxGb3JtYXR0aW5nXFxcIlxcbiAgICAgICAgICBbZ3JhZGllbnRdPVxcXCJncmFkaWVudFxcXCJcXG4gICAgICAgICAgW2FuaW1hdGlvbnNdPVxcXCJhbmltYXRpb25zXFxcIlxcbiAgICAgICAgICAoc2VsZWN0KT1cXFwib25DbGljaygkZXZlbnQpXFxcIlxcbiAgICAgICAgLz5cXG4gICAgICA8L3N2ZzpnPlxcbiAgICA8L25neC1jaGFydHMtY2hhcnQ+XFxuICBcIixcbiAgICAgICAgICAgIHN0eWxlczogW1wiLnRyZWUtbWFwIC50cmVlbWFwLXZhbHtmb250LXNpemU6MS4zZW07cGFkZGluZy10b3A6NXB4O2Rpc3BsYXk6aW5saW5lLWJsb2NrfS50cmVlLW1hcCAudHJlZW1hcC1sYWJlbCBwe2Rpc3BsYXk6dGFibGUtY2VsbDt0ZXh0LWFsaWduOmNlbnRlcjtsaW5lLWhlaWdodDoxLjJlbTt2ZXJ0aWNhbC1hbGlnbjptaWRkbGV9XCJdLFxuICAgICAgICAgICAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZSxcbiAgICAgICAgICAgIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoXG4gICAgICAgIH0pXG4gICAgXSwgVHJlZU1hcENvbXBvbmVudCk7XG4gICAgcmV0dXJuIFRyZWVNYXBDb21wb25lbnQ7XG59KEJhc2VDaGFydENvbXBvbmVudCkpO1xuXG52YXIgVHJlZU1hcE1vZHVsZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUcmVlTWFwTW9kdWxlKCkge1xuICAgIH1cbiAgICBUcmVlTWFwTW9kdWxlID0gX19kZWNvcmF0ZShbXG4gICAgICAgIE5nTW9kdWxlKHtcbiAgICAgICAgICAgIGltcG9ydHM6IFtDaGFydENvbW1vbk1vZHVsZV0sXG4gICAgICAgICAgICBkZWNsYXJhdGlvbnM6IFtcbiAgICAgICAgICAgICAgICBUcmVlTWFwQ2VsbENvbXBvbmVudCxcbiAgICAgICAgICAgICAgICBUcmVlTWFwQ2VsbFNlcmllc0NvbXBvbmVudCxcbiAgICAgICAgICAgICAgICBUcmVlTWFwQ29tcG9uZW50XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgZXhwb3J0czogW1xuICAgICAgICAgICAgICAgIFRyZWVNYXBDZWxsQ29tcG9uZW50LFxuICAgICAgICAgICAgICAgIFRyZWVNYXBDZWxsU2VyaWVzQ29tcG9uZW50LFxuICAgICAgICAgICAgICAgIFRyZWVNYXBDb21wb25lbnRcbiAgICAgICAgICAgIF1cbiAgICAgICAgfSlcbiAgICBdLCBUcmVlTWFwTW9kdWxlKTtcbiAgICByZXR1cm4gVHJlZU1hcE1vZHVsZTtcbn0oKSk7XG5cbnZhciBMaW5lYXJHYXVnZUNvbXBvbmVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTGluZWFyR2F1Z2VDb21wb25lbnQsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gTGluZWFyR2F1Z2VDb21wb25lbnQoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5taW4gPSAwO1xuICAgICAgICBfdGhpcy5tYXggPSAxMDA7XG4gICAgICAgIF90aGlzLnZhbHVlID0gMDtcbiAgICAgICAgX3RoaXMubWFyZ2luID0gWzEwLCAyMCwgMTAsIDIwXTtcbiAgICAgICAgX3RoaXMudmFsdWVSZXNpemVTY2FsZSA9IDE7XG4gICAgICAgIF90aGlzLnVuaXRzUmVzaXplU2NhbGUgPSAxO1xuICAgICAgICBfdGhpcy52YWx1ZVRleHRUcmFuc2Zvcm0gPSAnJztcbiAgICAgICAgX3RoaXMudmFsdWVUcmFuc2xhdGUgPSAnJztcbiAgICAgICAgX3RoaXMudW5pdHNUZXh0VHJhbnNmb3JtID0gJyc7XG4gICAgICAgIF90aGlzLnVuaXRzVHJhbnNsYXRlID0gJyc7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgTGluZWFyR2F1Z2VDb21wb25lbnQucHJvdG90eXBlLm5nQWZ0ZXJWaWV3SW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5uZ0FmdGVyVmlld0luaXQuY2FsbCh0aGlzKTtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5zY2FsZVRleHQoJ3ZhbHVlJyk7XG4gICAgICAgICAgICBfdGhpcy5zY2FsZVRleHQoJ3VuaXRzJyk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgTGluZWFyR2F1Z2VDb21wb25lbnQucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS51cGRhdGUuY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5oYXNQcmV2aW91c1ZhbHVlID0gdGhpcy5wcmV2aW91c1ZhbHVlICE9PSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMubWF4ID0gTWF0aC5tYXgodGhpcy5tYXgsIHRoaXMudmFsdWUpO1xuICAgICAgICB0aGlzLm1pbiA9IE1hdGgubWluKHRoaXMubWluLCB0aGlzLnZhbHVlKTtcbiAgICAgICAgaWYgKHRoaXMuaGFzUHJldmlvdXNWYWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5tYXggPSBNYXRoLm1heCh0aGlzLm1heCwgdGhpcy5wcmV2aW91c1ZhbHVlKTtcbiAgICAgICAgICAgIHRoaXMubWluID0gTWF0aC5taW4odGhpcy5taW4sIHRoaXMucHJldmlvdXNWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kaW1zID0gY2FsY3VsYXRlVmlld0RpbWVuc2lvbnMoe1xuICAgICAgICAgICAgd2lkdGg6IHRoaXMud2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IHRoaXMuaGVpZ2h0LFxuICAgICAgICAgICAgbWFyZ2luczogdGhpcy5tYXJnaW5cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudmFsdWVEb21haW4gPSB0aGlzLmdldFZhbHVlRG9tYWluKCk7XG4gICAgICAgIHRoaXMudmFsdWVTY2FsZSA9IHRoaXMuZ2V0VmFsdWVTY2FsZSgpO1xuICAgICAgICB0aGlzLmRpc3BsYXlWYWx1ZSA9IHRoaXMuZ2V0RGlzcGxheVZhbHVlKCk7XG4gICAgICAgIHRoaXMuc2V0Q29sb3JzKCk7XG4gICAgICAgIHZhciB4T2Zmc2V0ID0gdGhpcy5tYXJnaW5bM10gKyB0aGlzLmRpbXMud2lkdGggLyAyO1xuICAgICAgICB2YXIgeU9mZnNldCA9IHRoaXMubWFyZ2luWzBdICsgdGhpcy5kaW1zLmhlaWdodCAvIDI7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtID0gXCJ0cmFuc2xhdGUoXCIgKyB4T2Zmc2V0ICsgXCIsIFwiICsgeU9mZnNldCArIFwiKVwiO1xuICAgICAgICB0aGlzLnRyYW5zZm9ybUxpbmUgPSBcInRyYW5zbGF0ZShcIiArICh0aGlzLm1hcmdpblszXSArIHRoaXMudmFsdWVTY2FsZSh0aGlzLnByZXZpb3VzVmFsdWUpKSArIFwiLCBcIiArIHlPZmZzZXQgKyBcIilcIjtcbiAgICAgICAgdGhpcy52YWx1ZVRyYW5zbGF0ZSA9IFwidHJhbnNsYXRlKDAsIC0xNSlcIjtcbiAgICAgICAgdGhpcy51bml0c1RyYW5zbGF0ZSA9IFwidHJhbnNsYXRlKDAsIDE1KVwiO1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLnNjYWxlVGV4dCgndmFsdWUnKTsgfSwgNTApO1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLnNjYWxlVGV4dCgndW5pdHMnKTsgfSwgNTApO1xuICAgIH07XG4gICAgTGluZWFyR2F1Z2VDb21wb25lbnQucHJvdG90eXBlLmdldFZhbHVlRG9tYWluID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gW3RoaXMubWluLCB0aGlzLm1heF07XG4gICAgfTtcbiAgICBMaW5lYXJHYXVnZUNvbXBvbmVudC5wcm90b3R5cGUuZ2V0VmFsdWVTY2FsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHNjYWxlTGluZWFyKClcbiAgICAgICAgICAgIC5yYW5nZShbMCwgdGhpcy5kaW1zLndpZHRoXSlcbiAgICAgICAgICAgIC5kb21haW4odGhpcy52YWx1ZURvbWFpbik7XG4gICAgfTtcbiAgICBMaW5lYXJHYXVnZUNvbXBvbmVudC5wcm90b3R5cGUuZ2V0RGlzcGxheVZhbHVlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy52YWx1ZUZvcm1hdHRpbmcpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZhbHVlRm9ybWF0dGluZyh0aGlzLnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZS50b0xvY2FsZVN0cmluZygpO1xuICAgIH07XG4gICAgTGluZWFyR2F1Z2VDb21wb25lbnQucHJvdG90eXBlLnNjYWxlVGV4dCA9IGZ1bmN0aW9uIChlbGVtZW50LCByZXBlYXQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHJlcGVhdCA9PT0gdm9pZCAwKSB7IHJlcGVhdCA9IHRydWU7IH1cbiAgICAgICAgdmFyIGVsO1xuICAgICAgICB2YXIgcmVzaXplU2NhbGU7XG4gICAgICAgIGlmIChlbGVtZW50ID09PSAndmFsdWUnKSB7XG4gICAgICAgICAgICBlbCA9IHRoaXMudmFsdWVUZXh0RWw7XG4gICAgICAgICAgICByZXNpemVTY2FsZSA9IHRoaXMudmFsdWVSZXNpemVTY2FsZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGVsID0gdGhpcy51bml0c1RleHRFbDtcbiAgICAgICAgICAgIHJlc2l6ZVNjYWxlID0gdGhpcy51bml0c1Jlc2l6ZVNjYWxlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfYSA9IGVsLm5hdGl2ZUVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIHdpZHRoID0gX2Eud2lkdGgsIGhlaWdodCA9IF9hLmhlaWdodDtcbiAgICAgICAgaWYgKHdpZHRoID09PSAwIHx8IGhlaWdodCA9PT0gMClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdmFyIG9sZFNjYWxlID0gcmVzaXplU2NhbGU7XG4gICAgICAgIHZhciBhdmFpbGFibGVXaWR0aCA9IHRoaXMuZGltcy53aWR0aDtcbiAgICAgICAgdmFyIGF2YWlsYWJsZUhlaWdodCA9IE1hdGgubWF4KHRoaXMuZGltcy5oZWlnaHQgLyAyIC0gMTUsIDApO1xuICAgICAgICB2YXIgcmVzaXplU2NhbGVXaWR0aCA9IE1hdGguZmxvb3IoKGF2YWlsYWJsZVdpZHRoIC8gKHdpZHRoIC8gcmVzaXplU2NhbGUpKSAqIDEwMCkgLyAxMDA7XG4gICAgICAgIHZhciByZXNpemVTY2FsZUhlaWdodCA9IE1hdGguZmxvb3IoKGF2YWlsYWJsZUhlaWdodCAvIChoZWlnaHQgLyByZXNpemVTY2FsZSkpICogMTAwKSAvIDEwMDtcbiAgICAgICAgcmVzaXplU2NhbGUgPSBNYXRoLm1pbihyZXNpemVTY2FsZUhlaWdodCwgcmVzaXplU2NhbGVXaWR0aCk7XG4gICAgICAgIGlmIChyZXNpemVTY2FsZSAhPT0gb2xkU2NhbGUpIHtcbiAgICAgICAgICAgIGlmIChlbGVtZW50ID09PSAndmFsdWUnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy52YWx1ZVJlc2l6ZVNjYWxlID0gcmVzaXplU2NhbGU7XG4gICAgICAgICAgICAgICAgdGhpcy52YWx1ZVRleHRUcmFuc2Zvcm0gPSBcInNjYWxlKFwiICsgcmVzaXplU2NhbGUgKyBcIiwgXCIgKyByZXNpemVTY2FsZSArIFwiKVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy51bml0c1Jlc2l6ZVNjYWxlID0gcmVzaXplU2NhbGU7XG4gICAgICAgICAgICAgICAgdGhpcy51bml0c1RleHRUcmFuc2Zvcm0gPSBcInNjYWxlKFwiICsgcmVzaXplU2NhbGUgKyBcIiwgXCIgKyByZXNpemVTY2FsZSArIFwiKVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jZC5tYXJrRm9yQ2hlY2soKTtcbiAgICAgICAgICAgIGlmIChyZXBlYXQpIHtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2NhbGVUZXh0KGVsZW1lbnQsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9LCA1MCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIExpbmVhckdhdWdlQ29tcG9uZW50LnByb3RvdHlwZS5vbkNsaWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNlbGVjdC5lbWl0KHtcbiAgICAgICAgICAgIG5hbWU6ICdWYWx1ZScsXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy52YWx1ZVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIExpbmVhckdhdWdlQ29tcG9uZW50LnByb3RvdHlwZS5zZXRDb2xvcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY29sb3JzID0gbmV3IENvbG9ySGVscGVyKHRoaXMuc2NoZW1lLCAnb3JkaW5hbCcsIFt0aGlzLnZhbHVlXSwgdGhpcy5jdXN0b21Db2xvcnMpO1xuICAgIH07XG4gICAgdmFyIF9hLCBfYjtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE51bWJlcilcbiAgICBdLCBMaW5lYXJHYXVnZUNvbXBvbmVudC5wcm90b3R5cGUsIFwibWluXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBOdW1iZXIpXG4gICAgXSwgTGluZWFyR2F1Z2VDb21wb25lbnQucHJvdG90eXBlLCBcIm1heFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgTnVtYmVyKVxuICAgIF0sIExpbmVhckdhdWdlQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ2YWx1ZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgU3RyaW5nKVxuICAgIF0sIExpbmVhckdhdWdlQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ1bml0c1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIExpbmVhckdhdWdlQ29tcG9uZW50LnByb3RvdHlwZSwgXCJwcmV2aW91c1ZhbHVlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgTGluZWFyR2F1Z2VDb21wb25lbnQucHJvdG90eXBlLCBcInZhbHVlRm9ybWF0dGluZ1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBWaWV3Q2hpbGQoJ3ZhbHVlVGV4dEVsJywgeyBzdGF0aWM6IGZhbHNlIH0pLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgdHlwZW9mIChfYSA9IHR5cGVvZiBFbGVtZW50UmVmICE9PSBcInVuZGVmaW5lZFwiICYmIEVsZW1lbnRSZWYpID09PSBcImZ1bmN0aW9uXCIgPyBfYSA6IE9iamVjdClcbiAgICBdLCBMaW5lYXJHYXVnZUNvbXBvbmVudC5wcm90b3R5cGUsIFwidmFsdWVUZXh0RWxcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgVmlld0NoaWxkKCd1bml0c1RleHRFbCcsIHsgc3RhdGljOiBmYWxzZSB9KSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIHR5cGVvZiAoX2IgPSB0eXBlb2YgRWxlbWVudFJlZiAhPT0gXCJ1bmRlZmluZWRcIiAmJiBFbGVtZW50UmVmKSA9PT0gXCJmdW5jdGlvblwiID8gX2IgOiBPYmplY3QpXG4gICAgXSwgTGluZWFyR2F1Z2VDb21wb25lbnQucHJvdG90eXBlLCBcInVuaXRzVGV4dEVsXCIsIHZvaWQgMCk7XG4gICAgTGluZWFyR2F1Z2VDb21wb25lbnQgPSBfX2RlY29yYXRlKFtcbiAgICAgICAgQ29tcG9uZW50KHtcbiAgICAgICAgICAgIHNlbGVjdG9yOiAnbmd4LWNoYXJ0cy1saW5lYXItZ2F1Z2UnLFxuICAgICAgICAgICAgdGVtcGxhdGU6IFwiXFxuICAgIDxuZ3gtY2hhcnRzLWNoYXJ0IFt2aWV3XT1cXFwiW3dpZHRoLCBoZWlnaHRdXFxcIiBbc2hvd0xlZ2VuZF09XFxcImZhbHNlXFxcIiBbYW5pbWF0aW9uc109XFxcImFuaW1hdGlvbnNcXFwiIChjbGljayk9XFxcIm9uQ2xpY2soKVxcXCI+XFxuICAgICAgPHN2ZzpnIGNsYXNzPVxcXCJsaW5lYXItZ2F1Z2UgY2hhcnRcXFwiPlxcbiAgICAgICAgPHN2ZzpnXFxuICAgICAgICAgIG5neC1jaGFydHMtYmFyXFxuICAgICAgICAgIGNsYXNzPVxcXCJiYWNrZ3JvdW5kLWJhclxcXCJcXG4gICAgICAgICAgW3dpZHRoXT1cXFwiZGltcy53aWR0aFxcXCJcXG4gICAgICAgICAgW2hlaWdodF09XFxcIjNcXFwiXFxuICAgICAgICAgIFt4XT1cXFwibWFyZ2luWzNdXFxcIlxcbiAgICAgICAgICBbeV09XFxcImRpbXMuaGVpZ2h0IC8gMiArIG1hcmdpblswXSAtIDJcXFwiXFxuICAgICAgICAgIFtkYXRhXT1cXFwie31cXFwiXFxuICAgICAgICAgIFtvcmllbnRhdGlvbl09XFxcIidob3Jpem9udGFsJ1xcXCJcXG4gICAgICAgICAgW3JvdW5kRWRnZXNdPVxcXCJ0cnVlXFxcIlxcbiAgICAgICAgICBbYW5pbWF0aW9uc109XFxcImFuaW1hdGlvbnNcXFwiXFxuICAgICAgICA+PC9zdmc6Zz5cXG4gICAgICAgIDxzdmc6Z1xcbiAgICAgICAgICBuZ3gtY2hhcnRzLWJhclxcbiAgICAgICAgICBbd2lkdGhdPVxcXCJ2YWx1ZVNjYWxlKHZhbHVlKVxcXCJcXG4gICAgICAgICAgW2hlaWdodF09XFxcIjNcXFwiXFxuICAgICAgICAgIFt4XT1cXFwibWFyZ2luWzNdXFxcIlxcbiAgICAgICAgICBbeV09XFxcImRpbXMuaGVpZ2h0IC8gMiArIG1hcmdpblswXSAtIDJcXFwiXFxuICAgICAgICAgIFtmaWxsXT1cXFwiY29sb3JzLmdldENvbG9yKHVuaXRzKVxcXCJcXG4gICAgICAgICAgW2RhdGFdPVxcXCJ7fVxcXCJcXG4gICAgICAgICAgW29yaWVudGF0aW9uXT1cXFwiJ2hvcml6b250YWwnXFxcIlxcbiAgICAgICAgICBbcm91bmRFZGdlc109XFxcInRydWVcXFwiXFxuICAgICAgICAgIFthbmltYXRpb25zXT1cXFwiYW5pbWF0aW9uc1xcXCJcXG4gICAgICAgID48L3N2ZzpnPlxcblxcbiAgICAgICAgPHN2ZzpsaW5lXFxuICAgICAgICAgICpuZ0lmPVxcXCJoYXNQcmV2aW91c1ZhbHVlXFxcIlxcbiAgICAgICAgICBbYXR0ci50cmFuc2Zvcm1dPVxcXCJ0cmFuc2Zvcm1MaW5lXFxcIlxcbiAgICAgICAgICB4MT1cXFwiMFxcXCJcXG4gICAgICAgICAgeTE9XFxcIjVcXFwiXFxuICAgICAgICAgIHgyPVxcXCIwXFxcIlxcbiAgICAgICAgICB5Mj1cXFwiMTVcXFwiXFxuICAgICAgICAgIFthdHRyLnN0cm9rZV09XFxcImNvbG9ycy5nZXRDb2xvcih1bml0cylcXFwiXFxuICAgICAgICAvPlxcblxcbiAgICAgICAgPHN2ZzpsaW5lXFxuICAgICAgICAgICpuZ0lmPVxcXCJoYXNQcmV2aW91c1ZhbHVlXFxcIlxcbiAgICAgICAgICBbYXR0ci50cmFuc2Zvcm1dPVxcXCJ0cmFuc2Zvcm1MaW5lXFxcIlxcbiAgICAgICAgICB4MT1cXFwiMFxcXCJcXG4gICAgICAgICAgeTE9XFxcIi01XFxcIlxcbiAgICAgICAgICB4Mj1cXFwiMFxcXCJcXG4gICAgICAgICAgeTI9XFxcIi0xNVxcXCJcXG4gICAgICAgICAgW2F0dHIuc3Ryb2tlXT1cXFwiY29sb3JzLmdldENvbG9yKHVuaXRzKVxcXCJcXG4gICAgICAgIC8+XFxuXFxuICAgICAgICA8c3ZnOmcgW2F0dHIudHJhbnNmb3JtXT1cXFwidHJhbnNmb3JtXFxcIj5cXG4gICAgICAgICAgPHN2ZzpnIFthdHRyLnRyYW5zZm9ybV09XFxcInZhbHVlVHJhbnNsYXRlXFxcIj5cXG4gICAgICAgICAgICA8c3ZnOnRleHRcXG4gICAgICAgICAgICAgICN2YWx1ZVRleHRFbFxcbiAgICAgICAgICAgICAgY2xhc3M9XFxcInZhbHVlXFxcIlxcbiAgICAgICAgICAgICAgW3N0eWxlLnRleHRBbmNob3JdPVxcXCInbWlkZGxlJ1xcXCJcXG4gICAgICAgICAgICAgIFthdHRyLnRyYW5zZm9ybV09XFxcInZhbHVlVGV4dFRyYW5zZm9ybVxcXCJcXG4gICAgICAgICAgICAgIGFsaWdubWVudC1iYXNlbGluZT1cXFwiYWZ0ZXItZWRnZVxcXCJcXG4gICAgICAgICAgICA+XFxuICAgICAgICAgICAgICB7eyBkaXNwbGF5VmFsdWUgfX1cXG4gICAgICAgICAgICA8L3N2Zzp0ZXh0PlxcbiAgICAgICAgICA8L3N2ZzpnPlxcblxcbiAgICAgICAgICA8c3ZnOmcgW2F0dHIudHJhbnNmb3JtXT1cXFwidW5pdHNUcmFuc2xhdGVcXFwiPlxcbiAgICAgICAgICAgIDxzdmc6dGV4dFxcbiAgICAgICAgICAgICAgI3VuaXRzVGV4dEVsXFxuICAgICAgICAgICAgICBjbGFzcz1cXFwidW5pdHNcXFwiXFxuICAgICAgICAgICAgICBbc3R5bGUudGV4dEFuY2hvcl09XFxcIidtaWRkbGUnXFxcIlxcbiAgICAgICAgICAgICAgW2F0dHIudHJhbnNmb3JtXT1cXFwidW5pdHNUZXh0VHJhbnNmb3JtXFxcIlxcbiAgICAgICAgICAgICAgYWxpZ25tZW50LWJhc2VsaW5lPVxcXCJiZWZvcmUtZWRnZVxcXCJcXG4gICAgICAgICAgICA+XFxuICAgICAgICAgICAgICB7eyB1bml0cyB9fVxcbiAgICAgICAgICAgIDwvc3ZnOnRleHQ+XFxuICAgICAgICAgIDwvc3ZnOmc+XFxuICAgICAgICA8L3N2ZzpnPlxcbiAgICAgIDwvc3ZnOmc+XFxuICAgIDwvbmd4LWNoYXJ0cy1jaGFydD5cXG4gIFwiLFxuICAgICAgICAgICAgc3R5bGVzOiBbXCIubmd4LWNoYXJ0c3tmbG9hdDpsZWZ0O292ZXJmbG93OnZpc2libGV9Lm5neC1jaGFydHMgLmFyYywubmd4LWNoYXJ0cyAuYmFyLC5uZ3gtY2hhcnRzIC5jaXJjbGV7Y3Vyc29yOnBvaW50ZXJ9Lm5neC1jaGFydHMgLmFyYy5hY3RpdmUsLm5neC1jaGFydHMgLmFyYzpob3Zlciwubmd4LWNoYXJ0cyAuYmFyLmFjdGl2ZSwubmd4LWNoYXJ0cyAuYmFyOmhvdmVyLC5uZ3gtY2hhcnRzIC5jYXJkLmFjdGl2ZSwubmd4LWNoYXJ0cyAuY2FyZDpob3Zlciwubmd4LWNoYXJ0cyAuY2VsbC5hY3RpdmUsLm5neC1jaGFydHMgLmNlbGw6aG92ZXJ7b3BhY2l0eTouODt0cmFuc2l0aW9uOm9wYWNpdHkgLjFzIGVhc2UtaW4tb3V0fS5uZ3gtY2hhcnRzIC5hcmM6Zm9jdXMsLm5neC1jaGFydHMgLmJhcjpmb2N1cywubmd4LWNoYXJ0cyAuY2FyZDpmb2N1cywubmd4LWNoYXJ0cyAuY2VsbDpmb2N1c3tvdXRsaW5lOjB9Lm5neC1jaGFydHMgLmFyYy5oaWRkZW4sLm5neC1jaGFydHMgLmJhci5oaWRkZW4sLm5neC1jaGFydHMgLmNhcmQuaGlkZGVuLC5uZ3gtY2hhcnRzIC5jZWxsLmhpZGRlbntkaXNwbGF5Om5vbmV9Lm5neC1jaGFydHMgZzpmb2N1c3tvdXRsaW5lOjB9Lm5neC1jaGFydHMgLmFyZWEtc2VyaWVzLmluYWN0aXZlLC5uZ3gtY2hhcnRzIC5saW5lLXNlcmllcy1yYW5nZS5pbmFjdGl2ZSwubmd4LWNoYXJ0cyAubGluZS1zZXJpZXMuaW5hY3RpdmUsLm5neC1jaGFydHMgLnBvbGFyLXNlcmllcy1hcmVhLmluYWN0aXZlLC5uZ3gtY2hhcnRzIC5wb2xhci1zZXJpZXMtcGF0aC5pbmFjdGl2ZXt0cmFuc2l0aW9uOm9wYWNpdHkgLjFzIGVhc2UtaW4tb3V0O29wYWNpdHk6LjJ9Lm5neC1jaGFydHMgLmxpbmUtaGlnaGxpZ2h0e2Rpc3BsYXk6bm9uZX0ubmd4LWNoYXJ0cyAubGluZS1oaWdobGlnaHQuYWN0aXZle2Rpc3BsYXk6YmxvY2t9Lm5neC1jaGFydHMgLmFyZWF7b3BhY2l0eTouNn0ubmd4LWNoYXJ0cyAuY2lyY2xlOmhvdmVye2N1cnNvcjpwb2ludGVyfS5uZ3gtY2hhcnRzIC5sYWJlbHtmb250LXNpemU6MTJweDtmb250LXdlaWdodDo0MDB9Lm5neC1jaGFydHMgLnRvb2x0aXAtYW5jaG9ye2ZpbGw6IzAwMH0ubmd4LWNoYXJ0cyAuZ3JpZGxpbmUtcGF0aHtzdHJva2U6I2RkZDtzdHJva2Utd2lkdGg6MTtmaWxsOm5vbmV9Lm5neC1jaGFydHMgLnJlZmxpbmUtcGF0aHtzdHJva2U6I2E4YjJjNztzdHJva2Utd2lkdGg6MTtzdHJva2UtZGFzaGFycmF5OjU7c3Ryb2tlLWRhc2hvZmZzZXQ6NX0ubmd4LWNoYXJ0cyAucmVmbGluZS1sYWJlbHtmb250LXNpemU6OXB4fS5uZ3gtY2hhcnRzIC5yZWZlcmVuY2UtYXJlYXtmaWxsLW9wYWNpdHk6LjA1O2ZpbGw6IzAwMH0ubmd4LWNoYXJ0cyAuZ3JpZGxpbmUtcGF0aC1kb3R0ZWR7c3Ryb2tlOiNkZGQ7c3Ryb2tlLXdpZHRoOjE7ZmlsbDpub25lO3N0cm9rZS1kYXNoYXJyYXk6MSwyMDtzdHJva2UtZGFzaG9mZnNldDozfS5uZ3gtY2hhcnRzIC5ncmlkLXBhbmVsIHJlY3R7ZmlsbDpub25lfS5uZ3gtY2hhcnRzIC5ncmlkLXBhbmVsLm9kZCByZWN0e2ZpbGw6cmdiYSgwLDAsMCwuMDUpfVwiLCBcIi5saW5lYXItZ2F1Z2V7Y3Vyc29yOnBvaW50ZXJ9LmxpbmVhci1nYXVnZSAuYmFja2dyb3VuZC1iYXIgcGF0aHtmaWxsOnJnYmEoMCwwLDAsLjA1KX0ubGluZWFyLWdhdWdlIC51bml0c3tmaWxsOiM2NjZ9XCJdLFxuICAgICAgICAgICAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZSxcbiAgICAgICAgICAgIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoXG4gICAgICAgIH0pXG4gICAgXSwgTGluZWFyR2F1Z2VDb21wb25lbnQpO1xuICAgIHJldHVybiBMaW5lYXJHYXVnZUNvbXBvbmVudDtcbn0oQmFzZUNoYXJ0Q29tcG9uZW50KSk7XG5cbnZhciBHYXVnZUNvbXBvbmVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoR2F1Z2VDb21wb25lbnQsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gR2F1Z2VDb21wb25lbnQoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5sZWdlbmQgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMubGVnZW5kVGl0bGUgPSAnTGVnZW5kJztcbiAgICAgICAgX3RoaXMubGVnZW5kUG9zaXRpb24gPSAncmlnaHQnO1xuICAgICAgICBfdGhpcy5taW4gPSAwO1xuICAgICAgICBfdGhpcy5tYXggPSAxMDA7XG4gICAgICAgIF90aGlzLmJpZ1NlZ21lbnRzID0gMTA7XG4gICAgICAgIF90aGlzLnNtYWxsU2VnbWVudHMgPSA1O1xuICAgICAgICBfdGhpcy5zaG93QXhpcyA9IHRydWU7XG4gICAgICAgIF90aGlzLnN0YXJ0QW5nbGUgPSAtMTIwO1xuICAgICAgICBfdGhpcy5hbmdsZVNwYW4gPSAyNDA7XG4gICAgICAgIF90aGlzLmFjdGl2ZUVudHJpZXMgPSBbXTtcbiAgICAgICAgX3RoaXMudG9vbHRpcERpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIF90aGlzLnNob3dUZXh0ID0gdHJ1ZTtcbiAgICAgICAgX3RoaXMuYWN0aXZhdGUgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgICAgIF90aGlzLmRlYWN0aXZhdGUgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgICAgIF90aGlzLnJlc2l6ZVNjYWxlID0gMTtcbiAgICAgICAgX3RoaXMucm90YXRpb24gPSAnJztcbiAgICAgICAgX3RoaXMudGV4dFRyYW5zZm9ybSA9ICdzY2FsZSgxLCAxKSc7XG4gICAgICAgIF90aGlzLmNvcm5lclJhZGl1cyA9IDEwO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEdhdWdlQ29tcG9uZW50LnByb3RvdHlwZS5uZ0FmdGVyVmlld0luaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUubmdBZnRlclZpZXdJbml0LmNhbGwodGhpcyk7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuc2NhbGVUZXh0KCk7IH0pO1xuICAgIH07XG4gICAgR2F1Z2VDb21wb25lbnQucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS51cGRhdGUuY2FsbCh0aGlzKTtcbiAgICAgICAgaWYgKCF0aGlzLnNob3dBeGlzKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMubWFyZ2luKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXJnaW4gPSBbMTAsIDIwLCAxMCwgMjBdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKCF0aGlzLm1hcmdpbikge1xuICAgICAgICAgICAgICAgIHRoaXMubWFyZ2luID0gWzYwLCAxMDAsIDYwLCAxMDBdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnN0YXJ0QW5nbGUgPCAwKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0QW5nbGUgPSAodGhpcy5zdGFydEFuZ2xlICUgMzYwKSArIDM2MDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFuZ2xlU3BhbiA9IE1hdGgubWluKHRoaXMuYW5nbGVTcGFuLCAzNjApO1xuICAgICAgICB0aGlzLmRpbXMgPSBjYWxjdWxhdGVWaWV3RGltZW5zaW9ucyh7XG4gICAgICAgICAgICB3aWR0aDogdGhpcy53aWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogdGhpcy5oZWlnaHQsXG4gICAgICAgICAgICBtYXJnaW5zOiB0aGlzLm1hcmdpbixcbiAgICAgICAgICAgIHNob3dMZWdlbmQ6IHRoaXMubGVnZW5kLFxuICAgICAgICAgICAgbGVnZW5kUG9zaXRpb246IHRoaXMubGVnZW5kUG9zaXRpb25cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZG9tYWluID0gdGhpcy5nZXREb21haW4oKTtcbiAgICAgICAgdGhpcy52YWx1ZURvbWFpbiA9IHRoaXMuZ2V0VmFsdWVEb21haW4oKTtcbiAgICAgICAgdGhpcy52YWx1ZVNjYWxlID0gdGhpcy5nZXRWYWx1ZVNjYWxlKCk7XG4gICAgICAgIHRoaXMuZGlzcGxheVZhbHVlID0gdGhpcy5nZXREaXNwbGF5VmFsdWUoKTtcbiAgICAgICAgdGhpcy5vdXRlclJhZGl1cyA9IE1hdGgubWluKHRoaXMuZGltcy53aWR0aCwgdGhpcy5kaW1zLmhlaWdodCkgLyAyO1xuICAgICAgICB0aGlzLmFyY3MgPSB0aGlzLmdldEFyY3MoKTtcbiAgICAgICAgdGhpcy5zZXRDb2xvcnMoKTtcbiAgICAgICAgdGhpcy5sZWdlbmRPcHRpb25zID0gdGhpcy5nZXRMZWdlbmRPcHRpb25zKCk7XG4gICAgICAgIHZhciB4T2Zmc2V0ID0gdGhpcy5tYXJnaW5bM10gKyB0aGlzLmRpbXMud2lkdGggLyAyO1xuICAgICAgICB2YXIgeU9mZnNldCA9IHRoaXMubWFyZ2luWzBdICsgdGhpcy5kaW1zLmhlaWdodCAvIDI7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtID0gXCJ0cmFuc2xhdGUoXCIgKyB4T2Zmc2V0ICsgXCIsIFwiICsgeU9mZnNldCArIFwiKVwiO1xuICAgICAgICB0aGlzLnJvdGF0aW9uID0gXCJyb3RhdGUoXCIgKyB0aGlzLnN0YXJ0QW5nbGUgKyBcIilcIjtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5zY2FsZVRleHQoKTsgfSwgNTApO1xuICAgIH07XG4gICAgR2F1Z2VDb21wb25lbnQucHJvdG90eXBlLmdldEFyY3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmNzID0gW107XG4gICAgICAgIHZhciBhdmFpbGFibGVSYWRpdXMgPSB0aGlzLm91dGVyUmFkaXVzICogMC43O1xuICAgICAgICB2YXIgcmFkaXVzUGVyQXJjID0gTWF0aC5taW4oYXZhaWxhYmxlUmFkaXVzIC8gdGhpcy5yZXN1bHRzLmxlbmd0aCwgMTApO1xuICAgICAgICB2YXIgYXJjV2lkdGggPSByYWRpdXNQZXJBcmMgKiAwLjc7XG4gICAgICAgIHRoaXMudGV4dFJhZGl1cyA9IHRoaXMub3V0ZXJSYWRpdXMgLSB0aGlzLnJlc3VsdHMubGVuZ3RoICogcmFkaXVzUGVyQXJjO1xuICAgICAgICB0aGlzLmNvcm5lclJhZGl1cyA9IE1hdGguZmxvb3IoYXJjV2lkdGggLyAyKTtcbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gdGhpcy5yZXN1bHRzOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIGQgPSBfYVtfaV07XG4gICAgICAgICAgICB2YXIgb3V0ZXJSYWRpdXMgPSB0aGlzLm91dGVyUmFkaXVzIC0gaSAqIHJhZGl1c1BlckFyYztcbiAgICAgICAgICAgIHZhciBpbm5lclJhZGl1cyA9IG91dGVyUmFkaXVzIC0gYXJjV2lkdGg7XG4gICAgICAgICAgICB2YXIgYmFja2dyb3VuZEFyYyA9IHtcbiAgICAgICAgICAgICAgICBlbmRBbmdsZTogKHRoaXMuYW5nbGVTcGFuICogTWF0aC5QSSkgLyAxODAsXG4gICAgICAgICAgICAgICAgaW5uZXJSYWRpdXM6IGlubmVyUmFkaXVzLFxuICAgICAgICAgICAgICAgIG91dGVyUmFkaXVzOiBvdXRlclJhZGl1cyxcbiAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLm1heCxcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogZC5uYW1lXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciB2YWx1ZUFyYyA9IHtcbiAgICAgICAgICAgICAgICBlbmRBbmdsZTogKE1hdGgubWluKHRoaXMudmFsdWVTY2FsZShkLnZhbHVlKSwgdGhpcy5hbmdsZVNwYW4pICogTWF0aC5QSSkgLyAxODAsXG4gICAgICAgICAgICAgICAgaW5uZXJSYWRpdXM6IGlubmVyUmFkaXVzLFxuICAgICAgICAgICAgICAgIG91dGVyUmFkaXVzOiBvdXRlclJhZGl1cyxcbiAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBkLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBkLm5hbWVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIGFyYyQkMSA9IHtcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQXJjOiBiYWNrZ3JvdW5kQXJjLFxuICAgICAgICAgICAgICAgIHZhbHVlQXJjOiB2YWx1ZUFyY1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGFyY3MucHVzaChhcmMkJDEpO1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcmNzO1xuICAgIH07XG4gICAgR2F1Z2VDb21wb25lbnQucHJvdG90eXBlLmdldERvbWFpbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVzdWx0cy5tYXAoZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQubmFtZTsgfSk7XG4gICAgfTtcbiAgICBHYXVnZUNvbXBvbmVudC5wcm90b3R5cGUuZ2V0VmFsdWVEb21haW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB2YWx1ZXMgPSB0aGlzLnJlc3VsdHMubWFwKGZ1bmN0aW9uIChkKSB7IHJldHVybiBkLnZhbHVlOyB9KTtcbiAgICAgICAgdmFyIGRhdGFNaW4gPSBNYXRoLm1pbi5hcHBseShNYXRoLCB2YWx1ZXMpO1xuICAgICAgICB2YXIgZGF0YU1heCA9IE1hdGgubWF4LmFwcGx5KE1hdGgsIHZhbHVlcyk7XG4gICAgICAgIGlmICh0aGlzLm1pbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLm1pbiA9IE1hdGgubWluKHRoaXMubWluLCBkYXRhTWluKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubWluID0gZGF0YU1pbjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5tYXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5tYXggPSBNYXRoLm1heCh0aGlzLm1heCwgZGF0YU1heCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm1heCA9IGRhdGFNYXg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFt0aGlzLm1pbiwgdGhpcy5tYXhdO1xuICAgIH07XG4gICAgR2F1Z2VDb21wb25lbnQucHJvdG90eXBlLmdldFZhbHVlU2NhbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBzY2FsZUxpbmVhcigpXG4gICAgICAgICAgICAucmFuZ2UoWzAsIHRoaXMuYW5nbGVTcGFuXSlcbiAgICAgICAgICAgIC5uaWNlKClcbiAgICAgICAgICAgIC5kb21haW4odGhpcy52YWx1ZURvbWFpbik7XG4gICAgfTtcbiAgICBHYXVnZUNvbXBvbmVudC5wcm90b3R5cGUuZ2V0RGlzcGxheVZhbHVlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLnJlc3VsdHMubWFwKGZ1bmN0aW9uIChkKSB7IHJldHVybiBkLnZhbHVlOyB9KS5yZWR1Y2UoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGEgKyBiOyB9LCAwKTtcbiAgICAgICAgaWYgKHRoaXMudGV4dFZhbHVlICYmIDAgIT09IHRoaXMudGV4dFZhbHVlLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGV4dFZhbHVlLnRvTG9jYWxlU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMudmFsdWVGb3JtYXR0aW5nKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52YWx1ZUZvcm1hdHRpbmcodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZS50b0xvY2FsZVN0cmluZygpO1xuICAgIH07XG4gICAgR2F1Z2VDb21wb25lbnQucHJvdG90eXBlLnNjYWxlVGV4dCA9IGZ1bmN0aW9uIChyZXBlYXQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHJlcGVhdCA9PT0gdm9pZCAwKSB7IHJlcGVhdCA9IHRydWU7IH1cbiAgICAgICAgaWYgKCF0aGlzLnNob3dUZXh0KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHdpZHRoID0gdGhpcy50ZXh0RWwubmF0aXZlRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcbiAgICAgICAgdmFyIG9sZFNjYWxlID0gdGhpcy5yZXNpemVTY2FsZTtcbiAgICAgICAgaWYgKHdpZHRoID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnJlc2l6ZVNjYWxlID0gMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBhdmFpbGFibGVTcGFjZSA9IHRoaXMudGV4dFJhZGl1cztcbiAgICAgICAgICAgIHRoaXMucmVzaXplU2NhbGUgPSBNYXRoLmZsb29yKChhdmFpbGFibGVTcGFjZSAvICh3aWR0aCAvIHRoaXMucmVzaXplU2NhbGUpKSAqIDEwMCkgLyAxMDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucmVzaXplU2NhbGUgIT09IG9sZFNjYWxlKSB7XG4gICAgICAgICAgICB0aGlzLnRleHRUcmFuc2Zvcm0gPSBcInNjYWxlKFwiICsgdGhpcy5yZXNpemVTY2FsZSArIFwiLCBcIiArIHRoaXMucmVzaXplU2NhbGUgKyBcIilcIjtcbiAgICAgICAgICAgIHRoaXMuY2QubWFya0ZvckNoZWNrKCk7XG4gICAgICAgICAgICBpZiAocmVwZWF0KSB7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5zY2FsZVRleHQoZmFsc2UpOyB9LCA1MCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEdhdWdlQ29tcG9uZW50LnByb3RvdHlwZS5vbkNsaWNrID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdGhpcy5zZWxlY3QuZW1pdChkYXRhKTtcbiAgICB9O1xuICAgIEdhdWdlQ29tcG9uZW50LnByb3RvdHlwZS5nZXRMZWdlbmRPcHRpb25zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc2NhbGVUeXBlOiAnb3JkaW5hbCcsXG4gICAgICAgICAgICBjb2xvcnM6IHRoaXMuY29sb3JzLFxuICAgICAgICAgICAgZG9tYWluOiB0aGlzLmRvbWFpbixcbiAgICAgICAgICAgIHRpdGxlOiB0aGlzLmxlZ2VuZFRpdGxlLFxuICAgICAgICAgICAgcG9zaXRpb246IHRoaXMubGVnZW5kUG9zaXRpb25cbiAgICAgICAgfTtcbiAgICB9O1xuICAgIEdhdWdlQ29tcG9uZW50LnByb3RvdHlwZS5zZXRDb2xvcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY29sb3JzID0gbmV3IENvbG9ySGVscGVyKHRoaXMuc2NoZW1lLCAnb3JkaW5hbCcsIHRoaXMuZG9tYWluLCB0aGlzLmN1c3RvbUNvbG9ycyk7XG4gICAgfTtcbiAgICBHYXVnZUNvbXBvbmVudC5wcm90b3R5cGUub25BY3RpdmF0ZSA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHZhciBpZHggPSB0aGlzLmFjdGl2ZUVudHJpZXMuZmluZEluZGV4KGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICByZXR1cm4gZC5uYW1lID09PSBpdGVtLm5hbWUgJiYgZC52YWx1ZSA9PT0gaXRlbS52YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChpZHggPiAtMSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWN0aXZlRW50cmllcyA9IFtpdGVtXS5jb25jYXQodGhpcy5hY3RpdmVFbnRyaWVzKTtcbiAgICAgICAgdGhpcy5hY3RpdmF0ZS5lbWl0KHsgdmFsdWU6IGl0ZW0sIGVudHJpZXM6IHRoaXMuYWN0aXZlRW50cmllcyB9KTtcbiAgICB9O1xuICAgIEdhdWdlQ29tcG9uZW50LnByb3RvdHlwZS5vbkRlYWN0aXZhdGUgPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICB2YXIgaWR4ID0gdGhpcy5hY3RpdmVFbnRyaWVzLmZpbmRJbmRleChmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgcmV0dXJuIGQubmFtZSA9PT0gaXRlbS5uYW1lICYmIGQudmFsdWUgPT09IGl0ZW0udmFsdWU7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmFjdGl2ZUVudHJpZXMuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgIHRoaXMuYWN0aXZlRW50cmllcyA9IHRoaXMuYWN0aXZlRW50cmllcy5zbGljZSgpO1xuICAgICAgICB0aGlzLmRlYWN0aXZhdGUuZW1pdCh7IHZhbHVlOiBpdGVtLCBlbnRyaWVzOiB0aGlzLmFjdGl2ZUVudHJpZXMgfSk7XG4gICAgfTtcbiAgICBHYXVnZUNvbXBvbmVudC5wcm90b3R5cGUuaXNBY3RpdmUgPSBmdW5jdGlvbiAoZW50cnkpIHtcbiAgICAgICAgaWYgKCF0aGlzLmFjdGl2ZUVudHJpZXMpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIHZhciBpdGVtID0gdGhpcy5hY3RpdmVFbnRyaWVzLmZpbmQoZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgIHJldHVybiBlbnRyeS5uYW1lID09PSBkLm5hbWUgJiYgZW50cnkuc2VyaWVzID09PSBkLnNlcmllcztcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBpdGVtICE9PSB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICBHYXVnZUNvbXBvbmVudC5wcm90b3R5cGUudHJhY2tCeSA9IGZ1bmN0aW9uIChpbmRleCwgaXRlbSkge1xuICAgICAgICByZXR1cm4gaXRlbS52YWx1ZUFyYy5kYXRhLm5hbWU7XG4gICAgfTtcbiAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgR2F1Z2VDb21wb25lbnQucHJvdG90eXBlLCBcImxlZ2VuZFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgU3RyaW5nKVxuICAgIF0sIEdhdWdlQ29tcG9uZW50LnByb3RvdHlwZSwgXCJsZWdlbmRUaXRsZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgU3RyaW5nKVxuICAgIF0sIEdhdWdlQ29tcG9uZW50LnByb3RvdHlwZSwgXCJsZWdlbmRQb3NpdGlvblwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgTnVtYmVyKVxuICAgIF0sIEdhdWdlQ29tcG9uZW50LnByb3RvdHlwZSwgXCJtaW5cIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE51bWJlcilcbiAgICBdLCBHYXVnZUNvbXBvbmVudC5wcm90b3R5cGUsIFwibWF4XCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBTdHJpbmcpXG4gICAgXSwgR2F1Z2VDb21wb25lbnQucHJvdG90eXBlLCBcInRleHRWYWx1ZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgU3RyaW5nKVxuICAgIF0sIEdhdWdlQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ1bml0c1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgTnVtYmVyKVxuICAgIF0sIEdhdWdlQ29tcG9uZW50LnByb3RvdHlwZSwgXCJiaWdTZWdtZW50c1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgTnVtYmVyKVxuICAgIF0sIEdhdWdlQ29tcG9uZW50LnByb3RvdHlwZSwgXCJzbWFsbFNlZ21lbnRzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBBcnJheSlcbiAgICBdLCBHYXVnZUNvbXBvbmVudC5wcm90b3R5cGUsIFwicmVzdWx0c1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbiAgICBdLCBHYXVnZUNvbXBvbmVudC5wcm90b3R5cGUsIFwic2hvd0F4aXNcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE51bWJlcilcbiAgICBdLCBHYXVnZUNvbXBvbmVudC5wcm90b3R5cGUsIFwic3RhcnRBbmdsZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgTnVtYmVyKVxuICAgIF0sIEdhdWdlQ29tcG9uZW50LnByb3RvdHlwZSwgXCJhbmdsZVNwYW5cIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEFycmF5KVxuICAgIF0sIEdhdWdlQ29tcG9uZW50LnByb3RvdHlwZSwgXCJhY3RpdmVFbnRyaWVzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgR2F1Z2VDb21wb25lbnQucHJvdG90eXBlLCBcImF4aXNUaWNrRm9ybWF0dGluZ1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbiAgICBdLCBHYXVnZUNvbXBvbmVudC5wcm90b3R5cGUsIFwidG9vbHRpcERpc2FibGVkXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBGdW5jdGlvbilcbiAgICBdLCBHYXVnZUNvbXBvbmVudC5wcm90b3R5cGUsIFwidmFsdWVGb3JtYXR0aW5nXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIEdhdWdlQ29tcG9uZW50LnByb3RvdHlwZSwgXCJzaG93VGV4dFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQXJyYXkpXG4gICAgXSwgR2F1Z2VDb21wb25lbnQucHJvdG90eXBlLCBcIm1hcmdpblwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBPdXRwdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIHR5cGVvZiAoX2EgPSB0eXBlb2YgRXZlbnRFbWl0dGVyICE9PSBcInVuZGVmaW5lZFwiICYmIEV2ZW50RW1pdHRlcikgPT09IFwiZnVuY3Rpb25cIiA/IF9hIDogT2JqZWN0KVxuICAgIF0sIEdhdWdlQ29tcG9uZW50LnByb3RvdHlwZSwgXCJhY3RpdmF0ZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBPdXRwdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIHR5cGVvZiAoX2IgPSB0eXBlb2YgRXZlbnRFbWl0dGVyICE9PSBcInVuZGVmaW5lZFwiICYmIEV2ZW50RW1pdHRlcikgPT09IFwiZnVuY3Rpb25cIiA/IF9iIDogT2JqZWN0KVxuICAgIF0sIEdhdWdlQ29tcG9uZW50LnByb3RvdHlwZSwgXCJkZWFjdGl2YXRlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIENvbnRlbnRDaGlsZCgndG9vbHRpcFRlbXBsYXRlJywgeyBzdGF0aWM6IGZhbHNlIH0pLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgdHlwZW9mIChfYyA9IHR5cGVvZiBUZW1wbGF0ZVJlZiAhPT0gXCJ1bmRlZmluZWRcIiAmJiBUZW1wbGF0ZVJlZikgPT09IFwiZnVuY3Rpb25cIiA/IF9jIDogT2JqZWN0KVxuICAgIF0sIEdhdWdlQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ0b29sdGlwVGVtcGxhdGVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgVmlld0NoaWxkKCd0ZXh0RWwnLCB7IHN0YXRpYzogZmFsc2UgfSksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCB0eXBlb2YgKF9kID0gdHlwZW9mIEVsZW1lbnRSZWYgIT09IFwidW5kZWZpbmVkXCIgJiYgRWxlbWVudFJlZikgPT09IFwiZnVuY3Rpb25cIiA/IF9kIDogT2JqZWN0KVxuICAgIF0sIEdhdWdlQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ0ZXh0RWxcIiwgdm9pZCAwKTtcbiAgICBHYXVnZUNvbXBvbmVudCA9IF9fZGVjb3JhdGUoW1xuICAgICAgICBDb21wb25lbnQoe1xuICAgICAgICAgICAgc2VsZWN0b3I6ICduZ3gtY2hhcnRzLWdhdWdlJyxcbiAgICAgICAgICAgIHRlbXBsYXRlOiBcIlxcbiAgICA8bmd4LWNoYXJ0cy1jaGFydFxcbiAgICAgIFt2aWV3XT1cXFwiW3dpZHRoLCBoZWlnaHRdXFxcIlxcbiAgICAgIFtzaG93TGVnZW5kXT1cXFwibGVnZW5kXFxcIlxcbiAgICAgIFtsZWdlbmRPcHRpb25zXT1cXFwibGVnZW5kT3B0aW9uc1xcXCJcXG4gICAgICBbYWN0aXZlRW50cmllc109XFxcImFjdGl2ZUVudHJpZXNcXFwiXFxuICAgICAgW2FuaW1hdGlvbnNdPVxcXCJhbmltYXRpb25zXFxcIlxcbiAgICAgIChsZWdlbmRMYWJlbENsaWNrKT1cXFwib25DbGljaygkZXZlbnQpXFxcIlxcbiAgICAgIChsZWdlbmRMYWJlbEFjdGl2YXRlKT1cXFwib25BY3RpdmF0ZSgkZXZlbnQpXFxcIlxcbiAgICAgIChsZWdlbmRMYWJlbERlYWN0aXZhdGUpPVxcXCJvbkRlYWN0aXZhdGUoJGV2ZW50KVxcXCJcXG4gICAgPlxcbiAgICAgIDxzdmc6ZyBbYXR0ci50cmFuc2Zvcm1dPVxcXCJ0cmFuc2Zvcm1cXFwiIGNsYXNzPVxcXCJnYXVnZSBjaGFydFxcXCI+XFxuICAgICAgICA8c3ZnOmcgKm5nRm9yPVxcXCJsZXQgYXJjIG9mIGFyY3M7IHRyYWNrQnk6IHRyYWNrQnlcXFwiIFthdHRyLnRyYW5zZm9ybV09XFxcInJvdGF0aW9uXFxcIj5cXG4gICAgICAgICAgPHN2ZzpnXFxuICAgICAgICAgICAgbmd4LWNoYXJ0cy1nYXVnZS1hcmNcXG4gICAgICAgICAgICBbYmFja2dyb3VuZEFyY109XFxcImFyYy5iYWNrZ3JvdW5kQXJjXFxcIlxcbiAgICAgICAgICAgIFt2YWx1ZUFyY109XFxcImFyYy52YWx1ZUFyY1xcXCJcXG4gICAgICAgICAgICBbY29ybmVyUmFkaXVzXT1cXFwiY29ybmVyUmFkaXVzXFxcIlxcbiAgICAgICAgICAgIFtjb2xvcnNdPVxcXCJjb2xvcnNcXFwiXFxuICAgICAgICAgICAgW2lzQWN0aXZlXT1cXFwiaXNBY3RpdmUoYXJjLnZhbHVlQXJjLmRhdGEpXFxcIlxcbiAgICAgICAgICAgIFt0b29sdGlwRGlzYWJsZWRdPVxcXCJ0b29sdGlwRGlzYWJsZWRcXFwiXFxuICAgICAgICAgICAgW3Rvb2x0aXBUZW1wbGF0ZV09XFxcInRvb2x0aXBUZW1wbGF0ZVxcXCJcXG4gICAgICAgICAgICBbdmFsdWVGb3JtYXR0aW5nXT1cXFwidmFsdWVGb3JtYXR0aW5nXFxcIlxcbiAgICAgICAgICAgIFthbmltYXRpb25zXT1cXFwiYW5pbWF0aW9uc1xcXCJcXG4gICAgICAgICAgICAoc2VsZWN0KT1cXFwib25DbGljaygkZXZlbnQpXFxcIlxcbiAgICAgICAgICAgIChhY3RpdmF0ZSk9XFxcIm9uQWN0aXZhdGUoJGV2ZW50KVxcXCJcXG4gICAgICAgICAgICAoZGVhY3RpdmF0ZSk9XFxcIm9uRGVhY3RpdmF0ZSgkZXZlbnQpXFxcIlxcbiAgICAgICAgICA+PC9zdmc6Zz5cXG4gICAgICAgIDwvc3ZnOmc+XFxuXFxuICAgICAgICA8c3ZnOmdcXG4gICAgICAgICAgbmd4LWNoYXJ0cy1nYXVnZS1heGlzXFxuICAgICAgICAgICpuZ0lmPVxcXCJzaG93QXhpc1xcXCJcXG4gICAgICAgICAgW2JpZ1NlZ21lbnRzXT1cXFwiYmlnU2VnbWVudHNcXFwiXFxuICAgICAgICAgIFtzbWFsbFNlZ21lbnRzXT1cXFwic21hbGxTZWdtZW50c1xcXCJcXG4gICAgICAgICAgW21pbl09XFxcIm1pblxcXCJcXG4gICAgICAgICAgW21heF09XFxcIm1heFxcXCJcXG4gICAgICAgICAgW3JhZGl1c109XFxcIm91dGVyUmFkaXVzXFxcIlxcbiAgICAgICAgICBbYW5nbGVTcGFuXT1cXFwiYW5nbGVTcGFuXFxcIlxcbiAgICAgICAgICBbdmFsdWVTY2FsZV09XFxcInZhbHVlU2NhbGVcXFwiXFxuICAgICAgICAgIFtzdGFydEFuZ2xlXT1cXFwic3RhcnRBbmdsZVxcXCJcXG4gICAgICAgICAgW3RpY2tGb3JtYXR0aW5nXT1cXFwiYXhpc1RpY2tGb3JtYXR0aW5nXFxcIlxcbiAgICAgICAgPjwvc3ZnOmc+XFxuXFxuICAgICAgICA8c3ZnOnRleHRcXG4gICAgICAgICAgI3RleHRFbFxcbiAgICAgICAgICAqbmdJZj1cXFwic2hvd1RleHRcXFwiXFxuICAgICAgICAgIFtzdHlsZS50ZXh0QW5jaG9yXT1cXFwiJ21pZGRsZSdcXFwiXFxuICAgICAgICAgIFthdHRyLnRyYW5zZm9ybV09XFxcInRleHRUcmFuc2Zvcm1cXFwiXFxuICAgICAgICAgIGFsaWdubWVudC1iYXNlbGluZT1cXFwiY2VudHJhbFxcXCJcXG4gICAgICAgID5cXG4gICAgICAgICAgPHRzcGFuIHg9XFxcIjBcXFwiIGR5PVxcXCIwXFxcIj57eyBkaXNwbGF5VmFsdWUgfX08L3RzcGFuPlxcbiAgICAgICAgICA8dHNwYW4geD1cXFwiMFxcXCIgZHk9XFxcIjEuMmVtXFxcIj57eyB1bml0cyB9fTwvdHNwYW4+XFxuICAgICAgICA8L3N2Zzp0ZXh0PlxcbiAgICAgIDwvc3ZnOmc+XFxuICAgIDwvbmd4LWNoYXJ0cy1jaGFydD5cXG4gIFwiLFxuICAgICAgICAgICAgc3R5bGVzOiBbXCIubmd4LWNoYXJ0c3tmbG9hdDpsZWZ0O292ZXJmbG93OnZpc2libGV9Lm5neC1jaGFydHMgLmFyYywubmd4LWNoYXJ0cyAuYmFyLC5uZ3gtY2hhcnRzIC5jaXJjbGV7Y3Vyc29yOnBvaW50ZXJ9Lm5neC1jaGFydHMgLmFyYy5hY3RpdmUsLm5neC1jaGFydHMgLmFyYzpob3Zlciwubmd4LWNoYXJ0cyAuYmFyLmFjdGl2ZSwubmd4LWNoYXJ0cyAuYmFyOmhvdmVyLC5uZ3gtY2hhcnRzIC5jYXJkLmFjdGl2ZSwubmd4LWNoYXJ0cyAuY2FyZDpob3Zlciwubmd4LWNoYXJ0cyAuY2VsbC5hY3RpdmUsLm5neC1jaGFydHMgLmNlbGw6aG92ZXJ7b3BhY2l0eTouODt0cmFuc2l0aW9uOm9wYWNpdHkgLjFzIGVhc2UtaW4tb3V0fS5uZ3gtY2hhcnRzIC5hcmM6Zm9jdXMsLm5neC1jaGFydHMgLmJhcjpmb2N1cywubmd4LWNoYXJ0cyAuY2FyZDpmb2N1cywubmd4LWNoYXJ0cyAuY2VsbDpmb2N1c3tvdXRsaW5lOjB9Lm5neC1jaGFydHMgLmFyYy5oaWRkZW4sLm5neC1jaGFydHMgLmJhci5oaWRkZW4sLm5neC1jaGFydHMgLmNhcmQuaGlkZGVuLC5uZ3gtY2hhcnRzIC5jZWxsLmhpZGRlbntkaXNwbGF5Om5vbmV9Lm5neC1jaGFydHMgZzpmb2N1c3tvdXRsaW5lOjB9Lm5neC1jaGFydHMgLmFyZWEtc2VyaWVzLmluYWN0aXZlLC5uZ3gtY2hhcnRzIC5saW5lLXNlcmllcy1yYW5nZS5pbmFjdGl2ZSwubmd4LWNoYXJ0cyAubGluZS1zZXJpZXMuaW5hY3RpdmUsLm5neC1jaGFydHMgLnBvbGFyLXNlcmllcy1hcmVhLmluYWN0aXZlLC5uZ3gtY2hhcnRzIC5wb2xhci1zZXJpZXMtcGF0aC5pbmFjdGl2ZXt0cmFuc2l0aW9uOm9wYWNpdHkgLjFzIGVhc2UtaW4tb3V0O29wYWNpdHk6LjJ9Lm5neC1jaGFydHMgLmxpbmUtaGlnaGxpZ2h0e2Rpc3BsYXk6bm9uZX0ubmd4LWNoYXJ0cyAubGluZS1oaWdobGlnaHQuYWN0aXZle2Rpc3BsYXk6YmxvY2t9Lm5neC1jaGFydHMgLmFyZWF7b3BhY2l0eTouNn0ubmd4LWNoYXJ0cyAuY2lyY2xlOmhvdmVye2N1cnNvcjpwb2ludGVyfS5uZ3gtY2hhcnRzIC5sYWJlbHtmb250LXNpemU6MTJweDtmb250LXdlaWdodDo0MDB9Lm5neC1jaGFydHMgLnRvb2x0aXAtYW5jaG9ye2ZpbGw6IzAwMH0ubmd4LWNoYXJ0cyAuZ3JpZGxpbmUtcGF0aHtzdHJva2U6I2RkZDtzdHJva2Utd2lkdGg6MTtmaWxsOm5vbmV9Lm5neC1jaGFydHMgLnJlZmxpbmUtcGF0aHtzdHJva2U6I2E4YjJjNztzdHJva2Utd2lkdGg6MTtzdHJva2UtZGFzaGFycmF5OjU7c3Ryb2tlLWRhc2hvZmZzZXQ6NX0ubmd4LWNoYXJ0cyAucmVmbGluZS1sYWJlbHtmb250LXNpemU6OXB4fS5uZ3gtY2hhcnRzIC5yZWZlcmVuY2UtYXJlYXtmaWxsLW9wYWNpdHk6LjA1O2ZpbGw6IzAwMH0ubmd4LWNoYXJ0cyAuZ3JpZGxpbmUtcGF0aC1kb3R0ZWR7c3Ryb2tlOiNkZGQ7c3Ryb2tlLXdpZHRoOjE7ZmlsbDpub25lO3N0cm9rZS1kYXNoYXJyYXk6MSwyMDtzdHJva2UtZGFzaG9mZnNldDozfS5uZ3gtY2hhcnRzIC5ncmlkLXBhbmVsIHJlY3R7ZmlsbDpub25lfS5uZ3gtY2hhcnRzIC5ncmlkLXBhbmVsLm9kZCByZWN0e2ZpbGw6cmdiYSgwLDAsMCwuMDUpfVwiLCBcIi5nYXVnZSAuYmFja2dyb3VuZC1hcmMgcGF0aHtmaWxsOnJnYmEoMCwwLDAsLjA1KX0uZ2F1Z2UgLmdhdWdlLXRpY2sgcGF0aHtzdHJva2U6IzY2Nn0uZ2F1Z2UgLmdhdWdlLXRpY2sgdGV4dHtmb250LXNpemU6MTJweDtmaWxsOiM2NjY7Zm9udC13ZWlnaHQ6NzAwfS5nYXVnZSAuZ2F1Z2UtdGljay1sYXJnZSBwYXRoe3N0cm9rZS13aWR0aDoycHh9LmdhdWdlIC5nYXVnZS10aWNrLXNtYWxsIHBhdGh7c3Ryb2tlLXdpZHRoOjFweH1cIl0sXG4gICAgICAgICAgICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lLFxuICAgICAgICAgICAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2hcbiAgICAgICAgfSlcbiAgICBdLCBHYXVnZUNvbXBvbmVudCk7XG4gICAgcmV0dXJuIEdhdWdlQ29tcG9uZW50O1xufShCYXNlQ2hhcnRDb21wb25lbnQpKTtcblxudmFyIEdhdWdlQXJjQ29tcG9uZW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEdhdWdlQXJjQ29tcG9uZW50KCkge1xuICAgICAgICB0aGlzLmlzQWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHRoaXMudG9vbHRpcERpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucyA9IHRydWU7XG4gICAgICAgIHRoaXMuc2VsZWN0ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICB0aGlzLmFjdGl2YXRlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICB0aGlzLmRlYWN0aXZhdGUgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgfVxuICAgIEdhdWdlQXJjQ29tcG9uZW50LnByb3RvdHlwZS50b29sdGlwVGV4dCA9IGZ1bmN0aW9uIChhcmMkJDEpIHtcbiAgICAgICAgdmFyIGxhYmVsID0gZm9ybWF0TGFiZWwoYXJjJCQxLmRhdGEubmFtZSk7XG4gICAgICAgIHZhciB2YWw7XG4gICAgICAgIGlmICh0aGlzLnZhbHVlRm9ybWF0dGluZykge1xuICAgICAgICAgICAgdmFsID0gdGhpcy52YWx1ZUZvcm1hdHRpbmcoYXJjJCQxLmRhdGEudmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFsID0gZm9ybWF0TGFiZWwoYXJjJCQxLmRhdGEudmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBcIlxcbiAgICAgIDxzcGFuIGNsYXNzPVxcXCJ0b29sdGlwLWxhYmVsXFxcIj5cIiArIGVzY2FwZUxhYmVsKGxhYmVsKSArIFwiPC9zcGFuPlxcbiAgICAgIDxzcGFuIGNsYXNzPVxcXCJ0b29sdGlwLXZhbFxcXCI+XCIgKyB2YWwgKyBcIjwvc3Bhbj5cXG4gICAgXCI7XG4gICAgfTtcbiAgICB2YXIgX2EsIF9iO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEdhdWdlQXJjQ29tcG9uZW50LnByb3RvdHlwZSwgXCJiYWNrZ3JvdW5kQXJjXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgR2F1Z2VBcmNDb21wb25lbnQucHJvdG90eXBlLCBcInZhbHVlQXJjXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgR2F1Z2VBcmNDb21wb25lbnQucHJvdG90eXBlLCBcImNvcm5lclJhZGl1c1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgdHlwZW9mIChfYSA9IHR5cGVvZiBDb2xvckhlbHBlciAhPT0gXCJ1bmRlZmluZWRcIiAmJiBDb2xvckhlbHBlcikgPT09IFwiZnVuY3Rpb25cIiA/IF9hIDogT2JqZWN0KVxuICAgIF0sIEdhdWdlQXJjQ29tcG9uZW50LnByb3RvdHlwZSwgXCJjb2xvcnNcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEJvb2xlYW4pXG4gICAgXSwgR2F1Z2VBcmNDb21wb25lbnQucHJvdG90eXBlLCBcImlzQWN0aXZlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIEdhdWdlQXJjQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ0b29sdGlwRGlzYWJsZWRcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEZ1bmN0aW9uKVxuICAgIF0sIEdhdWdlQXJjQ29tcG9uZW50LnByb3RvdHlwZSwgXCJ2YWx1ZUZvcm1hdHRpbmdcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIHR5cGVvZiAoX2IgPSB0eXBlb2YgVGVtcGxhdGVSZWYgIT09IFwidW5kZWZpbmVkXCIgJiYgVGVtcGxhdGVSZWYpID09PSBcImZ1bmN0aW9uXCIgPyBfYiA6IE9iamVjdClcbiAgICBdLCBHYXVnZUFyY0NvbXBvbmVudC5wcm90b3R5cGUsIFwidG9vbHRpcFRlbXBsYXRlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIEdhdWdlQXJjQ29tcG9uZW50LnByb3RvdHlwZSwgXCJhbmltYXRpb25zXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIE91dHB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEdhdWdlQXJjQ29tcG9uZW50LnByb3RvdHlwZSwgXCJzZWxlY3RcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgT3V0cHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgR2F1Z2VBcmNDb21wb25lbnQucHJvdG90eXBlLCBcImFjdGl2YXRlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIE91dHB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIEdhdWdlQXJjQ29tcG9uZW50LnByb3RvdHlwZSwgXCJkZWFjdGl2YXRlXCIsIHZvaWQgMCk7XG4gICAgR2F1Z2VBcmNDb21wb25lbnQgPSBfX2RlY29yYXRlKFtcbiAgICAgICAgQ29tcG9uZW50KHtcbiAgICAgICAgICAgIHNlbGVjdG9yOiAnZ1tuZ3gtY2hhcnRzLWdhdWdlLWFyY10nLFxuICAgICAgICAgICAgdGVtcGxhdGU6IFwiXFxuICAgIDxzdmc6ZyBuZ3gtY2hhcnRzLXBpZS1hcmNcXG4gICAgICBjbGFzcz1cXFwiYmFja2dyb3VuZC1hcmNcXFwiXFxuICAgICAgW3N0YXJ0QW5nbGVdPVxcXCIwXFxcIlxcbiAgICAgIFtlbmRBbmdsZV09XFxcImJhY2tncm91bmRBcmMuZW5kQW5nbGVcXFwiXFxuICAgICAgW2lubmVyUmFkaXVzXT1cXFwiYmFja2dyb3VuZEFyYy5pbm5lclJhZGl1c1xcXCJcXG4gICAgICBbb3V0ZXJSYWRpdXNdPVxcXCJiYWNrZ3JvdW5kQXJjLm91dGVyUmFkaXVzXFxcIlxcbiAgICAgIFtjb3JuZXJSYWRpdXNdPVxcXCJjb3JuZXJSYWRpdXNcXFwiXFxuICAgICAgW2RhdGFdPVxcXCJiYWNrZ3JvdW5kQXJjLmRhdGFcXFwiXFxuICAgICAgW2FuaW1hdGVdPVxcXCJmYWxzZVxcXCJcXG4gICAgICBbcG9pbnRlckV2ZW50c109XFxcImZhbHNlXFxcIj5cXG4gICAgPC9zdmc6Zz5cXG4gICAgPHN2ZzpnIG5neC1jaGFydHMtcGllLWFyY1xcbiAgICAgIFtzdGFydEFuZ2xlXT1cXFwiMFxcXCJcXG4gICAgICBbZW5kQW5nbGVdPVxcXCJ2YWx1ZUFyYy5lbmRBbmdsZVxcXCJcXG4gICAgICBbaW5uZXJSYWRpdXNdPVxcXCJ2YWx1ZUFyYy5pbm5lclJhZGl1c1xcXCJcXG4gICAgICBbb3V0ZXJSYWRpdXNdPVxcXCJ2YWx1ZUFyYy5vdXRlclJhZGl1c1xcXCJcXG4gICAgICBbY29ybmVyUmFkaXVzXT1cXFwiY29ybmVyUmFkaXVzXFxcIlxcbiAgICAgIFtmaWxsXT1cXFwiY29sb3JzLmdldENvbG9yKHZhbHVlQXJjLmRhdGEubmFtZSlcXFwiXFxuICAgICAgW2RhdGFdPVxcXCJ2YWx1ZUFyYy5kYXRhXFxcIlxcbiAgICAgIFthbmltYXRlXT1cXFwiYW5pbWF0aW9uc1xcXCJcXG4gICAgICBbaXNBY3RpdmVdPVxcXCJpc0FjdGl2ZVxcXCJcXG4gICAgICAoc2VsZWN0KT1cXFwic2VsZWN0LmVtaXQoJGV2ZW50KVxcXCJcXG4gICAgICAoYWN0aXZhdGUpPVxcXCJhY3RpdmF0ZS5lbWl0KCRldmVudClcXFwiXFxuICAgICAgKGRlYWN0aXZhdGUpPVxcXCJkZWFjdGl2YXRlLmVtaXQoJGV2ZW50KVxcXCJcXG4gICAgICBuZ3gtdG9vbHRpcFxcbiAgICAgIFt0b29sdGlwRGlzYWJsZWRdPVxcXCJ0b29sdGlwRGlzYWJsZWRcXFwiXFxuICAgICAgW3Rvb2x0aXBQbGFjZW1lbnRdPVxcXCIndG9wJ1xcXCJcXG4gICAgICBbdG9vbHRpcFR5cGVdPVxcXCIndG9vbHRpcCdcXFwiXFxuICAgICAgW3Rvb2x0aXBUaXRsZV09XFxcInRvb2x0aXBUZW1wbGF0ZSA/IHVuZGVmaW5lZCA6IHRvb2x0aXBUZXh0KHZhbHVlQXJjKVxcXCJcXG4gICAgICBbdG9vbHRpcFRlbXBsYXRlXT1cXFwidG9vbHRpcFRlbXBsYXRlXFxcIlxcbiAgICAgIFt0b29sdGlwQ29udGV4dF09XFxcInZhbHVlQXJjLmRhdGFcXFwiPlxcbiAgICA8L3N2ZzpnPlxcbiAgXCIsXG4gICAgICAgICAgICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcbiAgICAgICAgfSlcbiAgICBdLCBHYXVnZUFyY0NvbXBvbmVudCk7XG4gICAgcmV0dXJuIEdhdWdlQXJjQ29tcG9uZW50O1xufSgpKTtcblxudmFyIEdhdWdlQXhpc0NvbXBvbmVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBHYXVnZUF4aXNDb21wb25lbnQoKSB7XG4gICAgICAgIHRoaXMucm90YXRlID0gJyc7XG4gICAgfVxuICAgIEdhdWdlQXhpc0NvbXBvbmVudC5wcm90b3R5cGUubmdPbkNoYW5nZXMgPSBmdW5jdGlvbiAoY2hhbmdlcykge1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIH07XG4gICAgR2F1Z2VBeGlzQ29tcG9uZW50LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucm90YXRpb25BbmdsZSA9IC05MCArIHRoaXMuc3RhcnRBbmdsZTtcbiAgICAgICAgdGhpcy5yb3RhdGUgPSBcInJvdGF0ZShcIiArIHRoaXMucm90YXRpb25BbmdsZSArIFwiKVwiO1xuICAgICAgICB0aGlzLnRpY2tzID0gdGhpcy5nZXRUaWNrcygpO1xuICAgIH07XG4gICAgR2F1Z2VBeGlzQ29tcG9uZW50LnByb3RvdHlwZS5nZXRUaWNrcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGJpZ1RpY2tTZWdtZW50ID0gdGhpcy5hbmdsZVNwYW4gLyB0aGlzLmJpZ1NlZ21lbnRzO1xuICAgICAgICB2YXIgc21hbGxUaWNrU2VnbWVudCA9IGJpZ1RpY2tTZWdtZW50IC8gKHRoaXMuc21hbGxTZWdtZW50cyk7XG4gICAgICAgIHZhciB0aWNrTGVuZ3RoID0gMjA7XG4gICAgICAgIHZhciB0aWNrcyA9IHtcbiAgICAgICAgICAgIGJpZzogW10sXG4gICAgICAgICAgICBzbWFsbDogW11cbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHN0YXJ0RGlzdGFuY2UgPSB0aGlzLnJhZGl1cyArIDEwO1xuICAgICAgICB2YXIgdGV4dERpc3QgPSBzdGFydERpc3RhbmNlICsgdGlja0xlbmd0aCArIDEwO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8PSB0aGlzLmJpZ1NlZ21lbnRzOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBhbmdsZURlZyA9IGkgKiBiaWdUaWNrU2VnbWVudDtcbiAgICAgICAgICAgIHZhciBhbmdsZSA9IGFuZ2xlRGVnICogTWF0aC5QSSAvIDE4MDtcbiAgICAgICAgICAgIHZhciB0ZXh0QW5jaG9yID0gdGhpcy5nZXRUZXh0QW5jaG9yKGFuZ2xlRGVnKTtcbiAgICAgICAgICAgIHZhciBza2lwID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoaSA9PT0gMCAmJiB0aGlzLmFuZ2xlU3BhbiA9PT0gMzYwKSB7XG4gICAgICAgICAgICAgICAgc2tpcCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXNraXApIHtcbiAgICAgICAgICAgICAgICB2YXIgdGV4dCA9IE51bWJlci5wYXJzZUZsb2F0KHRoaXMudmFsdWVTY2FsZS5pbnZlcnQoYW5nbGVEZWcpLnRvU3RyaW5nKCkpLnRvTG9jYWxlU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudGlja0Zvcm1hdHRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dCA9IHRoaXMudGlja0Zvcm1hdHRpbmcodGV4dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRpY2tzLmJpZy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgbGluZTogdGhpcy5nZXRUaWNrUGF0aChzdGFydERpc3RhbmNlLCB0aWNrTGVuZ3RoLCBhbmdsZSksXG4gICAgICAgICAgICAgICAgICAgIHRleHRBbmNob3I6IHRleHRBbmNob3IsXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IHRleHQsXG4gICAgICAgICAgICAgICAgICAgIHRleHRUcmFuc2Zvcm06IFwiXFxuICAgICAgICAgICAgdHJhbnNsYXRlKFwiICsgdGV4dERpc3QgKiBNYXRoLmNvcyhhbmdsZSkgKyBcIiwgXCIgKyB0ZXh0RGlzdCAqIE1hdGguc2luKGFuZ2xlKSArIFwiKSByb3RhdGUoXCIgKyAtdGhpcy5yb3RhdGlvbkFuZ2xlICsgXCIpXFxuICAgICAgICAgIFwiXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaSA9PT0gdGhpcy5iaWdTZWdtZW50cykge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDE7IGogPD0gdGhpcy5zbWFsbFNlZ21lbnRzOyBqKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgc21hbGxBbmdsZURlZyA9IGFuZ2xlRGVnICsgaiAqIHNtYWxsVGlja1NlZ21lbnQ7XG4gICAgICAgICAgICAgICAgdmFyIHNtYWxsQW5nbGUgPSBzbWFsbEFuZ2xlRGVnICogTWF0aC5QSSAvIDE4MDtcbiAgICAgICAgICAgICAgICB0aWNrcy5zbWFsbC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgbGluZTogdGhpcy5nZXRUaWNrUGF0aChzdGFydERpc3RhbmNlLCB0aWNrTGVuZ3RoIC8gMiwgc21hbGxBbmdsZSlcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGlja3M7XG4gICAgfTtcbiAgICBHYXVnZUF4aXNDb21wb25lbnQucHJvdG90eXBlLmdldFRleHRBbmNob3IgPSBmdW5jdGlvbiAoYW5nbGUpIHtcbiAgICAgICAgLy8gWzAsIDQ1XSA9ICdtaWRkbGUnO1xuICAgICAgICAvLyBbNDYsIDEzNV0gPSAnc3RhcnQnO1xuICAgICAgICAvLyBbMTM2LCAyMjVdID0gJ21pZGRsZSc7XG4gICAgICAgIC8vIFsyMjYsIDMxNV0gPSAnZW5kJztcbiAgICAgICAgYW5nbGUgPSAodGhpcy5zdGFydEFuZ2xlICsgYW5nbGUpICUgMzYwO1xuICAgICAgICB2YXIgdGV4dEFuY2hvciA9ICdtaWRkbGUnO1xuICAgICAgICBpZiAoYW5nbGUgPiA0NSAmJiBhbmdsZSA8PSAxMzUpIHtcbiAgICAgICAgICAgIHRleHRBbmNob3IgPSAnc3RhcnQnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGFuZ2xlID4gMjI1ICYmIGFuZ2xlIDw9IDMxNSkge1xuICAgICAgICAgICAgdGV4dEFuY2hvciA9ICdlbmQnO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0ZXh0QW5jaG9yO1xuICAgIH07XG4gICAgR2F1Z2VBeGlzQ29tcG9uZW50LnByb3RvdHlwZS5nZXRUaWNrUGF0aCA9IGZ1bmN0aW9uIChzdGFydERpc3RhbmNlLCB0aWNrTGVuZ3RoLCBhbmdsZSkge1xuICAgICAgICB2YXIgeTEgPSBzdGFydERpc3RhbmNlICogTWF0aC5zaW4oYW5nbGUpO1xuICAgICAgICB2YXIgeTIgPSAoc3RhcnREaXN0YW5jZSArIHRpY2tMZW5ndGgpICogTWF0aC5zaW4oYW5nbGUpO1xuICAgICAgICB2YXIgeDEgPSBzdGFydERpc3RhbmNlICogTWF0aC5jb3MoYW5nbGUpO1xuICAgICAgICB2YXIgeDIgPSAoc3RhcnREaXN0YW5jZSArIHRpY2tMZW5ndGgpICogTWF0aC5jb3MoYW5nbGUpO1xuICAgICAgICB2YXIgcG9pbnRzID0gW3sgeDogeDEsIHk6IHkxIH0sIHsgeDogeDIsIHk6IHkyIH1dO1xuICAgICAgICB2YXIgbGluZUdlbmVyYXRvciA9IGxpbmUoKS54KGZ1bmN0aW9uIChkKSB7IHJldHVybiBkLng7IH0pLnkoZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQueTsgfSk7XG4gICAgICAgIHJldHVybiBsaW5lR2VuZXJhdG9yKHBvaW50cyk7XG4gICAgfTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBHYXVnZUF4aXNDb21wb25lbnQucHJvdG90eXBlLCBcImJpZ1NlZ21lbnRzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgR2F1Z2VBeGlzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJzbWFsbFNlZ21lbnRzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgR2F1Z2VBeGlzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJtaW5cIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBHYXVnZUF4aXNDb21wb25lbnQucHJvdG90eXBlLCBcIm1heFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgTnVtYmVyKVxuICAgIF0sIEdhdWdlQXhpc0NvbXBvbmVudC5wcm90b3R5cGUsIFwiYW5nbGVTcGFuXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBOdW1iZXIpXG4gICAgXSwgR2F1Z2VBeGlzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJzdGFydEFuZ2xlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgR2F1Z2VBeGlzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJyYWRpdXNcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBHYXVnZUF4aXNDb21wb25lbnQucHJvdG90eXBlLCBcInZhbHVlU2NhbGVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBHYXVnZUF4aXNDb21wb25lbnQucHJvdG90eXBlLCBcInRpY2tGb3JtYXR0aW5nXCIsIHZvaWQgMCk7XG4gICAgR2F1Z2VBeGlzQ29tcG9uZW50ID0gX19kZWNvcmF0ZShbXG4gICAgICAgIENvbXBvbmVudCh7XG4gICAgICAgICAgICBzZWxlY3RvcjogJ2dbbmd4LWNoYXJ0cy1nYXVnZS1heGlzXScsXG4gICAgICAgICAgICB0ZW1wbGF0ZTogXCJcXG4gICAgPHN2ZzpnIFthdHRyLnRyYW5zZm9ybV09XFxcInJvdGF0ZVxcXCI+XFxuICAgICAgICA8c3ZnOmcgKm5nRm9yPVxcXCJsZXQgdGljayBvZiB0aWNrcy5iaWdcXFwiXFxuICAgICAgICAgICAgY2xhc3M9XFxcImdhdWdlLXRpY2sgZ2F1Z2UtdGljay1sYXJnZVxcXCI+XFxuICAgICAgICAgICAgPHN2ZzpwYXRoIFthdHRyLmRdPVxcXCJ0aWNrLmxpbmVcXFwiIC8+XFxuICAgICAgICA8L3N2ZzpnPlxcbiAgICAgICAgPHN2ZzpnICpuZ0Zvcj1cXFwibGV0IHRpY2sgb2YgdGlja3MuYmlnXFxcIlxcbiAgICAgICAgICAgIGNsYXNzPVxcXCJnYXVnZS10aWNrIGdhdWdlLXRpY2stbGFyZ2VcXFwiPlxcbiAgICAgICAgICAgIDxzdmc6dGV4dFxcbiAgICAgICAgICAgICAgICBbc3R5bGUudGV4dEFuY2hvcl09XFxcInRpY2sudGV4dEFuY2hvclxcXCJcXG4gICAgICAgICAgICAgICAgW2F0dHIudHJhbnNmb3JtXT1cXFwidGljay50ZXh0VHJhbnNmb3JtXFxcIlxcbiAgICAgICAgICAgICAgICBhbGlnbm1lbnQtYmFzZWxpbmU9XFxcImNlbnRyYWxcXFwiPlxcbiAgICAgICAgICAgICAgICB7e3RpY2sudGV4dH19XFxuICAgICAgICAgICAgPC9zdmc6dGV4dD5cXG4gICAgICAgIDwvc3ZnOmc+XFxuICAgICAgICA8c3ZnOmcgKm5nRm9yPVxcXCJsZXQgdGljayBvZiB0aWNrcy5zbWFsbFxcXCJcXG4gICAgICAgICAgICBjbGFzcz1cXFwiZ2F1Z2UtdGljayBnYXVnZS10aWNrLXNtYWxsXFxcIj5cXG4gICAgICAgICAgICA8c3ZnOnBhdGggW2F0dHIuZF09XFxcInRpY2subGluZVxcXCIgLz5cXG4gICAgICAgIDwvc3ZnOmc+XFxuICAgIDwvc3ZnOmc+XFxuICBcIixcbiAgICAgICAgICAgIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoXG4gICAgICAgIH0pXG4gICAgXSwgR2F1Z2VBeGlzQ29tcG9uZW50KTtcbiAgICByZXR1cm4gR2F1Z2VBeGlzQ29tcG9uZW50O1xufSgpKTtcblxudmFyIEdhdWdlTW9kdWxlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEdhdWdlTW9kdWxlKCkge1xuICAgIH1cbiAgICBHYXVnZU1vZHVsZSA9IF9fZGVjb3JhdGUoW1xuICAgICAgICBOZ01vZHVsZSh7XG4gICAgICAgICAgICBpbXBvcnRzOiBbQ2hhcnRDb21tb25Nb2R1bGUsIFBpZUNoYXJ0TW9kdWxlLCBCYXJDaGFydE1vZHVsZV0sXG4gICAgICAgICAgICBkZWNsYXJhdGlvbnM6IFtcbiAgICAgICAgICAgICAgICBMaW5lYXJHYXVnZUNvbXBvbmVudCxcbiAgICAgICAgICAgICAgICBHYXVnZUNvbXBvbmVudCxcbiAgICAgICAgICAgICAgICBHYXVnZUFyY0NvbXBvbmVudCxcbiAgICAgICAgICAgICAgICBHYXVnZUF4aXNDb21wb25lbnRcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBleHBvcnRzOiBbXG4gICAgICAgICAgICAgICAgTGluZWFyR2F1Z2VDb21wb25lbnQsXG4gICAgICAgICAgICAgICAgR2F1Z2VDb21wb25lbnQsXG4gICAgICAgICAgICAgICAgR2F1Z2VBcmNDb21wb25lbnQsXG4gICAgICAgICAgICAgICAgR2F1Z2VBeGlzQ29tcG9uZW50XG4gICAgICAgICAgICBdXG4gICAgICAgIH0pXG4gICAgXSwgR2F1Z2VNb2R1bGUpO1xuICAgIHJldHVybiBHYXVnZU1vZHVsZTtcbn0oKSk7XG5cbnZhciBOZ3hDaGFydHNNb2R1bGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTmd4Q2hhcnRzTW9kdWxlKCkge1xuICAgIH1cbiAgICBOZ3hDaGFydHNNb2R1bGUgPSBfX2RlY29yYXRlKFtcbiAgICAgICAgTmdNb2R1bGUoe1xuICAgICAgICAgICAgZXhwb3J0czogW1xuICAgICAgICAgICAgICAgIENoYXJ0Q29tbW9uTW9kdWxlLFxuICAgICAgICAgICAgICAgIEFyZWFDaGFydE1vZHVsZSxcbiAgICAgICAgICAgICAgICBCYXJDaGFydE1vZHVsZSxcbiAgICAgICAgICAgICAgICBCdWJibGVDaGFydE1vZHVsZSxcbiAgICAgICAgICAgICAgICBGb3JjZURpcmVjdGVkR3JhcGhNb2R1bGUsXG4gICAgICAgICAgICAgICAgSGVhdE1hcE1vZHVsZSxcbiAgICAgICAgICAgICAgICBMaW5lQ2hhcnRNb2R1bGUsXG4gICAgICAgICAgICAgICAgUG9sYXJDaGFydE1vZHVsZSxcbiAgICAgICAgICAgICAgICBOdW1iZXJDYXJkTW9kdWxlLFxuICAgICAgICAgICAgICAgIFBpZUNoYXJ0TW9kdWxlLFxuICAgICAgICAgICAgICAgIFRyZWVNYXBNb2R1bGUsXG4gICAgICAgICAgICAgICAgR2F1Z2VNb2R1bGVcbiAgICAgICAgICAgIF1cbiAgICAgICAgfSlcbiAgICBdLCBOZ3hDaGFydHNNb2R1bGUpO1xuICAgIHJldHVybiBOZ3hDaGFydHNNb2R1bGU7XG59KCkpO1xuXG5mdW5jdGlvbiB0aWNrRm9ybWF0KGZpZWxkVHlwZSwgZ3JvdXBCeVR5cGUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGxhYmVsKSB7XG4gICAgICAgIGlmIChsYWJlbCA9PT0gJ05vIFZhbHVlJyB8fCBsYWJlbCA9PT0gJ090aGVyJykge1xuICAgICAgICAgICAgcmV0dXJuIGxhYmVsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmaWVsZFR5cGUgPT09ICdkYXRlJyAmJiBncm91cEJ5VHlwZSA9PT0gJ2dyb3VwQnknKSB7XG4gICAgICAgICAgICB2YXIgZm9ybWF0dGVyID0gdGltZUZvcm1hdCgnTU0vREQvWVlZWScpO1xuICAgICAgICAgICAgcmV0dXJuIGZvcm1hdHRlcihsYWJlbCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxhYmVsLnRvU3RyaW5nKCk7XG4gICAgfTtcbn1cblxuZXhwb3J0IHsgTmd4Q2hhcnRzTW9kdWxlLCBDaGFydENvbW1vbk1vZHVsZSwgTGVnZW5kQ29tcG9uZW50LCBTY2FsZUxlZ2VuZENvbXBvbmVudCwgTGVnZW5kRW50cnlDb21wb25lbnQsIEFkdmFuY2VkTGVnZW5kQ29tcG9uZW50LCBUb29sdGlwTW9kdWxlLCBUb29sdGlwU2VydmljZSwgVG9vbHRpcENvbnRlbnRDb21wb25lbnQsIFRvb2x0aXBEaXJlY3RpdmUsIFN0eWxlVHlwZXMsIEFsaWdubWVudFR5cGVzLCBTaG93VHlwZXMsIEF4ZXNNb2R1bGUsIEF4aXNMYWJlbENvbXBvbmVudCwgWEF4aXNDb21wb25lbnQsIFhBeGlzVGlja3NDb21wb25lbnQsIFlBeGlzQ29tcG9uZW50LCBZQXhpc1RpY2tzQ29tcG9uZW50LCByZWR1Y2VUaWNrcywgQ291bnRVcERpcmVjdGl2ZSwgY291bnQsIGRlY2ltYWxDaGVja2VyLCBUaW1lbGluZSwgQ29sb3JIZWxwZXIsIENoYXJ0Q29tcG9uZW50LCBBcmVhQ29tcG9uZW50LCBCYXNlQ2hhcnRDb21wb25lbnQsIENpcmNsZUNvbXBvbmVudCwgQ2lyY2xlU2VyaWVzQ29tcG9uZW50LCBncmlkU2l6ZSwgZ3JpZExheW91dCwgR3JpZFBhbmVsQ29tcG9uZW50LCBHcmlkUGFuZWxTZXJpZXNDb21wb25lbnQsIFN2Z0xpbmVhckdyYWRpZW50Q29tcG9uZW50LCBTdmdSYWRpYWxHcmFkaWVudENvbXBvbmVudCwgVG9vbHRpcEFyZWEsIHRpY2tGb3JtYXQsIHRyaW1MYWJlbCwgY2FsY3VsYXRlVmlld0RpbWVuc2lvbnMsIGZvcm1hdExhYmVsLCBlc2NhcGVMYWJlbCwgZ2V0VW5pcXVlWERvbWFpblZhbHVlcywgZ2V0U2NhbGVUeXBlLCBBcmVhQ2hhcnRNb2R1bGUsIEFyZWFDaGFydENvbXBvbmVudCwgQXJlYUNoYXJ0Tm9ybWFsaXplZENvbXBvbmVudCwgQXJlYUNoYXJ0U3RhY2tlZENvbXBvbmVudCwgQXJlYVNlcmllc0NvbXBvbmVudCwgQmFyQ2hhcnRNb2R1bGUsIEJhckNvbXBvbmVudCwgQmFySG9yaXpvbnRhbENvbXBvbmVudCwgQmFySG9yaXpvbnRhbDJEQ29tcG9uZW50LCBCYXJIb3Jpem9udGFsTm9ybWFsaXplZENvbXBvbmVudCwgQmFySG9yaXpvbnRhbFN0YWNrZWRDb21wb25lbnQsIFNlcmllc0hvcml6b250YWwsIEJhckxhYmVsQ29tcG9uZW50LCBCYXJWZXJ0aWNhbENvbXBvbmVudCwgQmFyVmVydGljYWwyRENvbXBvbmVudCwgQmFyVmVydGljYWxOb3JtYWxpemVkQ29tcG9uZW50LCBCYXJWZXJ0aWNhbFN0YWNrZWRDb21wb25lbnQsIEQwVHlwZXMsIFNlcmllc1ZlcnRpY2FsQ29tcG9uZW50LCBCdWJibGVDaGFydE1vZHVsZSwgQnViYmxlQ2hhcnRDb21wb25lbnQsIGdldERvbWFpbiwgZ2V0U2NhbGUsIEJ1YmJsZVNlcmllc0NvbXBvbmVudCwgRm9yY2VEaXJlY3RlZEdyYXBoTW9kdWxlLCBGb3JjZURpcmVjdGVkR3JhcGhDb21wb25lbnQsIEhlYXRNYXBNb2R1bGUsIEhlYXRNYXBDb21wb25lbnQsIEhlYXRNYXBDZWxsQ29tcG9uZW50LCBIZWF0Q2VsbFNlcmllc0NvbXBvbmVudCwgTGluZUNoYXJ0TW9kdWxlLCBMaW5lQ2hhcnRDb21wb25lbnQsIExpbmVDb21wb25lbnQsIExpbmVTZXJpZXNDb21wb25lbnQsIFBvbGFyQ2hhcnRNb2R1bGUsIFBvbGFyQ2hhcnRDb21wb25lbnQsIFBvbGFyU2VyaWVzQ29tcG9uZW50LCBOdW1iZXJDYXJkTW9kdWxlLCBOdW1iZXJDYXJkQ29tcG9uZW50LCBDYXJkQ29tcG9uZW50LCBDYXJkU2VyaWVzQ29tcG9uZW50LCBQaWVDaGFydE1vZHVsZSwgQWR2YW5jZWRQaWVDaGFydENvbXBvbmVudCwgUGllQ2hhcnRDb21wb25lbnQsIFBpZUFyY0NvbXBvbmVudCwgUGllR3JpZENvbXBvbmVudCwgUGllR3JpZFNlcmllc0NvbXBvbmVudCwgUGllU2VyaWVzQ29tcG9uZW50LCBQaWVMYWJlbENvbXBvbmVudCwgVHJlZU1hcE1vZHVsZSwgVHJlZU1hcENvbXBvbmVudCwgVHJlZU1hcENlbGxDb21wb25lbnQsIFRyZWVNYXBDZWxsU2VyaWVzQ29tcG9uZW50LCBHYXVnZU1vZHVsZSwgR2F1Z2VBcmNDb21wb25lbnQsIEdhdWdlQXhpc0NvbXBvbmVudCwgR2F1Z2VDb21wb25lbnQsIExpbmVhckdhdWdlQ29tcG9uZW50IH07XG4iXX0=","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}